(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const un of document.querySelectorAll('link[rel="modulepreload"]'))an(un);new MutationObserver(un=>{for(const dn of un)if(dn.type==="childList")for(const hn of dn.addedNodes)hn.tagName==="LINK"&&hn.rel==="modulepreload"&&an(hn)}).observe(document,{childList:!0,subtree:!0});function rn(un){const dn={};return un.integrity&&(dn.integrity=un.integrity),un.referrerPolicy&&(dn.referrerPolicy=un.referrerPolicy),un.crossOrigin==="use-credentials"?dn.credentials="include":un.crossOrigin==="anonymous"?dn.credentials="omit":dn.credentials="same-origin",dn}function an(un){if(un.ep)return;un.ep=!0;const dn=rn(un);fetch(un.href,dn)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(sn){return sn&&sn.__esModule&&Object.prototype.hasOwnProperty.call(sn,"default")?sn.default:sn}function getAugmentedNamespace(sn){if(Object.prototype.hasOwnProperty.call(sn,"__esModule"))return sn;var O=sn.default;if(typeof O=="function"){var rn=function an(){var un=!1;try{un=this instanceof an}catch{}return un?Reflect.construct(O,arguments,this.constructor):O.apply(this,arguments)};rn.prototype=O.prototype}else rn={};return Object.defineProperty(rn,"__esModule",{value:!0}),Object.keys(sn).forEach(function(an){var un=Object.getOwnPropertyDescriptor(sn,an);Object.defineProperty(rn,an,un.get?un:{enumerable:!0,get:function(){return sn[an]}})}),rn}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var sn=Symbol.for("react.transitional.element"),O=Symbol.for("react.fragment");function rn(an,un,dn){var hn=null;if(dn!==void 0&&(hn=""+dn),un.key!==void 0&&(hn=""+un.key),"key"in un){dn={};for(var mn in un)mn!=="key"&&(dn[mn]=un[mn])}else dn=un;return un=dn.ref,{$$typeof:sn,type:an,key:hn,ref:un!==void 0?un:null,props:dn}}return reactJsxRuntime_production.Fragment=O,reactJsxRuntime_production.jsx=rn,reactJsxRuntime_production.jsxs=rn,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var sn=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),an=Symbol.for("react.strict_mode"),un=Symbol.for("react.profiler"),dn=Symbol.for("react.consumer"),hn=Symbol.for("react.context"),mn=Symbol.for("react.forward_ref"),xn=Symbol.for("react.suspense"),gn=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),vn=Symbol.for("react.activity"),An=Symbol.iterator;function Cn(Jn){return Jn===null||typeof Jn!="object"?null:(Jn=An&&Jn[An]||Jn["@@iterator"],typeof Jn=="function"?Jn:null)}var Sn={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nn=Object.assign,jn={};function Hn(Jn,nr,ar){this.props=Jn,this.context=nr,this.refs=jn,this.updater=ar||Sn}Hn.prototype.isReactComponent={},Hn.prototype.setState=function(Jn,nr){if(typeof Jn!="object"&&typeof Jn!="function"&&Jn!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Jn,nr,"setState")},Hn.prototype.forceUpdate=function(Jn){this.updater.enqueueForceUpdate(this,Jn,"forceUpdate")};function Bn(){}Bn.prototype=Hn.prototype;function On(Jn,nr,ar){this.props=Jn,this.context=nr,this.refs=jn,this.updater=ar||Sn}var Mn=On.prototype=new Bn;Mn.constructor=On,Nn(Mn,Hn.prototype),Mn.isPureReactComponent=!0;var Un=Array.isArray;function Tn(){}var zn={H:null,A:null,T:null,S:null},Dn=Object.prototype.hasOwnProperty;function In(Jn,nr,ar){var or=ar.ref;return{$$typeof:sn,type:Jn,key:nr,ref:or!==void 0?or:null,props:ar}}function Ln(Jn,nr){return In(Jn.type,nr,Jn.props)}function Wn(Jn){return typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===sn}function Fn(Jn){var nr={"=":"=0",":":"=2"};return"$"+Jn.replace(/[=:]/g,function(ar){return nr[ar]})}var Pn=/\/+/g;function Vn(Jn,nr){return typeof Jn=="object"&&Jn!==null&&Jn.key!=null?Fn(""+Jn.key):nr.toString(36)}function Zn(Jn){switch(Jn.status){case"fulfilled":return Jn.value;case"rejected":throw Jn.reason;default:switch(typeof Jn.status=="string"?Jn.then(Tn,Tn):(Jn.status="pending",Jn.then(function(nr){Jn.status==="pending"&&(Jn.status="fulfilled",Jn.value=nr)},function(nr){Jn.status==="pending"&&(Jn.status="rejected",Jn.reason=nr)})),Jn.status){case"fulfilled":return Jn.value;case"rejected":throw Jn.reason}}throw Jn}function Yn(Jn,nr,ar,or,dr){var xr=typeof Jn;(xr==="undefined"||xr==="boolean")&&(Jn=null);var Dr=!1;if(Jn===null)Dr=!0;else switch(xr){case"bigint":case"string":case"number":Dr=!0;break;case"object":switch(Jn.$$typeof){case sn:case O:Dr=!0;break;case wn:return Dr=Jn._init,Yn(Dr(Jn._payload),nr,ar,or,dr)}}if(Dr)return dr=dr(Jn),Dr=or===""?"."+Vn(Jn,0):or,Un(dr)?(ar="",Dr!=null&&(ar=Dr.replace(Pn,"$&/")+"/"),Yn(dr,nr,ar,"",function(xs){return xs})):dr!=null&&(Wn(dr)&&(dr=Ln(dr,ar+(dr.key==null||Jn&&Jn.key===dr.key?"":(""+dr.key).replace(Pn,"$&/")+"/")+Dr)),nr.push(dr)),1;Dr=0;var Nr=or===""?".":or+":";if(Un(Jn))for(var Ir=0;Ir<Jn.length;Ir++)or=Jn[Ir],xr=Nr+Vn(or,Ir),Dr+=Yn(or,nr,ar,xr,dr);else if(Ir=Cn(Jn),typeof Ir=="function")for(Jn=Ir.call(Jn),Ir=0;!(or=Jn.next()).done;)or=or.value,xr=Nr+Vn(or,Ir++),Dr+=Yn(or,nr,ar,xr,dr);else if(xr==="object"){if(typeof Jn.then=="function")return Yn(Zn(Jn),nr,ar,or,dr);throw nr=String(Jn),Error("Objects are not valid as a React child (found: "+(nr==="[object Object]"?"object with keys {"+Object.keys(Jn).join(", ")+"}":nr)+"). If you meant to render a collection of children, use an array instead.")}return Dr}function Qn(Jn,nr,ar){if(Jn==null)return Jn;var or=[],dr=0;return Yn(Jn,or,"","",function(xr){return nr.call(ar,xr,dr++)}),or}function Xn(Jn){if(Jn._status===-1){var nr=Jn._result;nr=nr(),nr.then(function(ar){(Jn._status===0||Jn._status===-1)&&(Jn._status=1,Jn._result=ar)},function(ar){(Jn._status===0||Jn._status===-1)&&(Jn._status=2,Jn._result=ar)}),Jn._status===-1&&(Jn._status=0,Jn._result=nr)}if(Jn._status===1)return Jn._result.default;throw Jn._result}var rr=typeof reportError=="function"?reportError:function(Jn){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Jn=="object"&&Jn!==null&&typeof Jn.message=="string"?String(Jn.message):String(Jn),error:Jn});if(!window.dispatchEvent(nr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Jn);return}console.error(Jn)},sr={map:Qn,forEach:function(Jn,nr,ar){Qn(Jn,function(){nr.apply(this,arguments)},ar)},count:function(Jn){var nr=0;return Qn(Jn,function(){nr++}),nr},toArray:function(Jn){return Qn(Jn,function(nr){return nr})||[]},only:function(Jn){if(!Wn(Jn))throw Error("React.Children.only expected to receive a single React element child.");return Jn}};return react_production.Activity=vn,react_production.Children=sr,react_production.Component=Hn,react_production.Fragment=rn,react_production.Profiler=un,react_production.PureComponent=On,react_production.StrictMode=an,react_production.Suspense=xn,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zn,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Jn){return zn.H.useMemoCache(Jn)}},react_production.cache=function(Jn){return function(){return Jn.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Jn,nr,ar){if(Jn==null)throw Error("The argument must be a React element, but you passed "+Jn+".");var or=Nn({},Jn.props),dr=Jn.key;if(nr!=null)for(xr in nr.key!==void 0&&(dr=""+nr.key),nr)!Dn.call(nr,xr)||xr==="key"||xr==="__self"||xr==="__source"||xr==="ref"&&nr.ref===void 0||(or[xr]=nr[xr]);var xr=arguments.length-2;if(xr===1)or.children=ar;else if(1<xr){for(var Dr=Array(xr),Nr=0;Nr<xr;Nr++)Dr[Nr]=arguments[Nr+2];or.children=Dr}return In(Jn.type,dr,or)},react_production.createContext=function(Jn){return Jn={$$typeof:hn,_currentValue:Jn,_currentValue2:Jn,_threadCount:0,Provider:null,Consumer:null},Jn.Provider=Jn,Jn.Consumer={$$typeof:dn,_context:Jn},Jn},react_production.createElement=function(Jn,nr,ar){var or,dr={},xr=null;if(nr!=null)for(or in nr.key!==void 0&&(xr=""+nr.key),nr)Dn.call(nr,or)&&or!=="key"&&or!=="__self"&&or!=="__source"&&(dr[or]=nr[or]);var Dr=arguments.length-2;if(Dr===1)dr.children=ar;else if(1<Dr){for(var Nr=Array(Dr),Ir=0;Ir<Dr;Ir++)Nr[Ir]=arguments[Ir+2];dr.children=Nr}if(Jn&&Jn.defaultProps)for(or in Dr=Jn.defaultProps,Dr)dr[or]===void 0&&(dr[or]=Dr[or]);return In(Jn,xr,dr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Jn){return{$$typeof:mn,render:Jn}},react_production.isValidElement=Wn,react_production.lazy=function(Jn){return{$$typeof:wn,_payload:{_status:-1,_result:Jn},_init:Xn}},react_production.memo=function(Jn,nr){return{$$typeof:gn,type:Jn,compare:nr===void 0?null:nr}},react_production.startTransition=function(Jn){var nr=zn.T,ar={};zn.T=ar;try{var or=Jn(),dr=zn.S;dr!==null&&dr(ar,or),typeof or=="object"&&or!==null&&typeof or.then=="function"&&or.then(Tn,rr)}catch(xr){rr(xr)}finally{nr!==null&&ar.types!==null&&(nr.types=ar.types),zn.T=nr}},react_production.unstable_useCacheRefresh=function(){return zn.H.useCacheRefresh()},react_production.use=function(Jn){return zn.H.use(Jn)},react_production.useActionState=function(Jn,nr,ar){return zn.H.useActionState(Jn,nr,ar)},react_production.useCallback=function(Jn,nr){return zn.H.useCallback(Jn,nr)},react_production.useContext=function(Jn){return zn.H.useContext(Jn)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Jn,nr){return zn.H.useDeferredValue(Jn,nr)},react_production.useEffect=function(Jn,nr){return zn.H.useEffect(Jn,nr)},react_production.useEffectEvent=function(Jn){return zn.H.useEffectEvent(Jn)},react_production.useId=function(){return zn.H.useId()},react_production.useImperativeHandle=function(Jn,nr,ar){return zn.H.useImperativeHandle(Jn,nr,ar)},react_production.useInsertionEffect=function(Jn,nr){return zn.H.useInsertionEffect(Jn,nr)},react_production.useLayoutEffect=function(Jn,nr){return zn.H.useLayoutEffect(Jn,nr)},react_production.useMemo=function(Jn,nr){return zn.H.useMemo(Jn,nr)},react_production.useOptimistic=function(Jn,nr){return zn.H.useOptimistic(Jn,nr)},react_production.useReducer=function(Jn,nr,ar){return zn.H.useReducer(Jn,nr,ar)},react_production.useRef=function(Jn){return zn.H.useRef(Jn)},react_production.useState=function(Jn){return zn.H.useState(Jn)},react_production.useSyncExternalStore=function(Jn,nr,ar){return zn.H.useSyncExternalStore(Jn,nr,ar)},react_production.useTransition=function(){return zn.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(sn){function O(Yn,Qn){var Xn=Yn.length;Yn.push(Qn);e:for(;0<Xn;){var rr=Xn-1>>>1,sr=Yn[rr];if(0<un(sr,Qn))Yn[rr]=Qn,Yn[Xn]=sr,Xn=rr;else break e}}function rn(Yn){return Yn.length===0?null:Yn[0]}function an(Yn){if(Yn.length===0)return null;var Qn=Yn[0],Xn=Yn.pop();if(Xn!==Qn){Yn[0]=Xn;e:for(var rr=0,sr=Yn.length,Jn=sr>>>1;rr<Jn;){var nr=2*(rr+1)-1,ar=Yn[nr],or=nr+1,dr=Yn[or];if(0>un(ar,Xn))or<sr&&0>un(dr,ar)?(Yn[rr]=dr,Yn[or]=Xn,rr=or):(Yn[rr]=ar,Yn[nr]=Xn,rr=nr);else if(or<sr&&0>un(dr,Xn))Yn[rr]=dr,Yn[or]=Xn,rr=or;else break e}}return Qn}function un(Yn,Qn){var Xn=Yn.sortIndex-Qn.sortIndex;return Xn!==0?Xn:Yn.id-Qn.id}if(sn.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var dn=performance;sn.unstable_now=function(){return dn.now()}}else{var hn=Date,mn=hn.now();sn.unstable_now=function(){return hn.now()-mn}}var xn=[],gn=[],wn=1,vn=null,An=3,Cn=!1,Sn=!1,Nn=!1,jn=!1,Hn=typeof setTimeout=="function"?setTimeout:null,Bn=typeof clearTimeout=="function"?clearTimeout:null,On=typeof setImmediate<"u"?setImmediate:null;function Mn(Yn){for(var Qn=rn(gn);Qn!==null;){if(Qn.callback===null)an(gn);else if(Qn.startTime<=Yn)an(gn),Qn.sortIndex=Qn.expirationTime,O(xn,Qn);else break;Qn=rn(gn)}}function Un(Yn){if(Nn=!1,Mn(Yn),!Sn)if(rn(xn)!==null)Sn=!0,Tn||(Tn=!0,Fn());else{var Qn=rn(gn);Qn!==null&&Zn(Un,Qn.startTime-Yn)}}var Tn=!1,zn=-1,Dn=5,In=-1;function Ln(){return jn?!0:!(sn.unstable_now()-In<Dn)}function Wn(){if(jn=!1,Tn){var Yn=sn.unstable_now();In=Yn;var Qn=!0;try{e:{Sn=!1,Nn&&(Nn=!1,Bn(zn),zn=-1),Cn=!0;var Xn=An;try{t:{for(Mn(Yn),vn=rn(xn);vn!==null&&!(vn.expirationTime>Yn&&Ln());){var rr=vn.callback;if(typeof rr=="function"){vn.callback=null,An=vn.priorityLevel;var sr=rr(vn.expirationTime<=Yn);if(Yn=sn.unstable_now(),typeof sr=="function"){vn.callback=sr,Mn(Yn),Qn=!0;break t}vn===rn(xn)&&an(xn),Mn(Yn)}else an(xn);vn=rn(xn)}if(vn!==null)Qn=!0;else{var Jn=rn(gn);Jn!==null&&Zn(Un,Jn.startTime-Yn),Qn=!1}}break e}finally{vn=null,An=Xn,Cn=!1}Qn=void 0}}finally{Qn?Fn():Tn=!1}}}var Fn;if(typeof On=="function")Fn=function(){On(Wn)};else if(typeof MessageChannel<"u"){var Pn=new MessageChannel,Vn=Pn.port2;Pn.port1.onmessage=Wn,Fn=function(){Vn.postMessage(null)}}else Fn=function(){Hn(Wn,0)};function Zn(Yn,Qn){zn=Hn(function(){Yn(sn.unstable_now())},Qn)}sn.unstable_IdlePriority=5,sn.unstable_ImmediatePriority=1,sn.unstable_LowPriority=4,sn.unstable_NormalPriority=3,sn.unstable_Profiling=null,sn.unstable_UserBlockingPriority=2,sn.unstable_cancelCallback=function(Yn){Yn.callback=null},sn.unstable_forceFrameRate=function(Yn){0>Yn||125<Yn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dn=0<Yn?Math.floor(1e3/Yn):5},sn.unstable_getCurrentPriorityLevel=function(){return An},sn.unstable_next=function(Yn){switch(An){case 1:case 2:case 3:var Qn=3;break;default:Qn=An}var Xn=An;An=Qn;try{return Yn()}finally{An=Xn}},sn.unstable_requestPaint=function(){jn=!0},sn.unstable_runWithPriority=function(Yn,Qn){switch(Yn){case 1:case 2:case 3:case 4:case 5:break;default:Yn=3}var Xn=An;An=Yn;try{return Qn()}finally{An=Xn}},sn.unstable_scheduleCallback=function(Yn,Qn,Xn){var rr=sn.unstable_now();switch(typeof Xn=="object"&&Xn!==null?(Xn=Xn.delay,Xn=typeof Xn=="number"&&0<Xn?rr+Xn:rr):Xn=rr,Yn){case 1:var sr=-1;break;case 2:sr=250;break;case 5:sr=1073741823;break;case 4:sr=1e4;break;default:sr=5e3}return sr=Xn+sr,Yn={id:wn++,callback:Qn,priorityLevel:Yn,startTime:Xn,expirationTime:sr,sortIndex:-1},Xn>rr?(Yn.sortIndex=Xn,O(gn,Yn),rn(xn)===null&&Yn===rn(gn)&&(Nn?(Bn(zn),zn=-1):Nn=!0,Zn(Un,Xn-rr))):(Yn.sortIndex=sr,O(xn,Yn),Sn||Cn||(Sn=!0,Tn||(Tn=!0,Fn()))),Yn},sn.unstable_shouldYield=Ln,sn.unstable_wrapCallback=function(Yn){var Qn=An;return function(){var Xn=An;An=Qn;try{return Yn.apply(this,arguments)}finally{An=Xn}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var sn=requireReact();function O(xn){var gn="https://react.dev/errors/"+xn;if(1<arguments.length){gn+="?args[]="+encodeURIComponent(arguments[1]);for(var wn=2;wn<arguments.length;wn++)gn+="&args[]="+encodeURIComponent(arguments[wn])}return"Minified React error #"+xn+"; visit "+gn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rn(){}var an={d:{f:rn,r:function(){throw Error(O(522))},D:rn,C:rn,L:rn,m:rn,X:rn,S:rn,M:rn},p:0,findDOMNode:null},un=Symbol.for("react.portal");function dn(xn,gn,wn){var vn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:vn==null?null:""+vn,children:xn,containerInfo:gn,implementation:wn}}var hn=sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mn(xn,gn){if(xn==="font")return"";if(typeof gn=="string")return gn==="use-credentials"?gn:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=an,reactDom_production.createPortal=function(xn,gn){var wn=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gn||gn.nodeType!==1&&gn.nodeType!==9&&gn.nodeType!==11)throw Error(O(299));return dn(xn,gn,null,wn)},reactDom_production.flushSync=function(xn){var gn=hn.T,wn=an.p;try{if(hn.T=null,an.p=2,xn)return xn()}finally{hn.T=gn,an.p=wn,an.d.f()}},reactDom_production.preconnect=function(xn,gn){typeof xn=="string"&&(gn?(gn=gn.crossOrigin,gn=typeof gn=="string"?gn==="use-credentials"?gn:"":void 0):gn=null,an.d.C(xn,gn))},reactDom_production.prefetchDNS=function(xn){typeof xn=="string"&&an.d.D(xn)},reactDom_production.preinit=function(xn,gn){if(typeof xn=="string"&&gn&&typeof gn.as=="string"){var wn=gn.as,vn=mn(wn,gn.crossOrigin),An=typeof gn.integrity=="string"?gn.integrity:void 0,Cn=typeof gn.fetchPriority=="string"?gn.fetchPriority:void 0;wn==="style"?an.d.S(xn,typeof gn.precedence=="string"?gn.precedence:void 0,{crossOrigin:vn,integrity:An,fetchPriority:Cn}):wn==="script"&&an.d.X(xn,{crossOrigin:vn,integrity:An,fetchPriority:Cn,nonce:typeof gn.nonce=="string"?gn.nonce:void 0})}},reactDom_production.preinitModule=function(xn,gn){if(typeof xn=="string")if(typeof gn=="object"&&gn!==null){if(gn.as==null||gn.as==="script"){var wn=mn(gn.as,gn.crossOrigin);an.d.M(xn,{crossOrigin:wn,integrity:typeof gn.integrity=="string"?gn.integrity:void 0,nonce:typeof gn.nonce=="string"?gn.nonce:void 0})}}else gn==null&&an.d.M(xn)},reactDom_production.preload=function(xn,gn){if(typeof xn=="string"&&typeof gn=="object"&&gn!==null&&typeof gn.as=="string"){var wn=gn.as,vn=mn(wn,gn.crossOrigin);an.d.L(xn,wn,{crossOrigin:vn,integrity:typeof gn.integrity=="string"?gn.integrity:void 0,nonce:typeof gn.nonce=="string"?gn.nonce:void 0,type:typeof gn.type=="string"?gn.type:void 0,fetchPriority:typeof gn.fetchPriority=="string"?gn.fetchPriority:void 0,referrerPolicy:typeof gn.referrerPolicy=="string"?gn.referrerPolicy:void 0,imageSrcSet:typeof gn.imageSrcSet=="string"?gn.imageSrcSet:void 0,imageSizes:typeof gn.imageSizes=="string"?gn.imageSizes:void 0,media:typeof gn.media=="string"?gn.media:void 0})}},reactDom_production.preloadModule=function(xn,gn){if(typeof xn=="string")if(gn){var wn=mn(gn.as,gn.crossOrigin);an.d.m(xn,{as:typeof gn.as=="string"&&gn.as!=="script"?gn.as:void 0,crossOrigin:wn,integrity:typeof gn.integrity=="string"?gn.integrity:void 0})}else an.d.m(xn)},reactDom_production.requestFormReset=function(xn){an.d.r(xn)},reactDom_production.unstable_batchedUpdates=function(xn,gn){return xn(gn)},reactDom_production.useFormState=function(xn,gn,wn){return hn.H.useFormState(xn,gn,wn)},reactDom_production.useFormStatus=function(){return hn.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function sn(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sn)}catch(O){console.error(O)}}return sn(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var sn=requireScheduler(),O=requireReact(),rn=requireReactDom();function an(T){var cn="https://react.dev/errors/"+T;if(1<arguments.length){cn+="?args[]="+encodeURIComponent(arguments[1]);for(var fn=2;fn<arguments.length;fn++)cn+="&args[]="+encodeURIComponent(arguments[fn])}return"Minified React error #"+T+"; visit "+cn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function un(T){return!(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)}function dn(T){var cn=T,fn=T;if(T.alternate)for(;cn.return;)cn=cn.return;else{T=cn;do cn=T,(cn.flags&4098)!==0&&(fn=cn.return),T=cn.return;while(T)}return cn.tag===3?fn:null}function hn(T){if(T.tag===13){var cn=T.memoizedState;if(cn===null&&(T=T.alternate,T!==null&&(cn=T.memoizedState)),cn!==null)return cn.dehydrated}return null}function mn(T){if(T.tag===31){var cn=T.memoizedState;if(cn===null&&(T=T.alternate,T!==null&&(cn=T.memoizedState)),cn!==null)return cn.dehydrated}return null}function xn(T){if(dn(T)!==T)throw Error(an(188))}function gn(T){var cn=T.alternate;if(!cn){if(cn=dn(T),cn===null)throw Error(an(188));return cn!==T?null:T}for(var fn=T,pn=cn;;){var En=fn.return;if(En===null)break;var Rn=En.alternate;if(Rn===null){if(pn=En.return,pn!==null){fn=pn;continue}break}if(En.child===Rn.child){for(Rn=En.child;Rn;){if(Rn===fn)return xn(En),T;if(Rn===pn)return xn(En),cn;Rn=Rn.sibling}throw Error(an(188))}if(fn.return!==pn.return)fn=En,pn=Rn;else{for(var Gn=!1,er=En.child;er;){if(er===fn){Gn=!0,fn=En,pn=Rn;break}if(er===pn){Gn=!0,pn=En,fn=Rn;break}er=er.sibling}if(!Gn){for(er=Rn.child;er;){if(er===fn){Gn=!0,fn=Rn,pn=En;break}if(er===pn){Gn=!0,pn=Rn,fn=En;break}er=er.sibling}if(!Gn)throw Error(an(189))}}if(fn.alternate!==pn)throw Error(an(190))}if(fn.tag!==3)throw Error(an(188));return fn.stateNode.current===fn?T:cn}function wn(T){var cn=T.tag;if(cn===5||cn===26||cn===27||cn===6)return T;for(T=T.child;T!==null;){if(cn=wn(T),cn!==null)return cn;T=T.sibling}return null}var vn=Object.assign,An=Symbol.for("react.element"),Cn=Symbol.for("react.transitional.element"),Sn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),jn=Symbol.for("react.strict_mode"),Hn=Symbol.for("react.profiler"),Bn=Symbol.for("react.consumer"),On=Symbol.for("react.context"),Mn=Symbol.for("react.forward_ref"),Un=Symbol.for("react.suspense"),Tn=Symbol.for("react.suspense_list"),zn=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),In=Symbol.for("react.activity"),Ln=Symbol.for("react.memo_cache_sentinel"),Wn=Symbol.iterator;function Fn(T){return T===null||typeof T!="object"?null:(T=Wn&&T[Wn]||T["@@iterator"],typeof T=="function"?T:null)}var Pn=Symbol.for("react.client.reference");function Vn(T){if(T==null)return null;if(typeof T=="function")return T.$$typeof===Pn?null:T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case Nn:return"Fragment";case Hn:return"Profiler";case jn:return"StrictMode";case Un:return"Suspense";case Tn:return"SuspenseList";case In:return"Activity"}if(typeof T=="object")switch(T.$$typeof){case Sn:return"Portal";case On:return T.displayName||"Context";case Bn:return(T._context.displayName||"Context")+".Consumer";case Mn:var cn=T.render;return T=T.displayName,T||(T=cn.displayName||cn.name||"",T=T!==""?"ForwardRef("+T+")":"ForwardRef"),T;case zn:return cn=T.displayName||null,cn!==null?cn:Vn(T.type)||"Memo";case Dn:cn=T._payload,T=T._init;try{return Vn(T(cn))}catch{}}return null}var Zn=Array.isArray,Yn=O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qn=rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xn={pending:!1,data:null,method:null,action:null},rr=[],sr=-1;function Jn(T){return{current:T}}function nr(T){0>sr||(T.current=rr[sr],rr[sr]=null,sr--)}function ar(T,cn){sr++,rr[sr]=T.current,T.current=cn}var or=Jn(null),dr=Jn(null),xr=Jn(null),Dr=Jn(null);function Nr(T,cn){switch(ar(xr,cn),ar(dr,T),ar(or,null),cn.nodeType){case 9:case 11:T=(T=cn.documentElement)&&(T=T.namespaceURI)?Wp(T):0;break;default:if(T=cn.tagName,cn=cn.namespaceURI)cn=Wp(cn),T=Gp(cn,T);else switch(T){case"svg":T=1;break;case"math":T=2;break;default:T=0}}nr(or),ar(or,T)}function Ir(){nr(or),nr(dr),nr(xr)}function xs(T){T.memoizedState!==null&&ar(Dr,T);var cn=or.current,fn=Gp(cn,T.type);cn!==fn&&(ar(dr,T),ar(or,fn))}function es(T){dr.current===T&&(nr(or),nr(dr)),Dr.current===T&&(nr(Dr),Hc._currentValue=Xn)}var vs,Kr;function Or(T){if(vs===void 0)try{throw Error()}catch(fn){var cn=fn.stack.trim().match(/\n( *(at )?)/);vs=cn&&cn[1]||"",Kr=-1<fn.stack.indexOf(`
    at`)?" (<anonymous>)":-1<fn.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+T+Kr}var Gr=!1;function ks(T,cn){if(!T||Gr)return"";Gr=!0;var fn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var pn={DetermineComponentFrameRoot:function(){try{if(cn){var Er=function(){throw Error()};if(Object.defineProperty(Er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Er,[])}catch(Ar){var mr=Ar}Reflect.construct(T,[],Er)}else{try{Er.call()}catch(Ar){mr=Ar}T.call(Er.prototype)}}else{try{throw Error()}catch(Ar){mr=Ar}(Er=T())&&typeof Er.catch=="function"&&Er.catch(function(){})}}catch(Ar){if(Ar&&mr&&typeof Ar.stack=="string")return[Ar.stack,mr.stack]}return[null,null]}};pn.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var En=Object.getOwnPropertyDescriptor(pn.DetermineComponentFrameRoot,"name");En&&En.configurable&&Object.defineProperty(pn.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Rn=pn.DetermineComponentFrameRoot(),Gn=Rn[0],er=Rn[1];if(Gn&&er){var lr=Gn.split(`
`),pr=er.split(`
`);for(En=pn=0;pn<lr.length&&!lr[pn].includes("DetermineComponentFrameRoot");)pn++;for(;En<pr.length&&!pr[En].includes("DetermineComponentFrameRoot");)En++;if(pn===lr.length||En===pr.length)for(pn=lr.length-1,En=pr.length-1;1<=pn&&0<=En&&lr[pn]!==pr[En];)En--;for(;1<=pn&&0<=En;pn--,En--)if(lr[pn]!==pr[En]){if(pn!==1||En!==1)do if(pn--,En--,0>En||lr[pn]!==pr[En]){var vr=`
`+lr[pn].replace(" at new "," at ");return T.displayName&&vr.includes("<anonymous>")&&(vr=vr.replace("<anonymous>",T.displayName)),vr}while(1<=pn&&0<=En);break}}}finally{Gr=!1,Error.prepareStackTrace=fn}return(fn=T?T.displayName||T.name:"")?Or(fn):""}function Ks(T,cn){switch(T.tag){case 26:case 27:case 5:return Or(T.type);case 16:return Or("Lazy");case 13:return T.child!==cn&&cn!==null?Or("Suspense Fallback"):Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return ks(T.type,!1);case 11:return ks(T.type.render,!1);case 1:return ks(T.type,!0);case 31:return Or("Activity");default:return""}}function gr(T){try{var cn="",fn=null;do cn+=Ks(T,fn),fn=T,T=T.return;while(T);return cn}catch(pn){return`
Error generating stack: `+pn.message+`
`+pn.stack}}var Fr=Object.prototype.hasOwnProperty,Mr=sn.unstable_scheduleCallback,ts=sn.unstable_cancelCallback,ns=sn.unstable_shouldYield,ss=sn.unstable_requestPaint,Yr=sn.unstable_now,ls=sn.unstable_getCurrentPriorityLevel,Jr=sn.unstable_ImmediatePriority,Hr=sn.unstable_UserBlockingPriority,is=sn.unstable_NormalPriority,ii=sn.unstable_LowPriority,Ji=sn.unstable_IdlePriority,fi=sn.log,ds=sn.unstable_setDisableYieldValue,_s=null,Vs=null;function Ei(T){if(typeof fi=="function"&&ds(T),Vs&&typeof Vs.setStrictMode=="function")try{Vs.setStrictMode(_s,T)}catch{}}var Is=Math.clz32?Math.clz32:Ki,Li=Math.log,Qi=Math.LN2;function Ki(T){return T>>>=0,T===0?32:31-(Li(T)/Qi|0)|0}var Zi=256,Vi=262144,Ti=4194304;function As(T){var cn=T&42;if(cn!==0)return cn;switch(T&-T){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return T&261888;case 262144:case 524288:case 1048576:case 2097152:return T&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return T&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return T}}function Fa(T,cn,fn){var pn=T.pendingLanes;if(pn===0)return 0;var En=0,Rn=T.suspendedLanes,Gn=T.pingedLanes;T=T.warmLanes;var er=pn&134217727;return er!==0?(pn=er&~Rn,pn!==0?En=As(pn):(Gn&=er,Gn!==0?En=As(Gn):fn||(fn=er&~T,fn!==0&&(En=As(fn))))):(er=pn&~Rn,er!==0?En=As(er):Gn!==0?En=As(Gn):fn||(fn=pn&~T,fn!==0&&(En=As(fn)))),En===0?0:cn!==0&&cn!==En&&(cn&Rn)===0&&(Rn=En&-En,fn=cn&-cn,Rn>=fn||Rn===32&&(fn&4194048)!==0)?cn:En}function Si(T,cn){return(T.pendingLanes&~(T.suspendedLanes&~T.pingedLanes)&cn)===0}function Wo(T,cn){switch(T){case 1:case 2:case 4:case 8:case 64:return cn+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return cn+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var T=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),T}function Ns(T){for(var cn=[],fn=0;31>fn;fn++)cn.push(T);return cn}function zi(T,cn){T.pendingLanes|=cn,cn!==268435456&&(T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0)}function Ml(T,cn,fn,pn,En,Rn){var Gn=T.pendingLanes;T.pendingLanes=fn,T.suspendedLanes=0,T.pingedLanes=0,T.warmLanes=0,T.expiredLanes&=fn,T.entangledLanes&=fn,T.errorRecoveryDisabledLanes&=fn,T.shellSuspendCounter=0;var er=T.entanglements,lr=T.expirationTimes,pr=T.hiddenUpdates;for(fn=Gn&~fn;0<fn;){var vr=31-Is(fn),Er=1<<vr;er[vr]=0,lr[vr]=-1;var mr=pr[vr];if(mr!==null)for(pr[vr]=null,vr=0;vr<mr.length;vr++){var Ar=mr[vr];Ar!==null&&(Ar.lane&=-536870913)}fn&=~Er}pn!==0&&ka(T,pn,0),Rn!==0&&En===0&&T.tag!==0&&(T.suspendedLanes|=Rn&~(Gn&~cn))}function ka(T,cn,fn){T.pendingLanes|=cn,T.suspendedLanes&=~cn;var pn=31-Is(cn);T.entangledLanes|=cn,T.entanglements[pn]=T.entanglements[pn]|1073741824|fn&261930}function Wr(T,cn){var fn=T.entangledLanes|=cn;for(T=T.entanglements;fn;){var pn=31-Is(fn),En=1<<pn;En&cn|T[pn]&cn&&(T[pn]|=cn),fn&=~En}}function Rs(T,cn){var fn=cn&-cn;return fn=(fn&42)!==0?1:Xi(fn),(fn&(T.suspendedLanes|cn))!==0?0:fn}function Xi(T){switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=128;break;case 268435456:T=134217728;break;default:T=0}return T}function Ao(T){return T&=-T,2<T?8<T?(T&134217727)!==0?32:268435456:8:2}function Gc(){var T=Qn.p;return T!==0?T:(T=window.event,T===void 0?32:pm(T.type))}function di(T,cn){var fn=Qn.p;try{return Qn.p=T,cn()}finally{Qn.p=fn}}var ea=Math.random().toString(36).slice(2),Ws="__reactFiber$"+ea,ai="__reactProps$"+ea,Ia="__reactContainer$"+ea,hs="__reactEvents$"+ea,yf="__reactListeners$"+ea,Ui="__reactHandles$"+ea,ta="__reactResources$"+ea,Ma="__reactMarker$"+ea;function Ll(T){delete T[Ws],delete T[ai],delete T[hs],delete T[yf],delete T[Ui]}function Pr(T){var cn=T[Ws];if(cn)return cn;for(var fn=T.parentNode;fn;){if(cn=fn[Ia]||fn[Ws]){if(fn=cn.alternate,cn.child!==null||fn!==null&&fn.child!==null)for(T=Vp(T);T!==null;){if(fn=T[Ws])return fn;T=Vp(T)}return cn}T=fn,fn=T.parentNode}return null}function La(T){if(T=T[Ws]||T[Ia]){var cn=T.tag;if(cn===5||cn===6||cn===13||cn===31||cn===26||cn===27||cn===3)return T}return null}function vo(T){var cn=T.tag;if(cn===5||cn===26||cn===27||cn===6)return T.stateNode;throw Error(an(33))}function na(T){var cn=T[ta];return cn||(cn=T[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),cn}function $n(T){T[Ma]=!0}var Zr=new Set,qc={};function ps(T,cn){Ci(T,cn),Ci(T+"Capture",cn)}function Ci(T,cn){for(qc[T]=cn,T=0;T<cn.length;T++)Zr.add(cn[T])}var Yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},zl={};function bf(T){return Fr.call(zl,T)?!0:Fr.call(Go,T)?!1:Yc.test(T)?zl[T]=!0:(Go[T]=!0,!1)}function la(T,cn,fn){if(bf(cn))if(fn===null)T.removeAttribute(cn);else{switch(typeof fn){case"undefined":case"function":case"symbol":T.removeAttribute(cn);return;case"boolean":var pn=cn.toLowerCase().slice(0,5);if(pn!=="data-"&&pn!=="aria-"){T.removeAttribute(cn);return}}T.setAttribute(cn,""+fn)}}function ca(T,cn,fn){if(fn===null)T.removeAttribute(cn);else{switch(typeof fn){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(cn);return}T.setAttribute(cn,""+fn)}}function _i(T,cn,fn,pn){if(pn===null)T.removeAttribute(fn);else{switch(typeof pn){case"undefined":case"function":case"symbol":case"boolean":T.removeAttribute(fn);return}T.setAttributeNS(cn,fn,""+pn)}}function Ts(T){switch(typeof T){case"bigint":case"boolean":case"number":case"string":case"undefined":return T;case"object":return T;default:return""}}function qo(T){var cn=T.type;return(T=T.nodeName)&&T.toLowerCase()==="input"&&(cn==="checkbox"||cn==="radio")}function Ef(T,cn,fn){var pn=Object.getOwnPropertyDescriptor(T.constructor.prototype,cn);if(!T.hasOwnProperty(cn)&&typeof pn<"u"&&typeof pn.get=="function"&&typeof pn.set=="function"){var En=pn.get,Rn=pn.set;return Object.defineProperty(T,cn,{configurable:!0,get:function(){return En.call(this)},set:function(Gn){fn=""+Gn,Rn.call(this,Gn)}}),Object.defineProperty(T,cn,{enumerable:pn.enumerable}),{getValue:function(){return fn},setValue:function(Gn){fn=""+Gn},stopTracking:function(){T._valueTracker=null,delete T[cn]}}}}function Ul(T){if(!T._valueTracker){var cn=qo(T)?"checked":"value";T._valueTracker=Ef(T,cn,""+T[cn])}}function Jc(T){if(!T)return!1;var cn=T._valueTracker;if(!cn)return!0;var fn=cn.getValue(),pn="";return T&&(pn=qo(T)?T.checked?"true":"false":T.value),T=pn,T!==fn?(cn.setValue(T),!0):!1}function Yo(T){if(T=T||(typeof document<"u"?document:void 0),typeof T>"u")return null;try{return T.activeElement||T.body}catch{return T.body}}var Sf=/[\n"\\]/g;function hi(T){return T.replace(Sf,function(cn){return"\\"+cn.charCodeAt(0).toString(16)+" "})}function Hl(T,cn,fn,pn,En,Rn,Gn,er){T.name="",Gn!=null&&typeof Gn!="function"&&typeof Gn!="symbol"&&typeof Gn!="boolean"?T.type=Gn:T.removeAttribute("type"),cn!=null?Gn==="number"?(cn===0&&T.value===""||T.value!=cn)&&(T.value=""+Ts(cn)):T.value!==""+Ts(cn)&&(T.value=""+Ts(cn)):Gn!=="submit"&&Gn!=="reset"||T.removeAttribute("value"),cn!=null?$l(T,Gn,Ts(cn)):fn!=null?$l(T,Gn,Ts(fn)):pn!=null&&T.removeAttribute("value"),En==null&&Rn!=null&&(T.defaultChecked=!!Rn),En!=null&&(T.checked=En&&typeof En!="function"&&typeof En!="symbol"),er!=null&&typeof er!="function"&&typeof er!="symbol"&&typeof er!="boolean"?T.name=""+Ts(er):T.removeAttribute("name")}function Jo(T,cn,fn,pn,En,Rn,Gn,er){if(Rn!=null&&typeof Rn!="function"&&typeof Rn!="symbol"&&typeof Rn!="boolean"&&(T.type=Rn),cn!=null||fn!=null){if(!(Rn!=="submit"&&Rn!=="reset"||cn!=null)){Ul(T);return}fn=fn!=null?""+Ts(fn):"",cn=cn!=null?""+Ts(cn):fn,er||cn===T.value||(T.value=cn),T.defaultValue=cn}pn=pn??En,pn=typeof pn!="function"&&typeof pn!="symbol"&&!!pn,T.checked=er?T.checked:!!pn,T.defaultChecked=!!pn,Gn!=null&&typeof Gn!="function"&&typeof Gn!="symbol"&&typeof Gn!="boolean"&&(T.name=Gn),Ul(T)}function $l(T,cn,fn){cn==="number"&&Yo(T.ownerDocument)===T||T.defaultValue===""+fn||(T.defaultValue=""+fn)}function za(T,cn,fn,pn){if(T=T.options,cn){cn={};for(var En=0;En<fn.length;En++)cn["$"+fn[En]]=!0;for(fn=0;fn<T.length;fn++)En=cn.hasOwnProperty("$"+T[fn].value),T[fn].selected!==En&&(T[fn].selected=En),En&&pn&&(T[fn].defaultSelected=!0)}else{for(fn=""+Ts(fn),cn=null,En=0;En<T.length;En++){if(T[En].value===fn){T[En].selected=!0,pn&&(T[En].defaultSelected=!0);return}cn!==null||T[En].disabled||(cn=T[En])}cn!==null&&(cn.selected=!0)}}function Qc(T,cn,fn){if(cn!=null&&(cn=""+Ts(cn),cn!==T.value&&(T.value=cn),fn==null)){T.defaultValue!==cn&&(T.defaultValue=cn);return}T.defaultValue=fn!=null?""+Ts(fn):""}function Kc(T,cn,fn,pn){if(cn==null){if(pn!=null){if(fn!=null)throw Error(an(92));if(Zn(pn)){if(1<pn.length)throw Error(an(93));pn=pn[0]}fn=pn}fn==null&&(fn=""),cn=fn}fn=Ts(cn),T.defaultValue=fn,pn=T.textContent,pn===fn&&pn!==""&&pn!==null&&(T.value=pn),Ul(T)}function Ua(T,cn){if(cn){var fn=T.firstChild;if(fn&&fn===T.lastChild&&fn.nodeType===3){fn.nodeValue=cn;return}}T.textContent=cn}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(T,cn,fn){var pn=cn.indexOf("--")===0;fn==null||typeof fn=="boolean"||fn===""?pn?T.setProperty(cn,""):cn==="float"?T.cssFloat="":T[cn]="":pn?T.setProperty(cn,fn):typeof fn!="number"||fn===0||js.has(cn)?cn==="float"?T.cssFloat=fn:T[cn]=(""+fn).trim():T[cn]=fn+"px"}function Vc(T,cn,fn){if(cn!=null&&typeof cn!="object")throw Error(an(62));if(T=T.style,fn!=null){for(var pn in fn)!fn.hasOwnProperty(pn)||cn!=null&&cn.hasOwnProperty(pn)||(pn.indexOf("--")===0?T.setProperty(pn,""):pn==="float"?T.cssFloat="":T[pn]="");for(var En in cn)pn=cn[En],cn.hasOwnProperty(En)&&fn[En]!==pn&&Zc(T,En,pn)}else for(var Rn in cn)cn.hasOwnProperty(Rn)&&Zc(T,Rn,cn[Rn])}function Pl(T){if(T.indexOf("-")===-1)return!1;switch(T){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(T){return _f.test(""+T)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":T}function Hi(){}var Wl=null;function Gl(T){return T=T.target||T.srcElement||window,T.correspondingUseElement&&(T=T.correspondingUseElement),T.nodeType===3?T.parentNode:T}var Ha=null,$a=null;function Xc(T){var cn=La(T);if(cn&&(T=cn.stateNode)){var fn=T[ai]||null;e:switch(T=cn.stateNode,cn.type){case"input":if(Hl(T,fn.value,fn.defaultValue,fn.defaultValue,fn.checked,fn.defaultChecked,fn.type,fn.name),cn=fn.name,fn.type==="radio"&&cn!=null){for(fn=T;fn.parentNode;)fn=fn.parentNode;for(fn=fn.querySelectorAll('input[name="'+hi(""+cn)+'"][type="radio"]'),cn=0;cn<fn.length;cn++){var pn=fn[cn];if(pn!==T&&pn.form===T.form){var En=pn[ai]||null;if(!En)throw Error(an(90));Hl(pn,En.value,En.defaultValue,En.defaultValue,En.checked,En.defaultChecked,En.type,En.name)}}for(cn=0;cn<fn.length;cn++)pn=fn[cn],pn.form===T.form&&Jc(pn)}break e;case"textarea":Qc(T,fn.value,fn.defaultValue);break e;case"select":cn=fn.value,cn!=null&&za(T,!!fn.multiple,cn,!1)}}}var ql=!1;function Ko(T,cn,fn){if(ql)return T(cn,fn);ql=!0;try{var pn=T(cn);return pn}finally{if(ql=!1,(Ha!==null||$a!==null)&&(Vu(),Ha&&(cn=Ha,T=$a,$a=Ha=null,Xc(cn),T)))for(cn=0;cn<T.length;cn++)Xc(T[cn])}}function yo(T,cn){var fn=T.stateNode;if(fn===null)return null;var pn=fn[ai]||null;if(pn===null)return null;fn=pn[cn];e:switch(cn){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(pn=!pn.disabled)||(T=T.type,pn=!(T==="button"||T==="input"||T==="select"||T==="textarea")),T=!pn;break e;default:T=!1}if(T)return null;if(fn&&typeof fn!="function")throw Error(an(231,cn,typeof fn));return fn}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=!1;if($i)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Zo=!1}var ra=null,Yl=null,Vo=null;function eu(){if(Vo)return Vo;var T,cn=Yl,fn=cn.length,pn,En="value"in ra?ra.value:ra.textContent,Rn=En.length;for(T=0;T<fn&&cn[T]===En[T];T++);var Gn=fn-T;for(pn=1;pn<=Gn&&cn[fn-pn]===En[Rn-pn];pn++);return Vo=En.slice(T,1<pn?1-pn:void 0)}function Xo(T){var cn=T.keyCode;return"charCode"in T?(T=T.charCode,T===0&&cn===13&&(T=13)):T=cn,T===10&&(T=13),32<=T||T===13?T:0}function Pa(){return!0}function tu(){return!1}function Gs(T){function cn(fn,pn,En,Rn,Gn){this._reactName=fn,this._targetInst=En,this.type=pn,this.nativeEvent=Rn,this.target=Gn,this.currentTarget=null;for(var er in T)T.hasOwnProperty(er)&&(fn=T[er],this[er]=fn?fn(Rn):Rn[er]);return this.isDefaultPrevented=(Rn.defaultPrevented!=null?Rn.defaultPrevented:Rn.returnValue===!1)?Pa:tu,this.isPropagationStopped=tu,this}return vn(cn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var fn=this.nativeEvent;fn&&(fn.preventDefault?fn.preventDefault():typeof fn.returnValue!="unknown"&&(fn.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var fn=this.nativeEvent;fn&&(fn.stopPropagation?fn.stopPropagation():typeof fn.cancelBubble!="unknown"&&(fn.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),cn}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(T){return T.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=Gs(ua),Eo=vn({},ua,{view:0,detail:0}),Rf=Gs(Eo),Jl,Ql,So,tl=vn({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(T){return T.relatedTarget===void 0?T.fromElement===T.srcElement?T.toElement:T.fromElement:T.relatedTarget},movementX:function(T){return"movementX"in T?T.movementX:(T!==So&&(So&&T.type==="mousemove"?(Jl=T.screenX-So.screenX,Ql=T.screenY-So.screenY):Ql=Jl=0,So=T),Jl)},movementY:function(T){return"movementY"in T?T.movementY:Ql}}),nu=Gs(tl),Df=vn({},tl,{dataTransfer:0}),nl=Gs(Df),Kl=vn({},Eo,{relatedTarget:0}),Wa=Gs(Kl),rl=vn({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),sl=Gs(rl),Nf=vn({},ua,{clipboardData:function(T){return"clipboardData"in T?T.clipboardData:window.clipboardData}}),jf=Gs(Nf),ru=vn({},ua,{data:0}),Co=Gs(ru),il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(T){var cn=this.nativeEvent;return cn.getModifierState?cn.getModifierState(T):(T=Bf[T])?!!cn[T]:!1}function Zl(){return su}var Of=vn({},Eo,{key:function(T){if(T.key){var cn=il[T.key]||T.key;if(cn!=="Unidentified")return cn}return T.type==="keypress"?(T=Xo(T),T===13?"Enter":String.fromCharCode(T)):T.type==="keydown"||T.type==="keyup"?_o[T.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(T){return T.type==="keypress"?Xo(T):0},keyCode:function(T){return T.type==="keydown"||T.type==="keyup"?T.keyCode:0},which:function(T){return T.type==="keypress"?Xo(T):T.type==="keydown"||T.type==="keyup"?T.keyCode:0}}),al=Gs(Of),Tf=vn({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Gs(Tf),Fi=vn({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Ff=Gs(Fi),kf=vn({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),If=Gs(kf),Mf=vn({},tl,{deltaX:function(T){return"deltaX"in T?T.deltaX:"wheelDeltaX"in T?-T.wheelDeltaX:0},deltaY:function(T){return"deltaY"in T?T.deltaY:"wheelDeltaY"in T?-T.wheelDeltaY:"wheelDelta"in T?-T.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=Gs(Mf),Lf=vn({},ua,{newState:0,oldState:0}),iu=Gs(Lf),zf=[9,13,27,32],tc=$i&&"CompositionEvent"in window,Ro=null;$i&&"documentMode"in document&&(Ro=document.documentMode);var Uf=$i&&"TextEvent"in window&&!Ro,au=$i&&(!tc||Ro&&8<Ro&&11>=Ro),ou=" ",lu=!1;function cu(T,cn){switch(T){case"keyup":return zf.indexOf(cn.keyCode)!==-1;case"keydown":return cn.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(T){return T=T.detail,typeof T=="object"&&"data"in T?T.data:null}var Ga=!1;function Hf(T,cn){switch(T){case"compositionend":return uu(cn);case"keypress":return cn.which!==32?null:(lu=!0,ou);case"textInput":return T=cn.data,T===ou&&lu?null:T;default:return null}}function $f(T,cn){if(Ga)return T==="compositionend"||!tc&&cu(T,cn)?(T=eu(),Vo=Yl=ra=null,Ga=!1,T):null;switch(T){case"paste":return null;case"keypress":if(!(cn.ctrlKey||cn.altKey||cn.metaKey)||cn.ctrlKey&&cn.altKey){if(cn.char&&1<cn.char.length)return cn.char;if(cn.which)return String.fromCharCode(cn.which)}return null;case"compositionend":return au&&cn.locale!=="ko"?null:cn.data;default:return null}}var Pf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(T){var cn=T&&T.nodeName&&T.nodeName.toLowerCase();return cn==="input"?!!Pf[T.type]:cn==="textarea"}function rc(T,cn,fn,pn){Ha?$a?$a.push(pn):$a=[pn]:Ha=pn,cn=af(cn,"onChange"),0<cn.length&&(fn=new el("onChange","change",null,fn,pn),T.push({event:fn,listeners:cn}))}var qa=null,Ya=null;function Wf(T){Lp(T,0)}function ol(T){var cn=vo(T);if(Jc(cn))return T}function fu(T,cn){if(T==="change")return cn}var sc=!1;if($i){var Do;if($i){var No="oninput"in document;if(!No){var du=document.createElement("div");du.setAttribute("oninput","return;"),No=typeof du.oninput=="function"}Do=No}else Do=!1;sc=Do&&(!document.documentMode||9<document.documentMode)}function hu(){qa&&(qa.detachEvent("onpropertychange",sa),Ya=qa=null)}function sa(T){if(T.propertyName==="value"&&ol(Ya)){var cn=[];rc(cn,Ya,T,Gl(T)),Ko(Wf,cn)}}function pu(T,cn,fn){T==="focusin"?(hu(),qa=cn,Ya=fn,qa.attachEvent("onpropertychange",sa)):T==="focusout"&&hu()}function ic(T){if(T==="selectionchange"||T==="keyup"||T==="keydown")return ol(Ya)}function fa(T,cn){if(T==="click")return ol(cn)}function da(T,cn){if(T==="input"||T==="change")return ol(cn)}function Gf(T,cn){return T===cn&&(T!==0||1/T===1/cn)||T!==T&&cn!==cn}var li=typeof Object.is=="function"?Object.is:Gf;function jo(T,cn){if(li(T,cn))return!0;if(typeof T!="object"||T===null||typeof cn!="object"||cn===null)return!1;var fn=Object.keys(T),pn=Object.keys(cn);if(fn.length!==pn.length)return!1;for(pn=0;pn<fn.length;pn++){var En=fn[pn];if(!Fr.call(cn,En)||!li(T[En],cn[En]))return!1}return!0}function mu(T){for(;T&&T.firstChild;)T=T.firstChild;return T}function gu(T,cn){var fn=mu(T);T=0;for(var pn;fn;){if(fn.nodeType===3){if(pn=T+fn.textContent.length,T<=cn&&pn>=cn)return{node:fn,offset:cn-T};T=pn}e:{for(;fn;){if(fn.nextSibling){fn=fn.nextSibling;break e}fn=fn.parentNode}fn=void 0}fn=mu(fn)}}function xu(T,cn){return T&&cn?T===cn?!0:T&&T.nodeType===3?!1:cn&&cn.nodeType===3?xu(T,cn.parentNode):"contains"in T?T.contains(cn):T.compareDocumentPosition?!!(T.compareDocumentPosition(cn)&16):!1:!1}function wu(T){T=T!=null&&T.ownerDocument!=null&&T.ownerDocument.defaultView!=null?T.ownerDocument.defaultView:window;for(var cn=Yo(T.document);cn instanceof T.HTMLIFrameElement;){try{var fn=typeof cn.contentWindow.location.href=="string"}catch{fn=!1}if(fn)T=cn.contentWindow;else break;cn=Yo(T.document)}return cn}function ac(T){var cn=T&&T.nodeName&&T.nodeName.toLowerCase();return cn&&(cn==="input"&&(T.type==="text"||T.type==="search"||T.type==="tel"||T.type==="url"||T.type==="password")||cn==="textarea"||T.contentEditable==="true")}var qf=$i&&"documentMode"in document&&11>=document.documentMode,Pi=null,ll=null,Bo=null,Ja=!1;function Oo(T,cn,fn){var pn=fn.window===fn?fn.document:fn.nodeType===9?fn:fn.ownerDocument;Ja||Pi==null||Pi!==Yo(pn)||(pn=Pi,"selectionStart"in pn&&ac(pn)?pn={start:pn.selectionStart,end:pn.selectionEnd}:(pn=(pn.ownerDocument&&pn.ownerDocument.defaultView||window).getSelection(),pn={anchorNode:pn.anchorNode,anchorOffset:pn.anchorOffset,focusNode:pn.focusNode,focusOffset:pn.focusOffset}),Bo&&jo(Bo,pn)||(Bo=pn,pn=af(ll,"onSelect"),0<pn.length&&(cn=new el("onSelect","select",null,cn,fn),T.push({event:cn,listeners:pn}),cn.target=Pi)))}function ha(T,cn){var fn={};return fn[T.toLowerCase()]=cn.toLowerCase(),fn["Webkit"+T]="webkit"+cn,fn["Moz"+T]="moz"+cn,fn}var ia={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},pa={},oc={};$i&&(oc=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Wi(T){if(pa[T])return pa[T];if(!ia[T])return T;var cn=ia[T],fn;for(fn in cn)if(cn.hasOwnProperty(fn)&&fn in oc)return pa[T]=cn[fn];return T}var Au=Wi("animationend"),cc=Wi("animationiteration"),Qa=Wi("animationstart"),vu=Wi("transitionrun"),cl=Wi("transitionstart"),uc=Wi("transitioncancel"),ul=Wi("transitionend"),yu=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function oi(T,cn){yu.set(T,cn),ps(cn,[T])}var ma=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var cn=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(cn))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},pi=[],Ka=0,ga=0;function xa(){for(var T=Ka,cn=ga=Ka=0;cn<T;){var fn=pi[cn];pi[cn++]=null;var pn=pi[cn];pi[cn++]=null;var En=pi[cn];pi[cn++]=null;var Rn=pi[cn];if(pi[cn++]=null,pn!==null&&En!==null){var Gn=pn.pending;Gn===null?En.next=En:(En.next=Gn.next,Gn.next=En),pn.pending=En}Rn!==0&&dl(fn,En,Rn)}}function Za(T,cn,fn,pn){pi[Ka++]=T,pi[Ka++]=cn,pi[Ka++]=fn,pi[Ka++]=pn,ga|=pn,T.lanes|=pn,T=T.alternate,T!==null&&(T.lanes|=pn)}function dc(T,cn,fn,pn){return Za(T,cn,fn,pn),To(T)}function wa(T,cn){return Za(T,null,null,cn),To(T)}function dl(T,cn,fn){T.lanes|=fn;var pn=T.alternate;pn!==null&&(pn.lanes|=fn);for(var En=!1,Rn=T.return;Rn!==null;)Rn.childLanes|=fn,pn=Rn.alternate,pn!==null&&(pn.childLanes|=fn),Rn.tag===22&&(T=Rn.stateNode,T===null||T._visibility&1||(En=!0)),T=Rn,Rn=Rn.return;return T.tag===3?(Rn=T.stateNode,En&&cn!==null&&(En=31-Is(fn),T=Rn.hiddenUpdates,pn=T[En],pn===null?T[En]=[cn]:pn.push(cn),cn.lane=fn|536870912),Rn):null}function To(T){if(50<Fc)throw Fc=0,q0=null,Error(an(185));for(var cn=T.return;cn!==null;)T=cn,cn=T.return;return T.tag===3?T.stateNode:null}var Aa={};function Yf(T,cn,fn,pn){this.tag=T,this.key=fn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=cn,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=pn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(T,cn,fn,pn){return new Yf(T,cn,fn,pn)}function Va(T){return T=T.prototype,!(!T||!T.isReactComponent)}function ei(T,cn){var fn=T.alternate;return fn===null?(fn=ci(T.tag,cn,T.key,T.mode),fn.elementType=T.elementType,fn.type=T.type,fn.stateNode=T.stateNode,fn.alternate=T,T.alternate=fn):(fn.pendingProps=cn,fn.type=T.type,fn.flags=0,fn.subtreeFlags=0,fn.deletions=null),fn.flags=T.flags&65011712,fn.childLanes=T.childLanes,fn.lanes=T.lanes,fn.child=T.child,fn.memoizedProps=T.memoizedProps,fn.memoizedState=T.memoizedState,fn.updateQueue=T.updateQueue,cn=T.dependencies,fn.dependencies=cn===null?null:{lanes:cn.lanes,firstContext:cn.firstContext},fn.sibling=T.sibling,fn.index=T.index,fn.ref=T.ref,fn.refCleanup=T.refCleanup,fn}function va(T,cn){T.flags&=65011714;var fn=T.alternate;return fn===null?(T.childLanes=0,T.lanes=cn,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=fn.childLanes,T.lanes=fn.lanes,T.child=fn.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=fn.memoizedProps,T.memoizedState=fn.memoizedState,T.updateQueue=fn.updateQueue,T.type=fn.type,cn=fn.dependencies,T.dependencies=cn===null?null:{lanes:cn.lanes,firstContext:cn.firstContext}),T}function ti(T,cn,fn,pn,En,Rn){var Gn=0;if(pn=T,typeof T=="function")Va(T)&&(Gn=1);else if(typeof T=="string")Gn=_1(T,fn,or.current)?26:T==="html"||T==="head"||T==="body"?27:5;else e:switch(T){case In:return T=ci(31,fn,cn,En),T.elementType=In,T.lanes=Rn,T;case Nn:return Ri(fn.children,En,Rn,cn);case jn:Gn=8,En|=24;break;case Hn:return T=ci(12,fn,cn,En|2),T.elementType=Hn,T.lanes=Rn,T;case Un:return T=ci(13,fn,cn,En),T.elementType=Un,T.lanes=Rn,T;case Tn:return T=ci(19,fn,cn,En),T.elementType=Tn,T.lanes=Rn,T;default:if(typeof T=="object"&&T!==null)switch(T.$$typeof){case On:Gn=10;break e;case Bn:Gn=9;break e;case Mn:Gn=11;break e;case zn:Gn=14;break e;case Dn:Gn=16,pn=null;break e}Gn=29,fn=Error(an(130,T===null?"null":typeof T,"")),pn=null}return cn=ci(Gn,fn,cn,En),cn.elementType=T,cn.type=pn,cn.lanes=Rn,cn}function Ri(T,cn,fn,pn){return T=ci(7,T,pn,cn),T.lanes=fn,T}function hc(T,cn,fn){return T=ci(6,T,null,cn),T.lanes=fn,T}function bu(T){var cn=ci(18,null,null,0);return cn.stateNode=T,cn}function hl(T,cn,fn){return cn=ci(4,T.children!==null?T.children:[],T.key,cn),cn.lanes=fn,cn.stateNode={containerInfo:T.containerInfo,pendingChildren:null,implementation:T.implementation},cn}var Eu=new WeakMap;function mi(T,cn){if(typeof T=="object"&&T!==null){var fn=Eu.get(T);return fn!==void 0?fn:(cn={value:T,source:cn,stack:gr(cn)},Eu.set(T,cn),cn)}return{value:T,source:cn,stack:gr(cn)}}var Xa=[],ya=0,pl=null,Fo=0,gi=[],yn=0,bn=null,_n=1,kn="";function qn(T,cn){Xa[ya++]=Fo,Xa[ya++]=pl,pl=T,Fo=cn}function Kn(T,cn,fn){gi[yn++]=_n,gi[yn++]=kn,gi[yn++]=bn,bn=T;var pn=_n;T=kn;var En=32-Is(pn)-1;pn&=~(1<<En),fn+=1;var Rn=32-Is(cn)+En;if(30<Rn){var Gn=En-En%5;Rn=(pn&(1<<Gn)-1).toString(32),pn>>=Gn,En-=Gn,_n=1<<32-Is(cn)+En|fn<<En|pn,kn=Rn+T}else _n=1<<Rn|fn<<En|pn,kn=T}function tr(T){T.return!==null&&(qn(T,1),Kn(T,1,0))}function ir(T){for(;T===pl;)pl=Xa[--ya],Xa[ya]=null,Fo=Xa[--ya],Xa[ya]=null;for(;T===bn;)bn=gi[--yn],gi[yn]=null,kn=gi[--yn],gi[yn]=null,_n=gi[--yn],gi[yn]=null}function ur(T,cn){gi[yn++]=_n,gi[yn++]=kn,gi[yn++]=bn,_n=cn.id,kn=cn.overflow,bn=T}var wr=null,Sr=null,_r=!1,yr=null,Rr=!1,qr=Error(an(519));function rs(T){var cn=Error(an(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zr(mi(cn,T)),qr}function Ms(T){var cn=T.stateNode,fn=T.type,pn=T.memoizedProps;switch(cn[Ws]=T,cn[ai]=pn,fn){case"dialog":os("cancel",cn),os("close",cn);break;case"iframe":case"object":case"embed":os("load",cn);break;case"video":case"audio":for(fn=0;fn<Ic.length;fn++)os(Ic[fn],cn);break;case"source":os("error",cn);break;case"img":case"image":case"link":os("error",cn),os("load",cn);break;case"details":os("toggle",cn);break;case"input":os("invalid",cn),Jo(cn,pn.value,pn.defaultValue,pn.checked,pn.defaultChecked,pn.type,pn.name,!0);break;case"select":os("invalid",cn);break;case"textarea":os("invalid",cn),Kc(cn,pn.value,pn.defaultValue,pn.children)}fn=pn.children,typeof fn!="string"&&typeof fn!="number"&&typeof fn!="bigint"||cn.textContent===""+fn||pn.suppressHydrationWarning===!0||$p(cn.textContent,fn)?(pn.popover!=null&&(os("beforetoggle",cn),os("toggle",cn)),pn.onScroll!=null&&os("scroll",cn),pn.onScrollEnd!=null&&os("scrollend",cn),pn.onClick!=null&&(cn.onclick=Hi),cn=!0):cn=!1,cn||rs(T,!0)}function Bs(T){for(wr=T.return;wr;)switch(wr.tag){case 5:case 31:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:wr=wr.return}}function Cr(T){if(T!==wr)return!1;if(!_r)return Bs(T),_r=!0,!1;var cn=T.tag,fn;if((fn=cn!==3&&cn!==27)&&((fn=cn===5)&&(fn=T.type,fn=!(fn!=="form"&&fn!=="button")||ld(T.type,T.memoizedProps)),fn=!fn),fn&&Sr&&rs(T),Bs(T),cn===13){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(an(317));Sr=Zp(T)}else if(cn===31){if(T=T.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(an(317));Sr=Zp(T)}else cn===27?(cn=Sr,ho(T.type)?(T=pd,pd=null,Sr=T):Sr=cn):Sr=wr?Ii(T.stateNode.nextSibling):null;return!0}function jr(){Sr=wr=null,_r=!1}function $r(){var T=yr;return T!==null&&(yi===null?yi=T:yi.push.apply(yi,T),yr=null),T}function zr(T){yr===null?yr=[T]:yr.push(T)}var Qr=Jn(null),Hs=null,Ls=null;function xi(T,cn,fn){ar(Qr,cn._currentValue),cn._currentValue=fn}function Gi(T){T._currentValue=Qr.current,nr(Qr)}function pc(T,cn,fn){for(;T!==null;){var pn=T.alternate;if((T.childLanes&cn)!==cn?(T.childLanes|=cn,pn!==null&&(pn.childLanes|=cn)):pn!==null&&(pn.childLanes&cn)!==cn&&(pn.childLanes|=cn),T===fn)break;T=T.return}}function ml(T,cn,fn,pn){var En=T.child;for(En!==null&&(En.return=T);En!==null;){var Rn=En.dependencies;if(Rn!==null){var Gn=En.child;Rn=Rn.firstContext;e:for(;Rn!==null;){var er=Rn;Rn=En;for(var lr=0;lr<cn.length;lr++)if(er.context===cn[lr]){Rn.lanes|=fn,er=Rn.alternate,er!==null&&(er.lanes|=fn),pc(Rn.return,fn,T),pn||(Gn=null);break e}Rn=er.next}}else if(En.tag===18){if(Gn=En.return,Gn===null)throw Error(an(341));Gn.lanes|=fn,Rn=Gn.alternate,Rn!==null&&(Rn.lanes|=fn),pc(Gn,fn,T),Gn=null}else Gn=En.child;if(Gn!==null)Gn.return=En;else for(Gn=En;Gn!==null;){if(Gn===T){Gn=null;break}if(En=Gn.sibling,En!==null){En.return=Gn.return,Gn=En;break}Gn=Gn.return}En=Gn}}function gl(T,cn,fn,pn){T=null;for(var En=cn,Rn=!1;En!==null;){if(!Rn){if((En.flags&524288)!==0)Rn=!0;else if((En.flags&262144)!==0)break}if(En.tag===10){var Gn=En.alternate;if(Gn===null)throw Error(an(387));if(Gn=Gn.memoizedProps,Gn!==null){var er=En.type;li(En.pendingProps.value,Gn.value)||(T!==null?T.push(er):T=[er])}}else if(En===Dr.current){if(Gn=En.alternate,Gn===null)throw Error(an(387));Gn.memoizedState.memoizedState!==En.memoizedState.memoizedState&&(T!==null?T.push(Hc):T=[Hc])}En=En.return}T!==null&&ml(cn,T,fn,pn),cn.flags|=262144}function Su(T){for(T=T.firstContext;T!==null;){if(!li(T.context._currentValue,T.memoizedValue))return!0;T=T.next}return!1}function ko(T){Hs=T,Ls=null,T=T.dependencies,T!==null&&(T.firstContext=null)}function ni(T){return Cd(Hs,T)}function Cu(T,cn){return Hs===null&&ko(T),Cd(T,cn)}function Cd(T,cn){var fn=cn._currentValue;if(cn={context:cn,memoizedValue:fn,next:null},Ls===null){if(T===null)throw Error(an(308));Ls=cn,T.dependencies={lanes:0,firstContext:cn},T.flags|=524288}else Ls=Ls.next=cn;return fn}var bm=typeof AbortController<"u"?AbortController:function(){var T=[],cn=this.signal={aborted:!1,addEventListener:function(fn,pn){T.push(pn)}};this.abort=function(){cn.aborted=!0,T.forEach(function(fn){return fn()})}},Em=sn.unstable_scheduleCallback,Sm=sn.unstable_NormalPriority,qs={$$typeof:On,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new bm,data:new Map,refCount:0}}function mc(T){T.refCount--,T.refCount===0&&Em(Sm,function(){T.controller.abort()})}var gc=null,Qf=0,xl=0,wl=null;function Cm(T,cn){if(gc===null){var fn=gc=[];Qf=0,xl=V0(),wl={status:"pending",value:void 0,then:function(pn){fn.push(pn)}}}return Qf++,cn.then(_d,_d),cn}function _d(){if(--Qf===0&&gc!==null){wl!==null&&(wl.status="fulfilled");var T=gc;gc=null,xl=0,wl=null;for(var cn=0;cn<T.length;cn++)(0,T[cn])()}}function _m(T,cn){var fn=[],pn={status:"pending",value:null,reason:null,then:function(En){fn.push(En)}};return T.then(function(){pn.status="fulfilled",pn.value=cn;for(var En=0;En<fn.length;En++)(0,fn[En])(cn)},function(En){for(pn.status="rejected",pn.reason=En,En=0;En<fn.length;En++)(0,fn[En])(void 0)}),pn}var Rd=Yn.S;Yn.S=function(T,cn){dp=Yr(),typeof cn=="object"&&cn!==null&&typeof cn.then=="function"&&Cm(T,cn),Rd!==null&&Rd(T,cn)};var Io=Jn(null);function Kf(){var T=Io.current;return T!==null?T:Ds.pooledCache}function _u(T,cn){cn===null?ar(Io,Io.current):ar(Io,cn.pool)}function Dd(){var T=Kf();return T===null?null:{parent:qs._currentValue,pool:T}}var Al=Error(an(460)),Zf=Error(an(474)),Ru=Error(an(542)),Du={then:function(){}};function Nd(T){return T=T.status,T==="fulfilled"||T==="rejected"}function jd(T,cn,fn){switch(fn=T[fn],fn===void 0?T.push(cn):fn!==cn&&(cn.then(Hi,Hi),cn=fn),cn.status){case"fulfilled":return cn.value;case"rejected":throw T=cn.reason,Od(T),T;default:if(typeof cn.status=="string")cn.then(Hi,Hi);else{if(T=Ds,T!==null&&100<T.shellSuspendCounter)throw Error(an(482));T=cn,T.status="pending",T.then(function(pn){if(cn.status==="pending"){var En=cn;En.status="fulfilled",En.value=pn}},function(pn){if(cn.status==="pending"){var En=cn;En.status="rejected",En.reason=pn}})}switch(cn.status){case"fulfilled":return cn.value;case"rejected":throw T=cn.reason,Od(T),T}throw Lo=cn,Al}}function Mo(T){try{var cn=T._init;return cn(T._payload)}catch(fn){throw fn!==null&&typeof fn=="object"&&typeof fn.then=="function"?(Lo=fn,Al):fn}}var Lo=null;function Bd(){if(Lo===null)throw Error(an(459));var T=Lo;return Lo=null,T}function Od(T){if(T===Al||T===Ru)throw Error(an(483))}var vl=null,xc=0;function Nu(T){var cn=xc;return xc+=1,vl===null&&(vl=[]),jd(vl,T,cn)}function wc(T,cn){cn=cn.props.ref,T.ref=cn!==void 0?cn:null}function ju(T,cn){throw cn.$$typeof===An?Error(an(525)):(T=Object.prototype.toString.call(cn),Error(an(31,T==="[object Object]"?"object with keys {"+Object.keys(cn).join(", ")+"}":T)))}function Td(T){function cn(fr,cr){if(T){var hr=fr.deletions;hr===null?(fr.deletions=[cr],fr.flags|=16):hr.push(cr)}}function fn(fr,cr){if(!T)return null;for(;cr!==null;)cn(fr,cr),cr=cr.sibling;return null}function pn(fr){for(var cr=new Map;fr!==null;)fr.key!==null?cr.set(fr.key,fr):cr.set(fr.index,fr),fr=fr.sibling;return cr}function En(fr,cr){return fr=ei(fr,cr),fr.index=0,fr.sibling=null,fr}function Rn(fr,cr,hr){return fr.index=hr,T?(hr=fr.alternate,hr!==null?(hr=hr.index,hr<cr?(fr.flags|=67108866,cr):hr):(fr.flags|=67108866,cr)):(fr.flags|=1048576,cr)}function Gn(fr){return T&&fr.alternate===null&&(fr.flags|=67108866),fr}function er(fr,cr,hr,br){return cr===null||cr.tag!==6?(cr=hc(hr,fr.mode,br),cr.return=fr,cr):(cr=En(cr,hr),cr.return=fr,cr)}function lr(fr,cr,hr,br){var kr=hr.type;return kr===Nn?vr(fr,cr,hr.props.children,br,hr.key):cr!==null&&(cr.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===Dn&&Mo(kr)===cr.type)?(cr=En(cr,hr.props),wc(cr,hr),cr.return=fr,cr):(cr=ti(hr.type,hr.key,hr.props,null,fr.mode,br),wc(cr,hr),cr.return=fr,cr)}function pr(fr,cr,hr,br){return cr===null||cr.tag!==4||cr.stateNode.containerInfo!==hr.containerInfo||cr.stateNode.implementation!==hr.implementation?(cr=hl(hr,fr.mode,br),cr.return=fr,cr):(cr=En(cr,hr.children||[]),cr.return=fr,cr)}function vr(fr,cr,hr,br,kr){return cr===null||cr.tag!==7?(cr=Ri(hr,fr.mode,br,kr),cr.return=fr,cr):(cr=En(cr,hr),cr.return=fr,cr)}function Er(fr,cr,hr){if(typeof cr=="string"&&cr!==""||typeof cr=="number"||typeof cr=="bigint")return cr=hc(""+cr,fr.mode,hr),cr.return=fr,cr;if(typeof cr=="object"&&cr!==null){switch(cr.$$typeof){case Cn:return hr=ti(cr.type,cr.key,cr.props,null,fr.mode,hr),wc(hr,cr),hr.return=fr,hr;case Sn:return cr=hl(cr,fr.mode,hr),cr.return=fr,cr;case Dn:return cr=Mo(cr),Er(fr,cr,hr)}if(Zn(cr)||Fn(cr))return cr=Ri(cr,fr.mode,hr,null),cr.return=fr,cr;if(typeof cr.then=="function")return Er(fr,Nu(cr),hr);if(cr.$$typeof===On)return Er(fr,Cu(fr,cr),hr);ju(fr,cr)}return null}function mr(fr,cr,hr,br){var kr=cr!==null?cr.key:null;if(typeof hr=="string"&&hr!==""||typeof hr=="number"||typeof hr=="bigint")return kr!==null?null:er(fr,cr,""+hr,br);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case Cn:return hr.key===kr?lr(fr,cr,hr,br):null;case Sn:return hr.key===kr?pr(fr,cr,hr,br):null;case Dn:return hr=Mo(hr),mr(fr,cr,hr,br)}if(Zn(hr)||Fn(hr))return kr!==null?null:vr(fr,cr,hr,br,null);if(typeof hr.then=="function")return mr(fr,cr,Nu(hr),br);if(hr.$$typeof===On)return mr(fr,cr,Cu(fr,hr),br);ju(fr,hr)}return null}function Ar(fr,cr,hr,br,kr){if(typeof br=="string"&&br!==""||typeof br=="number"||typeof br=="bigint")return fr=fr.get(hr)||null,er(cr,fr,""+br,kr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case Cn:return fr=fr.get(br.key===null?hr:br.key)||null,lr(cr,fr,br,kr);case Sn:return fr=fr.get(br.key===null?hr:br.key)||null,pr(cr,fr,br,kr);case Dn:return br=Mo(br),Ar(fr,cr,hr,br,kr)}if(Zn(br)||Fn(br))return fr=fr.get(hr)||null,vr(cr,fr,br,kr,null);if(typeof br.then=="function")return Ar(fr,cr,hr,Nu(br),kr);if(br.$$typeof===On)return Ar(fr,cr,hr,Cu(cr,br),kr);ju(cr,br)}return null}function Br(fr,cr,hr,br){for(var kr=null,ms=null,Tr=cr,Xr=cr=0,us=null;Tr!==null&&Xr<hr.length;Xr++){Tr.index>Xr?(us=Tr,Tr=null):us=Tr.sibling;var gs=mr(fr,Tr,hr[Xr],br);if(gs===null){Tr===null&&(Tr=us);break}T&&Tr&&gs.alternate===null&&cn(fr,Tr),cr=Rn(gs,cr,Xr),ms===null?kr=gs:ms.sibling=gs,ms=gs,Tr=us}if(Xr===hr.length)return fn(fr,Tr),_r&&qn(fr,Xr),kr;if(Tr===null){for(;Xr<hr.length;Xr++)Tr=Er(fr,hr[Xr],br),Tr!==null&&(cr=Rn(Tr,cr,Xr),ms===null?kr=Tr:ms.sibling=Tr,ms=Tr);return _r&&qn(fr,Xr),kr}for(Tr=pn(Tr);Xr<hr.length;Xr++)us=Ar(Tr,fr,Xr,hr[Xr],br),us!==null&&(T&&us.alternate!==null&&Tr.delete(us.key===null?Xr:us.key),cr=Rn(us,cr,Xr),ms===null?kr=us:ms.sibling=us,ms=us);return T&&Tr.forEach(function(wo){return cn(fr,wo)}),_r&&qn(fr,Xr),kr}function Ur(fr,cr,hr,br){if(hr==null)throw Error(an(151));for(var kr=null,ms=null,Tr=cr,Xr=cr=0,us=null,gs=hr.next();Tr!==null&&!gs.done;Xr++,gs=hr.next()){Tr.index>Xr?(us=Tr,Tr=null):us=Tr.sibling;var wo=mr(fr,Tr,gs.value,br);if(wo===null){Tr===null&&(Tr=us);break}T&&Tr&&wo.alternate===null&&cn(fr,Tr),cr=Rn(wo,cr,Xr),ms===null?kr=wo:ms.sibling=wo,ms=wo,Tr=us}if(gs.done)return fn(fr,Tr),_r&&qn(fr,Xr),kr;if(Tr===null){for(;!gs.done;Xr++,gs=hr.next())gs=Er(fr,gs.value,br),gs!==null&&(cr=Rn(gs,cr,Xr),ms===null?kr=gs:ms.sibling=gs,ms=gs);return _r&&qn(fr,Xr),kr}for(Tr=pn(Tr);!gs.done;Xr++,gs=hr.next())gs=Ar(Tr,fr,Xr,gs.value,br),gs!==null&&(T&&gs.alternate!==null&&Tr.delete(gs.key===null?Xr:gs.key),cr=Rn(gs,cr,Xr),ms===null?kr=gs:ms.sibling=gs,ms=gs);return T&&Tr.forEach(function(M1){return cn(fr,M1)}),_r&&qn(fr,Xr),kr}function Cs(fr,cr,hr,br){if(typeof hr=="object"&&hr!==null&&hr.type===Nn&&hr.key===null&&(hr=hr.props.children),typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case Cn:e:{for(var kr=hr.key;cr!==null;){if(cr.key===kr){if(kr=hr.type,kr===Nn){if(cr.tag===7){fn(fr,cr.sibling),br=En(cr,hr.props.children),br.return=fr,fr=br;break e}}else if(cr.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===Dn&&Mo(kr)===cr.type){fn(fr,cr.sibling),br=En(cr,hr.props),wc(br,hr),br.return=fr,fr=br;break e}fn(fr,cr);break}else cn(fr,cr);cr=cr.sibling}hr.type===Nn?(br=Ri(hr.props.children,fr.mode,br,hr.key),br.return=fr,fr=br):(br=ti(hr.type,hr.key,hr.props,null,fr.mode,br),wc(br,hr),br.return=fr,fr=br)}return Gn(fr);case Sn:e:{for(kr=hr.key;cr!==null;){if(cr.key===kr)if(cr.tag===4&&cr.stateNode.containerInfo===hr.containerInfo&&cr.stateNode.implementation===hr.implementation){fn(fr,cr.sibling),br=En(cr,hr.children||[]),br.return=fr,fr=br;break e}else{fn(fr,cr);break}else cn(fr,cr);cr=cr.sibling}br=hl(hr,fr.mode,br),br.return=fr,fr=br}return Gn(fr);case Dn:return hr=Mo(hr),Cs(fr,cr,hr,br)}if(Zn(hr))return Br(fr,cr,hr,br);if(Fn(hr)){if(kr=Fn(hr),typeof kr!="function")throw Error(an(150));return hr=kr.call(hr),Ur(fr,cr,hr,br)}if(typeof hr.then=="function")return Cs(fr,cr,Nu(hr),br);if(hr.$$typeof===On)return Cs(fr,cr,Cu(fr,hr),br);ju(fr,hr)}return typeof hr=="string"&&hr!==""||typeof hr=="number"||typeof hr=="bigint"?(hr=""+hr,cr!==null&&cr.tag===6?(fn(fr,cr.sibling),br=En(cr,hr),br.return=fr,fr=br):(fn(fr,cr),br=hc(hr,fr.mode,br),br.return=fr,fr=br),Gn(fr)):fn(fr,cr)}return function(fr,cr,hr,br){try{xc=0;var kr=Cs(fr,cr,hr,br);return vl=null,kr}catch(Tr){if(Tr===Al||Tr===Ru)throw Tr;var ms=ci(29,Tr,null,fr.mode);return ms.lanes=br,ms.return=fr,ms}}}var zo=Td(!0),Fd=Td(!1),eo=!1;function Vf(T){T.updateQueue={baseState:T.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(T,cn){T=T.updateQueue,cn.updateQueue===T&&(cn.updateQueue={baseState:T.baseState,firstBaseUpdate:T.firstBaseUpdate,lastBaseUpdate:T.lastBaseUpdate,shared:T.shared,callbacks:null})}function to(T){return{lane:T,tag:0,payload:null,callback:null,next:null}}function no(T,cn,fn){var pn=T.updateQueue;if(pn===null)return null;if(pn=pn.shared,(ws&2)!==0){var En=pn.pending;return En===null?cn.next=cn:(cn.next=En.next,En.next=cn),pn.pending=cn,cn=To(T),dl(T,null,fn),cn}return Za(T,pn,cn,fn),To(T)}function Ac(T,cn,fn){if(cn=cn.updateQueue,cn!==null&&(cn=cn.shared,(fn&4194048)!==0)){var pn=cn.lanes;pn&=T.pendingLanes,fn|=pn,cn.lanes=fn,Wr(T,fn)}}function e0(T,cn){var fn=T.updateQueue,pn=T.alternate;if(pn!==null&&(pn=pn.updateQueue,fn===pn)){var En=null,Rn=null;if(fn=fn.firstBaseUpdate,fn!==null){do{var Gn={lane:fn.lane,tag:fn.tag,payload:fn.payload,callback:null,next:null};Rn===null?En=Rn=Gn:Rn=Rn.next=Gn,fn=fn.next}while(fn!==null);Rn===null?En=Rn=cn:Rn=Rn.next=cn}else En=Rn=cn;fn={baseState:pn.baseState,firstBaseUpdate:En,lastBaseUpdate:Rn,shared:pn.shared,callbacks:pn.callbacks},T.updateQueue=fn;return}T=fn.lastBaseUpdate,T===null?fn.firstBaseUpdate=cn:T.next=cn,fn.lastBaseUpdate=cn}var t0=!1;function vc(){if(t0){var T=wl;if(T!==null)throw T}}function yc(T,cn,fn,pn){t0=!1;var En=T.updateQueue;eo=!1;var Rn=En.firstBaseUpdate,Gn=En.lastBaseUpdate,er=En.shared.pending;if(er!==null){En.shared.pending=null;var lr=er,pr=lr.next;lr.next=null,Gn===null?Rn=pr:Gn.next=pr,Gn=lr;var vr=T.alternate;vr!==null&&(vr=vr.updateQueue,er=vr.lastBaseUpdate,er!==Gn&&(er===null?vr.firstBaseUpdate=pr:er.next=pr,vr.lastBaseUpdate=lr))}if(Rn!==null){var Er=En.baseState;Gn=0,vr=pr=lr=null,er=Rn;do{var mr=er.lane&-536870913,Ar=mr!==er.lane;if(Ar?(cs&mr)===mr:(pn&mr)===mr){mr!==0&&mr===xl&&(t0=!0),vr!==null&&(vr=vr.next={lane:0,tag:er.tag,payload:er.payload,callback:null,next:null});e:{var Br=T,Ur=er;mr=cn;var Cs=fn;switch(Ur.tag){case 1:if(Br=Ur.payload,typeof Br=="function"){Er=Br.call(Cs,Er,mr);break e}Er=Br;break e;case 3:Br.flags=Br.flags&-65537|128;case 0:if(Br=Ur.payload,mr=typeof Br=="function"?Br.call(Cs,Er,mr):Br,mr==null)break e;Er=vn({},Er,mr);break e;case 2:eo=!0}}mr=er.callback,mr!==null&&(T.flags|=64,Ar&&(T.flags|=8192),Ar=En.callbacks,Ar===null?En.callbacks=[mr]:Ar.push(mr))}else Ar={lane:mr,tag:er.tag,payload:er.payload,callback:er.callback,next:null},vr===null?(pr=vr=Ar,lr=Er):vr=vr.next=Ar,Gn|=mr;if(er=er.next,er===null){if(er=En.shared.pending,er===null)break;Ar=er,er=Ar.next,Ar.next=null,En.lastBaseUpdate=Ar,En.shared.pending=null}}while(!0);vr===null&&(lr=Er),En.baseState=lr,En.firstBaseUpdate=pr,En.lastBaseUpdate=vr,Rn===null&&(En.shared.lanes=0),oo|=Gn,T.lanes=Gn,T.memoizedState=Er}}function kd(T,cn){if(typeof T!="function")throw Error(an(191,T));T.call(cn)}function Id(T,cn){var fn=T.callbacks;if(fn!==null)for(T.callbacks=null,T=0;T<fn.length;T++)kd(fn[T],cn)}var yl=Jn(null),Bu=Jn(0);function Md(T,cn){T=Ba,ar(Bu,T),ar(yl,cn),Ba=T|cn.baseLanes}function n0(){ar(Bu,Ba),ar(yl,yl.current)}function r0(){Ba=Bu.current,nr(yl),nr(Bu)}var Di=Jn(null),ki=null;function ro(T){var cn=T.alternate;ar($s,$s.current&1),ar(Di,T),ki===null&&(cn===null||yl.current!==null||cn.memoizedState!==null)&&(ki=T)}function s0(T){ar($s,$s.current),ar(Di,T),ki===null&&(ki=T)}function Ld(T){T.tag===22?(ar($s,$s.current),ar(Di,T),ki===null&&(ki=T)):so()}function so(){ar($s,$s.current),ar(Di,Di.current)}function Ni(T){nr(Di),ki===T&&(ki=null),nr($s)}var $s=Jn(0);function Ou(T){for(var cn=T;cn!==null;){if(cn.tag===13){var fn=cn.memoizedState;if(fn!==null&&(fn=fn.dehydrated,fn===null||dd(fn)||hd(fn)))return cn}else if(cn.tag===19&&(cn.memoizedProps.revealOrder==="forwards"||cn.memoizedProps.revealOrder==="backwards"||cn.memoizedProps.revealOrder==="unstable_legacy-backwards"||cn.memoizedProps.revealOrder==="together")){if((cn.flags&128)!==0)return cn}else if(cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===T)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===T)return null;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}return null}var ba=0,Vr=null,Es=null,Ys=null,Tu=!1,bl=!1,Uo=!1,Fu=0,bc=0,El=null,Rm=0;function zs(){throw Error(an(321))}function i0(T,cn){if(cn===null)return!1;for(var fn=0;fn<cn.length&&fn<T.length;fn++)if(!li(T[fn],cn[fn]))return!1;return!0}function a0(T,cn,fn,pn,En,Rn){return ba=Rn,Vr=cn,cn.memoizedState=null,cn.updateQueue=null,cn.lanes=0,Yn.H=T===null||T.memoizedState===null?bh:y0,Uo=!1,Rn=fn(pn,En),Uo=!1,bl&&(Rn=Ud(cn,fn,pn,En)),zd(T),Rn}function zd(T){Yn.H=Cc;var cn=Es!==null&&Es.next!==null;if(ba=0,Ys=Es=Vr=null,Tu=!1,bc=0,El=null,cn)throw Error(an(300));T===null||Js||(T=T.dependencies,T!==null&&Su(T)&&(Js=!0))}function Ud(T,cn,fn,pn){Vr=T;var En=0;do{if(bl&&(El=null),bc=0,bl=!1,25<=En)throw Error(an(301));if(En+=1,Ys=Es=null,T.updateQueue!=null){var Rn=T.updateQueue;Rn.lastEffect=null,Rn.events=null,Rn.stores=null,Rn.memoCache!=null&&(Rn.memoCache.index=0)}Yn.H=Eh,Rn=cn(fn,pn)}while(bl);return Rn}function Dm(){var T=Yn.H,cn=T.useState()[0];return cn=typeof cn.then=="function"?Ec(cn):cn,T=T.useState()[0],(Es!==null?Es.memoizedState:null)!==T&&(Vr.flags|=1024),cn}function o0(){var T=Fu!==0;return Fu=0,T}function l0(T,cn,fn){cn.updateQueue=T.updateQueue,cn.flags&=-2053,T.lanes&=~fn}function c0(T){if(Tu){for(T=T.memoizedState;T!==null;){var cn=T.queue;cn!==null&&(cn.pending=null),T=T.next}Tu=!1}ba=0,Ys=Es=Vr=null,bl=!1,bc=Fu=0,El=null}function ui(){var T={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ys===null?Vr.memoizedState=Ys=T:Ys=Ys.next=T,Ys}function Ps(){if(Es===null){var T=Vr.alternate;T=T!==null?T.memoizedState:null}else T=Es.next;var cn=Ys===null?Vr.memoizedState:Ys.next;if(cn!==null)Ys=cn,Es=T;else{if(T===null)throw Vr.alternate===null?Error(an(467)):Error(an(310));Es=T,T={memoizedState:Es.memoizedState,baseState:Es.baseState,baseQueue:Es.baseQueue,queue:Es.queue,next:null},Ys===null?Vr.memoizedState=Ys=T:Ys=Ys.next=T}return Ys}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(T){var cn=bc;return bc+=1,El===null&&(El=[]),T=jd(El,T,cn),cn=Vr,(Ys===null?cn.memoizedState:Ys.next)===null&&(cn=cn.alternate,Yn.H=cn===null||cn.memoizedState===null?bh:y0),T}function Iu(T){if(T!==null&&typeof T=="object"){if(typeof T.then=="function")return Ec(T);if(T.$$typeof===On)return ni(T)}throw Error(an(438,String(T)))}function u0(T){var cn=null,fn=Vr.updateQueue;if(fn!==null&&(cn=fn.memoCache),cn==null){var pn=Vr.alternate;pn!==null&&(pn=pn.updateQueue,pn!==null&&(pn=pn.memoCache,pn!=null&&(cn={data:pn.data.map(function(En){return En.slice()}),index:0})))}if(cn==null&&(cn={data:[],index:0}),fn===null&&(fn=ku(),Vr.updateQueue=fn),fn.memoCache=cn,fn=cn.data[cn.index],fn===void 0)for(fn=cn.data[cn.index]=Array(T),pn=0;pn<T;pn++)fn[pn]=Ln;return cn.index++,fn}function Ea(T,cn){return typeof cn=="function"?cn(T):cn}function Mu(T){var cn=Ps();return f0(cn,Es,T)}function f0(T,cn,fn){var pn=T.queue;if(pn===null)throw Error(an(311));pn.lastRenderedReducer=fn;var En=T.baseQueue,Rn=pn.pending;if(Rn!==null){if(En!==null){var Gn=En.next;En.next=Rn.next,Rn.next=Gn}cn.baseQueue=En=Rn,pn.pending=null}if(Rn=T.baseState,En===null)T.memoizedState=Rn;else{cn=En.next;var er=Gn=null,lr=null,pr=cn,vr=!1;do{var Er=pr.lane&-536870913;if(Er!==pr.lane?(cs&Er)===Er:(ba&Er)===Er){var mr=pr.revertLane;if(mr===0)lr!==null&&(lr=lr.next={lane:0,revertLane:0,gesture:null,action:pr.action,hasEagerState:pr.hasEagerState,eagerState:pr.eagerState,next:null}),Er===xl&&(vr=!0);else if((ba&mr)===mr){pr=pr.next,mr===xl&&(vr=!0);continue}else Er={lane:0,revertLane:pr.revertLane,gesture:null,action:pr.action,hasEagerState:pr.hasEagerState,eagerState:pr.eagerState,next:null},lr===null?(er=lr=Er,Gn=Rn):lr=lr.next=Er,Vr.lanes|=mr,oo|=mr;Er=pr.action,Uo&&fn(Rn,Er),Rn=pr.hasEagerState?pr.eagerState:fn(Rn,Er)}else mr={lane:Er,revertLane:pr.revertLane,gesture:pr.gesture,action:pr.action,hasEagerState:pr.hasEagerState,eagerState:pr.eagerState,next:null},lr===null?(er=lr=mr,Gn=Rn):lr=lr.next=mr,Vr.lanes|=Er,oo|=Er;pr=pr.next}while(pr!==null&&pr!==cn);if(lr===null?Gn=Rn:lr.next=er,!li(Rn,T.memoizedState)&&(Js=!0,vr&&(fn=wl,fn!==null)))throw fn;T.memoizedState=Rn,T.baseState=Gn,T.baseQueue=lr,pn.lastRenderedState=Rn}return En===null&&(pn.lanes=0),[T.memoizedState,pn.dispatch]}function d0(T){var cn=Ps(),fn=cn.queue;if(fn===null)throw Error(an(311));fn.lastRenderedReducer=T;var pn=fn.dispatch,En=fn.pending,Rn=cn.memoizedState;if(En!==null){fn.pending=null;var Gn=En=En.next;do Rn=T(Rn,Gn.action),Gn=Gn.next;while(Gn!==En);li(Rn,cn.memoizedState)||(Js=!0),cn.memoizedState=Rn,cn.baseQueue===null&&(cn.baseState=Rn),fn.lastRenderedState=Rn}return[Rn,pn]}function Hd(T,cn,fn){var pn=Vr,En=Ps(),Rn=_r;if(Rn){if(fn===void 0)throw Error(an(407));fn=fn()}else fn=cn();var Gn=!li((Es||En).memoizedState,fn);if(Gn&&(En.memoizedState=fn,Js=!0),En=En.queue,m0(Wd.bind(null,pn,En,T),[T]),En.getSnapshot!==cn||Gn||Ys!==null&&Ys.memoizedState.tag&1){if(pn.flags|=2048,Sl(9,{destroy:void 0},Pd.bind(null,pn,En,fn,cn),null),Ds===null)throw Error(an(349));Rn||(ba&127)!==0||$d(pn,cn,fn)}return fn}function $d(T,cn,fn){T.flags|=16384,T={getSnapshot:cn,value:fn},cn=Vr.updateQueue,cn===null?(cn=ku(),Vr.updateQueue=cn,cn.stores=[T]):(fn=cn.stores,fn===null?cn.stores=[T]:fn.push(T))}function Pd(T,cn,fn,pn){cn.value=fn,cn.getSnapshot=pn,Gd(cn)&&qd(T)}function Wd(T,cn,fn){return fn(function(){Gd(cn)&&qd(T)})}function Gd(T){var cn=T.getSnapshot;T=T.value;try{var fn=cn();return!li(T,fn)}catch{return!0}}function qd(T){var cn=wa(T,2);cn!==null&&bi(cn,T,2)}function h0(T){var cn=ui();if(typeof T=="function"){var fn=T;if(T=fn(),Uo){Ei(!0);try{fn()}finally{Ei(!1)}}}return cn.memoizedState=cn.baseState=T,cn.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:T},cn}function Yd(T,cn,fn,pn){return T.baseState=fn,f0(T,Es,typeof pn=="function"?pn:Ea)}function Nm(T,cn,fn,pn,En){if(Uu(T))throw Error(an(485));if(T=cn.action,T!==null){var Rn={payload:En,action:T,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Gn){Rn.listeners.push(Gn)}};Yn.T!==null?fn(!0):Rn.isTransition=!1,pn(Rn),fn=cn.pending,fn===null?(Rn.next=cn.pending=Rn,Jd(cn,Rn)):(Rn.next=fn.next,cn.pending=fn.next=Rn)}}function Jd(T,cn){var fn=cn.action,pn=cn.payload,En=T.state;if(cn.isTransition){var Rn=Yn.T,Gn={};Yn.T=Gn;try{var er=fn(En,pn),lr=Yn.S;lr!==null&&lr(Gn,er),Qd(T,cn,er)}catch(pr){p0(T,cn,pr)}finally{Rn!==null&&Gn.types!==null&&(Rn.types=Gn.types),Yn.T=Rn}}else try{Rn=fn(En,pn),Qd(T,cn,Rn)}catch(pr){p0(T,cn,pr)}}function Qd(T,cn,fn){fn!==null&&typeof fn=="object"&&typeof fn.then=="function"?fn.then(function(pn){Kd(T,cn,pn)},function(pn){return p0(T,cn,pn)}):Kd(T,cn,fn)}function Kd(T,cn,fn){cn.status="fulfilled",cn.value=fn,Zd(cn),T.state=fn,cn=T.pending,cn!==null&&(fn=cn.next,fn===cn?T.pending=null:(fn=fn.next,cn.next=fn,Jd(T,fn)))}function p0(T,cn,fn){var pn=T.pending;if(T.pending=null,pn!==null){pn=pn.next;do cn.status="rejected",cn.reason=fn,Zd(cn),cn=cn.next;while(cn!==pn)}T.action=null}function Zd(T){T=T.listeners;for(var cn=0;cn<T.length;cn++)(0,T[cn])()}function Vd(T,cn){return cn}function Xd(T,cn){if(_r){var fn=Ds.formState;if(fn!==null){e:{var pn=Vr;if(_r){if(Sr){t:{for(var En=Sr,Rn=Rr;En.nodeType!==8;){if(!Rn){En=null;break t}if(En=Ii(En.nextSibling),En===null){En=null;break t}}Rn=En.data,En=Rn==="F!"||Rn==="F"?En:null}if(En){Sr=Ii(En.nextSibling),pn=En.data==="F!";break e}}rs(pn)}pn=!1}pn&&(cn=fn[0])}}return fn=ui(),fn.memoizedState=fn.baseState=cn,pn={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:cn},fn.queue=pn,fn=Ah.bind(null,Vr,pn),pn.dispatch=fn,pn=h0(!1),Rn=v0.bind(null,Vr,!1,pn.queue),pn=ui(),En={state:cn,dispatch:null,action:T,pending:null},pn.queue=En,fn=Nm.bind(null,Vr,En,Rn,fn),En.dispatch=fn,pn.memoizedState=T,[cn,fn,!1]}function eh(T){var cn=Ps();return th(cn,Es,T)}function th(T,cn,fn){if(cn=f0(T,cn,Vd)[0],T=Mu(Ea)[0],typeof cn=="object"&&cn!==null&&typeof cn.then=="function")try{var pn=Ec(cn)}catch(Gn){throw Gn===Al?Ru:Gn}else pn=cn;cn=Ps();var En=cn.queue,Rn=En.dispatch;return fn!==cn.memoizedState&&(Vr.flags|=2048,Sl(9,{destroy:void 0},jm.bind(null,En,fn),null)),[pn,Rn,T]}function jm(T,cn){T.action=cn}function nh(T){var cn=Ps(),fn=Es;if(fn!==null)return th(cn,fn,T);Ps(),cn=cn.memoizedState,fn=Ps();var pn=fn.queue.dispatch;return fn.memoizedState=T,[cn,pn,!1]}function Sl(T,cn,fn,pn){return T={tag:T,create:fn,deps:pn,inst:cn,next:null},cn=Vr.updateQueue,cn===null&&(cn=ku(),Vr.updateQueue=cn),fn=cn.lastEffect,fn===null?cn.lastEffect=T.next=T:(pn=fn.next,fn.next=T,T.next=pn,cn.lastEffect=T),T}function rh(){return Ps().memoizedState}function Lu(T,cn,fn,pn){var En=ui();Vr.flags|=T,En.memoizedState=Sl(1|cn,{destroy:void 0},fn,pn===void 0?null:pn)}function zu(T,cn,fn,pn){var En=Ps();pn=pn===void 0?null:pn;var Rn=En.memoizedState.inst;Es!==null&&pn!==null&&i0(pn,Es.memoizedState.deps)?En.memoizedState=Sl(cn,Rn,fn,pn):(Vr.flags|=T,En.memoizedState=Sl(1|cn,Rn,fn,pn))}function sh(T,cn){Lu(8390656,8,T,cn)}function m0(T,cn){zu(2048,8,T,cn)}function Bm(T){Vr.flags|=4;var cn=Vr.updateQueue;if(cn===null)cn=ku(),Vr.updateQueue=cn,cn.events=[T];else{var fn=cn.events;fn===null?cn.events=[T]:fn.push(T)}}function ih(T){var cn=Ps().memoizedState;return Bm({ref:cn,nextImpl:T}),function(){if((ws&2)!==0)throw Error(an(440));return cn.impl.apply(void 0,arguments)}}function ah(T,cn){return zu(4,2,T,cn)}function oh(T,cn){return zu(4,4,T,cn)}function lh(T,cn){if(typeof cn=="function"){T=T();var fn=cn(T);return function(){typeof fn=="function"?fn():cn(null)}}if(cn!=null)return T=T(),cn.current=T,function(){cn.current=null}}function uh(T,cn,fn){fn=fn!=null?fn.concat([T]):null,zu(4,4,lh.bind(null,cn,T),fn)}function g0(){}function fh(T,cn){var fn=Ps();cn=cn===void 0?null:cn;var pn=fn.memoizedState;return cn!==null&&i0(cn,pn[1])?pn[0]:(fn.memoizedState=[T,cn],T)}function dh(T,cn){var fn=Ps();cn=cn===void 0?null:cn;var pn=fn.memoizedState;if(cn!==null&&i0(cn,pn[1]))return pn[0];if(pn=T(),Uo){Ei(!0);try{T()}finally{Ei(!1)}}return fn.memoizedState=[pn,cn],pn}function x0(T,cn,fn){return fn===void 0||(ba&1073741824)!==0&&(cs&261930)===0?T.memoizedState=cn:(T.memoizedState=fn,T=pp(),Vr.lanes|=T,oo|=T,fn)}function hh(T,cn,fn,pn){return li(fn,cn)?fn:yl.current!==null?(T=x0(T,fn,pn),li(T,cn)||(Js=!0),T):(ba&42)===0||(ba&1073741824)!==0&&(cs&261930)===0?(Js=!0,T.memoizedState=fn):(T=pp(),Vr.lanes|=T,oo|=T,cn)}function ph(T,cn,fn,pn,En){var Rn=Qn.p;Qn.p=Rn!==0&&8>Rn?Rn:8;var Gn=Yn.T,er={};Yn.T=er,v0(T,!1,cn,fn);try{var lr=En(),pr=Yn.S;if(pr!==null&&pr(er,lr),lr!==null&&typeof lr=="object"&&typeof lr.then=="function"){var vr=_m(lr,pn);Sc(T,cn,vr,Oi(T))}else Sc(T,cn,pn,Oi(T))}catch(Er){Sc(T,cn,{then:function(){},status:"rejected",reason:Er},Oi())}finally{Qn.p=Rn,Gn!==null&&er.types!==null&&(Gn.types=er.types),Yn.T=Gn}}function Om(){}function w0(T,cn,fn,pn){if(T.tag!==5)throw Error(an(476));var En=mh(T).queue;ph(T,En,cn,Xn,fn===null?Om:function(){return gh(T),fn(pn)})}function mh(T){var cn=T.memoizedState;if(cn!==null)return cn;cn={memoizedState:Xn,baseState:Xn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Xn},next:null};var fn={};return cn.next={memoizedState:fn,baseState:fn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:fn},next:null},T.memoizedState=cn,T=T.alternate,T!==null&&(T.memoizedState=cn),cn}function gh(T){var cn=mh(T);cn.next===null&&(cn=T.alternate.memoizedState),Sc(T,cn.next.queue,{},Oi())}function A0(){return ni(Hc)}function xh(){return Ps().memoizedState}function wh(){return Ps().memoizedState}function Tm(T){for(var cn=T.return;cn!==null;){switch(cn.tag){case 24:case 3:var fn=Oi();T=to(fn);var pn=no(cn,T,fn);pn!==null&&(bi(pn,cn,fn),Ac(pn,cn,fn)),cn={cache:Jf()},T.payload=cn;return}cn=cn.return}}function Fm(T,cn,fn){var pn=Oi();fn={lane:pn,revertLane:0,gesture:null,action:fn,hasEagerState:!1,eagerState:null,next:null},Uu(T)?vh(cn,fn):(fn=dc(T,cn,fn,pn),fn!==null&&(bi(fn,T,pn),yh(fn,cn,pn)))}function Ah(T,cn,fn){var pn=Oi();Sc(T,cn,fn,pn)}function Sc(T,cn,fn,pn){var En={lane:pn,revertLane:0,gesture:null,action:fn,hasEagerState:!1,eagerState:null,next:null};if(Uu(T))vh(cn,En);else{var Rn=T.alternate;if(T.lanes===0&&(Rn===null||Rn.lanes===0)&&(Rn=cn.lastRenderedReducer,Rn!==null))try{var Gn=cn.lastRenderedState,er=Rn(Gn,fn);if(En.hasEagerState=!0,En.eagerState=er,li(er,Gn))return Za(T,cn,En,0),Ds===null&&xa(),!1}catch{}if(fn=dc(T,cn,En,pn),fn!==null)return bi(fn,T,pn),yh(fn,cn,pn),!0}return!1}function v0(T,cn,fn,pn){if(pn={lane:2,revertLane:V0(),gesture:null,action:pn,hasEagerState:!1,eagerState:null,next:null},Uu(T)){if(cn)throw Error(an(479))}else cn=dc(T,fn,pn,2),cn!==null&&bi(cn,T,2)}function Uu(T){var cn=T.alternate;return T===Vr||cn!==null&&cn===Vr}function vh(T,cn){bl=Tu=!0;var fn=T.pending;fn===null?cn.next=cn:(cn.next=fn.next,fn.next=cn),T.pending=cn}function yh(T,cn,fn){if((fn&4194048)!==0){var pn=cn.lanes;pn&=T.pendingLanes,fn|=pn,cn.lanes=fn,Wr(T,fn)}}var Cc={readContext:ni,use:Iu,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useLayoutEffect:zs,useInsertionEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useSyncExternalStore:zs,useId:zs,useHostTransitionStatus:zs,useFormState:zs,useActionState:zs,useOptimistic:zs,useMemoCache:zs,useCacheRefresh:zs};Cc.useEffectEvent=zs;var bh={readContext:ni,use:Iu,useCallback:function(T,cn){return ui().memoizedState=[T,cn===void 0?null:cn],T},useContext:ni,useEffect:sh,useImperativeHandle:function(T,cn,fn){fn=fn!=null?fn.concat([T]):null,Lu(4194308,4,lh.bind(null,cn,T),fn)},useLayoutEffect:function(T,cn){return Lu(4194308,4,T,cn)},useInsertionEffect:function(T,cn){Lu(4,2,T,cn)},useMemo:function(T,cn){var fn=ui();cn=cn===void 0?null:cn;var pn=T();if(Uo){Ei(!0);try{T()}finally{Ei(!1)}}return fn.memoizedState=[pn,cn],pn},useReducer:function(T,cn,fn){var pn=ui();if(fn!==void 0){var En=fn(cn);if(Uo){Ei(!0);try{fn(cn)}finally{Ei(!1)}}}else En=cn;return pn.memoizedState=pn.baseState=En,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T,lastRenderedState:En},pn.queue=T,T=T.dispatch=Fm.bind(null,Vr,T),[pn.memoizedState,T]},useRef:function(T){var cn=ui();return T={current:T},cn.memoizedState=T},useState:function(T){T=h0(T);var cn=T.queue,fn=Ah.bind(null,Vr,cn);return cn.dispatch=fn,[T.memoizedState,fn]},useDebugValue:g0,useDeferredValue:function(T,cn){var fn=ui();return x0(fn,T,cn)},useTransition:function(){var T=h0(!1);return T=ph.bind(null,Vr,T.queue,!0,!1),ui().memoizedState=T,[!1,T]},useSyncExternalStore:function(T,cn,fn){var pn=Vr,En=ui();if(_r){if(fn===void 0)throw Error(an(407));fn=fn()}else{if(fn=cn(),Ds===null)throw Error(an(349));(cs&127)!==0||$d(pn,cn,fn)}En.memoizedState=fn;var Rn={value:fn,getSnapshot:cn};return En.queue=Rn,sh(Wd.bind(null,pn,Rn,T),[T]),pn.flags|=2048,Sl(9,{destroy:void 0},Pd.bind(null,pn,Rn,fn,cn),null),fn},useId:function(){var T=ui(),cn=Ds.identifierPrefix;if(_r){var fn=kn,pn=_n;fn=(pn&~(1<<32-Is(pn)-1)).toString(32)+fn,cn="_"+cn+"R_"+fn,fn=Fu++,0<fn&&(cn+="H"+fn.toString(32)),cn+="_"}else fn=Rm++,cn="_"+cn+"r_"+fn.toString(32)+"_";return T.memoizedState=cn},useHostTransitionStatus:A0,useFormState:Xd,useActionState:Xd,useOptimistic:function(T){var cn=ui();cn.memoizedState=cn.baseState=T;var fn={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return cn.queue=fn,cn=v0.bind(null,Vr,!0,fn),fn.dispatch=cn,[T,cn]},useMemoCache:u0,useCacheRefresh:function(){return ui().memoizedState=Tm.bind(null,Vr)},useEffectEvent:function(T){var cn=ui(),fn={impl:T};return cn.memoizedState=fn,function(){if((ws&2)!==0)throw Error(an(440));return fn.impl.apply(void 0,arguments)}}},y0={readContext:ni,use:Iu,useCallback:fh,useContext:ni,useEffect:m0,useImperativeHandle:uh,useInsertionEffect:ah,useLayoutEffect:oh,useMemo:dh,useReducer:Mu,useRef:rh,useState:function(){return Mu(Ea)},useDebugValue:g0,useDeferredValue:function(T,cn){var fn=Ps();return hh(fn,Es.memoizedState,T,cn)},useTransition:function(){var T=Mu(Ea)[0],cn=Ps().memoizedState;return[typeof T=="boolean"?T:Ec(T),cn]},useSyncExternalStore:Hd,useId:xh,useHostTransitionStatus:A0,useFormState:eh,useActionState:eh,useOptimistic:function(T,cn){var fn=Ps();return Yd(fn,Es,T,cn)},useMemoCache:u0,useCacheRefresh:wh};y0.useEffectEvent=ih;var Eh={readContext:ni,use:Iu,useCallback:fh,useContext:ni,useEffect:m0,useImperativeHandle:uh,useInsertionEffect:ah,useLayoutEffect:oh,useMemo:dh,useReducer:d0,useRef:rh,useState:function(){return d0(Ea)},useDebugValue:g0,useDeferredValue:function(T,cn){var fn=Ps();return Es===null?x0(fn,T,cn):hh(fn,Es.memoizedState,T,cn)},useTransition:function(){var T=d0(Ea)[0],cn=Ps().memoizedState;return[typeof T=="boolean"?T:Ec(T),cn]},useSyncExternalStore:Hd,useId:xh,useHostTransitionStatus:A0,useFormState:nh,useActionState:nh,useOptimistic:function(T,cn){var fn=Ps();return Es!==null?Yd(fn,Es,T,cn):(fn.baseState=T,[T,fn.queue.dispatch])},useMemoCache:u0,useCacheRefresh:wh};Eh.useEffectEvent=ih;function b0(T,cn,fn,pn){cn=T.memoizedState,fn=fn(pn,cn),fn=fn==null?cn:vn({},cn,fn),T.memoizedState=fn,T.lanes===0&&(T.updateQueue.baseState=fn)}var E0={enqueueSetState:function(T,cn,fn){T=T._reactInternals;var pn=Oi(),En=to(pn);En.payload=cn,fn!=null&&(En.callback=fn),cn=no(T,En,pn),cn!==null&&(bi(cn,T,pn),Ac(cn,T,pn))},enqueueReplaceState:function(T,cn,fn){T=T._reactInternals;var pn=Oi(),En=to(pn);En.tag=1,En.payload=cn,fn!=null&&(En.callback=fn),cn=no(T,En,pn),cn!==null&&(bi(cn,T,pn),Ac(cn,T,pn))},enqueueForceUpdate:function(T,cn){T=T._reactInternals;var fn=Oi(),pn=to(fn);pn.tag=2,cn!=null&&(pn.callback=cn),cn=no(T,pn,fn),cn!==null&&(bi(cn,T,fn),Ac(cn,T,fn))}};function Sh(T,cn,fn,pn,En,Rn,Gn){return T=T.stateNode,typeof T.shouldComponentUpdate=="function"?T.shouldComponentUpdate(pn,Rn,Gn):cn.prototype&&cn.prototype.isPureReactComponent?!jo(fn,pn)||!jo(En,Rn):!0}function Ch(T,cn,fn,pn){T=cn.state,typeof cn.componentWillReceiveProps=="function"&&cn.componentWillReceiveProps(fn,pn),typeof cn.UNSAFE_componentWillReceiveProps=="function"&&cn.UNSAFE_componentWillReceiveProps(fn,pn),cn.state!==T&&E0.enqueueReplaceState(cn,cn.state,null)}function Ho(T,cn){var fn=cn;if("ref"in cn){fn={};for(var pn in cn)pn!=="ref"&&(fn[pn]=cn[pn])}if(T=T.defaultProps){fn===cn&&(fn=vn({},fn));for(var En in T)fn[En]===void 0&&(fn[En]=T[En])}return fn}function _h(T){ma(T)}function Rh(T){console.error(T)}function Dh(T){ma(T)}function Hu(T,cn){try{var fn=T.onUncaughtError;fn(cn.value,{componentStack:cn.stack})}catch(pn){setTimeout(function(){throw pn})}}function Nh(T,cn,fn){try{var pn=T.onCaughtError;pn(fn.value,{componentStack:fn.stack,errorBoundary:cn.tag===1?cn.stateNode:null})}catch(En){setTimeout(function(){throw En})}}function S0(T,cn,fn){return fn=to(fn),fn.tag=3,fn.payload={element:null},fn.callback=function(){Hu(T,cn)},fn}function jh(T){return T=to(T),T.tag=3,T}function Bh(T,cn,fn,pn){var En=fn.type.getDerivedStateFromError;if(typeof En=="function"){var Rn=pn.value;T.payload=function(){return En(Rn)},T.callback=function(){Nh(cn,fn,pn)}}var Gn=fn.stateNode;Gn!==null&&typeof Gn.componentDidCatch=="function"&&(T.callback=function(){Nh(cn,fn,pn),typeof En!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var er=pn.stack;this.componentDidCatch(pn.value,{componentStack:er!==null?er:""})})}function km(T,cn,fn,pn,En){if(fn.flags|=32768,pn!==null&&typeof pn=="object"&&typeof pn.then=="function"){if(cn=fn.alternate,cn!==null&&gl(cn,fn,En,!0),fn=Di.current,fn!==null){switch(fn.tag){case 31:case 13:return ki===null?Xu():fn.alternate===null&&Us===0&&(Us=3),fn.flags&=-257,fn.flags|=65536,fn.lanes=En,pn===Du?fn.flags|=16384:(cn=fn.updateQueue,cn===null?fn.updateQueue=new Set([pn]):cn.add(pn),Q0(T,pn,En)),!1;case 22:return fn.flags|=65536,pn===Du?fn.flags|=16384:(cn=fn.updateQueue,cn===null?(cn={transitions:null,markerInstances:null,retryQueue:new Set([pn])},fn.updateQueue=cn):(fn=cn.retryQueue,fn===null?cn.retryQueue=new Set([pn]):fn.add(pn)),Q0(T,pn,En)),!1}throw Error(an(435,fn.tag))}return Q0(T,pn,En),Xu(),!1}if(_r)return cn=Di.current,cn!==null?((cn.flags&65536)===0&&(cn.flags|=256),cn.flags|=65536,cn.lanes=En,pn!==qr&&(T=Error(an(422),{cause:pn}),zr(mi(T,fn)))):(pn!==qr&&(cn=Error(an(423),{cause:pn}),zr(mi(cn,fn))),T=T.current.alternate,T.flags|=65536,En&=-En,T.lanes|=En,pn=mi(pn,fn),En=S0(T.stateNode,pn,En),e0(T,En),Us!==4&&(Us=2)),!1;var Rn=Error(an(520),{cause:pn});if(Rn=mi(Rn,fn),Tc===null?Tc=[Rn]:Tc.push(Rn),Us!==4&&(Us=2),cn===null)return!0;pn=mi(pn,fn),fn=cn;do{switch(fn.tag){case 3:return fn.flags|=65536,T=En&-En,fn.lanes|=T,T=S0(fn.stateNode,pn,T),e0(fn,T),!1;case 1:if(cn=fn.type,Rn=fn.stateNode,(fn.flags&128)===0&&(typeof cn.getDerivedStateFromError=="function"||Rn!==null&&typeof Rn.componentDidCatch=="function"&&(lo===null||!lo.has(Rn))))return fn.flags|=65536,En&=-En,fn.lanes|=En,En=jh(En),Bh(En,T,fn,pn),e0(fn,En),!1}fn=fn.return}while(fn!==null);return!1}var C0=Error(an(461)),Js=!1;function ri(T,cn,fn,pn){cn.child=T===null?Fd(cn,null,fn,pn):zo(cn,T.child,fn,pn)}function Oh(T,cn,fn,pn,En){fn=fn.render;var Rn=cn.ref;if("ref"in pn){var Gn={};for(var er in pn)er!=="ref"&&(Gn[er]=pn[er])}else Gn=pn;return ko(cn),pn=a0(T,cn,fn,Gn,Rn,En),er=o0(),T!==null&&!Js?(l0(T,cn,En),Sa(T,cn,En)):(_r&&er&&tr(cn),cn.flags|=1,ri(T,cn,pn,En),cn.child)}function Th(T,cn,fn,pn,En){if(T===null){var Rn=fn.type;return typeof Rn=="function"&&!Va(Rn)&&Rn.defaultProps===void 0&&fn.compare===null?(cn.tag=15,cn.type=Rn,Fh(T,cn,Rn,pn,En)):(T=ti(fn.type,null,pn,cn,cn.mode,En),T.ref=cn.ref,T.return=cn,cn.child=T)}if(Rn=T.child,!T0(T,En)){var Gn=Rn.memoizedProps;if(fn=fn.compare,fn=fn!==null?fn:jo,fn(Gn,pn)&&T.ref===cn.ref)return Sa(T,cn,En)}return cn.flags|=1,T=ei(Rn,pn),T.ref=cn.ref,T.return=cn,cn.child=T}function Fh(T,cn,fn,pn,En){if(T!==null){var Rn=T.memoizedProps;if(jo(Rn,pn)&&T.ref===cn.ref)if(Js=!1,cn.pendingProps=pn=Rn,T0(T,En))(T.flags&131072)!==0&&(Js=!0);else return cn.lanes=T.lanes,Sa(T,cn,En)}return _0(T,cn,fn,pn,En)}function kh(T,cn,fn,pn){var En=pn.children,Rn=T!==null?T.memoizedState:null;if(T===null&&cn.stateNode===null&&(cn.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),pn.mode==="hidden"){if((cn.flags&128)!==0){if(Rn=Rn!==null?Rn.baseLanes|fn:fn,T!==null){for(pn=cn.child=T.child,En=0;pn!==null;)En=En|pn.lanes|pn.childLanes,pn=pn.sibling;pn=En&~Rn}else pn=0,cn.child=null;return Ih(T,cn,Rn,fn,pn)}if((fn&536870912)!==0)cn.memoizedState={baseLanes:0,cachePool:null},T!==null&&_u(cn,Rn!==null?Rn.cachePool:null),Rn!==null?Md(cn,Rn):n0(),Ld(cn);else return pn=cn.lanes=536870912,Ih(T,cn,Rn!==null?Rn.baseLanes|fn:fn,fn,pn)}else Rn!==null?(_u(cn,Rn.cachePool),Md(cn,Rn),so(),cn.memoizedState=null):(T!==null&&_u(cn,null),n0(),so());return ri(T,cn,En,fn),cn.child}function _c(T,cn){return T!==null&&T.tag===22||cn.stateNode!==null||(cn.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),cn.sibling}function Ih(T,cn,fn,pn,En){var Rn=Kf();return Rn=Rn===null?null:{parent:qs._currentValue,pool:Rn},cn.memoizedState={baseLanes:fn,cachePool:Rn},T!==null&&_u(cn,null),n0(),Ld(cn),T!==null&&gl(T,cn,pn,!0),cn.childLanes=En,null}function $u(T,cn){return cn=Wu({mode:cn.mode,children:cn.children},T.mode),cn.ref=T.ref,T.child=cn,cn.return=T,cn}function Mh(T,cn,fn){return zo(cn,T.child,null,fn),T=$u(cn,cn.pendingProps),T.flags|=2,Ni(cn),cn.memoizedState=null,T}function Im(T,cn,fn){var pn=cn.pendingProps,En=(cn.flags&128)!==0;if(cn.flags&=-129,T===null){if(_r){if(pn.mode==="hidden")return T=$u(cn,pn),cn.lanes=536870912,_c(null,T);if(s0(cn),(T=Sr)?(T=Kp(T,Rr),T=T!==null&&T.data==="&"?T:null,T!==null&&(cn.memoizedState={dehydrated:T,treeContext:bn!==null?{id:_n,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},fn=bu(T),fn.return=cn,cn.child=fn,wr=cn,Sr=null)):T=null,T===null)throw rs(cn);return cn.lanes=536870912,null}return $u(cn,pn)}var Rn=T.memoizedState;if(Rn!==null){var Gn=Rn.dehydrated;if(s0(cn),En)if(cn.flags&256)cn.flags&=-257,cn=Mh(T,cn,fn);else if(cn.memoizedState!==null)cn.child=T.child,cn.flags|=128,cn=null;else throw Error(an(558));else if(Js||gl(T,cn,fn,!1),En=(fn&T.childLanes)!==0,Js||En){if(pn=Ds,pn!==null&&(Gn=Rs(pn,fn),Gn!==0&&Gn!==Rn.retryLane))throw Rn.retryLane=Gn,wa(T,Gn),bi(pn,T,Gn),C0;Xu(),cn=Mh(T,cn,fn)}else T=Rn.treeContext,Sr=Ii(Gn.nextSibling),wr=cn,_r=!0,yr=null,Rr=!1,T!==null&&ur(cn,T),cn=$u(cn,pn),cn.flags|=4096;return cn}return T=ei(T.child,{mode:pn.mode,children:pn.children}),T.ref=cn.ref,cn.child=T,T.return=cn,T}function Pu(T,cn){var fn=cn.ref;if(fn===null)T!==null&&T.ref!==null&&(cn.flags|=4194816);else{if(typeof fn!="function"&&typeof fn!="object")throw Error(an(284));(T===null||T.ref!==fn)&&(cn.flags|=4194816)}}function _0(T,cn,fn,pn,En){return ko(cn),fn=a0(T,cn,fn,pn,void 0,En),pn=o0(),T!==null&&!Js?(l0(T,cn,En),Sa(T,cn,En)):(_r&&pn&&tr(cn),cn.flags|=1,ri(T,cn,fn,En),cn.child)}function Lh(T,cn,fn,pn,En,Rn){return ko(cn),cn.updateQueue=null,fn=Ud(cn,pn,fn,En),zd(T),pn=o0(),T!==null&&!Js?(l0(T,cn,Rn),Sa(T,cn,Rn)):(_r&&pn&&tr(cn),cn.flags|=1,ri(T,cn,fn,Rn),cn.child)}function Uh(T,cn,fn,pn,En){if(ko(cn),cn.stateNode===null){var Rn=Aa,Gn=fn.contextType;typeof Gn=="object"&&Gn!==null&&(Rn=ni(Gn)),Rn=new fn(pn,Rn),cn.memoizedState=Rn.state!==null&&Rn.state!==void 0?Rn.state:null,Rn.updater=E0,cn.stateNode=Rn,Rn._reactInternals=cn,Rn=cn.stateNode,Rn.props=pn,Rn.state=cn.memoizedState,Rn.refs={},Vf(cn),Gn=fn.contextType,Rn.context=typeof Gn=="object"&&Gn!==null?ni(Gn):Aa,Rn.state=cn.memoizedState,Gn=fn.getDerivedStateFromProps,typeof Gn=="function"&&(b0(cn,fn,Gn,pn),Rn.state=cn.memoizedState),typeof fn.getDerivedStateFromProps=="function"||typeof Rn.getSnapshotBeforeUpdate=="function"||typeof Rn.UNSAFE_componentWillMount!="function"&&typeof Rn.componentWillMount!="function"||(Gn=Rn.state,typeof Rn.componentWillMount=="function"&&Rn.componentWillMount(),typeof Rn.UNSAFE_componentWillMount=="function"&&Rn.UNSAFE_componentWillMount(),Gn!==Rn.state&&E0.enqueueReplaceState(Rn,Rn.state,null),yc(cn,pn,Rn,En),vc(),Rn.state=cn.memoizedState),typeof Rn.componentDidMount=="function"&&(cn.flags|=4194308),pn=!0}else if(T===null){Rn=cn.stateNode;var er=cn.memoizedProps,lr=Ho(fn,er);Rn.props=lr;var pr=Rn.context,vr=fn.contextType;Gn=Aa,typeof vr=="object"&&vr!==null&&(Gn=ni(vr));var Er=fn.getDerivedStateFromProps;vr=typeof Er=="function"||typeof Rn.getSnapshotBeforeUpdate=="function",er=cn.pendingProps!==er,vr||typeof Rn.UNSAFE_componentWillReceiveProps!="function"&&typeof Rn.componentWillReceiveProps!="function"||(er||pr!==Gn)&&Ch(cn,Rn,pn,Gn),eo=!1;var mr=cn.memoizedState;Rn.state=mr,yc(cn,pn,Rn,En),vc(),pr=cn.memoizedState,er||mr!==pr||eo?(typeof Er=="function"&&(b0(cn,fn,Er,pn),pr=cn.memoizedState),(lr=eo||Sh(cn,fn,lr,pn,mr,pr,Gn))?(vr||typeof Rn.UNSAFE_componentWillMount!="function"&&typeof Rn.componentWillMount!="function"||(typeof Rn.componentWillMount=="function"&&Rn.componentWillMount(),typeof Rn.UNSAFE_componentWillMount=="function"&&Rn.UNSAFE_componentWillMount()),typeof Rn.componentDidMount=="function"&&(cn.flags|=4194308)):(typeof Rn.componentDidMount=="function"&&(cn.flags|=4194308),cn.memoizedProps=pn,cn.memoizedState=pr),Rn.props=pn,Rn.state=pr,Rn.context=Gn,pn=lr):(typeof Rn.componentDidMount=="function"&&(cn.flags|=4194308),pn=!1)}else{Rn=cn.stateNode,Xf(T,cn),Gn=cn.memoizedProps,vr=Ho(fn,Gn),Rn.props=vr,Er=cn.pendingProps,mr=Rn.context,pr=fn.contextType,lr=Aa,typeof pr=="object"&&pr!==null&&(lr=ni(pr)),er=fn.getDerivedStateFromProps,(pr=typeof er=="function"||typeof Rn.getSnapshotBeforeUpdate=="function")||typeof Rn.UNSAFE_componentWillReceiveProps!="function"&&typeof Rn.componentWillReceiveProps!="function"||(Gn!==Er||mr!==lr)&&Ch(cn,Rn,pn,lr),eo=!1,mr=cn.memoizedState,Rn.state=mr,yc(cn,pn,Rn,En),vc();var Ar=cn.memoizedState;Gn!==Er||mr!==Ar||eo||T!==null&&T.dependencies!==null&&Su(T.dependencies)?(typeof er=="function"&&(b0(cn,fn,er,pn),Ar=cn.memoizedState),(vr=eo||Sh(cn,fn,vr,pn,mr,Ar,lr)||T!==null&&T.dependencies!==null&&Su(T.dependencies))?(pr||typeof Rn.UNSAFE_componentWillUpdate!="function"&&typeof Rn.componentWillUpdate!="function"||(typeof Rn.componentWillUpdate=="function"&&Rn.componentWillUpdate(pn,Ar,lr),typeof Rn.UNSAFE_componentWillUpdate=="function"&&Rn.UNSAFE_componentWillUpdate(pn,Ar,lr)),typeof Rn.componentDidUpdate=="function"&&(cn.flags|=4),typeof Rn.getSnapshotBeforeUpdate=="function"&&(cn.flags|=1024)):(typeof Rn.componentDidUpdate!="function"||Gn===T.memoizedProps&&mr===T.memoizedState||(cn.flags|=4),typeof Rn.getSnapshotBeforeUpdate!="function"||Gn===T.memoizedProps&&mr===T.memoizedState||(cn.flags|=1024),cn.memoizedProps=pn,cn.memoizedState=Ar),Rn.props=pn,Rn.state=Ar,Rn.context=lr,pn=vr):(typeof Rn.componentDidUpdate!="function"||Gn===T.memoizedProps&&mr===T.memoizedState||(cn.flags|=4),typeof Rn.getSnapshotBeforeUpdate!="function"||Gn===T.memoizedProps&&mr===T.memoizedState||(cn.flags|=1024),pn=!1)}return Rn=pn,Pu(T,cn),pn=(cn.flags&128)!==0,Rn||pn?(Rn=cn.stateNode,fn=pn&&typeof fn.getDerivedStateFromError!="function"?null:Rn.render(),cn.flags|=1,T!==null&&pn?(cn.child=zo(cn,T.child,null,En),cn.child=zo(cn,null,fn,En)):ri(T,cn,fn,En),cn.memoizedState=Rn.state,T=cn.child):T=Sa(T,cn,En),T}function Hh(T,cn,fn,pn){return jr(),cn.flags|=256,ri(T,cn,fn,pn),cn.child}var R0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D0(T){return{baseLanes:T,cachePool:Dd()}}function N0(T,cn,fn){return T=T!==null?T.childLanes&~fn:0,cn&&(T|=Bi),T}function $h(T,cn,fn){var pn=cn.pendingProps,En=!1,Rn=(cn.flags&128)!==0,Gn;if((Gn=Rn)||(Gn=T!==null&&T.memoizedState===null?!1:($s.current&2)!==0),Gn&&(En=!0,cn.flags&=-129),Gn=(cn.flags&32)!==0,cn.flags&=-33,T===null){if(_r){if(En?ro(cn):so(),(T=Sr)?(T=Kp(T,Rr),T=T!==null&&T.data!=="&"?T:null,T!==null&&(cn.memoizedState={dehydrated:T,treeContext:bn!==null?{id:_n,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},fn=bu(T),fn.return=cn,cn.child=fn,wr=cn,Sr=null)):T=null,T===null)throw rs(cn);return hd(T)?cn.lanes=32:cn.lanes=536870912,null}var er=pn.children;return pn=pn.fallback,En?(so(),En=cn.mode,er=Wu({mode:"hidden",children:er},En),pn=Ri(pn,En,fn,null),er.return=cn,pn.return=cn,er.sibling=pn,cn.child=er,pn=cn.child,pn.memoizedState=D0(fn),pn.childLanes=N0(T,Gn,fn),cn.memoizedState=R0,_c(null,pn)):(ro(cn),j0(cn,er))}var lr=T.memoizedState;if(lr!==null&&(er=lr.dehydrated,er!==null)){if(Rn)cn.flags&256?(ro(cn),cn.flags&=-257,cn=B0(T,cn,fn)):cn.memoizedState!==null?(so(),cn.child=T.child,cn.flags|=128,cn=null):(so(),er=pn.fallback,En=cn.mode,pn=Wu({mode:"visible",children:pn.children},En),er=Ri(er,En,fn,null),er.flags|=2,pn.return=cn,er.return=cn,pn.sibling=er,cn.child=pn,zo(cn,T.child,null,fn),pn=cn.child,pn.memoizedState=D0(fn),pn.childLanes=N0(T,Gn,fn),cn.memoizedState=R0,cn=_c(null,pn));else if(ro(cn),hd(er)){if(Gn=er.nextSibling&&er.nextSibling.dataset,Gn)var pr=Gn.dgst;Gn=pr,pn=Error(an(419)),pn.stack="",pn.digest=Gn,zr({value:pn,source:null,stack:null}),cn=B0(T,cn,fn)}else if(Js||gl(T,cn,fn,!1),Gn=(fn&T.childLanes)!==0,Js||Gn){if(Gn=Ds,Gn!==null&&(pn=Rs(Gn,fn),pn!==0&&pn!==lr.retryLane))throw lr.retryLane=pn,wa(T,pn),bi(Gn,T,pn),C0;dd(er)||Xu(),cn=B0(T,cn,fn)}else dd(er)?(cn.flags|=192,cn.child=T.child,cn=null):(T=lr.treeContext,Sr=Ii(er.nextSibling),wr=cn,_r=!0,yr=null,Rr=!1,T!==null&&ur(cn,T),cn=j0(cn,pn.children),cn.flags|=4096);return cn}return En?(so(),er=pn.fallback,En=cn.mode,lr=T.child,pr=lr.sibling,pn=ei(lr,{mode:"hidden",children:pn.children}),pn.subtreeFlags=lr.subtreeFlags&65011712,pr!==null?er=ei(pr,er):(er=Ri(er,En,fn,null),er.flags|=2),er.return=cn,pn.return=cn,pn.sibling=er,cn.child=pn,_c(null,pn),pn=cn.child,er=T.child.memoizedState,er===null?er=D0(fn):(En=er.cachePool,En!==null?(lr=qs._currentValue,En=En.parent!==lr?{parent:lr,pool:lr}:En):En=Dd(),er={baseLanes:er.baseLanes|fn,cachePool:En}),pn.memoizedState=er,pn.childLanes=N0(T,Gn,fn),cn.memoizedState=R0,_c(T.child,pn)):(ro(cn),fn=T.child,T=fn.sibling,fn=ei(fn,{mode:"visible",children:pn.children}),fn.return=cn,fn.sibling=null,T!==null&&(Gn=cn.deletions,Gn===null?(cn.deletions=[T],cn.flags|=16):Gn.push(T)),cn.child=fn,cn.memoizedState=null,fn)}function j0(T,cn){return cn=Wu({mode:"visible",children:cn},T.mode),cn.return=T,T.child=cn}function Wu(T,cn){return T=ci(22,T,null,cn),T.lanes=0,T}function B0(T,cn,fn){return zo(cn,T.child,null,fn),T=j0(cn,cn.pendingProps.children),T.flags|=2,cn.memoizedState=null,T}function Ph(T,cn,fn){T.lanes|=cn;var pn=T.alternate;pn!==null&&(pn.lanes|=cn),pc(T.return,cn,fn)}function O0(T,cn,fn,pn,En,Rn){var Gn=T.memoizedState;Gn===null?T.memoizedState={isBackwards:cn,rendering:null,renderingStartTime:0,last:pn,tail:fn,tailMode:En,treeForkCount:Rn}:(Gn.isBackwards=cn,Gn.rendering=null,Gn.renderingStartTime=0,Gn.last=pn,Gn.tail=fn,Gn.tailMode=En,Gn.treeForkCount=Rn)}function Wh(T,cn,fn){var pn=cn.pendingProps,En=pn.revealOrder,Rn=pn.tail;pn=pn.children;var Gn=$s.current,er=(Gn&2)!==0;if(er?(Gn=Gn&1|2,cn.flags|=128):Gn&=1,ar($s,Gn),ri(T,cn,pn,fn),pn=_r?Fo:0,!er&&T!==null&&(T.flags&128)!==0)e:for(T=cn.child;T!==null;){if(T.tag===13)T.memoizedState!==null&&Ph(T,fn,cn);else if(T.tag===19)Ph(T,fn,cn);else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===cn)break e;for(;T.sibling===null;){if(T.return===null||T.return===cn)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}switch(En){case"forwards":for(fn=cn.child,En=null;fn!==null;)T=fn.alternate,T!==null&&Ou(T)===null&&(En=fn),fn=fn.sibling;fn=En,fn===null?(En=cn.child,cn.child=null):(En=fn.sibling,fn.sibling=null),O0(cn,!1,En,fn,Rn,pn);break;case"backwards":case"unstable_legacy-backwards":for(fn=null,En=cn.child,cn.child=null;En!==null;){if(T=En.alternate,T!==null&&Ou(T)===null){cn.child=En;break}T=En.sibling,En.sibling=fn,fn=En,En=T}O0(cn,!0,fn,null,Rn,pn);break;case"together":O0(cn,!1,null,null,void 0,pn);break;default:cn.memoizedState=null}return cn.child}function Sa(T,cn,fn){if(T!==null&&(cn.dependencies=T.dependencies),oo|=cn.lanes,(fn&cn.childLanes)===0)if(T!==null){if(gl(T,cn,fn,!1),(fn&cn.childLanes)===0)return null}else return null;if(T!==null&&cn.child!==T.child)throw Error(an(153));if(cn.child!==null){for(T=cn.child,fn=ei(T,T.pendingProps),cn.child=fn,fn.return=cn;T.sibling!==null;)T=T.sibling,fn=fn.sibling=ei(T,T.pendingProps),fn.return=cn;fn.sibling=null}return cn.child}function T0(T,cn){return(T.lanes&cn)!==0?!0:(T=T.dependencies,!!(T!==null&&Su(T)))}function Mm(T,cn,fn){switch(cn.tag){case 3:Nr(cn,cn.stateNode.containerInfo),xi(cn,qs,T.memoizedState.cache),jr();break;case 27:case 5:xs(cn);break;case 4:Nr(cn,cn.stateNode.containerInfo);break;case 10:xi(cn,cn.type,cn.memoizedProps.value);break;case 31:if(cn.memoizedState!==null)return cn.flags|=128,s0(cn),null;break;case 13:var pn=cn.memoizedState;if(pn!==null)return pn.dehydrated!==null?(ro(cn),cn.flags|=128,null):(fn&cn.child.childLanes)!==0?$h(T,cn,fn):(ro(cn),T=Sa(T,cn,fn),T!==null?T.sibling:null);ro(cn);break;case 19:var En=(T.flags&128)!==0;if(pn=(fn&cn.childLanes)!==0,pn||(gl(T,cn,fn,!1),pn=(fn&cn.childLanes)!==0),En){if(pn)return Wh(T,cn,fn);cn.flags|=128}if(En=cn.memoizedState,En!==null&&(En.rendering=null,En.tail=null,En.lastEffect=null),ar($s,$s.current),pn)break;return null;case 22:return cn.lanes=0,kh(T,cn,fn,cn.pendingProps);case 24:xi(cn,qs,T.memoizedState.cache)}return Sa(T,cn,fn)}function Gh(T,cn,fn){if(T!==null)if(T.memoizedProps!==cn.pendingProps)Js=!0;else{if(!T0(T,fn)&&(cn.flags&128)===0)return Js=!1,Mm(T,cn,fn);Js=(T.flags&131072)!==0}else Js=!1,_r&&(cn.flags&1048576)!==0&&Kn(cn,Fo,cn.index);switch(cn.lanes=0,cn.tag){case 16:e:{var pn=cn.pendingProps;if(T=Mo(cn.elementType),cn.type=T,typeof T=="function")Va(T)?(pn=Ho(T,pn),cn.tag=1,cn=Uh(null,cn,T,pn,fn)):(cn.tag=0,cn=_0(null,cn,T,pn,fn));else{if(T!=null){var En=T.$$typeof;if(En===Mn){cn.tag=11,cn=Oh(null,cn,T,pn,fn);break e}else if(En===zn){cn.tag=14,cn=Th(null,cn,T,pn,fn);break e}}throw cn=Vn(T)||T,Error(an(306,cn,""))}}return cn;case 0:return _0(T,cn,cn.type,cn.pendingProps,fn);case 1:return pn=cn.type,En=Ho(pn,cn.pendingProps),Uh(T,cn,pn,En,fn);case 3:e:{if(Nr(cn,cn.stateNode.containerInfo),T===null)throw Error(an(387));pn=cn.pendingProps;var Rn=cn.memoizedState;En=Rn.element,Xf(T,cn),yc(cn,pn,null,fn);var Gn=cn.memoizedState;if(pn=Gn.cache,xi(cn,qs,pn),pn!==Rn.cache&&ml(cn,[qs],fn,!0),vc(),pn=Gn.element,Rn.isDehydrated)if(Rn={element:pn,isDehydrated:!1,cache:Gn.cache},cn.updateQueue.baseState=Rn,cn.memoizedState=Rn,cn.flags&256){cn=Hh(T,cn,pn,fn);break e}else if(pn!==En){En=mi(Error(an(424)),cn),zr(En),cn=Hh(T,cn,pn,fn);break e}else for(T=cn.stateNode.containerInfo,T.nodeType===9?T=T.body:T=T.nodeName==="HTML"?T.ownerDocument.body:T,Sr=Ii(T.firstChild),wr=cn,_r=!0,yr=null,Rr=!0,fn=Fd(cn,null,pn,fn),cn.child=fn;fn;)fn.flags=fn.flags&-3|4096,fn=fn.sibling;else{if(jr(),pn===En){cn=Sa(T,cn,fn);break e}ri(T,cn,pn,fn)}cn=cn.child}return cn;case 26:return Pu(T,cn),T===null?(fn=nm(cn.type,null,cn.pendingProps,null))?cn.memoizedState=fn:_r||(fn=cn.type,T=cn.pendingProps,pn=of(xr.current).createElement(fn),pn[Ws]=cn,pn[ai]=T,si(pn,fn,T),$n(pn),cn.stateNode=pn):cn.memoizedState=nm(cn.type,T.memoizedProps,cn.pendingProps,T.memoizedState),null;case 27:return xs(cn),T===null&&_r&&(pn=cn.stateNode=Xp(cn.type,cn.pendingProps,xr.current),wr=cn,Rr=!0,En=Sr,ho(cn.type)?(pd=En,Sr=Ii(pn.firstChild)):Sr=En),ri(T,cn,cn.pendingProps.children,fn),Pu(T,cn),T===null&&(cn.flags|=4194304),cn.child;case 5:return T===null&&_r&&((En=pn=Sr)&&(pn=h1(pn,cn.type,cn.pendingProps,Rr),pn!==null?(cn.stateNode=pn,wr=cn,Sr=Ii(pn.firstChild),Rr=!1,En=!0):En=!1),En||rs(cn)),xs(cn),En=cn.type,Rn=cn.pendingProps,Gn=T!==null?T.memoizedProps:null,pn=Rn.children,ld(En,Rn)?pn=null:Gn!==null&&ld(En,Gn)&&(cn.flags|=32),cn.memoizedState!==null&&(En=a0(T,cn,Dm,null,null,fn),Hc._currentValue=En),Pu(T,cn),ri(T,cn,pn,fn),cn.child;case 6:return T===null&&_r&&((T=fn=Sr)&&(fn=p1(fn,cn.pendingProps,Rr),fn!==null?(cn.stateNode=fn,wr=cn,Sr=null,T=!0):T=!1),T||rs(cn)),null;case 13:return $h(T,cn,fn);case 4:return Nr(cn,cn.stateNode.containerInfo),pn=cn.pendingProps,T===null?cn.child=zo(cn,null,pn,fn):ri(T,cn,pn,fn),cn.child;case 11:return Oh(T,cn,cn.type,cn.pendingProps,fn);case 7:return ri(T,cn,cn.pendingProps,fn),cn.child;case 8:return ri(T,cn,cn.pendingProps.children,fn),cn.child;case 12:return ri(T,cn,cn.pendingProps.children,fn),cn.child;case 10:return pn=cn.pendingProps,xi(cn,cn.type,pn.value),ri(T,cn,pn.children,fn),cn.child;case 9:return En=cn.type._context,pn=cn.pendingProps.children,ko(cn),En=ni(En),pn=pn(En),cn.flags|=1,ri(T,cn,pn,fn),cn.child;case 14:return Th(T,cn,cn.type,cn.pendingProps,fn);case 15:return Fh(T,cn,cn.type,cn.pendingProps,fn);case 19:return Wh(T,cn,fn);case 31:return Im(T,cn,fn);case 22:return kh(T,cn,fn,cn.pendingProps);case 24:return ko(cn),pn=ni(qs),T===null?(En=Kf(),En===null&&(En=Ds,Rn=Jf(),En.pooledCache=Rn,Rn.refCount++,Rn!==null&&(En.pooledCacheLanes|=fn),En=Rn),cn.memoizedState={parent:pn,cache:En},Vf(cn),xi(cn,qs,En)):((T.lanes&fn)!==0&&(Xf(T,cn),yc(cn,null,null,fn),vc()),En=T.memoizedState,Rn=cn.memoizedState,En.parent!==pn?(En={parent:pn,cache:pn},cn.memoizedState=En,cn.lanes===0&&(cn.memoizedState=cn.updateQueue.baseState=En),xi(cn,qs,pn)):(pn=Rn.cache,xi(cn,qs,pn),pn!==En.cache&&ml(cn,[qs],fn,!0))),ri(T,cn,cn.pendingProps.children,fn),cn.child;case 29:throw cn.pendingProps}throw Error(an(156,cn.tag))}function Ca(T){T.flags|=4}function F0(T,cn,fn,pn,En){if((cn=(T.mode&32)!==0)&&(cn=!1),cn){if(T.flags|=16777216,(En&335544128)===En)if(T.stateNode.complete)T.flags|=8192;else if(wp())T.flags|=8192;else throw Lo=Du,Zf}else T.flags&=-16777217}function qh(T,cn){if(cn.type!=="stylesheet"||(cn.state.loading&4)!==0)T.flags&=-16777217;else if(T.flags|=16777216,!om(cn))if(wp())T.flags|=8192;else throw Lo=Du,Zf}function Gu(T,cn){cn!==null&&(T.flags|=4),T.flags&16384&&(cn=T.tag!==22?Lr():536870912,T.lanes|=cn,Dl|=cn)}function Rc(T,cn){if(!_r)switch(T.tailMode){case"hidden":cn=T.tail;for(var fn=null;cn!==null;)cn.alternate!==null&&(fn=cn),cn=cn.sibling;fn===null?T.tail=null:fn.sibling=null;break;case"collapsed":fn=T.tail;for(var pn=null;fn!==null;)fn.alternate!==null&&(pn=fn),fn=fn.sibling;pn===null?cn||T.tail===null?T.tail=null:T.tail.sibling=null:pn.sibling=null}}function Os(T){var cn=T.alternate!==null&&T.alternate.child===T.child,fn=0,pn=0;if(cn)for(var En=T.child;En!==null;)fn|=En.lanes|En.childLanes,pn|=En.subtreeFlags&65011712,pn|=En.flags&65011712,En.return=T,En=En.sibling;else for(En=T.child;En!==null;)fn|=En.lanes|En.childLanes,pn|=En.subtreeFlags,pn|=En.flags,En.return=T,En=En.sibling;return T.subtreeFlags|=pn,T.childLanes=fn,cn}function Lm(T,cn,fn){var pn=cn.pendingProps;switch(ir(cn),cn.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Os(cn),null;case 1:return Os(cn),null;case 3:return fn=cn.stateNode,pn=null,T!==null&&(pn=T.memoizedState.cache),cn.memoizedState.cache!==pn&&(cn.flags|=2048),Gi(qs),Ir(),fn.pendingContext&&(fn.context=fn.pendingContext,fn.pendingContext=null),(T===null||T.child===null)&&(Cr(cn)?Ca(cn):T===null||T.memoizedState.isDehydrated&&(cn.flags&256)===0||(cn.flags|=1024,$r())),Os(cn),null;case 26:var En=cn.type,Rn=cn.memoizedState;return T===null?(Ca(cn),Rn!==null?(Os(cn),qh(cn,Rn)):(Os(cn),F0(cn,En,null,pn,fn))):Rn?Rn!==T.memoizedState?(Ca(cn),Os(cn),qh(cn,Rn)):(Os(cn),cn.flags&=-16777217):(T=T.memoizedProps,T!==pn&&Ca(cn),Os(cn),F0(cn,En,T,pn,fn)),null;case 27:if(es(cn),fn=xr.current,En=cn.type,T!==null&&cn.stateNode!=null)T.memoizedProps!==pn&&Ca(cn);else{if(!pn){if(cn.stateNode===null)throw Error(an(166));return Os(cn),null}T=or.current,Cr(cn)?Ms(cn):(T=Xp(En,pn,fn),cn.stateNode=T,Ca(cn))}return Os(cn),null;case 5:if(es(cn),En=cn.type,T!==null&&cn.stateNode!=null)T.memoizedProps!==pn&&Ca(cn);else{if(!pn){if(cn.stateNode===null)throw Error(an(166));return Os(cn),null}if(Rn=or.current,Cr(cn))Ms(cn);else{var Gn=of(xr.current);switch(Rn){case 1:Rn=Gn.createElementNS("http://www.w3.org/2000/svg",En);break;case 2:Rn=Gn.createElementNS("http://www.w3.org/1998/Math/MathML",En);break;default:switch(En){case"svg":Rn=Gn.createElementNS("http://www.w3.org/2000/svg",En);break;case"math":Rn=Gn.createElementNS("http://www.w3.org/1998/Math/MathML",En);break;case"script":Rn=Gn.createElement("div"),Rn.innerHTML="<script><\/script>",Rn=Rn.removeChild(Rn.firstChild);break;case"select":Rn=typeof pn.is=="string"?Gn.createElement("select",{is:pn.is}):Gn.createElement("select"),pn.multiple?Rn.multiple=!0:pn.size&&(Rn.size=pn.size);break;default:Rn=typeof pn.is=="string"?Gn.createElement(En,{is:pn.is}):Gn.createElement(En)}}Rn[Ws]=cn,Rn[ai]=pn;e:for(Gn=cn.child;Gn!==null;){if(Gn.tag===5||Gn.tag===6)Rn.appendChild(Gn.stateNode);else if(Gn.tag!==4&&Gn.tag!==27&&Gn.child!==null){Gn.child.return=Gn,Gn=Gn.child;continue}if(Gn===cn)break e;for(;Gn.sibling===null;){if(Gn.return===null||Gn.return===cn)break e;Gn=Gn.return}Gn.sibling.return=Gn.return,Gn=Gn.sibling}cn.stateNode=Rn;e:switch(si(Rn,En,pn),En){case"button":case"input":case"select":case"textarea":pn=!!pn.autoFocus;break e;case"img":pn=!0;break e;default:pn=!1}pn&&Ca(cn)}}return Os(cn),F0(cn,cn.type,T===null?null:T.memoizedProps,cn.pendingProps,fn),null;case 6:if(T&&cn.stateNode!=null)T.memoizedProps!==pn&&Ca(cn);else{if(typeof pn!="string"&&cn.stateNode===null)throw Error(an(166));if(T=xr.current,Cr(cn)){if(T=cn.stateNode,fn=cn.memoizedProps,pn=null,En=wr,En!==null)switch(En.tag){case 27:case 5:pn=En.memoizedProps}T[Ws]=cn,T=!!(T.nodeValue===fn||pn!==null&&pn.suppressHydrationWarning===!0||$p(T.nodeValue,fn)),T||rs(cn,!0)}else T=of(T).createTextNode(pn),T[Ws]=cn,cn.stateNode=T}return Os(cn),null;case 31:if(fn=cn.memoizedState,T===null||T.memoizedState!==null){if(pn=Cr(cn),fn!==null){if(T===null){if(!pn)throw Error(an(318));if(T=cn.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(an(557));T[Ws]=cn}else jr(),(cn.flags&128)===0&&(cn.memoizedState=null),cn.flags|=4;Os(cn),T=!1}else fn=$r(),T!==null&&T.memoizedState!==null&&(T.memoizedState.hydrationErrors=fn),T=!0;if(!T)return cn.flags&256?(Ni(cn),cn):(Ni(cn),null);if((cn.flags&128)!==0)throw Error(an(558))}return Os(cn),null;case 13:if(pn=cn.memoizedState,T===null||T.memoizedState!==null&&T.memoizedState.dehydrated!==null){if(En=Cr(cn),pn!==null&&pn.dehydrated!==null){if(T===null){if(!En)throw Error(an(318));if(En=cn.memoizedState,En=En!==null?En.dehydrated:null,!En)throw Error(an(317));En[Ws]=cn}else jr(),(cn.flags&128)===0&&(cn.memoizedState=null),cn.flags|=4;Os(cn),En=!1}else En=$r(),T!==null&&T.memoizedState!==null&&(T.memoizedState.hydrationErrors=En),En=!0;if(!En)return cn.flags&256?(Ni(cn),cn):(Ni(cn),null)}return Ni(cn),(cn.flags&128)!==0?(cn.lanes=fn,cn):(fn=pn!==null,T=T!==null&&T.memoizedState!==null,fn&&(pn=cn.child,En=null,pn.alternate!==null&&pn.alternate.memoizedState!==null&&pn.alternate.memoizedState.cachePool!==null&&(En=pn.alternate.memoizedState.cachePool.pool),Rn=null,pn.memoizedState!==null&&pn.memoizedState.cachePool!==null&&(Rn=pn.memoizedState.cachePool.pool),Rn!==En&&(pn.flags|=2048)),fn!==T&&fn&&(cn.child.flags|=8192),Gu(cn,cn.updateQueue),Os(cn),null);case 4:return Ir(),T===null&&rd(cn.stateNode.containerInfo),Os(cn),null;case 10:return Gi(cn.type),Os(cn),null;case 19:if(nr($s),pn=cn.memoizedState,pn===null)return Os(cn),null;if(En=(cn.flags&128)!==0,Rn=pn.rendering,Rn===null)if(En)Rc(pn,!1);else{if(Us!==0||T!==null&&(T.flags&128)!==0)for(T=cn.child;T!==null;){if(Rn=Ou(T),Rn!==null){for(cn.flags|=128,Rc(pn,!1),T=Rn.updateQueue,cn.updateQueue=T,Gu(cn,T),cn.subtreeFlags=0,T=fn,fn=cn.child;fn!==null;)va(fn,T),fn=fn.sibling;return ar($s,$s.current&1|2),_r&&qn(cn,pn.treeForkCount),cn.child}T=T.sibling}pn.tail!==null&&Yr()>Ku&&(cn.flags|=128,En=!0,Rc(pn,!1),cn.lanes=4194304)}else{if(!En)if(T=Ou(Rn),T!==null){if(cn.flags|=128,En=!0,T=T.updateQueue,cn.updateQueue=T,Gu(cn,T),Rc(pn,!0),pn.tail===null&&pn.tailMode==="hidden"&&!Rn.alternate&&!_r)return Os(cn),null}else 2*Yr()-pn.renderingStartTime>Ku&&fn!==536870912&&(cn.flags|=128,En=!0,Rc(pn,!1),cn.lanes=4194304);pn.isBackwards?(Rn.sibling=cn.child,cn.child=Rn):(T=pn.last,T!==null?T.sibling=Rn:cn.child=Rn,pn.last=Rn)}return pn.tail!==null?(T=pn.tail,pn.rendering=T,pn.tail=T.sibling,pn.renderingStartTime=Yr(),T.sibling=null,fn=$s.current,ar($s,En?fn&1|2:fn&1),_r&&qn(cn,pn.treeForkCount),T):(Os(cn),null);case 22:case 23:return Ni(cn),r0(),pn=cn.memoizedState!==null,T!==null?T.memoizedState!==null!==pn&&(cn.flags|=8192):pn&&(cn.flags|=8192),pn?(fn&536870912)!==0&&(cn.flags&128)===0&&(Os(cn),cn.subtreeFlags&6&&(cn.flags|=8192)):Os(cn),fn=cn.updateQueue,fn!==null&&Gu(cn,fn.retryQueue),fn=null,T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(fn=T.memoizedState.cachePool.pool),pn=null,cn.memoizedState!==null&&cn.memoizedState.cachePool!==null&&(pn=cn.memoizedState.cachePool.pool),pn!==fn&&(cn.flags|=2048),T!==null&&nr(Io),null;case 24:return fn=null,T!==null&&(fn=T.memoizedState.cache),cn.memoizedState.cache!==fn&&(cn.flags|=2048),Gi(qs),Os(cn),null;case 25:return null;case 30:return null}throw Error(an(156,cn.tag))}function zm(T,cn){switch(ir(cn),cn.tag){case 1:return T=cn.flags,T&65536?(cn.flags=T&-65537|128,cn):null;case 3:return Gi(qs),Ir(),T=cn.flags,(T&65536)!==0&&(T&128)===0?(cn.flags=T&-65537|128,cn):null;case 26:case 27:case 5:return es(cn),null;case 31:if(cn.memoizedState!==null){if(Ni(cn),cn.alternate===null)throw Error(an(340));jr()}return T=cn.flags,T&65536?(cn.flags=T&-65537|128,cn):null;case 13:if(Ni(cn),T=cn.memoizedState,T!==null&&T.dehydrated!==null){if(cn.alternate===null)throw Error(an(340));jr()}return T=cn.flags,T&65536?(cn.flags=T&-65537|128,cn):null;case 19:return nr($s),null;case 4:return Ir(),null;case 10:return Gi(cn.type),null;case 22:case 23:return Ni(cn),r0(),T!==null&&nr(Io),T=cn.flags,T&65536?(cn.flags=T&-65537|128,cn):null;case 24:return Gi(qs),null;case 25:return null;default:return null}}function Yh(T,cn){switch(ir(cn),cn.tag){case 3:Gi(qs),Ir();break;case 26:case 27:case 5:es(cn);break;case 4:Ir();break;case 31:cn.memoizedState!==null&&Ni(cn);break;case 13:Ni(cn);break;case 19:nr($s);break;case 10:Gi(cn.type);break;case 22:case 23:Ni(cn),r0(),T!==null&&nr(Io);break;case 24:Gi(qs)}}function Dc(T,cn){try{var fn=cn.updateQueue,pn=fn!==null?fn.lastEffect:null;if(pn!==null){var En=pn.next;fn=En;do{if((fn.tag&T)===T){pn=void 0;var Rn=fn.create,Gn=fn.inst;pn=Rn(),Gn.destroy=pn}fn=fn.next}while(fn!==En)}}catch(er){bs(cn,cn.return,er)}}function io(T,cn,fn){try{var pn=cn.updateQueue,En=pn!==null?pn.lastEffect:null;if(En!==null){var Rn=En.next;pn=Rn;do{if((pn.tag&T)===T){var Gn=pn.inst,er=Gn.destroy;if(er!==void 0){Gn.destroy=void 0,En=cn;var lr=fn,pr=er;try{pr()}catch(vr){bs(En,lr,vr)}}}pn=pn.next}while(pn!==Rn)}}catch(vr){bs(cn,cn.return,vr)}}function Jh(T){var cn=T.updateQueue;if(cn!==null){var fn=T.stateNode;try{Id(cn,fn)}catch(pn){bs(T,T.return,pn)}}}function Qh(T,cn,fn){fn.props=Ho(T.type,T.memoizedProps),fn.state=T.memoizedState;try{fn.componentWillUnmount()}catch(pn){bs(T,cn,pn)}}function Nc(T,cn){try{var fn=T.ref;if(fn!==null){switch(T.tag){case 26:case 27:case 5:var pn=T.stateNode;break;case 30:pn=T.stateNode;break;default:pn=T.stateNode}typeof fn=="function"?T.refCleanup=fn(pn):fn.current=pn}}catch(En){bs(T,cn,En)}}function aa(T,cn){var fn=T.ref,pn=T.refCleanup;if(fn!==null)if(typeof pn=="function")try{pn()}catch(En){bs(T,cn,En)}finally{T.refCleanup=null,T=T.alternate,T!=null&&(T.refCleanup=null)}else if(typeof fn=="function")try{fn(null)}catch(En){bs(T,cn,En)}else fn.current=null}function Kh(T){var cn=T.type,fn=T.memoizedProps,pn=T.stateNode;try{e:switch(cn){case"button":case"input":case"select":case"textarea":fn.autoFocus&&pn.focus();break e;case"img":fn.src?pn.src=fn.src:fn.srcSet&&(pn.srcset=fn.srcSet)}}catch(En){bs(T,T.return,En)}}function k0(T,cn,fn){try{var pn=T.stateNode;o1(pn,T.type,fn,cn),pn[ai]=cn}catch(En){bs(T,T.return,En)}}function Zh(T){return T.tag===5||T.tag===3||T.tag===26||T.tag===27&&ho(T.type)||T.tag===4}function I0(T){e:for(;;){for(;T.sibling===null;){if(T.return===null||Zh(T.return))return null;T=T.return}for(T.sibling.return=T.return,T=T.sibling;T.tag!==5&&T.tag!==6&&T.tag!==18;){if(T.tag===27&&ho(T.type)||T.flags&2||T.child===null||T.tag===4)continue e;T.child.return=T,T=T.child}if(!(T.flags&2))return T.stateNode}}function M0(T,cn,fn){var pn=T.tag;if(pn===5||pn===6)T=T.stateNode,cn?(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).insertBefore(T,cn):(cn=fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn,cn.appendChild(T),fn=fn._reactRootContainer,fn!=null||cn.onclick!==null||(cn.onclick=Hi));else if(pn!==4&&(pn===27&&ho(T.type)&&(fn=T.stateNode,cn=null),T=T.child,T!==null))for(M0(T,cn,fn),T=T.sibling;T!==null;)M0(T,cn,fn),T=T.sibling}function qu(T,cn,fn){var pn=T.tag;if(pn===5||pn===6)T=T.stateNode,cn?fn.insertBefore(T,cn):fn.appendChild(T);else if(pn!==4&&(pn===27&&ho(T.type)&&(fn=T.stateNode),T=T.child,T!==null))for(qu(T,cn,fn),T=T.sibling;T!==null;)qu(T,cn,fn),T=T.sibling}function Vh(T){var cn=T.stateNode,fn=T.memoizedProps;try{for(var pn=T.type,En=cn.attributes;En.length;)cn.removeAttributeNode(En[0]);si(cn,pn,fn),cn[Ws]=T,cn[ai]=fn}catch(Rn){bs(T,T.return,Rn)}}var Ra=!1,Qs=!1,L0=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,Xs=null;function Um(T,cn){if(T=T.containerInfo,ad=pf,T=wu(T),ac(T)){if("selectionStart"in T)var fn={start:T.selectionStart,end:T.selectionEnd};else e:{fn=(fn=T.ownerDocument)&&fn.defaultView||window;var pn=fn.getSelection&&fn.getSelection();if(pn&&pn.rangeCount!==0){fn=pn.anchorNode;var En=pn.anchorOffset,Rn=pn.focusNode;pn=pn.focusOffset;try{fn.nodeType,Rn.nodeType}catch{fn=null;break e}var Gn=0,er=-1,lr=-1,pr=0,vr=0,Er=T,mr=null;t:for(;;){for(var Ar;Er!==fn||En!==0&&Er.nodeType!==3||(er=Gn+En),Er!==Rn||pn!==0&&Er.nodeType!==3||(lr=Gn+pn),Er.nodeType===3&&(Gn+=Er.nodeValue.length),(Ar=Er.firstChild)!==null;)mr=Er,Er=Ar;for(;;){if(Er===T)break t;if(mr===fn&&++pr===En&&(er=Gn),mr===Rn&&++vr===pn&&(lr=Gn),(Ar=Er.nextSibling)!==null)break;Er=mr,mr=Er.parentNode}Er=Ar}fn=er===-1||lr===-1?null:{start:er,end:lr}}else fn=null}fn=fn||{start:0,end:0}}else fn=null;for(od={focusedElem:T,selectionRange:fn},pf=!1,Xs=cn;Xs!==null;)if(cn=Xs,T=cn.child,(cn.subtreeFlags&1028)!==0&&T!==null)T.return=cn,Xs=T;else for(;Xs!==null;){switch(cn=Xs,Rn=cn.alternate,T=cn.flags,cn.tag){case 0:if((T&4)!==0&&(T=cn.updateQueue,T=T!==null?T.events:null,T!==null))for(fn=0;fn<T.length;fn++)En=T[fn],En.ref.impl=En.nextImpl;break;case 11:case 15:break;case 1:if((T&1024)!==0&&Rn!==null){T=void 0,fn=cn,En=Rn.memoizedProps,Rn=Rn.memoizedState,pn=fn.stateNode;try{var Br=Ho(fn.type,En);T=pn.getSnapshotBeforeUpdate(Br,Rn),pn.__reactInternalSnapshotBeforeUpdate=T}catch(Ur){bs(fn,fn.return,Ur)}}break;case 3:if((T&1024)!==0){if(T=cn.stateNode.containerInfo,fn=T.nodeType,fn===9)ud(T);else if(fn===1)switch(T.nodeName){case"HEAD":case"HTML":case"BODY":ud(T);break;default:T.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((T&1024)!==0)throw Error(an(163))}if(T=cn.sibling,T!==null){T.return=cn.return,Xs=T;break}Xs=cn.return}}function ep(T,cn,fn){var pn=fn.flags;switch(fn.tag){case 0:case 11:case 15:Na(T,fn),pn&4&&Dc(5,fn);break;case 1:if(Na(T,fn),pn&4)if(T=fn.stateNode,cn===null)try{T.componentDidMount()}catch(Gn){bs(fn,fn.return,Gn)}else{var En=Ho(fn.type,cn.memoizedProps);cn=cn.memoizedState;try{T.componentDidUpdate(En,cn,T.__reactInternalSnapshotBeforeUpdate)}catch(Gn){bs(fn,fn.return,Gn)}}pn&64&&Jh(fn),pn&512&&Nc(fn,fn.return);break;case 3:if(Na(T,fn),pn&64&&(T=fn.updateQueue,T!==null)){if(cn=null,fn.child!==null)switch(fn.child.tag){case 27:case 5:cn=fn.child.stateNode;break;case 1:cn=fn.child.stateNode}try{Id(T,cn)}catch(Gn){bs(fn,fn.return,Gn)}}break;case 27:cn===null&&pn&4&&Vh(fn);case 26:case 5:Na(T,fn),cn===null&&pn&4&&Kh(fn),pn&512&&Nc(fn,fn.return);break;case 12:Na(T,fn);break;case 31:Na(T,fn),pn&4&&rp(T,fn);break;case 13:Na(T,fn),pn&4&&sp(T,fn),pn&64&&(T=fn.memoizedState,T!==null&&(T=T.dehydrated,T!==null&&(fn=Qm.bind(null,fn),m1(T,fn))));break;case 22:if(pn=fn.memoizedState!==null||Ra,!pn){cn=cn!==null&&cn.memoizedState!==null||Qs,En=Ra;var Rn=Qs;Ra=pn,(Qs=cn)&&!Rn?ja(T,fn,(fn.subtreeFlags&8772)!==0):Na(T,fn),Ra=En,Qs=Rn}break;case 30:break;default:Na(T,fn)}}function tp(T){var cn=T.alternate;cn!==null&&(T.alternate=null,tp(cn)),T.child=null,T.deletions=null,T.sibling=null,T.tag===5&&(cn=T.stateNode,cn!==null&&Ll(cn)),T.stateNode=null,T.return=null,T.dependencies=null,T.memoizedProps=null,T.memoizedState=null,T.pendingProps=null,T.stateNode=null,T.updateQueue=null}var Fs=null,wi=!1;function Da(T,cn,fn){for(fn=fn.child;fn!==null;)np(T,cn,fn),fn=fn.sibling}function np(T,cn,fn){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(_s,fn)}catch{}switch(fn.tag){case 26:Qs||aa(fn,cn),Da(T,cn,fn),fn.memoizedState?fn.memoizedState.count--:fn.stateNode&&(fn=fn.stateNode,fn.parentNode.removeChild(fn));break;case 27:Qs||aa(fn,cn);var pn=Fs,En=wi;ho(fn.type)&&(Fs=fn.stateNode,wi=!1),Da(T,cn,fn),Lc(fn.stateNode),Fs=pn,wi=En;break;case 5:Qs||aa(fn,cn);case 6:if(pn=Fs,En=wi,Fs=null,Da(T,cn,fn),Fs=pn,wi=En,Fs!==null)if(wi)try{(Fs.nodeType===9?Fs.body:Fs.nodeName==="HTML"?Fs.ownerDocument.body:Fs).removeChild(fn.stateNode)}catch(Rn){bs(fn,cn,Rn)}else try{Fs.removeChild(fn.stateNode)}catch(Rn){bs(fn,cn,Rn)}break;case 18:Fs!==null&&(wi?(T=Fs,Jp(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,fn.stateNode),Il(T)):Jp(Fs,fn.stateNode));break;case 4:pn=Fs,En=wi,Fs=fn.stateNode.containerInfo,wi=!0,Da(T,cn,fn),Fs=pn,wi=En;break;case 0:case 11:case 14:case 15:io(2,fn,cn),Qs||io(4,fn,cn),Da(T,cn,fn);break;case 1:Qs||(aa(fn,cn),pn=fn.stateNode,typeof pn.componentWillUnmount=="function"&&Qh(fn,cn,pn)),Da(T,cn,fn);break;case 21:Da(T,cn,fn);break;case 22:Qs=(pn=Qs)||fn.memoizedState!==null,Da(T,cn,fn),Qs=pn;break;default:Da(T,cn,fn)}}function rp(T,cn){if(cn.memoizedState===null&&(T=cn.alternate,T!==null&&(T=T.memoizedState,T!==null))){T=T.dehydrated;try{Il(T)}catch(fn){bs(cn,cn.return,fn)}}}function sp(T,cn){if(cn.memoizedState===null&&(T=cn.alternate,T!==null&&(T=T.memoizedState,T!==null&&(T=T.dehydrated,T!==null))))try{Il(T)}catch(fn){bs(cn,cn.return,fn)}}function Hm(T){switch(T.tag){case 31:case 13:case 19:var cn=T.stateNode;return cn===null&&(cn=T.stateNode=new Xh),cn;case 22:return T=T.stateNode,cn=T._retryCache,cn===null&&(cn=T._retryCache=new Xh),cn;default:throw Error(an(435,T.tag))}}function Yu(T,cn){var fn=Hm(T);cn.forEach(function(pn){if(!fn.has(pn)){fn.add(pn);var En=Km.bind(null,T,pn);pn.then(En,En)}})}function Ai(T,cn){var fn=cn.deletions;if(fn!==null)for(var pn=0;pn<fn.length;pn++){var En=fn[pn],Rn=T,Gn=cn,er=Gn;e:for(;er!==null;){switch(er.tag){case 27:if(ho(er.type)){Fs=er.stateNode,wi=!1;break e}break;case 5:Fs=er.stateNode,wi=!1;break e;case 3:case 4:Fs=er.stateNode.containerInfo,wi=!0;break e}er=er.return}if(Fs===null)throw Error(an(160));np(Rn,Gn,En),Fs=null,wi=!1,Rn=En.alternate,Rn!==null&&(Rn.return=null),En.return=null}if(cn.subtreeFlags&13886)for(cn=cn.child;cn!==null;)ip(cn,T),cn=cn.sibling}var qi=null;function ip(T,cn){var fn=T.alternate,pn=T.flags;switch(T.tag){case 0:case 11:case 14:case 15:Ai(cn,T),vi(T),pn&4&&(io(3,T,T.return),Dc(3,T),io(5,T,T.return));break;case 1:Ai(cn,T),vi(T),pn&512&&(Qs||fn===null||aa(fn,fn.return)),pn&64&&Ra&&(T=T.updateQueue,T!==null&&(pn=T.callbacks,pn!==null&&(fn=T.shared.hiddenCallbacks,T.shared.hiddenCallbacks=fn===null?pn:fn.concat(pn))));break;case 26:var En=qi;if(Ai(cn,T),vi(T),pn&512&&(Qs||fn===null||aa(fn,fn.return)),pn&4){var Rn=fn!==null?fn.memoizedState:null;if(pn=T.memoizedState,fn===null)if(pn===null)if(T.stateNode===null){e:{pn=T.type,fn=T.memoizedProps,En=En.ownerDocument||En;t:switch(pn){case"title":Rn=En.getElementsByTagName("title")[0],(!Rn||Rn[Ma]||Rn[Ws]||Rn.namespaceURI==="http://www.w3.org/2000/svg"||Rn.hasAttribute("itemprop"))&&(Rn=En.createElement(pn),En.head.insertBefore(Rn,En.querySelector("head > title"))),si(Rn,pn,fn),Rn[Ws]=T,$n(Rn),pn=Rn;break e;case"link":var Gn=im("link","href",En).get(pn+(fn.href||""));if(Gn){for(var er=0;er<Gn.length;er++)if(Rn=Gn[er],Rn.getAttribute("href")===(fn.href==null||fn.href===""?null:fn.href)&&Rn.getAttribute("rel")===(fn.rel==null?null:fn.rel)&&Rn.getAttribute("title")===(fn.title==null?null:fn.title)&&Rn.getAttribute("crossorigin")===(fn.crossOrigin==null?null:fn.crossOrigin)){Gn.splice(er,1);break t}}Rn=En.createElement(pn),si(Rn,pn,fn),En.head.appendChild(Rn);break;case"meta":if(Gn=im("meta","content",En).get(pn+(fn.content||""))){for(er=0;er<Gn.length;er++)if(Rn=Gn[er],Rn.getAttribute("content")===(fn.content==null?null:""+fn.content)&&Rn.getAttribute("name")===(fn.name==null?null:fn.name)&&Rn.getAttribute("property")===(fn.property==null?null:fn.property)&&Rn.getAttribute("http-equiv")===(fn.httpEquiv==null?null:fn.httpEquiv)&&Rn.getAttribute("charset")===(fn.charSet==null?null:fn.charSet)){Gn.splice(er,1);break t}}Rn=En.createElement(pn),si(Rn,pn,fn),En.head.appendChild(Rn);break;default:throw Error(an(468,pn))}Rn[Ws]=T,$n(Rn),pn=Rn}T.stateNode=pn}else am(En,T.type,T.stateNode);else T.stateNode=sm(En,pn,T.memoizedProps);else Rn!==pn?(Rn===null?fn.stateNode!==null&&(fn=fn.stateNode,fn.parentNode.removeChild(fn)):Rn.count--,pn===null?am(En,T.type,T.stateNode):sm(En,pn,T.memoizedProps)):pn===null&&T.stateNode!==null&&k0(T,T.memoizedProps,fn.memoizedProps)}break;case 27:Ai(cn,T),vi(T),pn&512&&(Qs||fn===null||aa(fn,fn.return)),fn!==null&&pn&4&&k0(T,T.memoizedProps,fn.memoizedProps);break;case 5:if(Ai(cn,T),vi(T),pn&512&&(Qs||fn===null||aa(fn,fn.return)),T.flags&32){En=T.stateNode;try{Ua(En,"")}catch(Br){bs(T,T.return,Br)}}pn&4&&T.stateNode!=null&&(En=T.memoizedProps,k0(T,En,fn!==null?fn.memoizedProps:En)),pn&1024&&(L0=!0);break;case 6:if(Ai(cn,T),vi(T),pn&4){if(T.stateNode===null)throw Error(an(162));pn=T.memoizedProps,fn=T.stateNode;try{fn.nodeValue=pn}catch(Br){bs(T,T.return,Br)}}break;case 3:if(uf=null,En=qi,qi=lf(cn.containerInfo),Ai(cn,T),qi=En,vi(T),pn&4&&fn!==null&&fn.memoizedState.isDehydrated)try{Il(cn.containerInfo)}catch(Br){bs(T,T.return,Br)}L0&&(L0=!1,ap(T));break;case 4:pn=qi,qi=lf(T.stateNode.containerInfo),Ai(cn,T),vi(T),qi=pn;break;case 12:Ai(cn,T),vi(T);break;case 31:Ai(cn,T),vi(T),pn&4&&(pn=T.updateQueue,pn!==null&&(T.updateQueue=null,Yu(T,pn)));break;case 13:Ai(cn,T),vi(T),T.child.flags&8192&&T.memoizedState!==null!=(fn!==null&&fn.memoizedState!==null)&&(Qu=Yr()),pn&4&&(pn=T.updateQueue,pn!==null&&(T.updateQueue=null,Yu(T,pn)));break;case 22:En=T.memoizedState!==null;var lr=fn!==null&&fn.memoizedState!==null,pr=Ra,vr=Qs;if(Ra=pr||En,Qs=vr||lr,Ai(cn,T),Qs=vr,Ra=pr,vi(T),pn&8192)e:for(cn=T.stateNode,cn._visibility=En?cn._visibility&-2:cn._visibility|1,En&&(fn===null||lr||Ra||Qs||$o(T)),fn=null,cn=T;;){if(cn.tag===5||cn.tag===26){if(fn===null){lr=fn=cn;try{if(Rn=lr.stateNode,En)Gn=Rn.style,typeof Gn.setProperty=="function"?Gn.setProperty("display","none","important"):Gn.display="none";else{er=lr.stateNode;var Er=lr.memoizedProps.style,mr=Er!=null&&Er.hasOwnProperty("display")?Er.display:null;er.style.display=mr==null||typeof mr=="boolean"?"":(""+mr).trim()}}catch(Br){bs(lr,lr.return,Br)}}}else if(cn.tag===6){if(fn===null){lr=cn;try{lr.stateNode.nodeValue=En?"":lr.memoizedProps}catch(Br){bs(lr,lr.return,Br)}}}else if(cn.tag===18){if(fn===null){lr=cn;try{var Ar=lr.stateNode;En?Qp(Ar,!0):Qp(lr.stateNode,!1)}catch(Br){bs(lr,lr.return,Br)}}}else if((cn.tag!==22&&cn.tag!==23||cn.memoizedState===null||cn===T)&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===T)break e;for(;cn.sibling===null;){if(cn.return===null||cn.return===T)break e;fn===cn&&(fn=null),cn=cn.return}fn===cn&&(fn=null),cn.sibling.return=cn.return,cn=cn.sibling}pn&4&&(pn=T.updateQueue,pn!==null&&(fn=pn.retryQueue,fn!==null&&(pn.retryQueue=null,Yu(T,fn))));break;case 19:Ai(cn,T),vi(T),pn&4&&(pn=T.updateQueue,pn!==null&&(T.updateQueue=null,Yu(T,pn)));break;case 30:break;case 21:break;default:Ai(cn,T),vi(T)}}function vi(T){var cn=T.flags;if(cn&2){try{for(var fn,pn=T.return;pn!==null;){if(Zh(pn)){fn=pn;break}pn=pn.return}if(fn==null)throw Error(an(160));switch(fn.tag){case 27:var En=fn.stateNode,Rn=I0(T);qu(T,Rn,En);break;case 5:var Gn=fn.stateNode;fn.flags&32&&(Ua(Gn,""),fn.flags&=-33);var er=I0(T);qu(T,er,Gn);break;case 3:case 4:var lr=fn.stateNode.containerInfo,pr=I0(T);M0(T,pr,lr);break;default:throw Error(an(161))}}catch(vr){bs(T,T.return,vr)}T.flags&=-3}cn&4096&&(T.flags&=-4097)}function ap(T){if(T.subtreeFlags&1024)for(T=T.child;T!==null;){var cn=T;ap(cn),cn.tag===5&&cn.flags&1024&&cn.stateNode.reset(),T=T.sibling}}function Na(T,cn){if(cn.subtreeFlags&8772)for(cn=cn.child;cn!==null;)ep(T,cn.alternate,cn),cn=cn.sibling}function $o(T){for(T=T.child;T!==null;){var cn=T;switch(cn.tag){case 0:case 11:case 14:case 15:io(4,cn,cn.return),$o(cn);break;case 1:aa(cn,cn.return);var fn=cn.stateNode;typeof fn.componentWillUnmount=="function"&&Qh(cn,cn.return,fn),$o(cn);break;case 27:Lc(cn.stateNode);case 26:case 5:aa(cn,cn.return),$o(cn);break;case 22:cn.memoizedState===null&&$o(cn);break;case 30:$o(cn);break;default:$o(cn)}T=T.sibling}}function ja(T,cn,fn){for(fn=fn&&(cn.subtreeFlags&8772)!==0,cn=cn.child;cn!==null;){var pn=cn.alternate,En=T,Rn=cn,Gn=Rn.flags;switch(Rn.tag){case 0:case 11:case 15:ja(En,Rn,fn),Dc(4,Rn);break;case 1:if(ja(En,Rn,fn),pn=Rn,En=pn.stateNode,typeof En.componentDidMount=="function")try{En.componentDidMount()}catch(pr){bs(pn,pn.return,pr)}if(pn=Rn,En=pn.updateQueue,En!==null){var er=pn.stateNode;try{var lr=En.shared.hiddenCallbacks;if(lr!==null)for(En.shared.hiddenCallbacks=null,En=0;En<lr.length;En++)kd(lr[En],er)}catch(pr){bs(pn,pn.return,pr)}}fn&&Gn&64&&Jh(Rn),Nc(Rn,Rn.return);break;case 27:Vh(Rn);case 26:case 5:ja(En,Rn,fn),fn&&pn===null&&Gn&4&&Kh(Rn),Nc(Rn,Rn.return);break;case 12:ja(En,Rn,fn);break;case 31:ja(En,Rn,fn),fn&&Gn&4&&rp(En,Rn);break;case 13:ja(En,Rn,fn),fn&&Gn&4&&sp(En,Rn);break;case 22:Rn.memoizedState===null&&ja(En,Rn,fn),Nc(Rn,Rn.return);break;case 30:break;default:ja(En,Rn,fn)}cn=cn.sibling}}function z0(T,cn){var fn=null;T!==null&&T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(fn=T.memoizedState.cachePool.pool),T=null,cn.memoizedState!==null&&cn.memoizedState.cachePool!==null&&(T=cn.memoizedState.cachePool.pool),T!==fn&&(T!=null&&T.refCount++,fn!=null&&mc(fn))}function U0(T,cn){T=null,cn.alternate!==null&&(T=cn.alternate.memoizedState.cache),cn=cn.memoizedState.cache,cn!==T&&(cn.refCount++,T!=null&&mc(T))}function Yi(T,cn,fn,pn){if(cn.subtreeFlags&10256)for(cn=cn.child;cn!==null;)op(T,cn,fn,pn),cn=cn.sibling}function op(T,cn,fn,pn){var En=cn.flags;switch(cn.tag){case 0:case 11:case 15:Yi(T,cn,fn,pn),En&2048&&Dc(9,cn);break;case 1:Yi(T,cn,fn,pn);break;case 3:Yi(T,cn,fn,pn),En&2048&&(T=null,cn.alternate!==null&&(T=cn.alternate.memoizedState.cache),cn=cn.memoizedState.cache,cn!==T&&(cn.refCount++,T!=null&&mc(T)));break;case 12:if(En&2048){Yi(T,cn,fn,pn),T=cn.stateNode;try{var Rn=cn.memoizedProps,Gn=Rn.id,er=Rn.onPostCommit;typeof er=="function"&&er(Gn,cn.alternate===null?"mount":"update",T.passiveEffectDuration,-0)}catch(lr){bs(cn,cn.return,lr)}}else Yi(T,cn,fn,pn);break;case 31:Yi(T,cn,fn,pn);break;case 13:Yi(T,cn,fn,pn);break;case 23:break;case 22:Rn=cn.stateNode,Gn=cn.alternate,cn.memoizedState!==null?Rn._visibility&2?Yi(T,cn,fn,pn):jc(T,cn):Rn._visibility&2?Yi(T,cn,fn,pn):(Rn._visibility|=2,Cl(T,cn,fn,pn,(cn.subtreeFlags&10256)!==0||!1)),En&2048&&z0(Gn,cn);break;case 24:Yi(T,cn,fn,pn),En&2048&&U0(cn.alternate,cn);break;default:Yi(T,cn,fn,pn)}}function Cl(T,cn,fn,pn,En){for(En=En&&((cn.subtreeFlags&10256)!==0||!1),cn=cn.child;cn!==null;){var Rn=T,Gn=cn,er=fn,lr=pn,pr=Gn.flags;switch(Gn.tag){case 0:case 11:case 15:Cl(Rn,Gn,er,lr,En),Dc(8,Gn);break;case 23:break;case 22:var vr=Gn.stateNode;Gn.memoizedState!==null?vr._visibility&2?Cl(Rn,Gn,er,lr,En):jc(Rn,Gn):(vr._visibility|=2,Cl(Rn,Gn,er,lr,En)),En&&pr&2048&&z0(Gn.alternate,Gn);break;case 24:Cl(Rn,Gn,er,lr,En),En&&pr&2048&&U0(Gn.alternate,Gn);break;default:Cl(Rn,Gn,er,lr,En)}cn=cn.sibling}}function jc(T,cn){if(cn.subtreeFlags&10256)for(cn=cn.child;cn!==null;){var fn=T,pn=cn,En=pn.flags;switch(pn.tag){case 22:jc(fn,pn),En&2048&&z0(pn.alternate,pn);break;case 24:jc(fn,pn),En&2048&&U0(pn.alternate,pn);break;default:jc(fn,pn)}cn=cn.sibling}}var Bc=8192;function _l(T,cn,fn){if(T.subtreeFlags&Bc)for(T=T.child;T!==null;)lp(T,cn,fn),T=T.sibling}function lp(T,cn,fn){switch(T.tag){case 26:_l(T,cn,fn),T.flags&Bc&&T.memoizedState!==null&&R1(fn,qi,T.memoizedState,T.memoizedProps);break;case 5:_l(T,cn,fn);break;case 3:case 4:var pn=qi;qi=lf(T.stateNode.containerInfo),_l(T,cn,fn),qi=pn;break;case 22:T.memoizedState===null&&(pn=T.alternate,pn!==null&&pn.memoizedState!==null?(pn=Bc,Bc=16777216,_l(T,cn,fn),Bc=pn):_l(T,cn,fn));break;default:_l(T,cn,fn)}}function cp(T){var cn=T.alternate;if(cn!==null&&(T=cn.child,T!==null)){cn.child=null;do cn=T.sibling,T.sibling=null,T=cn;while(T!==null)}}function Oc(T){var cn=T.deletions;if((T.flags&16)!==0){if(cn!==null)for(var fn=0;fn<cn.length;fn++){var pn=cn[fn];Xs=pn,fp(pn,T)}cp(T)}if(T.subtreeFlags&10256)for(T=T.child;T!==null;)up(T),T=T.sibling}function up(T){switch(T.tag){case 0:case 11:case 15:Oc(T),T.flags&2048&&io(9,T,T.return);break;case 3:Oc(T);break;case 12:Oc(T);break;case 22:var cn=T.stateNode;T.memoizedState!==null&&cn._visibility&2&&(T.return===null||T.return.tag!==13)?(cn._visibility&=-3,Ju(T)):Oc(T);break;default:Oc(T)}}function Ju(T){var cn=T.deletions;if((T.flags&16)!==0){if(cn!==null)for(var fn=0;fn<cn.length;fn++){var pn=cn[fn];Xs=pn,fp(pn,T)}cp(T)}for(T=T.child;T!==null;){switch(cn=T,cn.tag){case 0:case 11:case 15:io(8,cn,cn.return),Ju(cn);break;case 22:fn=cn.stateNode,fn._visibility&2&&(fn._visibility&=-3,Ju(cn));break;default:Ju(cn)}T=T.sibling}}function fp(T,cn){for(;Xs!==null;){var fn=Xs;switch(fn.tag){case 0:case 11:case 15:io(8,fn,cn);break;case 23:case 22:if(fn.memoizedState!==null&&fn.memoizedState.cachePool!==null){var pn=fn.memoizedState.cachePool.pool;pn!=null&&pn.refCount++}break;case 24:mc(fn.memoizedState.cache)}if(pn=fn.child,pn!==null)pn.return=fn,Xs=pn;else e:for(fn=T;Xs!==null;){pn=Xs;var En=pn.sibling,Rn=pn.return;if(tp(pn),pn===fn){Xs=null;break e}if(En!==null){En.return=Rn,Xs=En;break e}Xs=Rn}}}var $m={getCacheForType:function(T){var cn=ni(qs),fn=cn.data.get(T);return fn===void 0&&(fn=T(),cn.data.set(T,fn)),fn},cacheSignal:function(){return ni(qs).controller.signal}},Pm=typeof WeakMap=="function"?WeakMap:Map,ws=0,Ds=null,as=null,cs=0,ys=0,ji=null,ao=!1,Rl=!1,H0=!1,Ba=0,Us=0,oo=0,Po=0,$0=0,Bi=0,Dl=0,Tc=null,yi=null,P0=!1,Qu=0,dp=0,Ku=1/0,Zu=null,lo=null,Zs=0,co=null,Nl=null,Oa=0,W0=0,G0=null,hp=null,Fc=0,q0=null;function Oi(){return(ws&2)!==0&&cs!==0?cs&-cs:Yn.T!==null?V0():Gc()}function pp(){if(Bi===0)if((cs&536870912)===0||_r){var T=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),Bi=T}else Bi=536870912;return T=Di.current,T!==null&&(T.flags|=32),Bi}function bi(T,cn,fn){(T===Ds&&(ys===2||ys===9)||T.cancelPendingCommit!==null)&&(jl(T,0),uo(T,cs,Bi,!1)),zi(T,fn),((ws&2)===0||T!==Ds)&&(T===Ds&&((ws&2)===0&&(Po|=fn),Us===4&&uo(T,cs,Bi,!1)),oa(T))}function mp(T,cn,fn){if((ws&6)!==0)throw Error(an(327));var pn=!fn&&(cn&127)===0&&(cn&T.expiredLanes)===0||Si(T,cn),En=pn?qm(T,cn):J0(T,cn,!0),Rn=pn;do{if(En===0){Rl&&!pn&&uo(T,cn,0,!1);break}else{if(fn=T.current.alternate,Rn&&!Wm(fn)){En=J0(T,cn,!1),Rn=!1;continue}if(En===2){if(Rn=cn,T.errorRecoveryDisabledLanes&Rn)var Gn=0;else Gn=T.pendingLanes&-536870913,Gn=Gn!==0?Gn:Gn&536870912?536870912:0;if(Gn!==0){cn=Gn;e:{var er=T;En=Tc;var lr=er.current.memoizedState.isDehydrated;if(lr&&(jl(er,Gn).flags|=256),Gn=J0(er,Gn,!1),Gn!==2){if(H0&&!lr){er.errorRecoveryDisabledLanes|=Rn,Po|=Rn,En=4;break e}Rn=yi,yi=En,Rn!==null&&(yi===null?yi=Rn:yi.push.apply(yi,Rn))}En=Gn}if(Rn=!1,En!==2)continue}}if(En===1){jl(T,0),uo(T,cn,0,!0);break}e:{switch(pn=T,Rn=En,Rn){case 0:case 1:throw Error(an(345));case 4:if((cn&4194048)!==cn)break;case 6:uo(pn,cn,Bi,!ao);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(an(329))}if((cn&62914560)===cn&&(En=Qu+300-Yr(),10<En)){if(uo(pn,cn,Bi,!ao),Fa(pn,0,!0)!==0)break e;Oa=cn,pn.timeoutHandle=qp(gp.bind(null,pn,fn,yi,Zu,P0,cn,Bi,Po,Dl,ao,Rn,"Throttled",-0,0),En);break e}gp(pn,fn,yi,Zu,P0,cn,Bi,Po,Dl,ao,Rn,null,-0,0)}}break}while(!0);oa(T)}function gp(T,cn,fn,pn,En,Rn,Gn,er,lr,pr,vr,Er,mr,Ar){if(T.timeoutHandle=-1,Er=cn.subtreeFlags,Er&8192||(Er&16785408)===16785408){Er={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},lp(cn,Rn,Er);var Br=(Rn&62914560)===Rn?Qu-Yr():(Rn&4194048)===Rn?dp-Yr():0;if(Br=D1(Er,Br),Br!==null){Oa=Rn,T.cancelPendingCommit=Br(Sp.bind(null,T,cn,Rn,fn,pn,En,Gn,er,lr,vr,Er,null,mr,Ar)),uo(T,Rn,Gn,!pr);return}}Sp(T,cn,Rn,fn,pn,En,Gn,er,lr)}function Wm(T){for(var cn=T;;){var fn=cn.tag;if((fn===0||fn===11||fn===15)&&cn.flags&16384&&(fn=cn.updateQueue,fn!==null&&(fn=fn.stores,fn!==null)))for(var pn=0;pn<fn.length;pn++){var En=fn[pn],Rn=En.getSnapshot;En=En.value;try{if(!li(Rn(),En))return!1}catch{return!1}}if(fn=cn.child,cn.subtreeFlags&16384&&fn!==null)fn.return=cn,cn=fn;else{if(cn===T)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===T)return!0;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}}return!0}function uo(T,cn,fn,pn){cn&=~$0,cn&=~Po,T.suspendedLanes|=cn,T.pingedLanes&=~cn,pn&&(T.warmLanes|=cn),pn=T.expirationTimes;for(var En=cn;0<En;){var Rn=31-Is(En),Gn=1<<Rn;pn[Rn]=-1,En&=~Gn}fn!==0&&ka(T,fn,cn)}function Vu(){return(ws&6)===0?(kc(0),!1):!0}function Y0(){if(as!==null){if(ys===0)var T=as.return;else T=as,Ls=Hs=null,c0(T),vl=null,xc=0,T=as;for(;T!==null;)Yh(T.alternate,T),T=T.return;as=null}}function jl(T,cn){var fn=T.timeoutHandle;fn!==-1&&(T.timeoutHandle=-1,u1(fn)),fn=T.cancelPendingCommit,fn!==null&&(T.cancelPendingCommit=null,fn()),Oa=0,Y0(),Ds=T,as=fn=ei(T.current,null),cs=cn,ys=0,ji=null,ao=!1,Rl=Si(T,cn),H0=!1,Dl=Bi=$0=Po=oo=Us=0,yi=Tc=null,P0=!1,(cn&8)!==0&&(cn|=cn&32);var pn=T.entangledLanes;if(pn!==0)for(T=T.entanglements,pn&=cn;0<pn;){var En=31-Is(pn),Rn=1<<En;cn|=T[En],pn&=~Rn}return Ba=cn,xa(),fn}function xp(T,cn){Vr=null,Yn.H=Cc,cn===Al||cn===Ru?(cn=Bd(),ys=3):cn===Zf?(cn=Bd(),ys=4):ys=cn===C0?8:cn!==null&&typeof cn=="object"&&typeof cn.then=="function"?6:1,ji=cn,as===null&&(Us=1,Hu(T,mi(cn,T.current)))}function wp(){var T=Di.current;return T===null?!0:(cs&4194048)===cs?ki===null:(cs&62914560)===cs||(cs&536870912)!==0?T===ki:!1}function Ap(){var T=Yn.H;return Yn.H=Cc,T===null?Cc:T}function vp(){var T=Yn.A;return Yn.A=$m,T}function Xu(){Us=4,ao||(cs&4194048)!==cs&&Di.current!==null||(Rl=!0),(oo&134217727)===0&&(Po&134217727)===0||Ds===null||uo(Ds,cs,Bi,!1)}function J0(T,cn,fn){var pn=ws;ws|=2;var En=Ap(),Rn=vp();(Ds!==T||cs!==cn)&&(Zu=null,jl(T,cn)),cn=!1;var Gn=Us;e:do try{if(ys!==0&&as!==null){var er=as,lr=ji;switch(ys){case 8:Y0(),Gn=6;break e;case 3:case 2:case 9:case 6:Di.current===null&&(cn=!0);var pr=ys;if(ys=0,ji=null,Bl(T,er,lr,pr),fn&&Rl){Gn=0;break e}break;default:pr=ys,ys=0,ji=null,Bl(T,er,lr,pr)}}Gm(),Gn=Us;break}catch(vr){xp(T,vr)}while(!0);return cn&&T.shellSuspendCounter++,Ls=Hs=null,ws=pn,Yn.H=En,Yn.A=Rn,as===null&&(Ds=null,cs=0,xa()),Gn}function Gm(){for(;as!==null;)yp(as)}function qm(T,cn){var fn=ws;ws|=2;var pn=Ap(),En=vp();Ds!==T||cs!==cn?(Zu=null,Ku=Yr()+500,jl(T,cn)):Rl=Si(T,cn);e:do try{if(ys!==0&&as!==null){cn=as;var Rn=ji;t:switch(ys){case 1:ys=0,ji=null,Bl(T,cn,Rn,1);break;case 2:case 9:if(Nd(Rn)){ys=0,ji=null,bp(cn);break}cn=function(){ys!==2&&ys!==9||Ds!==T||(ys=7),oa(T)},Rn.then(cn,cn);break e;case 3:ys=7;break e;case 4:ys=5;break e;case 7:Nd(Rn)?(ys=0,ji=null,bp(cn)):(ys=0,ji=null,Bl(T,cn,Rn,7));break;case 5:var Gn=null;switch(as.tag){case 26:Gn=as.memoizedState;case 5:case 27:var er=as;if(Gn?om(Gn):er.stateNode.complete){ys=0,ji=null;var lr=er.sibling;if(lr!==null)as=lr;else{var pr=er.return;pr!==null?(as=pr,ef(pr)):as=null}break t}}ys=0,ji=null,Bl(T,cn,Rn,5);break;case 6:ys=0,ji=null,Bl(T,cn,Rn,6);break;case 8:Y0(),Us=6;break e;default:throw Error(an(462))}}Ym();break}catch(vr){xp(T,vr)}while(!0);return Ls=Hs=null,Yn.H=pn,Yn.A=En,ws=fn,as!==null?0:(Ds=null,cs=0,xa(),Us)}function Ym(){for(;as!==null&&!ns();)yp(as)}function yp(T){var cn=Gh(T.alternate,T,Ba);T.memoizedProps=T.pendingProps,cn===null?ef(T):as=cn}function bp(T){var cn=T,fn=cn.alternate;switch(cn.tag){case 15:case 0:cn=Lh(fn,cn,cn.pendingProps,cn.type,void 0,cs);break;case 11:cn=Lh(fn,cn,cn.pendingProps,cn.type.render,cn.ref,cs);break;case 5:c0(cn);default:Yh(fn,cn),cn=as=va(cn,Ba),cn=Gh(fn,cn,Ba)}T.memoizedProps=T.pendingProps,cn===null?ef(T):as=cn}function Bl(T,cn,fn,pn){Ls=Hs=null,c0(cn),vl=null,xc=0;var En=cn.return;try{if(km(T,En,cn,fn,cs)){Us=1,Hu(T,mi(fn,T.current)),as=null;return}}catch(Rn){if(En!==null)throw as=En,Rn;Us=1,Hu(T,mi(fn,T.current)),as=null;return}cn.flags&32768?(_r||pn===1?T=!0:Rl||(cs&536870912)!==0?T=!1:(ao=T=!0,(pn===2||pn===9||pn===3||pn===6)&&(pn=Di.current,pn!==null&&pn.tag===13&&(pn.flags|=16384))),Ep(cn,T)):ef(cn)}function ef(T){var cn=T;do{if((cn.flags&32768)!==0){Ep(cn,ao);return}T=cn.return;var fn=Lm(cn.alternate,cn,Ba);if(fn!==null){as=fn;return}if(cn=cn.sibling,cn!==null){as=cn;return}as=cn=T}while(cn!==null);Us===0&&(Us=5)}function Ep(T,cn){do{var fn=zm(T.alternate,T);if(fn!==null){fn.flags&=32767,as=fn;return}if(fn=T.return,fn!==null&&(fn.flags|=32768,fn.subtreeFlags=0,fn.deletions=null),!cn&&(T=T.sibling,T!==null)){as=T;return}as=T=fn}while(T!==null);Us=6,as=null}function Sp(T,cn,fn,pn,En,Rn,Gn,er,lr){T.cancelPendingCommit=null;do tf();while(Zs!==0);if((ws&6)!==0)throw Error(an(327));if(cn!==null){if(cn===T.current)throw Error(an(177));if(Rn=cn.lanes|cn.childLanes,Rn|=ga,Ml(T,fn,Rn,Gn,er,lr),T===Ds&&(as=Ds=null,cs=0),Nl=cn,co=T,Oa=fn,W0=Rn,G0=En,hp=pn,(cn.subtreeFlags&10256)!==0||(cn.flags&10256)!==0?(T.callbackNode=null,T.callbackPriority=0,Zm(is,function(){return Np(),null})):(T.callbackNode=null,T.callbackPriority=0),pn=(cn.flags&13878)!==0,(cn.subtreeFlags&13878)!==0||pn){pn=Yn.T,Yn.T=null,En=Qn.p,Qn.p=2,Gn=ws,ws|=4;try{Um(T,cn,fn)}finally{ws=Gn,Qn.p=En,Yn.T=pn}}Zs=1,Cp(),_p(),Rp()}}function Cp(){if(Zs===1){Zs=0;var T=co,cn=Nl,fn=(cn.flags&13878)!==0;if((cn.subtreeFlags&13878)!==0||fn){fn=Yn.T,Yn.T=null;var pn=Qn.p;Qn.p=2;var En=ws;ws|=4;try{ip(cn,T);var Rn=od,Gn=wu(T.containerInfo),er=Rn.focusedElem,lr=Rn.selectionRange;if(Gn!==er&&er&&er.ownerDocument&&xu(er.ownerDocument.documentElement,er)){if(lr!==null&&ac(er)){var pr=lr.start,vr=lr.end;if(vr===void 0&&(vr=pr),"selectionStart"in er)er.selectionStart=pr,er.selectionEnd=Math.min(vr,er.value.length);else{var Er=er.ownerDocument||document,mr=Er&&Er.defaultView||window;if(mr.getSelection){var Ar=mr.getSelection(),Br=er.textContent.length,Ur=Math.min(lr.start,Br),Cs=lr.end===void 0?Ur:Math.min(lr.end,Br);!Ar.extend&&Ur>Cs&&(Gn=Cs,Cs=Ur,Ur=Gn);var fr=gu(er,Ur),cr=gu(er,Cs);if(fr&&cr&&(Ar.rangeCount!==1||Ar.anchorNode!==fr.node||Ar.anchorOffset!==fr.offset||Ar.focusNode!==cr.node||Ar.focusOffset!==cr.offset)){var hr=Er.createRange();hr.setStart(fr.node,fr.offset),Ar.removeAllRanges(),Ur>Cs?(Ar.addRange(hr),Ar.extend(cr.node,cr.offset)):(hr.setEnd(cr.node,cr.offset),Ar.addRange(hr))}}}}for(Er=[],Ar=er;Ar=Ar.parentNode;)Ar.nodeType===1&&Er.push({element:Ar,left:Ar.scrollLeft,top:Ar.scrollTop});for(typeof er.focus=="function"&&er.focus(),er=0;er<Er.length;er++){var br=Er[er];br.element.scrollLeft=br.left,br.element.scrollTop=br.top}}pf=!!ad,od=ad=null}finally{ws=En,Qn.p=pn,Yn.T=fn}}T.current=cn,Zs=2}}function _p(){if(Zs===2){Zs=0;var T=co,cn=Nl,fn=(cn.flags&8772)!==0;if((cn.subtreeFlags&8772)!==0||fn){fn=Yn.T,Yn.T=null;var pn=Qn.p;Qn.p=2;var En=ws;ws|=4;try{ep(T,cn.alternate,cn)}finally{ws=En,Qn.p=pn,Yn.T=fn}}Zs=3}}function Rp(){if(Zs===4||Zs===3){Zs=0,ss();var T=co,cn=Nl,fn=Oa,pn=hp;(cn.subtreeFlags&10256)!==0||(cn.flags&10256)!==0?Zs=5:(Zs=0,Nl=co=null,Dp(T,T.pendingLanes));var En=T.pendingLanes;if(En===0&&(lo=null),Ao(fn),cn=cn.stateNode,Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(_s,cn,void 0,(cn.current.flags&128)===128)}catch{}if(pn!==null){cn=Yn.T,En=Qn.p,Qn.p=2,Yn.T=null;try{for(var Rn=T.onRecoverableError,Gn=0;Gn<pn.length;Gn++){var er=pn[Gn];Rn(er.value,{componentStack:er.stack})}}finally{Yn.T=cn,Qn.p=En}}(Oa&3)!==0&&tf(),oa(T),En=T.pendingLanes,(fn&261930)!==0&&(En&42)!==0?T===q0?Fc++:(Fc=0,q0=T):Fc=0,kc(0)}}function Dp(T,cn){(T.pooledCacheLanes&=cn)===0&&(cn=T.pooledCache,cn!=null&&(T.pooledCache=null,mc(cn)))}function tf(){return Cp(),_p(),Rp(),Np()}function Np(){if(Zs!==5)return!1;var T=co,cn=W0;W0=0;var fn=Ao(Oa),pn=Yn.T,En=Qn.p;try{Qn.p=32>fn?32:fn,Yn.T=null,fn=G0,G0=null;var Rn=co,Gn=Oa;if(Zs=0,Nl=co=null,Oa=0,(ws&6)!==0)throw Error(an(331));var er=ws;if(ws|=4,up(Rn.current),op(Rn,Rn.current,Gn,fn),ws=er,kc(0,!1),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(_s,Rn)}catch{}return!0}finally{Qn.p=En,Yn.T=pn,Dp(T,cn)}}function jp(T,cn,fn){cn=mi(fn,cn),cn=S0(T.stateNode,cn,2),T=no(T,cn,2),T!==null&&(zi(T,2),oa(T))}function bs(T,cn,fn){if(T.tag===3)jp(T,T,fn);else for(;cn!==null;){if(cn.tag===3){jp(cn,T,fn);break}else if(cn.tag===1){var pn=cn.stateNode;if(typeof cn.type.getDerivedStateFromError=="function"||typeof pn.componentDidCatch=="function"&&(lo===null||!lo.has(pn))){T=mi(fn,T),fn=jh(2),pn=no(cn,fn,2),pn!==null&&(Bh(fn,pn,cn,T),zi(pn,2),oa(pn));break}}cn=cn.return}}function Q0(T,cn,fn){var pn=T.pingCache;if(pn===null){pn=T.pingCache=new Pm;var En=new Set;pn.set(cn,En)}else En=pn.get(cn),En===void 0&&(En=new Set,pn.set(cn,En));En.has(fn)||(H0=!0,En.add(fn),T=Jm.bind(null,T,cn,fn),cn.then(T,T))}function Jm(T,cn,fn){var pn=T.pingCache;pn!==null&&pn.delete(cn),T.pingedLanes|=T.suspendedLanes&fn,T.warmLanes&=~fn,Ds===T&&(cs&fn)===fn&&(Us===4||Us===3&&(cs&62914560)===cs&&300>Yr()-Qu?(ws&2)===0&&jl(T,0):$0|=fn,Dl===cs&&(Dl=0)),oa(T)}function Bp(T,cn){cn===0&&(cn=Lr()),T=wa(T,cn),T!==null&&(zi(T,cn),oa(T))}function Qm(T){var cn=T.memoizedState,fn=0;cn!==null&&(fn=cn.retryLane),Bp(T,fn)}function Km(T,cn){var fn=0;switch(T.tag){case 31:case 13:var pn=T.stateNode,En=T.memoizedState;En!==null&&(fn=En.retryLane);break;case 19:pn=T.stateNode;break;case 22:pn=T.stateNode._retryCache;break;default:throw Error(an(314))}pn!==null&&pn.delete(cn),Bp(T,fn)}function Zm(T,cn){return Mr(T,cn)}var nf=null,Ol=null,K0=!1,rf=!1,Z0=!1,fo=0;function oa(T){T!==Ol&&T.next===null&&(Ol===null?nf=Ol=T:Ol=Ol.next=T),rf=!0,K0||(K0=!0,Xm())}function kc(T,cn){if(!Z0&&rf){Z0=!0;do for(var fn=!1,pn=nf;pn!==null;){if(T!==0){var En=pn.pendingLanes;if(En===0)var Rn=0;else{var Gn=pn.suspendedLanes,er=pn.pingedLanes;Rn=(1<<31-Is(42|T)+1)-1,Rn&=En&~(Gn&~er),Rn=Rn&201326741?Rn&201326741|1:Rn?Rn|2:0}Rn!==0&&(fn=!0,kp(pn,Rn))}else Rn=cs,Rn=Fa(pn,pn===Ds?Rn:0,pn.cancelPendingCommit!==null||pn.timeoutHandle!==-1),(Rn&3)===0||Si(pn,Rn)||(fn=!0,kp(pn,Rn));pn=pn.next}while(fn);Z0=!1}}function Vm(){Op()}function Op(){rf=K0=!1;var T=0;fo!==0&&c1()&&(T=fo);for(var cn=Yr(),fn=null,pn=nf;pn!==null;){var En=pn.next,Rn=Tp(pn,cn);Rn===0?(pn.next=null,fn===null?nf=En:fn.next=En,En===null&&(Ol=fn)):(fn=pn,(T!==0||(Rn&3)!==0)&&(rf=!0)),pn=En}Zs!==0&&Zs!==5||kc(T),fo!==0&&(fo=0)}function Tp(T,cn){for(var fn=T.suspendedLanes,pn=T.pingedLanes,En=T.expirationTimes,Rn=T.pendingLanes&-62914561;0<Rn;){var Gn=31-Is(Rn),er=1<<Gn,lr=En[Gn];lr===-1?((er&fn)===0||(er&pn)!==0)&&(En[Gn]=Wo(er,cn)):lr<=cn&&(T.expiredLanes|=er),Rn&=~er}if(cn=Ds,fn=cs,fn=Fa(T,T===cn?fn:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),pn=T.callbackNode,fn===0||T===cn&&(ys===2||ys===9)||T.cancelPendingCommit!==null)return pn!==null&&pn!==null&&ts(pn),T.callbackNode=null,T.callbackPriority=0;if((fn&3)===0||Si(T,fn)){if(cn=fn&-fn,cn===T.callbackPriority)return cn;switch(pn!==null&&ts(pn),Ao(fn)){case 2:case 8:fn=Hr;break;case 32:fn=is;break;case 268435456:fn=Ji;break;default:fn=is}return pn=Fp.bind(null,T),fn=Mr(fn,pn),T.callbackPriority=cn,T.callbackNode=fn,cn}return pn!==null&&pn!==null&&ts(pn),T.callbackPriority=2,T.callbackNode=null,2}function Fp(T,cn){if(Zs!==0&&Zs!==5)return T.callbackNode=null,T.callbackPriority=0,null;var fn=T.callbackNode;if(tf()&&T.callbackNode!==fn)return null;var pn=cs;return pn=Fa(T,T===Ds?pn:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),pn===0?null:(mp(T,pn,cn),Tp(T,Yr()),T.callbackNode!=null&&T.callbackNode===fn?Fp.bind(null,T):null)}function kp(T,cn){if(tf())return null;mp(T,cn,!0)}function Xm(){f1(function(){(ws&6)!==0?Mr(Jr,Vm):Op()})}function V0(){if(fo===0){var T=xl;T===0&&(T=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),fo=T}return fo}function Ip(T){return T==null||typeof T=="symbol"||typeof T=="boolean"?null:typeof T=="function"?T:Qo(""+T)}function Mp(T,cn){var fn=cn.ownerDocument.createElement("input");return fn.name=cn.name,fn.value=cn.value,T.id&&fn.setAttribute("form",T.id),cn.parentNode.insertBefore(fn,cn),T=new FormData(T),fn.parentNode.removeChild(fn),T}function e1(T,cn,fn,pn,En){if(cn==="submit"&&fn&&fn.stateNode===En){var Rn=Ip((En[ai]||null).action),Gn=pn.submitter;Gn&&(cn=(cn=Gn[ai]||null)?Ip(cn.formAction):Gn.getAttribute("formAction"),cn!==null&&(Rn=cn,Gn=null));var er=new el("action","action",null,pn,En);T.push({event:er,listeners:[{instance:null,listener:function(){if(pn.defaultPrevented){if(fo!==0){var lr=Gn?Mp(En,Gn):new FormData(En);w0(fn,{pending:!0,data:lr,method:En.method,action:Rn},null,lr)}}else typeof Rn=="function"&&(er.preventDefault(),lr=Gn?Mp(En,Gn):new FormData(En),w0(fn,{pending:!0,data:lr,method:En.method,action:Rn},Rn,lr))},currentTarget:En}]})}}for(var X0=0;X0<fc.length;X0++){var ed=fc[X0],t1=ed.toLowerCase(),n1=ed[0].toUpperCase()+ed.slice(1);oi(t1,"on"+n1)}oi(Au,"onAnimationEnd"),oi(cc,"onAnimationIteration"),oi(Qa,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(vu,"onTransitionRun"),oi(cl,"onTransitionStart"),oi(uc,"onTransitionCancel"),oi(ul,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function Lp(T,cn){cn=(cn&4)!==0;for(var fn=0;fn<T.length;fn++){var pn=T[fn],En=pn.event;pn=pn.listeners;e:{var Rn=void 0;if(cn)for(var Gn=pn.length-1;0<=Gn;Gn--){var er=pn[Gn],lr=er.instance,pr=er.currentTarget;if(er=er.listener,lr!==Rn&&En.isPropagationStopped())break e;Rn=er,En.currentTarget=pr;try{Rn(En)}catch(vr){ma(vr)}En.currentTarget=null,Rn=lr}else for(Gn=0;Gn<pn.length;Gn++){if(er=pn[Gn],lr=er.instance,pr=er.currentTarget,er=er.listener,lr!==Rn&&En.isPropagationStopped())break e;Rn=er,En.currentTarget=pr;try{Rn(En)}catch(vr){ma(vr)}En.currentTarget=null,Rn=lr}}}}function os(T,cn){var fn=cn[hs];fn===void 0&&(fn=cn[hs]=new Set);var pn=T+"__bubble";fn.has(pn)||(zp(cn,T,2,!1),fn.add(pn))}function nd(T,cn,fn){var pn=0;cn&&(pn|=4),zp(fn,T,pn,cn)}var sf="_reactListening"+Math.random().toString(36).slice(2);function rd(T){if(!T[sf]){T[sf]=!0,Zr.forEach(function(fn){fn!=="selectionchange"&&(r1.has(fn)||nd(fn,!1,T),nd(fn,!0,T))});var cn=T.nodeType===9?T:T.ownerDocument;cn===null||cn[sf]||(cn[sf]=!0,nd("selectionchange",!1,cn))}}function zp(T,cn,fn,pn){switch(pm(cn)){case 2:var En=B1;break;case 8:En=O1;break;default:En=Ad}fn=En.bind(null,cn,fn,T),En=void 0,!Zo||cn!=="touchstart"&&cn!=="touchmove"&&cn!=="wheel"||(En=!0),pn?En!==void 0?T.addEventListener(cn,fn,{capture:!0,passive:En}):T.addEventListener(cn,fn,!0):En!==void 0?T.addEventListener(cn,fn,{passive:En}):T.addEventListener(cn,fn,!1)}function sd(T,cn,fn,pn,En){var Rn=pn;if((cn&1)===0&&(cn&2)===0&&pn!==null)e:for(;;){if(pn===null)return;var Gn=pn.tag;if(Gn===3||Gn===4){var er=pn.stateNode.containerInfo;if(er===En)break;if(Gn===4)for(Gn=pn.return;Gn!==null;){var lr=Gn.tag;if((lr===3||lr===4)&&Gn.stateNode.containerInfo===En)return;Gn=Gn.return}for(;er!==null;){if(Gn=Pr(er),Gn===null)return;if(lr=Gn.tag,lr===5||lr===6||lr===26||lr===27){pn=Rn=Gn;continue e}er=er.parentNode}}pn=pn.return}Ko(function(){var pr=Rn,vr=Gl(fn),Er=[];e:{var mr=yu.get(T);if(mr!==void 0){var Ar=el,Br=T;switch(T){case"keypress":if(Xo(fn)===0)break e;case"keydown":case"keyup":Ar=al;break;case"focusin":Br="focus",Ar=Wa;break;case"focusout":Br="blur",Ar=Wa;break;case"beforeblur":case"afterblur":Ar=Wa;break;case"click":if(fn.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ar=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ar=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ar=Ff;break;case Au:case cc:case Qa:Ar=sl;break;case ul:Ar=If;break;case"scroll":case"scrollend":Ar=Rf;break;case"wheel":Ar=Xl;break;case"copy":case"cut":case"paste":Ar=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ar=Vl;break;case"toggle":case"beforetoggle":Ar=iu}var Ur=(cn&4)!==0,Cs=!Ur&&(T==="scroll"||T==="scrollend"),fr=Ur?mr!==null?mr+"Capture":null:mr;Ur=[];for(var cr=pr,hr;cr!==null;){var br=cr;if(hr=br.stateNode,br=br.tag,br!==5&&br!==26&&br!==27||hr===null||fr===null||(br=yo(cr,fr),br!=null&&Ur.push(Mc(cr,br,hr))),Cs)break;cr=cr.return}0<Ur.length&&(mr=new Ar(mr,Br,null,fn,vr),Er.push({event:mr,listeners:Ur}))}}if((cn&7)===0){e:{if(mr=T==="mouseover"||T==="pointerover",Ar=T==="mouseout"||T==="pointerout",mr&&fn!==Wl&&(Br=fn.relatedTarget||fn.fromElement)&&(Pr(Br)||Br[Ia]))break e;if((Ar||mr)&&(mr=vr.window===vr?vr:(mr=vr.ownerDocument)?mr.defaultView||mr.parentWindow:window,Ar?(Br=fn.relatedTarget||fn.toElement,Ar=pr,Br=Br?Pr(Br):null,Br!==null&&(Cs=dn(Br),Ur=Br.tag,Br!==Cs||Ur!==5&&Ur!==27&&Ur!==6)&&(Br=null)):(Ar=null,Br=pr),Ar!==Br)){if(Ur=nu,br="onMouseLeave",fr="onMouseEnter",cr="mouse",(T==="pointerout"||T==="pointerover")&&(Ur=Vl,br="onPointerLeave",fr="onPointerEnter",cr="pointer"),Cs=Ar==null?mr:vo(Ar),hr=Br==null?mr:vo(Br),mr=new Ur(br,cr+"leave",Ar,fn,vr),mr.target=Cs,mr.relatedTarget=hr,br=null,Pr(vr)===pr&&(Ur=new Ur(fr,cr+"enter",Br,fn,vr),Ur.target=hr,Ur.relatedTarget=Cs,br=Ur),Cs=br,Ar&&Br)t:{for(Ur=s1,fr=Ar,cr=Br,hr=0,br=fr;br;br=Ur(br))hr++;br=0;for(var kr=cr;kr;kr=Ur(kr))br++;for(;0<hr-br;)fr=Ur(fr),hr--;for(;0<br-hr;)cr=Ur(cr),br--;for(;hr--;){if(fr===cr||cr!==null&&fr===cr.alternate){Ur=fr;break t}fr=Ur(fr),cr=Ur(cr)}Ur=null}else Ur=null;Ar!==null&&Up(Er,mr,Ar,Ur,!1),Br!==null&&Cs!==null&&Up(Er,Cs,Br,Ur,!0)}}e:{if(mr=pr?vo(pr):window,Ar=mr.nodeName&&mr.nodeName.toLowerCase(),Ar==="select"||Ar==="input"&&mr.type==="file")var ms=fu;else if(nc(mr))if(sc)ms=da;else{ms=ic;var Tr=pu}else Ar=mr.nodeName,!Ar||Ar.toLowerCase()!=="input"||mr.type!=="checkbox"&&mr.type!=="radio"?pr&&Pl(pr.elementType)&&(ms=fu):ms=fa;if(ms&&(ms=ms(T,pr))){rc(Er,ms,fn,vr);break e}Tr&&Tr(T,mr,pr),T==="focusout"&&pr&&mr.type==="number"&&pr.memoizedProps.value!=null&&$l(mr,"number",mr.value)}switch(Tr=pr?vo(pr):window,T){case"focusin":(nc(Tr)||Tr.contentEditable==="true")&&(Pi=Tr,ll=pr,Bo=null);break;case"focusout":Bo=ll=Pi=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,Oo(Er,fn,vr);break;case"selectionchange":if(qf)break;case"keydown":case"keyup":Oo(Er,fn,vr)}var Xr;if(tc)e:{switch(T){case"compositionstart":var us="onCompositionStart";break e;case"compositionend":us="onCompositionEnd";break e;case"compositionupdate":us="onCompositionUpdate";break e}us=void 0}else Ga?cu(T,fn)&&(us="onCompositionEnd"):T==="keydown"&&fn.keyCode===229&&(us="onCompositionStart");us&&(au&&fn.locale!=="ko"&&(Ga||us!=="onCompositionStart"?us==="onCompositionEnd"&&Ga&&(Xr=eu()):(ra=vr,Yl="value"in ra?ra.value:ra.textContent,Ga=!0)),Tr=af(pr,us),0<Tr.length&&(us=new Co(us,T,null,fn,vr),Er.push({event:us,listeners:Tr}),Xr?us.data=Xr:(Xr=uu(fn),Xr!==null&&(us.data=Xr)))),(Xr=Uf?Hf(T,fn):$f(T,fn))&&(us=af(pr,"onBeforeInput"),0<us.length&&(Tr=new Co("onBeforeInput","beforeinput",null,fn,vr),Er.push({event:Tr,listeners:us}),Tr.data=Xr)),e1(Er,T,pr,fn,vr)}Lp(Er,cn)})}function Mc(T,cn,fn){return{instance:T,listener:cn,currentTarget:fn}}function af(T,cn){for(var fn=cn+"Capture",pn=[];T!==null;){var En=T,Rn=En.stateNode;if(En=En.tag,En!==5&&En!==26&&En!==27||Rn===null||(En=yo(T,fn),En!=null&&pn.unshift(Mc(T,En,Rn)),En=yo(T,cn),En!=null&&pn.push(Mc(T,En,Rn))),T.tag===3)return pn;T=T.return}return[]}function s1(T){if(T===null)return null;do T=T.return;while(T&&T.tag!==5&&T.tag!==27);return T||null}function Up(T,cn,fn,pn,En){for(var Rn=cn._reactName,Gn=[];fn!==null&&fn!==pn;){var er=fn,lr=er.alternate,pr=er.stateNode;if(er=er.tag,lr!==null&&lr===pn)break;er!==5&&er!==26&&er!==27||pr===null||(lr=pr,En?(pr=yo(fn,Rn),pr!=null&&Gn.unshift(Mc(fn,pr,lr))):En||(pr=yo(fn,Rn),pr!=null&&Gn.push(Mc(fn,pr,lr)))),fn=fn.return}Gn.length!==0&&T.push({event:cn,listeners:Gn})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Hp(T){return(typeof T=="string"?T:""+T).replace(i1,`
`).replace(a1,"")}function $p(T,cn){return cn=Hp(cn),Hp(T)===cn}function Ss(T,cn,fn,pn,En,Rn){switch(fn){case"children":typeof pn=="string"?cn==="body"||cn==="textarea"&&pn===""||Ua(T,pn):(typeof pn=="number"||typeof pn=="bigint")&&cn!=="body"&&Ua(T,""+pn);break;case"className":ca(T,"class",pn);break;case"tabIndex":ca(T,"tabindex",pn);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(T,fn,pn);break;case"style":Vc(T,pn,Rn);break;case"data":if(cn!=="object"){ca(T,"data",pn);break}case"src":case"href":if(pn===""&&(cn!=="a"||fn!=="href")){T.removeAttribute(fn);break}if(pn==null||typeof pn=="function"||typeof pn=="symbol"||typeof pn=="boolean"){T.removeAttribute(fn);break}pn=Qo(""+pn),T.setAttribute(fn,pn);break;case"action":case"formAction":if(typeof pn=="function"){T.setAttribute(fn,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Rn=="function"&&(fn==="formAction"?(cn!=="input"&&Ss(T,cn,"name",En.name,En,null),Ss(T,cn,"formEncType",En.formEncType,En,null),Ss(T,cn,"formMethod",En.formMethod,En,null),Ss(T,cn,"formTarget",En.formTarget,En,null)):(Ss(T,cn,"encType",En.encType,En,null),Ss(T,cn,"method",En.method,En,null),Ss(T,cn,"target",En.target,En,null)));if(pn==null||typeof pn=="symbol"||typeof pn=="boolean"){T.removeAttribute(fn);break}pn=Qo(""+pn),T.setAttribute(fn,pn);break;case"onClick":pn!=null&&(T.onclick=Hi);break;case"onScroll":pn!=null&&os("scroll",T);break;case"onScrollEnd":pn!=null&&os("scrollend",T);break;case"dangerouslySetInnerHTML":if(pn!=null){if(typeof pn!="object"||!("__html"in pn))throw Error(an(61));if(fn=pn.__html,fn!=null){if(En.children!=null)throw Error(an(60));T.innerHTML=fn}}break;case"multiple":T.multiple=pn&&typeof pn!="function"&&typeof pn!="symbol";break;case"muted":T.muted=pn&&typeof pn!="function"&&typeof pn!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(pn==null||typeof pn=="function"||typeof pn=="boolean"||typeof pn=="symbol"){T.removeAttribute("xlink:href");break}fn=Qo(""+pn),T.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",fn);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":pn!=null&&typeof pn!="function"&&typeof pn!="symbol"?T.setAttribute(fn,""+pn):T.removeAttribute(fn);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":pn&&typeof pn!="function"&&typeof pn!="symbol"?T.setAttribute(fn,""):T.removeAttribute(fn);break;case"capture":case"download":pn===!0?T.setAttribute(fn,""):pn!==!1&&pn!=null&&typeof pn!="function"&&typeof pn!="symbol"?T.setAttribute(fn,pn):T.removeAttribute(fn);break;case"cols":case"rows":case"size":case"span":pn!=null&&typeof pn!="function"&&typeof pn!="symbol"&&!isNaN(pn)&&1<=pn?T.setAttribute(fn,pn):T.removeAttribute(fn);break;case"rowSpan":case"start":pn==null||typeof pn=="function"||typeof pn=="symbol"||isNaN(pn)?T.removeAttribute(fn):T.setAttribute(fn,pn);break;case"popover":os("beforetoggle",T),os("toggle",T),la(T,"popover",pn);break;case"xlinkActuate":_i(T,"http://www.w3.org/1999/xlink","xlink:actuate",pn);break;case"xlinkArcrole":_i(T,"http://www.w3.org/1999/xlink","xlink:arcrole",pn);break;case"xlinkRole":_i(T,"http://www.w3.org/1999/xlink","xlink:role",pn);break;case"xlinkShow":_i(T,"http://www.w3.org/1999/xlink","xlink:show",pn);break;case"xlinkTitle":_i(T,"http://www.w3.org/1999/xlink","xlink:title",pn);break;case"xlinkType":_i(T,"http://www.w3.org/1999/xlink","xlink:type",pn);break;case"xmlBase":_i(T,"http://www.w3.org/XML/1998/namespace","xml:base",pn);break;case"xmlLang":_i(T,"http://www.w3.org/XML/1998/namespace","xml:lang",pn);break;case"xmlSpace":_i(T,"http://www.w3.org/XML/1998/namespace","xml:space",pn);break;case"is":la(T,"is",pn);break;case"innerText":case"textContent":break;default:(!(2<fn.length)||fn[0]!=="o"&&fn[0]!=="O"||fn[1]!=="n"&&fn[1]!=="N")&&(fn=Cf.get(fn)||fn,la(T,fn,pn))}}function id(T,cn,fn,pn,En,Rn){switch(fn){case"style":Vc(T,pn,Rn);break;case"dangerouslySetInnerHTML":if(pn!=null){if(typeof pn!="object"||!("__html"in pn))throw Error(an(61));if(fn=pn.__html,fn!=null){if(En.children!=null)throw Error(an(60));T.innerHTML=fn}}break;case"children":typeof pn=="string"?Ua(T,pn):(typeof pn=="number"||typeof pn=="bigint")&&Ua(T,""+pn);break;case"onScroll":pn!=null&&os("scroll",T);break;case"onScrollEnd":pn!=null&&os("scrollend",T);break;case"onClick":pn!=null&&(T.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(fn))e:{if(fn[0]==="o"&&fn[1]==="n"&&(En=fn.endsWith("Capture"),cn=fn.slice(2,En?fn.length-7:void 0),Rn=T[ai]||null,Rn=Rn!=null?Rn[fn]:null,typeof Rn=="function"&&T.removeEventListener(cn,Rn,En),typeof pn=="function")){typeof Rn!="function"&&Rn!==null&&(fn in T?T[fn]=null:T.hasAttribute(fn)&&T.removeAttribute(fn)),T.addEventListener(cn,pn,En);break e}fn in T?T[fn]=pn:pn===!0?T.setAttribute(fn,""):la(T,fn,pn)}}}function si(T,cn,fn){switch(cn){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":os("error",T),os("load",T);var pn=!1,En=!1,Rn;for(Rn in fn)if(fn.hasOwnProperty(Rn)){var Gn=fn[Rn];if(Gn!=null)switch(Rn){case"src":pn=!0;break;case"srcSet":En=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(an(137,cn));default:Ss(T,cn,Rn,Gn,fn,null)}}En&&Ss(T,cn,"srcSet",fn.srcSet,fn,null),pn&&Ss(T,cn,"src",fn.src,fn,null);return;case"input":os("invalid",T);var er=Rn=Gn=En=null,lr=null,pr=null;for(pn in fn)if(fn.hasOwnProperty(pn)){var vr=fn[pn];if(vr!=null)switch(pn){case"name":En=vr;break;case"type":Gn=vr;break;case"checked":lr=vr;break;case"defaultChecked":pr=vr;break;case"value":Rn=vr;break;case"defaultValue":er=vr;break;case"children":case"dangerouslySetInnerHTML":if(vr!=null)throw Error(an(137,cn));break;default:Ss(T,cn,pn,vr,fn,null)}}Jo(T,Rn,er,lr,pr,Gn,En,!1);return;case"select":os("invalid",T),pn=Gn=Rn=null;for(En in fn)if(fn.hasOwnProperty(En)&&(er=fn[En],er!=null))switch(En){case"value":Rn=er;break;case"defaultValue":Gn=er;break;case"multiple":pn=er;default:Ss(T,cn,En,er,fn,null)}cn=Rn,fn=Gn,T.multiple=!!pn,cn!=null?za(T,!!pn,cn,!1):fn!=null&&za(T,!!pn,fn,!0);return;case"textarea":os("invalid",T),Rn=En=pn=null;for(Gn in fn)if(fn.hasOwnProperty(Gn)&&(er=fn[Gn],er!=null))switch(Gn){case"value":pn=er;break;case"defaultValue":En=er;break;case"children":Rn=er;break;case"dangerouslySetInnerHTML":if(er!=null)throw Error(an(91));break;default:Ss(T,cn,Gn,er,fn,null)}Kc(T,pn,En,Rn);return;case"option":for(lr in fn)fn.hasOwnProperty(lr)&&(pn=fn[lr],pn!=null)&&(lr==="selected"?T.selected=pn&&typeof pn!="function"&&typeof pn!="symbol":Ss(T,cn,lr,pn,fn,null));return;case"dialog":os("beforetoggle",T),os("toggle",T),os("cancel",T),os("close",T);break;case"iframe":case"object":os("load",T);break;case"video":case"audio":for(pn=0;pn<Ic.length;pn++)os(Ic[pn],T);break;case"image":os("error",T),os("load",T);break;case"details":os("toggle",T);break;case"embed":case"source":case"link":os("error",T),os("load",T);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pr in fn)if(fn.hasOwnProperty(pr)&&(pn=fn[pr],pn!=null))switch(pr){case"children":case"dangerouslySetInnerHTML":throw Error(an(137,cn));default:Ss(T,cn,pr,pn,fn,null)}return;default:if(Pl(cn)){for(vr in fn)fn.hasOwnProperty(vr)&&(pn=fn[vr],pn!==void 0&&id(T,cn,vr,pn,fn,void 0));return}}for(er in fn)fn.hasOwnProperty(er)&&(pn=fn[er],pn!=null&&Ss(T,cn,er,pn,fn,null))}function o1(T,cn,fn,pn){switch(cn){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var En=null,Rn=null,Gn=null,er=null,lr=null,pr=null,vr=null;for(Ar in fn){var Er=fn[Ar];if(fn.hasOwnProperty(Ar)&&Er!=null)switch(Ar){case"checked":break;case"value":break;case"defaultValue":lr=Er;default:pn.hasOwnProperty(Ar)||Ss(T,cn,Ar,null,pn,Er)}}for(var mr in pn){var Ar=pn[mr];if(Er=fn[mr],pn.hasOwnProperty(mr)&&(Ar!=null||Er!=null))switch(mr){case"type":Rn=Ar;break;case"name":En=Ar;break;case"checked":pr=Ar;break;case"defaultChecked":vr=Ar;break;case"value":Gn=Ar;break;case"defaultValue":er=Ar;break;case"children":case"dangerouslySetInnerHTML":if(Ar!=null)throw Error(an(137,cn));break;default:Ar!==Er&&Ss(T,cn,mr,Ar,pn,Er)}}Hl(T,Gn,er,lr,pr,vr,Rn,En);return;case"select":Ar=Gn=er=mr=null;for(Rn in fn)if(lr=fn[Rn],fn.hasOwnProperty(Rn)&&lr!=null)switch(Rn){case"value":break;case"multiple":Ar=lr;default:pn.hasOwnProperty(Rn)||Ss(T,cn,Rn,null,pn,lr)}for(En in pn)if(Rn=pn[En],lr=fn[En],pn.hasOwnProperty(En)&&(Rn!=null||lr!=null))switch(En){case"value":mr=Rn;break;case"defaultValue":er=Rn;break;case"multiple":Gn=Rn;default:Rn!==lr&&Ss(T,cn,En,Rn,pn,lr)}cn=er,fn=Gn,pn=Ar,mr!=null?za(T,!!fn,mr,!1):!!pn!=!!fn&&(cn!=null?za(T,!!fn,cn,!0):za(T,!!fn,fn?[]:"",!1));return;case"textarea":Ar=mr=null;for(er in fn)if(En=fn[er],fn.hasOwnProperty(er)&&En!=null&&!pn.hasOwnProperty(er))switch(er){case"value":break;case"children":break;default:Ss(T,cn,er,null,pn,En)}for(Gn in pn)if(En=pn[Gn],Rn=fn[Gn],pn.hasOwnProperty(Gn)&&(En!=null||Rn!=null))switch(Gn){case"value":mr=En;break;case"defaultValue":Ar=En;break;case"children":break;case"dangerouslySetInnerHTML":if(En!=null)throw Error(an(91));break;default:En!==Rn&&Ss(T,cn,Gn,En,pn,Rn)}Qc(T,mr,Ar);return;case"option":for(var Br in fn)mr=fn[Br],fn.hasOwnProperty(Br)&&mr!=null&&!pn.hasOwnProperty(Br)&&(Br==="selected"?T.selected=!1:Ss(T,cn,Br,null,pn,mr));for(lr in pn)mr=pn[lr],Ar=fn[lr],pn.hasOwnProperty(lr)&&mr!==Ar&&(mr!=null||Ar!=null)&&(lr==="selected"?T.selected=mr&&typeof mr!="function"&&typeof mr!="symbol":Ss(T,cn,lr,mr,pn,Ar));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ur in fn)mr=fn[Ur],fn.hasOwnProperty(Ur)&&mr!=null&&!pn.hasOwnProperty(Ur)&&Ss(T,cn,Ur,null,pn,mr);for(pr in pn)if(mr=pn[pr],Ar=fn[pr],pn.hasOwnProperty(pr)&&mr!==Ar&&(mr!=null||Ar!=null))switch(pr){case"children":case"dangerouslySetInnerHTML":if(mr!=null)throw Error(an(137,cn));break;default:Ss(T,cn,pr,mr,pn,Ar)}return;default:if(Pl(cn)){for(var Cs in fn)mr=fn[Cs],fn.hasOwnProperty(Cs)&&mr!==void 0&&!pn.hasOwnProperty(Cs)&&id(T,cn,Cs,void 0,pn,mr);for(vr in pn)mr=pn[vr],Ar=fn[vr],!pn.hasOwnProperty(vr)||mr===Ar||mr===void 0&&Ar===void 0||id(T,cn,vr,mr,pn,Ar);return}}for(var fr in fn)mr=fn[fr],fn.hasOwnProperty(fr)&&mr!=null&&!pn.hasOwnProperty(fr)&&Ss(T,cn,fr,null,pn,mr);for(Er in pn)mr=pn[Er],Ar=fn[Er],!pn.hasOwnProperty(Er)||mr===Ar||mr==null&&Ar==null||Ss(T,cn,Er,mr,pn,Ar)}function Pp(T){switch(T){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l1(){if(typeof performance.getEntriesByType=="function"){for(var T=0,cn=0,fn=performance.getEntriesByType("resource"),pn=0;pn<fn.length;pn++){var En=fn[pn],Rn=En.transferSize,Gn=En.initiatorType,er=En.duration;if(Rn&&er&&Pp(Gn)){for(Gn=0,er=En.responseEnd,pn+=1;pn<fn.length;pn++){var lr=fn[pn],pr=lr.startTime;if(pr>er)break;var vr=lr.transferSize,Er=lr.initiatorType;vr&&Pp(Er)&&(lr=lr.responseEnd,Gn+=vr*(lr<er?1:(er-pr)/(lr-pr)))}if(--pn,cn+=8*(Rn+Gn)/(En.duration/1e3),T++,10<T)break}}if(0<T)return cn/T/1e6}return navigator.connection&&(T=navigator.connection.downlink,typeof T=="number")?T:5}var ad=null,od=null;function of(T){return T.nodeType===9?T:T.ownerDocument}function Wp(T){switch(T){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(T,cn){if(T===0)switch(cn){case"svg":return 1;case"math":return 2;default:return 0}return T===1&&cn==="foreignObject"?0:T}function ld(T,cn){return T==="textarea"||T==="noscript"||typeof cn.children=="string"||typeof cn.children=="number"||typeof cn.children=="bigint"||typeof cn.dangerouslySetInnerHTML=="object"&&cn.dangerouslySetInnerHTML!==null&&cn.dangerouslySetInnerHTML.__html!=null}var cd=null;function c1(){var T=window.event;return T&&T.type==="popstate"?T===cd?!1:(cd=T,!0):(cd=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(T){return Yp.resolve(null).then(T).catch(d1)}:qp;function d1(T){setTimeout(function(){throw T})}function ho(T){return T==="head"}function Jp(T,cn){var fn=cn,pn=0;do{var En=fn.nextSibling;if(T.removeChild(fn),En&&En.nodeType===8)if(fn=En.data,fn==="/$"||fn==="/&"){if(pn===0){T.removeChild(En),Il(cn);return}pn--}else if(fn==="$"||fn==="$?"||fn==="$~"||fn==="$!"||fn==="&")pn++;else if(fn==="html")Lc(T.ownerDocument.documentElement);else if(fn==="head"){fn=T.ownerDocument.head,Lc(fn);for(var Rn=fn.firstChild;Rn;){var Gn=Rn.nextSibling,er=Rn.nodeName;Rn[Ma]||er==="SCRIPT"||er==="STYLE"||er==="LINK"&&Rn.rel.toLowerCase()==="stylesheet"||fn.removeChild(Rn),Rn=Gn}}else fn==="body"&&Lc(T.ownerDocument.body);fn=En}while(fn);Il(cn)}function Qp(T,cn){var fn=T;T=0;do{var pn=fn.nextSibling;if(fn.nodeType===1?cn?(fn._stashedDisplay=fn.style.display,fn.style.display="none"):(fn.style.display=fn._stashedDisplay||"",fn.getAttribute("style")===""&&fn.removeAttribute("style")):fn.nodeType===3&&(cn?(fn._stashedText=fn.nodeValue,fn.nodeValue=""):fn.nodeValue=fn._stashedText||""),pn&&pn.nodeType===8)if(fn=pn.data,fn==="/$"){if(T===0)break;T--}else fn!=="$"&&fn!=="$?"&&fn!=="$~"&&fn!=="$!"||T++;fn=pn}while(fn)}function ud(T){var cn=T.firstChild;for(cn&&cn.nodeType===10&&(cn=cn.nextSibling);cn;){var fn=cn;switch(cn=cn.nextSibling,fn.nodeName){case"HTML":case"HEAD":case"BODY":ud(fn),Ll(fn);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(fn.rel.toLowerCase()==="stylesheet")continue}T.removeChild(fn)}}function h1(T,cn,fn,pn){for(;T.nodeType===1;){var En=fn;if(T.nodeName.toLowerCase()!==cn.toLowerCase()){if(!pn&&(T.nodeName!=="INPUT"||T.type!=="hidden"))break}else if(pn){if(!T[Ma])switch(cn){case"meta":if(!T.hasAttribute("itemprop"))break;return T;case"link":if(Rn=T.getAttribute("rel"),Rn==="stylesheet"&&T.hasAttribute("data-precedence"))break;if(Rn!==En.rel||T.getAttribute("href")!==(En.href==null||En.href===""?null:En.href)||T.getAttribute("crossorigin")!==(En.crossOrigin==null?null:En.crossOrigin)||T.getAttribute("title")!==(En.title==null?null:En.title))break;return T;case"style":if(T.hasAttribute("data-precedence"))break;return T;case"script":if(Rn=T.getAttribute("src"),(Rn!==(En.src==null?null:En.src)||T.getAttribute("type")!==(En.type==null?null:En.type)||T.getAttribute("crossorigin")!==(En.crossOrigin==null?null:En.crossOrigin))&&Rn&&T.hasAttribute("async")&&!T.hasAttribute("itemprop"))break;return T;default:return T}}else if(cn==="input"&&T.type==="hidden"){var Rn=En.name==null?null:""+En.name;if(En.type==="hidden"&&T.getAttribute("name")===Rn)return T}else return T;if(T=Ii(T.nextSibling),T===null)break}return null}function p1(T,cn,fn){if(cn==="")return null;for(;T.nodeType!==3;)if((T.nodeType!==1||T.nodeName!=="INPUT"||T.type!=="hidden")&&!fn||(T=Ii(T.nextSibling),T===null))return null;return T}function Kp(T,cn){for(;T.nodeType!==8;)if((T.nodeType!==1||T.nodeName!=="INPUT"||T.type!=="hidden")&&!cn||(T=Ii(T.nextSibling),T===null))return null;return T}function dd(T){return T.data==="$?"||T.data==="$~"}function hd(T){return T.data==="$!"||T.data==="$?"&&T.ownerDocument.readyState!=="loading"}function m1(T,cn){var fn=T.ownerDocument;if(T.data==="$~")T._reactRetry=cn;else if(T.data!=="$?"||fn.readyState!=="loading")cn();else{var pn=function(){cn(),fn.removeEventListener("DOMContentLoaded",pn)};fn.addEventListener("DOMContentLoaded",pn),T._reactRetry=pn}}function Ii(T){for(;T!=null;T=T.nextSibling){var cn=T.nodeType;if(cn===1||cn===3)break;if(cn===8){if(cn=T.data,cn==="$"||cn==="$!"||cn==="$?"||cn==="$~"||cn==="&"||cn==="F!"||cn==="F")break;if(cn==="/$"||cn==="/&")return null}}return T}var pd=null;function Zp(T){T=T.nextSibling;for(var cn=0;T;){if(T.nodeType===8){var fn=T.data;if(fn==="/$"||fn==="/&"){if(cn===0)return Ii(T.nextSibling);cn--}else fn!=="$"&&fn!=="$!"&&fn!=="$?"&&fn!=="$~"&&fn!=="&"||cn++}T=T.nextSibling}return null}function Vp(T){T=T.previousSibling;for(var cn=0;T;){if(T.nodeType===8){var fn=T.data;if(fn==="$"||fn==="$!"||fn==="$?"||fn==="$~"||fn==="&"){if(cn===0)return T;cn--}else fn!=="/$"&&fn!=="/&"||cn++}T=T.previousSibling}return null}function Xp(T,cn,fn){switch(cn=of(fn),T){case"html":if(T=cn.documentElement,!T)throw Error(an(452));return T;case"head":if(T=cn.head,!T)throw Error(an(453));return T;case"body":if(T=cn.body,!T)throw Error(an(454));return T;default:throw Error(an(451))}}function Lc(T){for(var cn=T.attributes;cn.length;)T.removeAttributeNode(cn[0]);Ll(T)}var Mi=new Map,em=new Set;function lf(T){return typeof T.getRootNode=="function"?T.getRootNode():T.nodeType===9?T:T.ownerDocument}var Ta=Qn.d;Qn.d={f:g1,r:x1,D:w1,C:A1,L:v1,m:y1,X:E1,S:b1,M:S1};function g1(){var T=Ta.f(),cn=Vu();return T||cn}function x1(T){var cn=La(T);cn!==null&&cn.tag===5&&cn.type==="form"?gh(cn):Ta.r(T)}var Tl=typeof document>"u"?null:document;function tm(T,cn,fn){var pn=Tl;if(pn&&typeof cn=="string"&&cn){var En=hi(cn);En='link[rel="'+T+'"][href="'+En+'"]',typeof fn=="string"&&(En+='[crossorigin="'+fn+'"]'),em.has(En)||(em.add(En),T={rel:T,crossOrigin:fn,href:cn},pn.querySelector(En)===null&&(cn=pn.createElement("link"),si(cn,"link",T),$n(cn),pn.head.appendChild(cn)))}}function w1(T){Ta.D(T),tm("dns-prefetch",T,null)}function A1(T,cn){Ta.C(T,cn),tm("preconnect",T,cn)}function v1(T,cn,fn){Ta.L(T,cn,fn);var pn=Tl;if(pn&&T&&cn){var En='link[rel="preload"][as="'+hi(cn)+'"]';cn==="image"&&fn&&fn.imageSrcSet?(En+='[imagesrcset="'+hi(fn.imageSrcSet)+'"]',typeof fn.imageSizes=="string"&&(En+='[imagesizes="'+hi(fn.imageSizes)+'"]')):En+='[href="'+hi(T)+'"]';var Rn=En;switch(cn){case"style":Rn=Fl(T);break;case"script":Rn=kl(T)}Mi.has(Rn)||(T=vn({rel:"preload",href:cn==="image"&&fn&&fn.imageSrcSet?void 0:T,as:cn},fn),Mi.set(Rn,T),pn.querySelector(En)!==null||cn==="style"&&pn.querySelector(zc(Rn))||cn==="script"&&pn.querySelector(Uc(Rn))||(cn=pn.createElement("link"),si(cn,"link",T),$n(cn),pn.head.appendChild(cn)))}}function y1(T,cn){Ta.m(T,cn);var fn=Tl;if(fn&&T){var pn=cn&&typeof cn.as=="string"?cn.as:"script",En='link[rel="modulepreload"][as="'+hi(pn)+'"][href="'+hi(T)+'"]',Rn=En;switch(pn){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Rn=kl(T)}if(!Mi.has(Rn)&&(T=vn({rel:"modulepreload",href:T},cn),Mi.set(Rn,T),fn.querySelector(En)===null)){switch(pn){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(fn.querySelector(Uc(Rn)))return}pn=fn.createElement("link"),si(pn,"link",T),$n(pn),fn.head.appendChild(pn)}}}function b1(T,cn,fn){Ta.S(T,cn,fn);var pn=Tl;if(pn&&T){var En=na(pn).hoistableStyles,Rn=Fl(T);cn=cn||"default";var Gn=En.get(Rn);if(!Gn){var er={loading:0,preload:null};if(Gn=pn.querySelector(zc(Rn)))er.loading=5;else{T=vn({rel:"stylesheet",href:T,"data-precedence":cn},fn),(fn=Mi.get(Rn))&&md(T,fn);var lr=Gn=pn.createElement("link");$n(lr),si(lr,"link",T),lr._p=new Promise(function(pr,vr){lr.onload=pr,lr.onerror=vr}),lr.addEventListener("load",function(){er.loading|=1}),lr.addEventListener("error",function(){er.loading|=2}),er.loading|=4,cf(Gn,cn,pn)}Gn={type:"stylesheet",instance:Gn,count:1,state:er},En.set(Rn,Gn)}}}function E1(T,cn){Ta.X(T,cn);var fn=Tl;if(fn&&T){var pn=na(fn).hoistableScripts,En=kl(T),Rn=pn.get(En);Rn||(Rn=fn.querySelector(Uc(En)),Rn||(T=vn({src:T,async:!0},cn),(cn=Mi.get(En))&&gd(T,cn),Rn=fn.createElement("script"),$n(Rn),si(Rn,"link",T),fn.head.appendChild(Rn)),Rn={type:"script",instance:Rn,count:1,state:null},pn.set(En,Rn))}}function S1(T,cn){Ta.M(T,cn);var fn=Tl;if(fn&&T){var pn=na(fn).hoistableScripts,En=kl(T),Rn=pn.get(En);Rn||(Rn=fn.querySelector(Uc(En)),Rn||(T=vn({src:T,async:!0,type:"module"},cn),(cn=Mi.get(En))&&gd(T,cn),Rn=fn.createElement("script"),$n(Rn),si(Rn,"link",T),fn.head.appendChild(Rn)),Rn={type:"script",instance:Rn,count:1,state:null},pn.set(En,Rn))}}function nm(T,cn,fn,pn){var En=(En=xr.current)?lf(En):null;if(!En)throw Error(an(446));switch(T){case"meta":case"title":return null;case"style":return typeof fn.precedence=="string"&&typeof fn.href=="string"?(cn=Fl(fn.href),fn=na(En).hoistableStyles,pn=fn.get(cn),pn||(pn={type:"style",instance:null,count:0,state:null},fn.set(cn,pn)),pn):{type:"void",instance:null,count:0,state:null};case"link":if(fn.rel==="stylesheet"&&typeof fn.href=="string"&&typeof fn.precedence=="string"){T=Fl(fn.href);var Rn=na(En).hoistableStyles,Gn=Rn.get(T);if(Gn||(En=En.ownerDocument||En,Gn={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Rn.set(T,Gn),(Rn=En.querySelector(zc(T)))&&!Rn._p&&(Gn.instance=Rn,Gn.state.loading=5),Mi.has(T)||(fn={rel:"preload",as:"style",href:fn.href,crossOrigin:fn.crossOrigin,integrity:fn.integrity,media:fn.media,hrefLang:fn.hrefLang,referrerPolicy:fn.referrerPolicy},Mi.set(T,fn),Rn||C1(En,T,fn,Gn.state))),cn&&pn===null)throw Error(an(528,""));return Gn}if(cn&&pn!==null)throw Error(an(529,""));return null;case"script":return cn=fn.async,fn=fn.src,typeof fn=="string"&&cn&&typeof cn!="function"&&typeof cn!="symbol"?(cn=kl(fn),fn=na(En).hoistableScripts,pn=fn.get(cn),pn||(pn={type:"script",instance:null,count:0,state:null},fn.set(cn,pn)),pn):{type:"void",instance:null,count:0,state:null};default:throw Error(an(444,T))}}function Fl(T){return'href="'+hi(T)+'"'}function zc(T){return'link[rel="stylesheet"]['+T+"]"}function rm(T){return vn({},T,{"data-precedence":T.precedence,precedence:null})}function C1(T,cn,fn,pn){T.querySelector('link[rel="preload"][as="style"]['+cn+"]")?pn.loading=1:(cn=T.createElement("link"),pn.preload=cn,cn.addEventListener("load",function(){return pn.loading|=1}),cn.addEventListener("error",function(){return pn.loading|=2}),si(cn,"link",fn),$n(cn),T.head.appendChild(cn))}function kl(T){return'[src="'+hi(T)+'"]'}function Uc(T){return"script[async]"+T}function sm(T,cn,fn){if(cn.count++,cn.instance===null)switch(cn.type){case"style":var pn=T.querySelector('style[data-href~="'+hi(fn.href)+'"]');if(pn)return cn.instance=pn,$n(pn),pn;var En=vn({},fn,{"data-href":fn.href,"data-precedence":fn.precedence,href:null,precedence:null});return pn=(T.ownerDocument||T).createElement("style"),$n(pn),si(pn,"style",En),cf(pn,fn.precedence,T),cn.instance=pn;case"stylesheet":En=Fl(fn.href);var Rn=T.querySelector(zc(En));if(Rn)return cn.state.loading|=4,cn.instance=Rn,$n(Rn),Rn;pn=rm(fn),(En=Mi.get(En))&&md(pn,En),Rn=(T.ownerDocument||T).createElement("link"),$n(Rn);var Gn=Rn;return Gn._p=new Promise(function(er,lr){Gn.onload=er,Gn.onerror=lr}),si(Rn,"link",pn),cn.state.loading|=4,cf(Rn,fn.precedence,T),cn.instance=Rn;case"script":return Rn=kl(fn.src),(En=T.querySelector(Uc(Rn)))?(cn.instance=En,$n(En),En):(pn=fn,(En=Mi.get(Rn))&&(pn=vn({},fn),gd(pn,En)),T=T.ownerDocument||T,En=T.createElement("script"),$n(En),si(En,"link",pn),T.head.appendChild(En),cn.instance=En);case"void":return null;default:throw Error(an(443,cn.type))}else cn.type==="stylesheet"&&(cn.state.loading&4)===0&&(pn=cn.instance,cn.state.loading|=4,cf(pn,fn.precedence,T));return cn.instance}function cf(T,cn,fn){for(var pn=fn.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),En=pn.length?pn[pn.length-1]:null,Rn=En,Gn=0;Gn<pn.length;Gn++){var er=pn[Gn];if(er.dataset.precedence===cn)Rn=er;else if(Rn!==En)break}Rn?Rn.parentNode.insertBefore(T,Rn.nextSibling):(cn=fn.nodeType===9?fn.head:fn,cn.insertBefore(T,cn.firstChild))}function md(T,cn){T.crossOrigin==null&&(T.crossOrigin=cn.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=cn.referrerPolicy),T.title==null&&(T.title=cn.title)}function gd(T,cn){T.crossOrigin==null&&(T.crossOrigin=cn.crossOrigin),T.referrerPolicy==null&&(T.referrerPolicy=cn.referrerPolicy),T.integrity==null&&(T.integrity=cn.integrity)}var uf=null;function im(T,cn,fn){if(uf===null){var pn=new Map,En=uf=new Map;En.set(fn,pn)}else En=uf,pn=En.get(fn),pn||(pn=new Map,En.set(fn,pn));if(pn.has(T))return pn;for(pn.set(T,null),fn=fn.getElementsByTagName(T),En=0;En<fn.length;En++){var Rn=fn[En];if(!(Rn[Ma]||Rn[Ws]||T==="link"&&Rn.getAttribute("rel")==="stylesheet")&&Rn.namespaceURI!=="http://www.w3.org/2000/svg"){var Gn=Rn.getAttribute(cn)||"";Gn=T+Gn;var er=pn.get(Gn);er?er.push(Rn):pn.set(Gn,[Rn])}}return pn}function am(T,cn,fn){T=T.ownerDocument||T,T.head.insertBefore(fn,cn==="title"?T.querySelector("head > title"):null)}function _1(T,cn,fn){if(fn===1||cn.itemProp!=null)return!1;switch(T){case"meta":case"title":return!0;case"style":if(typeof cn.precedence!="string"||typeof cn.href!="string"||cn.href==="")break;return!0;case"link":if(typeof cn.rel!="string"||typeof cn.href!="string"||cn.href===""||cn.onLoad||cn.onError)break;return cn.rel==="stylesheet"?(T=cn.disabled,typeof cn.precedence=="string"&&T==null):!0;case"script":if(cn.async&&typeof cn.async!="function"&&typeof cn.async!="symbol"&&!cn.onLoad&&!cn.onError&&cn.src&&typeof cn.src=="string")return!0}return!1}function om(T){return!(T.type==="stylesheet"&&(T.state.loading&3)===0)}function R1(T,cn,fn,pn){if(fn.type==="stylesheet"&&(typeof pn.media!="string"||matchMedia(pn.media).matches!==!1)&&(fn.state.loading&4)===0){if(fn.instance===null){var En=Fl(pn.href),Rn=cn.querySelector(zc(En));if(Rn){cn=Rn._p,cn!==null&&typeof cn=="object"&&typeof cn.then=="function"&&(T.count++,T=ff.bind(T),cn.then(T,T)),fn.state.loading|=4,fn.instance=Rn,$n(Rn);return}Rn=cn.ownerDocument||cn,pn=rm(pn),(En=Mi.get(En))&&md(pn,En),Rn=Rn.createElement("link"),$n(Rn);var Gn=Rn;Gn._p=new Promise(function(er,lr){Gn.onload=er,Gn.onerror=lr}),si(Rn,"link",pn),fn.instance=Rn}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(fn,cn),(cn=fn.state.preload)&&(fn.state.loading&3)===0&&(T.count++,fn=ff.bind(T),cn.addEventListener("load",fn),cn.addEventListener("error",fn))}}var xd=0;function D1(T,cn){return T.stylesheets&&T.count===0&&hf(T,T.stylesheets),0<T.count||0<T.imgCount?function(fn){var pn=setTimeout(function(){if(T.stylesheets&&hf(T,T.stylesheets),T.unsuspend){var Rn=T.unsuspend;T.unsuspend=null,Rn()}},6e4+cn);0<T.imgBytes&&xd===0&&(xd=62500*l1());var En=setTimeout(function(){if(T.waitingForImages=!1,T.count===0&&(T.stylesheets&&hf(T,T.stylesheets),T.unsuspend)){var Rn=T.unsuspend;T.unsuspend=null,Rn()}},(T.imgBytes>xd?50:800)+cn);return T.unsuspend=fn,function(){T.unsuspend=null,clearTimeout(pn),clearTimeout(En)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var T=this.unsuspend;this.unsuspend=null,T()}}}var df=null;function hf(T,cn){T.stylesheets=null,T.unsuspend!==null&&(T.count++,df=new Map,cn.forEach(N1,T),df=null,ff.call(T))}function N1(T,cn){if(!(cn.state.loading&4)){var fn=df.get(T);if(fn)var pn=fn.get(null);else{fn=new Map,df.set(T,fn);for(var En=T.querySelectorAll("link[data-precedence],style[data-precedence]"),Rn=0;Rn<En.length;Rn++){var Gn=En[Rn];(Gn.nodeName==="LINK"||Gn.getAttribute("media")!=="not all")&&(fn.set(Gn.dataset.precedence,Gn),pn=Gn)}pn&&fn.set(null,pn)}En=cn.instance,Gn=En.getAttribute("data-precedence"),Rn=fn.get(Gn)||pn,Rn===pn&&fn.set(null,En),fn.set(Gn,En),this.count++,pn=ff.bind(this),En.addEventListener("load",pn),En.addEventListener("error",pn),Rn?Rn.parentNode.insertBefore(En,Rn.nextSibling):(T=T.nodeType===9?T.head:T,T.insertBefore(En,T.firstChild)),cn.state.loading|=4}}var Hc={$$typeof:On,Provider:null,Consumer:null,_currentValue:Xn,_currentValue2:Xn,_threadCount:0};function j1(T,cn,fn,pn,En,Rn,Gn,er,lr){this.tag=1,this.containerInfo=T,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=pn,this.onUncaughtError=En,this.onCaughtError=Rn,this.onRecoverableError=Gn,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lr,this.incompleteTransitions=new Map}function lm(T,cn,fn,pn,En,Rn,Gn,er,lr,pr,vr,Er){return T=new j1(T,cn,fn,Gn,lr,pr,vr,Er,er),cn=1,Rn===!0&&(cn|=24),Rn=ci(3,null,null,cn),T.current=Rn,Rn.stateNode=T,cn=Jf(),cn.refCount++,T.pooledCache=cn,cn.refCount++,Rn.memoizedState={element:pn,isDehydrated:fn,cache:cn},Vf(Rn),T}function cm(T){return T?(T=Aa,T):Aa}function um(T,cn,fn,pn,En,Rn){En=cm(En),pn.context===null?pn.context=En:pn.pendingContext=En,pn=to(cn),pn.payload={element:fn},Rn=Rn===void 0?null:Rn,Rn!==null&&(pn.callback=Rn),fn=no(T,pn,cn),fn!==null&&(bi(fn,T,cn),Ac(fn,T,cn))}function fm(T,cn){if(T=T.memoizedState,T!==null&&T.dehydrated!==null){var fn=T.retryLane;T.retryLane=fn!==0&&fn<cn?fn:cn}}function wd(T,cn){fm(T,cn),(T=T.alternate)&&fm(T,cn)}function dm(T){if(T.tag===13||T.tag===31){var cn=wa(T,67108864);cn!==null&&bi(cn,T,67108864),wd(T,67108864)}}function hm(T){if(T.tag===13||T.tag===31){var cn=Oi();cn=Xi(cn);var fn=wa(T,cn);fn!==null&&bi(fn,T,cn),wd(T,cn)}}var pf=!0;function B1(T,cn,fn,pn){var En=Yn.T;Yn.T=null;var Rn=Qn.p;try{Qn.p=2,Ad(T,cn,fn,pn)}finally{Qn.p=Rn,Yn.T=En}}function O1(T,cn,fn,pn){var En=Yn.T;Yn.T=null;var Rn=Qn.p;try{Qn.p=8,Ad(T,cn,fn,pn)}finally{Qn.p=Rn,Yn.T=En}}function Ad(T,cn,fn,pn){if(pf){var En=vd(pn);if(En===null)sd(T,cn,pn,mf,fn),mm(T,pn);else if(F1(En,T,cn,fn,pn))pn.stopPropagation();else if(mm(T,pn),cn&4&&-1<T1.indexOf(T)){for(;En!==null;){var Rn=La(En);if(Rn!==null)switch(Rn.tag){case 3:if(Rn=Rn.stateNode,Rn.current.memoizedState.isDehydrated){var Gn=As(Rn.pendingLanes);if(Gn!==0){var er=Rn;for(er.pendingLanes|=2,er.entangledLanes|=2;Gn;){var lr=1<<31-Is(Gn);er.entanglements[1]|=lr,Gn&=~lr}oa(Rn),(ws&6)===0&&(Ku=Yr()+500,kc(0))}}break;case 31:case 13:er=wa(Rn,2),er!==null&&bi(er,Rn,2),Vu(),wd(Rn,2)}if(Rn=vd(pn),Rn===null&&sd(T,cn,pn,mf,fn),Rn===En)break;En=Rn}En!==null&&pn.stopPropagation()}else sd(T,cn,pn,null,fn)}}function vd(T){return T=Gl(T),yd(T)}var mf=null;function yd(T){if(mf=null,T=Pr(T),T!==null){var cn=dn(T);if(cn===null)T=null;else{var fn=cn.tag;if(fn===13){if(T=hn(cn),T!==null)return T;T=null}else if(fn===31){if(T=mn(cn),T!==null)return T;T=null}else if(fn===3){if(cn.stateNode.current.memoizedState.isDehydrated)return cn.tag===3?cn.stateNode.containerInfo:null;T=null}else cn!==T&&(T=null)}}return mf=T,null}function pm(T){switch(T){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Jr:return 2;case Hr:return 8;case is:case ii:return 32;case Ji:return 268435456;default:return 32}default:return 32}}var bd=!1,po=null,mo=null,go=null,$c=new Map,Pc=new Map,xo=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(T,cn){switch(T){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":$c.delete(cn.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(cn.pointerId)}}function Wc(T,cn,fn,pn,En,Rn){return T===null||T.nativeEvent!==Rn?(T={blockedOn:cn,domEventName:fn,eventSystemFlags:pn,nativeEvent:Rn,targetContainers:[En]},cn!==null&&(cn=La(cn),cn!==null&&dm(cn)),T):(T.eventSystemFlags|=pn,cn=T.targetContainers,En!==null&&cn.indexOf(En)===-1&&cn.push(En),T)}function F1(T,cn,fn,pn,En){switch(cn){case"focusin":return po=Wc(po,T,cn,fn,pn,En),!0;case"dragenter":return mo=Wc(mo,T,cn,fn,pn,En),!0;case"mouseover":return go=Wc(go,T,cn,fn,pn,En),!0;case"pointerover":var Rn=En.pointerId;return $c.set(Rn,Wc($c.get(Rn)||null,T,cn,fn,pn,En)),!0;case"gotpointercapture":return Rn=En.pointerId,Pc.set(Rn,Wc(Pc.get(Rn)||null,T,cn,fn,pn,En)),!0}return!1}function gm(T){var cn=Pr(T.target);if(cn!==null){var fn=dn(cn);if(fn!==null){if(cn=fn.tag,cn===13){if(cn=hn(fn),cn!==null){T.blockedOn=cn,di(T.priority,function(){hm(fn)});return}}else if(cn===31){if(cn=mn(fn),cn!==null){T.blockedOn=cn,di(T.priority,function(){hm(fn)});return}}else if(cn===3&&fn.stateNode.current.memoizedState.isDehydrated){T.blockedOn=fn.tag===3?fn.stateNode.containerInfo:null;return}}}T.blockedOn=null}function gf(T){if(T.blockedOn!==null)return!1;for(var cn=T.targetContainers;0<cn.length;){var fn=vd(T.nativeEvent);if(fn===null){fn=T.nativeEvent;var pn=new fn.constructor(fn.type,fn);Wl=pn,fn.target.dispatchEvent(pn),Wl=null}else return cn=La(fn),cn!==null&&dm(cn),T.blockedOn=fn,!1;cn.shift()}return!0}function xm(T,cn,fn){gf(T)&&fn.delete(cn)}function k1(){bd=!1,po!==null&&gf(po)&&(po=null),mo!==null&&gf(mo)&&(mo=null),go!==null&&gf(go)&&(go=null),$c.forEach(xm),Pc.forEach(xm)}function xf(T,cn){T.blockedOn===cn&&(T.blockedOn=null,bd||(bd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,k1)))}var wf=null;function wm(T){wf!==T&&(wf=T,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,function(){wf===T&&(wf=null);for(var cn=0;cn<T.length;cn+=3){var fn=T[cn],pn=T[cn+1],En=T[cn+2];if(typeof pn!="function"){if(yd(pn||fn)===null)continue;break}var Rn=La(fn);Rn!==null&&(T.splice(cn,3),cn-=3,w0(Rn,{pending:!0,data:En,method:fn.method,action:pn},pn,En))}}))}function Il(T){function cn(lr){return xf(lr,T)}po!==null&&xf(po,T),mo!==null&&xf(mo,T),go!==null&&xf(go,T),$c.forEach(cn),Pc.forEach(cn);for(var fn=0;fn<xo.length;fn++){var pn=xo[fn];pn.blockedOn===T&&(pn.blockedOn=null)}for(;0<xo.length&&(fn=xo[0],fn.blockedOn===null);)gm(fn),fn.blockedOn===null&&xo.shift();if(fn=(T.ownerDocument||T).$$reactFormReplay,fn!=null)for(pn=0;pn<fn.length;pn+=3){var En=fn[pn],Rn=fn[pn+1],Gn=En[ai]||null;if(typeof Rn=="function")Gn||wm(fn);else if(Gn){var er=null;if(Rn&&Rn.hasAttribute("formAction")){if(En=Rn,Gn=Rn[ai]||null)er=Gn.formAction;else if(yd(En)!==null)continue}else er=Gn.action;typeof er=="function"?fn[pn+1]=er:(fn.splice(pn,3),pn-=3),wm(fn)}}}function Am(){function T(Rn){Rn.canIntercept&&Rn.info==="react-transition"&&Rn.intercept({handler:function(){return new Promise(function(Gn){return En=Gn})},focusReset:"manual",scroll:"manual"})}function cn(){En!==null&&(En(),En=null),pn||setTimeout(fn,20)}function fn(){if(!pn&&!navigation.transition){var Rn=navigation.currentEntry;Rn&&Rn.url!=null&&navigation.navigate(Rn.url,{state:Rn.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var pn=!1,En=null;return navigation.addEventListener("navigate",T),navigation.addEventListener("navigatesuccess",cn),navigation.addEventListener("navigateerror",cn),setTimeout(fn,100),function(){pn=!0,navigation.removeEventListener("navigate",T),navigation.removeEventListener("navigatesuccess",cn),navigation.removeEventListener("navigateerror",cn),En!==null&&(En(),En=null)}}}function Ed(T){this._internalRoot=T}Af.prototype.render=Ed.prototype.render=function(T){var cn=this._internalRoot;if(cn===null)throw Error(an(409));var fn=cn.current,pn=Oi();um(fn,pn,T,cn,null,null)},Af.prototype.unmount=Ed.prototype.unmount=function(){var T=this._internalRoot;if(T!==null){this._internalRoot=null;var cn=T.containerInfo;um(T.current,2,null,T,null,null),Vu(),cn[Ia]=null}};function Af(T){this._internalRoot=T}Af.prototype.unstable_scheduleHydration=function(T){if(T){var cn=Gc();T={blockedOn:null,target:T,priority:cn};for(var fn=0;fn<xo.length&&cn!==0&&cn<xo[fn].priority;fn++);xo.splice(fn,0,T),fn===0&&gm(T)}};var vm=O.version;if(vm!=="19.2.4")throw Error(an(527,vm,"19.2.4"));Qn.findDOMNode=function(T){var cn=T._reactInternals;if(cn===void 0)throw typeof T.render=="function"?Error(an(188)):(T=Object.keys(T).join(","),Error(an(268,T)));return T=gn(cn),T=T!==null?wn(T):null,T=T===null?null:T.stateNode,T};var I1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Yn,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{_s=vf.inject(I1),Vs=vf}catch{}}return reactDomClient_production.createRoot=function(T,cn){if(!un(T))throw Error(an(299));var fn=!1,pn="",En=_h,Rn=Rh,Gn=Dh;return cn!=null&&(cn.unstable_strictMode===!0&&(fn=!0),cn.identifierPrefix!==void 0&&(pn=cn.identifierPrefix),cn.onUncaughtError!==void 0&&(En=cn.onUncaughtError),cn.onCaughtError!==void 0&&(Rn=cn.onCaughtError),cn.onRecoverableError!==void 0&&(Gn=cn.onRecoverableError)),cn=lm(T,1,!1,null,null,fn,pn,null,En,Rn,Gn,Am),T[Ia]=cn.current,rd(T),new Ed(cn)},reactDomClient_production.hydrateRoot=function(T,cn,fn){if(!un(T))throw Error(an(299));var pn=!1,En="",Rn=_h,Gn=Rh,er=Dh,lr=null;return fn!=null&&(fn.unstable_strictMode===!0&&(pn=!0),fn.identifierPrefix!==void 0&&(En=fn.identifierPrefix),fn.onUncaughtError!==void 0&&(Rn=fn.onUncaughtError),fn.onCaughtError!==void 0&&(Gn=fn.onCaughtError),fn.onRecoverableError!==void 0&&(er=fn.onRecoverableError),fn.formState!==void 0&&(lr=fn.formState)),cn=lm(T,1,!0,cn,fn??null,pn,En,lr,Rn,Gn,er,Am),cn.context=cm(null),fn=cn.current,pn=Oi(),pn=Xi(pn),En=to(pn),En.callback=null,no(fn,En,pn),fn=pn,cn.current.lanes=fn,zi(cn,fn),oa(cn),T[Ia]=cn.current,rd(T),new Af(cn)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function sn(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sn)}catch(O){console.error(O)}}return sn(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const r$1=globalThis.SharedWorker,a$1=globalThis.localStorage,s$1=globalThis.navigator.serviceWorker,o$1=MessagePort.prototype.postMessage;async function c$1(){const sn=(await self.clients.matchAll({type:"window",includeUncontrolled:!0})).map(async rn=>{const an=await(function(un){let dn=new MessageChannel;return new Promise(hn=>{un.postMessage({type:"getPort",port:dn.port2},[dn.port2]),dn.port1.onmessage=mn=>{hn(mn.data)}})})(rn);return await i$2(an),an}),O=Promise.race([Promise.any(sn),new Promise((rn,an)=>setTimeout(an,1e3,new TypeError("timeout")))]);try{return await O}catch(rn){if(rn instanceof AggregateError)throw console.error("bare-mux: failed to get a bare-mux SharedWorker MessagePort as all clients returned an invalid MessagePort."),new Error("All clients returned an invalid MessagePort.");return console.warn("bare-mux: failed to get a bare-mux SharedWorker MessagePort within 1s, retrying"),await c$1()}}function i$2(sn){const O=new MessageChannel,rn=new Promise((an,un)=>{O.port1.onmessage=dn=>{dn.data.type==="pong"&&an()},setTimeout(un,1500)});return o$1.call(sn,{message:{type:"ping"},port:O.port2},[O.port2]),rn}function l$1(sn,O){const rn=new r$1(sn,"bare-mux-worker");return O&&s$1.addEventListener("message",an=>{if(an.data.type==="getPort"&&an.data.port){console.debug("bare-mux: recieved request for port from sw");const un=new r$1(sn,"bare-mux-worker");o$1.call(an.data.port,un.port,[un.port])}}),rn.port}let h$1=null;function d$1(){if(h$1===null){const sn=new MessageChannel,O=new ReadableStream;let rn;try{o$1.call(sn.port1,O,[O]),rn=!0}catch{rn=!1}return h$1=rn,rn}return h$1}let p$1=class{constructor(O){this.channel=new BroadcastChannel("bare-mux"),O instanceof MessagePort||O instanceof Promise?this.port=O:this.createChannel(O,!0)}createChannel(O,rn){if(self.clients)this.port=c$1(),this.channel.onmessage=an=>{an.data.type==="refreshPort"&&(this.port=c$1())};else if(O&&SharedWorker){if(!O.startsWith("/")&&!O.includes(":"))throw new Error("Invalid URL. Must be absolute or start at the root.");this.port=l$1(O,rn),console.debug("bare-mux: setting localStorage bare-mux-path to",O),a$1["bare-mux-path"]=O}else{if(!SharedWorker)throw new Error("Unable to get a channel to the SharedWorker.");{const an=a$1["bare-mux-path"];if(console.debug("bare-mux: got localStorage bare-mux-path:",an),!an)throw new Error("Unable to get bare-mux workerPath from localStorage.");this.port=l$1(an,rn)}}}async sendMessage(O,rn){this.port instanceof Promise&&(this.port=await this.port);try{await i$2(this.port)}catch{return console.warn("bare-mux: Failed to get a ping response from the worker within 1.5s. Assuming port is dead."),this.createChannel(),await this.sendMessage(O,rn)}const an=new MessageChannel,un=[an.port2,...rn||[]],dn=new Promise((hn,mn)=>{an.port1.onmessage=xn=>{const gn=xn.data;gn.type==="error"?mn(gn.error):hn(gn)}});return o$1.call(this.port,{message:O,port:an.port2},un),await dn}};function u$1(sn,O,rn){console.error(`error while processing '${rn}': `,O),sn.postMessage({type:"error",error:O})}let m$1=class{constructor(O){this.worker=new p$1(O)}async getTransport(){return(await this.worker.sendMessage({type:"get"})).name}async setTransport(O,rn,an){await this.setManualTransport(`
			const { default: BareTransport } = await import("${O}");
			return [BareTransport, "${O}"];
		`,rn,an)}async setManualTransport(O,rn,an){if(O==="bare-mux-remote")throw new Error("Use setRemoteTransport.");await this.worker.sendMessage({type:"set",client:{function:O,args:rn}},an)}async setRemoteTransport(O,rn){const an=new MessageChannel;an.port1.onmessage=async un=>{const dn=un.data.port,hn=un.data.message;if(hn.type==="fetch")try{O.ready||await O.init(),await(async function(mn,xn,gn){const wn=await gn.request(new URL(mn.fetch.remote),mn.fetch.method,mn.fetch.body,mn.fetch.headers,null);if(!d$1()&&wn.body instanceof ReadableStream){const vn=new Response(wn.body);wn.body=await vn.arrayBuffer()}wn.body instanceof ReadableStream||wn.body instanceof ArrayBuffer?o$1.call(xn,{type:"fetch",fetch:wn},[wn.body]):o$1.call(xn,{type:"fetch",fetch:wn})})(hn,dn,O)}catch(mn){u$1(dn,mn,"fetch")}else if(hn.type==="websocket")try{O.ready||await O.init(),await(async function(mn,xn,gn){const[wn,vn]=gn.connect(new URL(mn.websocket.url),mn.websocket.protocols,mn.websocket.requestHeaders,An=>{o$1.call(mn.websocket.channel,{type:"open",args:[An]})},An=>{An instanceof ArrayBuffer?o$1.call(mn.websocket.channel,{type:"message",args:[An]},[An]):o$1.call(mn.websocket.channel,{type:"message",args:[An]})},(An,Cn)=>{o$1.call(mn.websocket.channel,{type:"close",args:[An,Cn]})},An=>{o$1.call(mn.websocket.channel,{type:"error",args:[An]})});mn.websocket.channel.onmessage=An=>{An.data.type==="data"?wn(An.data.data):An.data.type==="close"&&vn(An.data.closeCode,An.data.closeReason)},o$1.call(xn,{type:"websocket"})})(hn,dn,O)}catch(mn){u$1(dn,mn,"websocket")}},await this.worker.sendMessage({type:"set",client:{function:"bare-mux-remote",args:[an.port2,rn]}},[an.port2])}getInnerPort(){return this.worker.port}};console.debug("bare-mux: running v2.1.8 (build 75b1f5a)");var ch2={},wk=(function(sn,O,rn,an,un){var dn=new Worker(ch2[O]||(ch2[O]=URL.createObjectURL(new Blob([sn+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return dn.onmessage=function(hn){var mn=hn.data,xn=mn.$e$;if(xn){var gn=new Error(xn[0]);gn.code=xn[1],gn.stack=xn[2],un(gn,null)}else un(null,mn)},dn.postMessage(rn,an),dn}),u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(sn,O){for(var rn=new u16(31),an=0;an<31;++an)rn[an]=O+=1<<sn[an-1];for(var un=new i32(rn[30]),an=1;an<30;++an)for(var dn=rn[an];dn<rn[an+1];++dn)un[dn]=dn-rn[an]<<5|an;return{b:rn,r:un}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=(function(sn,O,rn){for(var an=sn.length,un=0,dn=new u16(O);un<an;++un)sn[un]&&++dn[sn[un]-1];var hn=new u16(O);for(un=1;un<O;++un)hn[un]=hn[un-1]+dn[un-1]<<1;var mn;if(rn){mn=new u16(1<<O);var xn=15-O;for(un=0;un<an;++un)if(sn[un])for(var gn=un<<4|sn[un],wn=O-sn[un],vn=hn[sn[un]-1]++<<wn,An=vn|(1<<wn)-1;vn<=An;++vn)mn[rev[vn]>>xn]=gn}else for(mn=new u16(an),un=0;un<an;++un)sn[un]&&(mn[un]=rev[hn[sn[un]-1]++]>>15-sn[un]);return mn}),flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(sn){for(var O=sn[0],rn=1;rn<sn.length;++rn)sn[rn]>O&&(O=sn[rn]);return O},bits=function(sn,O,rn){var an=O/8|0;return(sn[an]|sn[an+1]<<8)>>(O&7)&rn},bits16=function(sn,O){var rn=O/8|0;return(sn[rn]|sn[rn+1]<<8|sn[rn+2]<<16)>>(O&7)},shft=function(sn){return(sn+7)/8|0},slc=function(sn,O,rn){return(O==null||O<0)&&(O=0),(rn==null||rn>sn.length)&&(rn=sn.length),new u8(sn.subarray(O,rn))},FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(sn,O,rn){var an=new Error(O||ec[sn]);if(an.code=sn,Error.captureStackTrace&&Error.captureStackTrace(an,err),!rn)throw an;return an},inflt=function(sn,O,rn,an){var un=sn.length,dn=an?an.length:0;if(!un||O.f&&!O.l)return rn||new u8(0);var hn=!rn,mn=hn||O.i!=2,xn=O.i;hn&&(rn=new u8(un*3));var gn=function(es){var vs=rn.length;if(es>vs){var Kr=new u8(Math.max(vs*2,es));Kr.set(rn),rn=Kr}},wn=O.f||0,vn=O.p||0,An=O.b||0,Cn=O.l,Sn=O.d,Nn=O.m,jn=O.n,Hn=un*8;do{if(!Cn){wn=bits(sn,vn,1);var Bn=bits(sn,vn+1,3);if(vn+=3,Bn)if(Bn==1)Cn=flrm,Sn=fdrm,Nn=9,jn=5;else if(Bn==2){var Tn=bits(sn,vn,31)+257,zn=bits(sn,vn+10,15)+4,Dn=Tn+bits(sn,vn+5,31)+1;vn+=14;for(var In=new u8(Dn),Ln=new u8(19),Wn=0;Wn<zn;++Wn)Ln[clim[Wn]]=bits(sn,vn+Wn*3,7);vn+=zn*3;for(var Fn=max(Ln),Pn=(1<<Fn)-1,Vn=hMap(Ln,Fn,1),Wn=0;Wn<Dn;){var Zn=Vn[bits(sn,vn,Pn)];vn+=Zn&15;var On=Zn>>4;if(On<16)In[Wn++]=On;else{var Yn=0,Qn=0;for(On==16?(Qn=3+bits(sn,vn,3),vn+=2,Yn=In[Wn-1]):On==17?(Qn=3+bits(sn,vn,7),vn+=3):On==18&&(Qn=11+bits(sn,vn,127),vn+=7);Qn--;)In[Wn++]=Yn}}var Xn=In.subarray(0,Tn),rr=In.subarray(Tn);Nn=max(Xn),jn=max(rr),Cn=hMap(Xn,Nn,1),Sn=hMap(rr,jn,1)}else err(1);else{var On=shft(vn)+4,Mn=sn[On-4]|sn[On-3]<<8,Un=On+Mn;if(Un>un){xn&&err(0);break}mn&&gn(An+Mn),rn.set(sn.subarray(On,Un),An),O.b=An+=Mn,O.p=vn=Un*8,O.f=wn;continue}if(vn>Hn){xn&&err(0);break}}mn&&gn(An+131072);for(var sr=(1<<Nn)-1,Jn=(1<<jn)-1,nr=vn;;nr=vn){var Yn=Cn[bits16(sn,vn)&sr],ar=Yn>>4;if(vn+=Yn&15,vn>Hn){xn&&err(0);break}if(Yn||err(2),ar<256)rn[An++]=ar;else if(ar==256){nr=vn,Cn=null;break}else{var or=ar-254;if(ar>264){var Wn=ar-257,dr=fleb[Wn];or=bits(sn,vn,(1<<dr)-1)+fl[Wn],vn+=dr}var xr=Sn[bits16(sn,vn)&Jn],Dr=xr>>4;xr||err(3),vn+=xr&15;var rr=fd[Dr];if(Dr>3){var dr=fdeb[Dr];rr+=bits16(sn,vn)&(1<<dr)-1,vn+=dr}if(vn>Hn){xn&&err(0);break}mn&&gn(An+131072);var Nr=An+or;if(An<rr){var Ir=dn-rr,xs=Math.min(rr,Nr);for(Ir+An<0&&err(3);An<xs;++An)rn[An]=an[Ir+An]}for(;An<Nr;++An)rn[An]=rn[An-rr]}}O.l=Cn,O.p=nr,O.b=An,O.f=wn,Cn&&(wn=1,O.m=Nn,O.d=Sn,O.n=jn)}while(!wn);return An!=rn.length&&hn?slc(rn,0,An):rn.subarray(0,An)},wbits=function(sn,O,rn){rn<<=O&7;var an=O/8|0;sn[an]|=rn,sn[an+1]|=rn>>8},wbits16=function(sn,O,rn){rn<<=O&7;var an=O/8|0;sn[an]|=rn,sn[an+1]|=rn>>8,sn[an+2]|=rn>>16},hTree=function(sn,O){for(var rn=[],an=0;an<sn.length;++an)sn[an]&&rn.push({s:an,f:sn[an]});var un=rn.length,dn=rn.slice();if(!un)return{t:et$1,l:0};if(un==1){var hn=new u8(rn[0].s+1);return hn[rn[0].s]=1,{t:hn,l:1}}rn.sort(function(Un,Tn){return Un.f-Tn.f}),rn.push({s:-1,f:25001});var mn=rn[0],xn=rn[1],gn=0,wn=1,vn=2;for(rn[0]={s:-1,f:mn.f+xn.f,l:mn,r:xn};wn!=un-1;)mn=rn[rn[gn].f<rn[vn].f?gn++:vn++],xn=rn[gn!=wn&&rn[gn].f<rn[vn].f?gn++:vn++],rn[wn++]={s:-1,f:mn.f+xn.f,l:mn,r:xn};for(var An=dn[0].s,an=1;an<un;++an)dn[an].s>An&&(An=dn[an].s);var Cn=new u16(An+1),Sn=ln(rn[wn-1],Cn,0);if(Sn>O){var an=0,Nn=0,jn=Sn-O,Hn=1<<jn;for(dn.sort(function(Tn,zn){return Cn[zn.s]-Cn[Tn.s]||Tn.f-zn.f});an<un;++an){var Bn=dn[an].s;if(Cn[Bn]>O)Nn+=Hn-(1<<Sn-Cn[Bn]),Cn[Bn]=O;else break}for(Nn>>=jn;Nn>0;){var On=dn[an].s;Cn[On]<O?Nn-=1<<O-Cn[On]++-1:++an}for(;an>=0&&Nn;--an){var Mn=dn[an].s;Cn[Mn]==O&&(--Cn[Mn],++Nn)}Sn=O}return{t:new u8(Cn),l:Sn}},ln=function(sn,O,rn){return sn.s==-1?Math.max(ln(sn.l,O,rn+1),ln(sn.r,O,rn+1)):O[sn.s]=rn},lc=function(sn){for(var O=sn.length;O&&!sn[--O];);for(var rn=new u16(++O),an=0,un=sn[0],dn=1,hn=function(xn){rn[an++]=xn},mn=1;mn<=O;++mn)if(sn[mn]==un&&mn!=O)++dn;else{if(!un&&dn>2){for(;dn>138;dn-=138)hn(32754);dn>2&&(hn(dn>10?dn-11<<5|28690:dn-3<<5|12305),dn=0)}else if(dn>3){for(hn(un),--dn;dn>6;dn-=6)hn(8304);dn>2&&(hn(dn-3<<5|8208),dn=0)}for(;dn--;)hn(un);dn=1,un=sn[mn]}return{c:rn.subarray(0,an),n:O}},clen=function(sn,O){for(var rn=0,an=0;an<O.length;++an)rn+=sn[an]*O[an];return rn},wfblk=function(sn,O,rn){var an=rn.length,un=shft(O+2);sn[un]=an&255,sn[un+1]=an>>8,sn[un+2]=sn[un]^255,sn[un+3]=sn[un+1]^255;for(var dn=0;dn<an;++dn)sn[un+dn+4]=rn[dn];return(un+4+an)*8},wblk=function(sn,O,rn,an,un,dn,hn,mn,xn,gn,wn){wbits(O,wn++,rn),++un[256];for(var vn=hTree(un,15),An=vn.t,Cn=vn.l,Sn=hTree(dn,15),Nn=Sn.t,jn=Sn.l,Hn=lc(An),Bn=Hn.c,On=Hn.n,Mn=lc(Nn),Un=Mn.c,Tn=Mn.n,zn=new u16(19),Dn=0;Dn<Bn.length;++Dn)++zn[Bn[Dn]&31];for(var Dn=0;Dn<Un.length;++Dn)++zn[Un[Dn]&31];for(var In=hTree(zn,7),Ln=In.t,Wn=In.l,Fn=19;Fn>4&&!Ln[clim[Fn-1]];--Fn);var Pn=gn+5<<3,Vn=clen(un,flt)+clen(dn,fdt)+hn,Zn=clen(un,An)+clen(dn,Nn)+hn+14+3*Fn+clen(zn,Ln)+2*zn[16]+3*zn[17]+7*zn[18];if(xn>=0&&Pn<=Vn&&Pn<=Zn)return wfblk(O,wn,sn.subarray(xn,xn+gn));var Yn,Qn,Xn,rr;if(wbits(O,wn,1+(Zn<Vn)),wn+=2,Zn<Vn){Yn=hMap(An,Cn,0),Qn=An,Xn=hMap(Nn,jn,0),rr=Nn;var sr=hMap(Ln,Wn,0);wbits(O,wn,On-257),wbits(O,wn+5,Tn-1),wbits(O,wn+10,Fn-4),wn+=14;for(var Dn=0;Dn<Fn;++Dn)wbits(O,wn+3*Dn,Ln[clim[Dn]]);wn+=3*Fn;for(var Jn=[Bn,Un],nr=0;nr<2;++nr)for(var ar=Jn[nr],Dn=0;Dn<ar.length;++Dn){var or=ar[Dn]&31;wbits(O,wn,sr[or]),wn+=Ln[or],or>15&&(wbits(O,wn,ar[Dn]>>5&127),wn+=ar[Dn]>>12)}}else Yn=flm,Qn=flt,Xn=fdm,rr=fdt;for(var Dn=0;Dn<mn;++Dn){var dr=an[Dn];if(dr>255){var or=dr>>18&31;wbits16(O,wn,Yn[or+257]),wn+=Qn[or+257],or>7&&(wbits(O,wn,dr>>23&31),wn+=fleb[or]);var xr=dr&31;wbits16(O,wn,Xn[xr]),wn+=rr[xr],xr>3&&(wbits16(O,wn,dr>>5&8191),wn+=fdeb[xr])}else wbits16(O,wn,Yn[dr]),wn+=Qn[dr]}return wbits16(O,wn,Yn[256]),wn+Qn[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(sn,O,rn,an,un,dn){var hn=dn.z||sn.length,mn=new u8(an+hn+5*(1+Math.ceil(hn/7e3))+un),xn=mn.subarray(an,mn.length-un),gn=dn.l,wn=(dn.r||0)&7;if(O){wn&&(xn[0]=dn.r>>3);for(var vn=deo[O-1],An=vn>>13,Cn=vn&8191,Sn=(1<<rn)-1,Nn=dn.p||new u16(32768),jn=dn.h||new u16(Sn+1),Hn=Math.ceil(rn/3),Bn=2*Hn,On=function(Or){return(sn[Or]^sn[Or+1]<<Hn^sn[Or+2]<<Bn)&Sn},Mn=new i32(25e3),Un=new u16(288),Tn=new u16(32),zn=0,Dn=0,In=dn.i||0,Ln=0,Wn=dn.w||0,Fn=0;In+2<hn;++In){var Pn=On(In),Vn=In&32767,Zn=jn[Pn];if(Nn[Vn]=Zn,jn[Pn]=Vn,Wn<=In){var Yn=hn-In;if((zn>7e3||Ln>24576)&&(Yn>423||!gn)){wn=wblk(sn,xn,0,Mn,Un,Tn,Dn,Ln,Fn,In-Fn,wn),Ln=zn=Dn=0,Fn=In;for(var Qn=0;Qn<286;++Qn)Un[Qn]=0;for(var Qn=0;Qn<30;++Qn)Tn[Qn]=0}var Xn=2,rr=0,sr=Cn,Jn=Vn-Zn&32767;if(Yn>2&&Pn==On(In-Jn))for(var nr=Math.min(An,Yn)-1,ar=Math.min(32767,In),or=Math.min(258,Yn);Jn<=ar&&--sr&&Vn!=Zn;){if(sn[In+Xn]==sn[In+Xn-Jn]){for(var dr=0;dr<or&&sn[In+dr]==sn[In+dr-Jn];++dr);if(dr>Xn){if(Xn=dr,rr=Jn,dr>nr)break;for(var xr=Math.min(Jn,dr-2),Dr=0,Qn=0;Qn<xr;++Qn){var Nr=In-Jn+Qn&32767,Ir=Nn[Nr],xs=Nr-Ir&32767;xs>Dr&&(Dr=xs,Zn=Nr)}}}Vn=Zn,Zn=Nn[Vn],Jn+=Vn-Zn&32767}if(rr){Mn[Ln++]=268435456|revfl[Xn]<<18|revfd[rr];var es=revfl[Xn]&31,vs=revfd[rr]&31;Dn+=fleb[es]+fdeb[vs],++Un[257+es],++Tn[vs],Wn=In+Xn,++zn}else Mn[Ln++]=sn[In],++Un[sn[In]]}}for(In=Math.max(In,Wn);In<hn;++In)Mn[Ln++]=sn[In],++Un[sn[In]];wn=wblk(sn,xn,gn,Mn,Un,Tn,Dn,Ln,Fn,In-Fn,wn),gn||(dn.r=wn&7|xn[wn/8|0]<<3,wn-=7,dn.h=jn,dn.p=Nn,dn.i=In,dn.w=Wn)}else{for(var In=dn.w||0;In<hn+gn;In+=65535){var Kr=In+65535;Kr>=hn&&(xn[wn/8|0]=gn,Kr=hn),wn=wfblk(xn,wn+1,sn.subarray(In,Kr))}dn.i=hn}return slc(mn,0,an+shft(wn)+un)},crct=(function(){for(var sn=new Int32Array(256),O=0;O<256;++O){for(var rn=O,an=9;--an;)rn=(rn&1&&-306674912)^rn>>>1;sn[O]=rn}return sn})(),crc=function(){var sn=-1;return{p:function(O){for(var rn=sn,an=0;an<O.length;++an)rn=crct[rn&255^O[an]]^rn>>>8;sn=rn},d:function(){return~sn}}},adler=function(){var sn=1,O=0;return{p:function(rn){for(var an=sn,un=O,dn=rn.length|0,hn=0;hn!=dn;){for(var mn=Math.min(hn+2655,dn);hn<mn;++hn)un+=an+=rn[hn];an=(an&65535)+15*(an>>16),un=(un&65535)+15*(un>>16)}sn=an,O=un},d:function(){return sn%=65521,O%=65521,(sn&255)<<24|(sn&65280)<<8|(O&255)<<8|O>>8}}},dopt=function(sn,O,rn,an,un){if(!un&&(un={l:1},O.dictionary)){var dn=O.dictionary.subarray(-32768),hn=new u8(dn.length+sn.length);hn.set(dn),hn.set(sn,dn.length),sn=hn,un.w=dn.length}return dflt(sn,O.level==null?6:O.level,O.mem==null?un.l?Math.ceil(Math.max(8,Math.min(13,Math.log(sn.length)))*1.5):20:12+O.mem,rn,an,un)},mrg=function(sn,O){var rn={};for(var an in sn)rn[an]=sn[an];for(var an in O)rn[an]=O[an];return rn},wcln=function(sn,O,rn){for(var an=sn(),un=sn.toString(),dn=un.slice(un.indexOf("[")+1,un.lastIndexOf("]")).replace(/\s+/g,"").split(","),hn=0;hn<an.length;++hn){var mn=an[hn],xn=dn[hn];if(typeof mn=="function"){O+=";"+xn+"=";var gn=mn.toString();if(mn.prototype)if(gn.indexOf("[native code]")!=-1){var wn=gn.indexOf(" ",8)+1;O+=gn.slice(wn,gn.indexOf("(",wn))}else{O+=gn;for(var vn in mn.prototype)O+=";"+xn+".prototype."+vn+"="+mn.prototype[vn].toString()}else O+=gn}else rn[xn]=mn}return O},ch=[],cbfs=function(sn){var O=[];for(var rn in sn)sn[rn].buffer&&O.push((sn[rn]=new sn[rn].constructor(sn[rn])).buffer);return O},wrkr=function(sn,O,rn,an){if(!ch[rn]){for(var un="",dn={},hn=sn.length-1,mn=0;mn<hn;++mn)un=wcln(sn[mn],un,dn);ch[rn]={c:wcln(sn[hn],un,dn),e:dn}}var xn=mrg({},ch[rn].e);return wk(ch[rn].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+O.toString()+"}",rn,xn,cbfs(xn),an)},bInflt=function(){return[u8,u16,i32,fleb,fdeb,clim,fl,fd,flrm,fdrm,rev,ec,hMap,max,bits,bits16,shft,slc,err,inflt,inflateSync,pbf,gopt]},bDflt=function(){return[u8,u16,i32,fleb,fdeb,clim,revfl,revfd,flm,flt,fdm,fdt,rev,deo,et$1,hMap,wbits,wbits16,hTree,ln,lc,clen,wfblk,wblk,shft,slc,dflt,dopt,deflateSync,pbf]},gze=function(){return[gzh,gzhl,wbytes,crc,crct]},guze=function(){return[gzs,gzl]},zle=function(){return[zlh,wbytes,adler]},zule=function(){return[zls]},pbf=function(sn){return postMessage(sn,[sn.buffer])},gopt=function(sn){return sn&&{out:sn.size&&new u8(sn.size),dictionary:sn.dictionary}},cbify=function(sn,O,rn,an,un,dn){var hn=wrkr(rn,an,un,function(mn,xn){hn.terminate(),dn(mn,xn)});return hn.postMessage([sn,O],O.consume?[sn.buffer]:[]),function(){hn.terminate()}},astrm=function(sn){return sn.ondata=function(O,rn){return postMessage([O,rn],[O.buffer])},function(O){O.data.length?(sn.push(O.data[0],O.data[1]),postMessage([O.data[0].length])):sn.flush()}},astrmify=function(sn,O,rn,an,un,dn,hn){var mn,xn=wrkr(sn,an,un,function(gn,wn){gn?(xn.terminate(),O.ondata.call(O,gn)):Array.isArray(wn)?wn.length==1?(O.queuedSize-=wn[0],O.ondrain&&O.ondrain(wn[0])):(wn[1]&&xn.terminate(),O.ondata.call(O,gn,wn[0],wn[1])):hn(wn)});xn.postMessage(rn),O.queuedSize=0,O.push=function(gn,wn){O.ondata||err(5),mn&&O.ondata(err(4,0,1),null,!!wn),O.queuedSize+=gn.length,xn.postMessage([gn,mn=wn],[gn.buffer])},O.terminate=function(){xn.terminate()},dn&&(O.flush=function(){xn.postMessage([])})},b2=function(sn,O){return sn[O]|sn[O+1]<<8},b4=function(sn,O){return(sn[O]|sn[O+1]<<8|sn[O+2]<<16|sn[O+3]<<24)>>>0},b8=function(sn,O){return b4(sn,O)+b4(sn,O+4)*4294967296},wbytes=function(sn,O,rn){for(;rn;++O)sn[O]=rn,rn>>>=8},gzh=function(sn,O){var rn=O.filename;if(sn[0]=31,sn[1]=139,sn[2]=8,sn[8]=O.level<2?4:O.level==9?2:0,sn[9]=3,O.mtime!=0&&wbytes(sn,4,Math.floor(new Date(O.mtime||Date.now())/1e3)),rn){sn[3]=8;for(var an=0;an<=rn.length;++an)sn[an+10]=rn.charCodeAt(an)}},gzs=function(sn){(sn[0]!=31||sn[1]!=139||sn[2]!=8)&&err(6,"invalid gzip data");var O=sn[3],rn=10;O&4&&(rn+=(sn[10]|sn[11]<<8)+2);for(var an=(O>>3&1)+(O>>4&1);an>0;an-=!sn[rn++]);return rn+(O&2)},gzl=function(sn){var O=sn.length;return(sn[O-4]|sn[O-3]<<8|sn[O-2]<<16|sn[O-1]<<24)>>>0},gzhl=function(sn){return 10+(sn.filename?sn.filename.length+1:0)},zlh=function(sn,O){var rn=O.level,an=rn==0?0:rn<6?1:rn==9?3:2;if(sn[0]=120,sn[1]=an<<6|(O.dictionary&&32),sn[1]|=31-(sn[0]<<8|sn[1])%31,O.dictionary){var un=adler();un.p(O.dictionary),wbytes(sn,2,un.d())}},zls=function(sn,O){return((sn[0]&15)!=8||sn[0]>>4>7||(sn[0]<<8|sn[1])%31)&&err(6,"invalid zlib data"),(sn[1]>>5&1)==+!O&&err(6,"invalid zlib data: "+(sn[1]&32?"need":"unexpected")+" dictionary"),(sn[1]>>3&4)+2};function StrmOpt(sn,O){return typeof sn=="function"&&(O=sn,sn={}),this.ondata=O,sn}var Deflate=(function(){function sn(O,rn){if(typeof O=="function"&&(rn=O,O={}),this.ondata=rn,this.o=O||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new u8(98304),this.o.dictionary){var an=this.o.dictionary.subarray(-32768);this.b.set(an,32768-an.length),this.s.i=32768-an.length}}return sn.prototype.p=function(O,rn){this.ondata(dopt(O,this.o,0,0,this.s),rn)},sn.prototype.push=function(O,rn){this.ondata||err(5),this.s.l&&err(4);var an=O.length+this.s.z;if(an>this.b.length){if(an>2*this.b.length-32768){var un=new u8(an&-32768);un.set(this.b.subarray(0,this.s.z)),this.b=un}var dn=this.b.length-this.s.z;this.b.set(O.subarray(0,dn),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(O.subarray(dn),32768),this.s.z=O.length-dn+32768,this.s.i=32766,this.s.w=32768}else this.b.set(O,this.s.z),this.s.z+=O.length;this.s.l=rn&1,(this.s.z>this.s.w+8191||rn)&&(this.p(this.b,rn||!1),this.s.w=this.s.i,this.s.i-=2)},sn.prototype.flush=function(){this.ondata||err(5),this.s.l&&err(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},sn})(),AsyncDeflate=(function(){function sn(O,rn){astrmify([bDflt,function(){return[astrm,Deflate]}],this,StrmOpt.call(this,O,rn),function(an){var un=new Deflate(an.data);onmessage=astrm(un)},6,1)}return sn})();function deflate(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bDflt],function(an){return pbf(deflateSync(an.data[0],an.data[1]))},0,rn)}function deflateSync(sn,O){return dopt(sn,O||{},0,0)}var Inflate=(function(){function sn(O,rn){typeof O=="function"&&(rn=O,O={}),this.ondata=rn;var an=O&&O.dictionary&&O.dictionary.subarray(-32768);this.s={i:0,b:an?an.length:0},this.o=new u8(32768),this.p=new u8(0),an&&this.o.set(an)}return sn.prototype.e=function(O){if(this.ondata||err(5),this.d&&err(4),!this.p.length)this.p=O;else if(O.length){var rn=new u8(this.p.length+O.length);rn.set(this.p),rn.set(O,this.p.length),this.p=rn}},sn.prototype.c=function(O){this.s.i=+(this.d=O||!1);var rn=this.s.b,an=inflt(this.p,this.s,this.o);this.ondata(slc(an,rn,this.s.b),this.d),this.o=slc(an,this.s.b-32768),this.s.b=this.o.length,this.p=slc(this.p,this.s.p/8|0),this.s.p&=7},sn.prototype.push=function(O,rn){this.e(O),this.c(rn)},sn})(),AsyncInflate=(function(){function sn(O,rn){astrmify([bInflt,function(){return[astrm,Inflate]}],this,StrmOpt.call(this,O,rn),function(an){var un=new Inflate(an.data);onmessage=astrm(un)},7,0)}return sn})();function inflate(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bInflt],function(an){return pbf(inflateSync(an.data[0],gopt(an.data[1])))},1,rn)}function inflateSync(sn,O){return inflt(sn,{i:2},O&&O.out,O&&O.dictionary)}var Gzip=(function(){function sn(O,rn){this.c=crc(),this.l=0,this.v=1,Deflate.call(this,O,rn)}return sn.prototype.push=function(O,rn){this.c.p(O),this.l+=O.length,Deflate.prototype.push.call(this,O,rn)},sn.prototype.p=function(O,rn){var an=dopt(O,this.o,this.v&&gzhl(this.o),rn&&8,this.s);this.v&&(gzh(an,this.o),this.v=0),rn&&(wbytes(an,an.length-8,this.c.d()),wbytes(an,an.length-4,this.l)),this.ondata(an,rn)},sn.prototype.flush=function(){Deflate.prototype.flush.call(this)},sn})(),AsyncGzip=(function(){function sn(O,rn){astrmify([bDflt,gze,function(){return[astrm,Deflate,Gzip]}],this,StrmOpt.call(this,O,rn),function(an){var un=new Gzip(an.data);onmessage=astrm(un)},8,1)}return sn})();function gzip(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bDflt,gze,function(){return[gzipSync]}],function(an){return pbf(gzipSync(an.data[0],an.data[1]))},2,rn)}function gzipSync(sn,O){O||(O={});var rn=crc(),an=sn.length;rn.p(sn);var un=dopt(sn,O,gzhl(O),8),dn=un.length;return gzh(un,O),wbytes(un,dn-8,rn.d()),wbytes(un,dn-4,an),un}var Gunzip=(function(){function sn(O,rn){this.v=1,this.r=0,Inflate.call(this,O,rn)}return sn.prototype.push=function(O,rn){if(Inflate.prototype.e.call(this,O),this.r+=O.length,this.v){var an=this.p.subarray(this.v-1),un=an.length>3?gzs(an):4;if(un>an.length){if(!rn)return}else this.v>1&&this.onmember&&this.onmember(this.r-an.length);this.p=an.subarray(un),this.v=0}Inflate.prototype.c.call(this,rn),this.s.f&&!this.s.l&&!rn&&(this.v=shft(this.s.p)+9,this.s={i:0},this.o=new u8(0),this.push(new u8(0),rn))},sn})(),AsyncGunzip=(function(){function sn(O,rn){var an=this;astrmify([bInflt,guze,function(){return[astrm,Inflate,Gunzip]}],this,StrmOpt.call(this,O,rn),function(un){var dn=new Gunzip(un.data);dn.onmember=function(hn){return postMessage(hn)},onmessage=astrm(dn)},9,0,function(un){return an.onmember&&an.onmember(un)})}return sn})();function gunzip(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bInflt,guze,function(){return[gunzipSync]}],function(an){return pbf(gunzipSync(an.data[0],an.data[1]))},3,rn)}function gunzipSync(sn,O){var rn=gzs(sn);return rn+8>sn.length&&err(6,"invalid gzip data"),inflt(sn.subarray(rn,-8),{i:2},O&&O.out||new u8(gzl(sn)),O&&O.dictionary)}var Zlib=(function(){function sn(O,rn){this.c=adler(),this.v=1,Deflate.call(this,O,rn)}return sn.prototype.push=function(O,rn){this.c.p(O),Deflate.prototype.push.call(this,O,rn)},sn.prototype.p=function(O,rn){var an=dopt(O,this.o,this.v&&(this.o.dictionary?6:2),rn&&4,this.s);this.v&&(zlh(an,this.o),this.v=0),rn&&wbytes(an,an.length-4,this.c.d()),this.ondata(an,rn)},sn.prototype.flush=function(){Deflate.prototype.flush.call(this)},sn})(),AsyncZlib=(function(){function sn(O,rn){astrmify([bDflt,zle,function(){return[astrm,Deflate,Zlib]}],this,StrmOpt.call(this,O,rn),function(an){var un=new Zlib(an.data);onmessage=astrm(un)},10,1)}return sn})();function zlib(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bDflt,zle,function(){return[zlibSync]}],function(an){return pbf(zlibSync(an.data[0],an.data[1]))},4,rn)}function zlibSync(sn,O){O||(O={});var rn=adler();rn.p(sn);var an=dopt(sn,O,O.dictionary?6:2,4);return zlh(an,O),wbytes(an,an.length-4,rn.d()),an}var Unzlib=(function(){function sn(O,rn){Inflate.call(this,O,rn),this.v=O&&O.dictionary?2:1}return sn.prototype.push=function(O,rn){if(Inflate.prototype.e.call(this,O),this.v){if(this.p.length<6&&!rn)return;this.p=this.p.subarray(zls(this.p,this.v-1)),this.v=0}rn&&(this.p.length<4&&err(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Inflate.prototype.c.call(this,rn)},sn})(),AsyncUnzlib=(function(){function sn(O,rn){astrmify([bInflt,zule,function(){return[astrm,Inflate,Unzlib]}],this,StrmOpt.call(this,O,rn),function(an){var un=new Unzlib(an.data);onmessage=astrm(un)},11,0)}return sn})();function unzlib(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),cbify(sn,O,[bInflt,zule,function(){return[unzlibSync]}],function(an){return pbf(unzlibSync(an.data[0],gopt(an.data[1])))},5,rn)}function unzlibSync(sn,O){return inflt(sn.subarray(zls(sn,O&&O.dictionary),-4),{i:2},O&&O.out,O&&O.dictionary)}var Decompress=(function(){function sn(O,rn){this.o=StrmOpt.call(this,O,rn)||{},this.G=Gunzip,this.I=Inflate,this.Z=Unzlib}return sn.prototype.i=function(){var O=this;this.s.ondata=function(rn,an){O.ondata(rn,an)}},sn.prototype.push=function(O,rn){if(this.ondata||err(5),this.s)this.s.push(O,rn);else{if(this.p&&this.p.length){var an=new u8(this.p.length+O.length);an.set(this.p),an.set(O,this.p.length)}else this.p=O;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,rn),this.p=null)}},sn})(),AsyncDecompress=(function(){function sn(O,rn){Decompress.call(this,O,rn),this.queuedSize=0,this.G=AsyncGunzip,this.I=AsyncInflate,this.Z=AsyncUnzlib}return sn.prototype.i=function(){var O=this;this.s.ondata=function(rn,an,un){O.ondata(rn,an,un)},this.s.ondrain=function(rn){O.queuedSize-=rn,O.ondrain&&O.ondrain(rn)}},sn.prototype.push=function(O,rn){this.queuedSize+=O.length,Decompress.prototype.push.call(this,O,rn)},sn})();function decompress(sn,O,rn){return rn||(rn=O,O={}),typeof rn!="function"&&err(7),sn[0]==31&&sn[1]==139&&sn[2]==8?gunzip(sn,O,rn):(sn[0]&15)!=8||sn[0]>>4>7||(sn[0]<<8|sn[1])%31?inflate(sn,O,rn):unzlib(sn,O,rn)}function decompressSync(sn,O){return sn[0]==31&&sn[1]==139&&sn[2]==8?gunzipSync(sn,O):(sn[0]&15)!=8||sn[0]>>4>7||(sn[0]<<8|sn[1])%31?inflateSync(sn,O):unzlibSync(sn,O)}var fltn=function(sn,O,rn,an){for(var un in sn){var dn=sn[un],hn=O+un,mn=an;Array.isArray(dn)&&(mn=mrg(an,dn[1]),dn=dn[0]),dn instanceof u8?rn[hn]=[dn,mn]:(rn[hn+="/"]=[new u8(0),mn],fltn(dn,hn,rn,an))}},te$1=typeof TextEncoder<"u"&&new TextEncoder,td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch{}var dutf8=function(sn){for(var O="",rn=0;;){var an=sn[rn++],un=(an>127)+(an>223)+(an>239);if(rn+un>sn.length)return{s:O,r:slc(sn,rn-1)};un?un==3?(an=((an&15)<<18|(sn[rn++]&63)<<12|(sn[rn++]&63)<<6|sn[rn++]&63)-65536,O+=String.fromCharCode(55296|an>>10,56320|an&1023)):un&1?O+=String.fromCharCode((an&31)<<6|sn[rn++]&63):O+=String.fromCharCode((an&15)<<12|(sn[rn++]&63)<<6|sn[rn++]&63):O+=String.fromCharCode(an)}},DecodeUTF8=(function(){function sn(O){this.ondata=O,tds?this.t=new TextDecoder:this.p=et$1}return sn.prototype.push=function(O,rn){if(this.ondata||err(5),rn=!!rn,this.t){this.ondata(this.t.decode(O,{stream:!0}),rn),rn&&(this.t.decode().length&&err(8),this.t=null);return}this.p||err(4);var an=new u8(this.p.length+O.length);an.set(this.p),an.set(O,this.p.length);var un=dutf8(an),dn=un.s,hn=un.r;rn?(hn.length&&err(8),this.p=null):this.p=hn,this.ondata(dn,rn)},sn})(),EncodeUTF8=(function(){function sn(O){this.ondata=O}return sn.prototype.push=function(O,rn){this.ondata||err(5),this.d&&err(4),this.ondata(strToU8(O),this.d=rn||!1)},sn})();function strToU8(sn,O){if(O){for(var rn=new u8(sn.length),an=0;an<sn.length;++an)rn[an]=sn.charCodeAt(an);return rn}if(te$1)return te$1.encode(sn);for(var un=sn.length,dn=new u8(sn.length+(sn.length>>1)),hn=0,mn=function(wn){dn[hn++]=wn},an=0;an<un;++an){if(hn+5>dn.length){var xn=new u8(hn+8+(un-an<<1));xn.set(dn),dn=xn}var gn=sn.charCodeAt(an);gn<128||O?mn(gn):gn<2048?(mn(192|gn>>6),mn(128|gn&63)):gn>55295&&gn<57344?(gn=65536+(gn&1047552)|sn.charCodeAt(++an)&1023,mn(240|gn>>18),mn(128|gn>>12&63),mn(128|gn>>6&63),mn(128|gn&63)):(mn(224|gn>>12),mn(128|gn>>6&63),mn(128|gn&63))}return slc(dn,0,hn)}function strFromU8(sn,O){if(O){for(var rn="",an=0;an<sn.length;an+=16384)rn+=String.fromCharCode.apply(null,sn.subarray(an,an+16384));return rn}else{if(td)return td.decode(sn);var un=dutf8(sn),dn=un.s,rn=un.r;return rn.length&&err(8),dn}}var dbf=function(sn){return sn==1?3:sn<6?2:sn==9?1:0},slzh=function(sn,O){return O+30+b2(sn,O+26)+b2(sn,O+28)},zh=function(sn,O,rn){var an=b2(sn,O+28),un=strFromU8(sn.subarray(O+46,O+46+an),!(b2(sn,O+8)&2048)),dn=O+46+an,hn=b4(sn,O+20),mn=rn&&hn==4294967295?z64e(sn,dn):[hn,b4(sn,O+24),b4(sn,O+42)],xn=mn[0],gn=mn[1],wn=mn[2];return[b2(sn,O+10),xn,gn,un,dn+b2(sn,O+30)+b2(sn,O+32),wn]},z64e=function(sn,O){for(;b2(sn,O)!=1;O+=4+b2(sn,O+2));return[b8(sn,O+12),b8(sn,O+4),b8(sn,O+20)]},exfl=function(sn){var O=0;if(sn)for(var rn in sn){var an=sn[rn].length;an>65535&&err(9),O+=an+4}return O},wzh=function(sn,O,rn,an,un,dn,hn,mn){var xn=an.length,gn=rn.extra,wn=mn&&mn.length,vn=exfl(gn);wbytes(sn,O,hn!=null?33639248:67324752),O+=4,hn!=null&&(sn[O++]=20,sn[O++]=rn.os),sn[O]=20,O+=2,sn[O++]=rn.flag<<1|(dn<0&&8),sn[O++]=un&&8,sn[O++]=rn.compression&255,sn[O++]=rn.compression>>8;var An=new Date(rn.mtime==null?Date.now():rn.mtime),Cn=An.getFullYear()-1980;if((Cn<0||Cn>119)&&err(10),wbytes(sn,O,Cn<<25|An.getMonth()+1<<21|An.getDate()<<16|An.getHours()<<11|An.getMinutes()<<5|An.getSeconds()>>1),O+=4,dn!=-1&&(wbytes(sn,O,rn.crc),wbytes(sn,O+4,dn<0?-dn-2:dn),wbytes(sn,O+8,rn.size)),wbytes(sn,O+12,xn),wbytes(sn,O+14,vn),O+=16,hn!=null&&(wbytes(sn,O,wn),wbytes(sn,O+6,rn.attrs),wbytes(sn,O+10,hn),O+=14),sn.set(an,O),O+=xn,vn)for(var Sn in gn){var Nn=gn[Sn],jn=Nn.length;wbytes(sn,O,+Sn),wbytes(sn,O+2,jn),sn.set(Nn,O+4),O+=4+jn}return wn&&(sn.set(mn,O),O+=wn),O},wzf=function(sn,O,rn,an,un){wbytes(sn,O,101010256),wbytes(sn,O+8,rn),wbytes(sn,O+10,rn),wbytes(sn,O+12,an),wbytes(sn,O+16,un)},ZipPassThrough=(function(){function sn(O){this.filename=O,this.c=crc(),this.size=0,this.compression=0}return sn.prototype.process=function(O,rn){this.ondata(null,O,rn)},sn.prototype.push=function(O,rn){this.ondata||err(5),this.c.p(O),this.size+=O.length,rn&&(this.crc=this.c.d()),this.process(O,rn||!1)},sn})(),ZipDeflate=(function(){function sn(O,rn){var an=this;rn||(rn={}),ZipPassThrough.call(this,O),this.d=new Deflate(rn,function(un,dn){an.ondata(null,un,dn)}),this.compression=8,this.flag=dbf(rn.level)}return sn.prototype.process=function(O,rn){try{this.d.push(O,rn)}catch(an){this.ondata(an,null,rn)}},sn.prototype.push=function(O,rn){ZipPassThrough.prototype.push.call(this,O,rn)},sn})(),AsyncZipDeflate=(function(){function sn(O,rn){var an=this;rn||(rn={}),ZipPassThrough.call(this,O),this.d=new AsyncDeflate(rn,function(un,dn,hn){an.ondata(un,dn,hn)}),this.compression=8,this.flag=dbf(rn.level),this.terminate=this.d.terminate}return sn.prototype.process=function(O,rn){this.d.push(O,rn)},sn.prototype.push=function(O,rn){ZipPassThrough.prototype.push.call(this,O,rn)},sn})(),Zip=(function(){function sn(O){this.ondata=O,this.u=[],this.d=1}return sn.prototype.add=function(O){var rn=this;if(this.ondata||err(5),this.d&2)this.ondata(err(4+(this.d&1)*8,0,1),null,!1);else{var an=strToU8(O.filename),un=an.length,dn=O.comment,hn=dn&&strToU8(dn),mn=un!=O.filename.length||hn&&dn.length!=hn.length,xn=un+exfl(O.extra)+30;un>65535&&this.ondata(err(11,0,1),null,!1);var gn=new u8(xn);wzh(gn,0,O,an,mn,-1);var wn=[gn],vn=function(){for(var jn=0,Hn=wn;jn<Hn.length;jn++){var Bn=Hn[jn];rn.ondata(null,Bn,!1)}wn=[]},An=this.d;this.d=0;var Cn=this.u.length,Sn=mrg(O,{f:an,u:mn,o:hn,t:function(){O.terminate&&O.terminate()},r:function(){if(vn(),An){var jn=rn.u[Cn+1];jn?jn.r():rn.d=1}An=1}}),Nn=0;O.ondata=function(jn,Hn,Bn){if(jn)rn.ondata(jn,Hn,Bn),rn.terminate();else if(Nn+=Hn.length,wn.push(Hn),Bn){var On=new u8(16);wbytes(On,0,134695760),wbytes(On,4,O.crc),wbytes(On,8,Nn),wbytes(On,12,O.size),wn.push(On),Sn.c=Nn,Sn.b=xn+Nn+16,Sn.crc=O.crc,Sn.size=O.size,An&&Sn.r(),An=1}else An&&vn()},this.u.push(Sn)}},sn.prototype.end=function(){var O=this;if(this.d&2){this.ondata(err(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){O.d&1&&(O.u.splice(-1,1),O.e())},t:function(){}}),this.d=3},sn.prototype.e=function(){for(var O=0,rn=0,an=0,un=0,dn=this.u;un<dn.length;un++){var hn=dn[un];an+=46+hn.f.length+exfl(hn.extra)+(hn.o?hn.o.length:0)}for(var mn=new u8(an+22),xn=0,gn=this.u;xn<gn.length;xn++){var hn=gn[xn];wzh(mn,O,hn,hn.f,hn.u,-hn.c-2,rn,hn.o),O+=46+hn.f.length+exfl(hn.extra)+(hn.o?hn.o.length:0),rn+=hn.b}wzf(mn,O,this.u.length,an,rn),this.ondata(null,mn,!0),this.d=2},sn.prototype.terminate=function(){for(var O=0,rn=this.u;O<rn.length;O++){var an=rn[O];an.t()}this.d=2},sn})();function zip(sn,O,rn){rn||(rn=O,O={}),typeof rn!="function"&&err(7);var an={};fltn(sn,"",an,O);var un=Object.keys(an),dn=un.length,hn=0,mn=0,xn=dn,gn=new Array(dn),wn=[],vn=function(){for(var jn=0;jn<wn.length;++jn)wn[jn]()},An=function(jn,Hn){mt$1(function(){rn(jn,Hn)})};mt$1(function(){An=rn});var Cn=function(){var jn=new u8(mn+22),Hn=hn,Bn=mn-hn;mn=0;for(var On=0;On<xn;++On){var Mn=gn[On];try{var Un=Mn.c.length;wzh(jn,mn,Mn,Mn.f,Mn.u,Un);var Tn=30+Mn.f.length+exfl(Mn.extra),zn=mn+Tn;jn.set(Mn.c,zn),wzh(jn,hn,Mn,Mn.f,Mn.u,Un,mn,Mn.m),hn+=16+Tn+(Mn.m?Mn.m.length:0),mn=zn+Un}catch(Dn){return An(Dn,null)}}wzf(jn,hn,gn.length,Bn,Hn),An(null,jn)};dn||Cn();for(var Sn=function(jn){var Hn=un[jn],Bn=an[Hn],On=Bn[0],Mn=Bn[1],Un=crc(),Tn=On.length;Un.p(On);var zn=strToU8(Hn),Dn=zn.length,In=Mn.comment,Ln=In&&strToU8(In),Wn=Ln&&Ln.length,Fn=exfl(Mn.extra),Pn=Mn.level==0?0:8,Vn=function(Zn,Yn){if(Zn)vn(),An(Zn,null);else{var Qn=Yn.length;gn[jn]=mrg(Mn,{size:Tn,crc:Un.d(),c:Yn,f:zn,m:Ln,u:Dn!=Hn.length||Ln&&In.length!=Wn,compression:Pn}),hn+=30+Dn+Fn+Qn,mn+=76+2*(Dn+Fn)+(Wn||0)+Qn,--dn||Cn()}};if(Dn>65535&&Vn(err(11,0,1),null),!Pn)Vn(null,On);else if(Tn<16e4)try{Vn(null,deflateSync(On,Mn))}catch(Zn){Vn(Zn,null)}else wn.push(deflate(On,Mn,Vn))},Nn=0;Nn<xn;++Nn)Sn(Nn);return vn}function zipSync(sn,O){O||(O={});var rn={},an=[];fltn(sn,"",rn,O);var un=0,dn=0;for(var hn in rn){var mn=rn[hn],xn=mn[0],gn=mn[1],wn=gn.level==0?0:8,vn=strToU8(hn),An=vn.length,Cn=gn.comment,Sn=Cn&&strToU8(Cn),Nn=Sn&&Sn.length,jn=exfl(gn.extra);An>65535&&err(11);var Hn=wn?deflateSync(xn,gn):xn,Bn=Hn.length,On=crc();On.p(xn),an.push(mrg(gn,{size:xn.length,crc:On.d(),c:Hn,f:vn,m:Sn,u:An!=hn.length||Sn&&Cn.length!=Nn,o:un,compression:wn})),un+=30+An+jn+Bn,dn+=76+2*(An+jn)+(Nn||0)+Bn}for(var Mn=new u8(dn+22),Un=un,Tn=dn-un,zn=0;zn<an.length;++zn){var vn=an[zn];wzh(Mn,vn.o,vn,vn.f,vn.u,vn.c.length);var Dn=30+vn.f.length+exfl(vn.extra);Mn.set(vn.c,vn.o+Dn),wzh(Mn,un,vn,vn.f,vn.u,vn.c.length,vn.o,vn.m),un+=16+Dn+(vn.m?vn.m.length:0)}return wzf(Mn,un,an.length,Tn,Un),Mn}var UnzipPassThrough=(function(){function sn(){}return sn.prototype.push=function(O,rn){this.ondata(null,O,rn)},sn.compression=0,sn})(),UnzipInflate=(function(){function sn(){var O=this;this.i=new Inflate(function(rn,an){O.ondata(null,rn,an)})}return sn.prototype.push=function(O,rn){try{this.i.push(O,rn)}catch(an){this.ondata(an,null,rn)}},sn.compression=8,sn})(),AsyncUnzipInflate=(function(){function sn(O,rn){var an=this;rn<32e4?this.i=new Inflate(function(un,dn){an.ondata(null,un,dn)}):(this.i=new AsyncInflate(function(un,dn,hn){an.ondata(un,dn,hn)}),this.terminate=this.i.terminate)}return sn.prototype.push=function(O,rn){this.i.terminate&&(O=slc(O,0)),this.i.push(O,rn)},sn.compression=8,sn})(),Unzip=(function(){function sn(O){this.onfile=O,this.k=[],this.o={0:UnzipPassThrough},this.p=et$1}return sn.prototype.push=function(O,rn){var an=this;if(this.onfile||err(5),this.p||err(4),this.c>0){var un=Math.min(this.c,O.length),dn=O.subarray(0,un);if(this.c-=un,this.d?this.d.push(dn,!this.c):this.k[0].push(dn),O=O.subarray(un),O.length)return this.push(O,rn)}else{var hn=0,mn=0,xn=void 0,gn=void 0;this.p.length?O.length?(gn=new u8(this.p.length+O.length),gn.set(this.p),gn.set(O,this.p.length)):gn=this.p:gn=O;for(var wn=gn.length,vn=this.c,An=vn&&this.d,Cn=function(){var Hn,Bn=b4(gn,mn);if(Bn==67324752){hn=1,xn=mn,Sn.d=null,Sn.c=0;var On=b2(gn,mn+6),Mn=b2(gn,mn+8),Un=On&2048,Tn=On&8,zn=b2(gn,mn+26),Dn=b2(gn,mn+28);if(wn>mn+30+zn+Dn){var In=[];Sn.k.unshift(In),hn=2;var Ln=b4(gn,mn+18),Wn=b4(gn,mn+22),Fn=strFromU8(gn.subarray(mn+30,mn+=30+zn),!Un);Ln==4294967295?(Hn=Tn?[-2]:z64e(gn,mn),Ln=Hn[0],Wn=Hn[1]):Tn&&(Ln=-1),mn+=Dn,Sn.c=Ln;var Pn,Vn={name:Fn,compression:Mn,start:function(){if(Vn.ondata||err(5),!Ln)Vn.ondata(null,et$1,!0);else{var Zn=an.o[Mn];Zn||Vn.ondata(err(14,"unknown compression type "+Mn,1),null,!1),Pn=Ln<0?new Zn(Fn):new Zn(Fn,Ln,Wn),Pn.ondata=function(rr,sr,Jn){Vn.ondata(rr,sr,Jn)};for(var Yn=0,Qn=In;Yn<Qn.length;Yn++){var Xn=Qn[Yn];Pn.push(Xn,!1)}an.k[0]==In&&an.c?an.d=Pn:Pn.push(et$1,!0)}},terminate:function(){Pn&&Pn.terminate&&Pn.terminate()}};Ln>=0&&(Vn.size=Ln,Vn.originalSize=Wn),Sn.onfile(Vn)}return"break"}else if(vn){if(Bn==134695760)return xn=mn+=12+(vn==-2&&8),hn=3,Sn.c=0,"break";if(Bn==33639248)return xn=mn-=4,hn=3,Sn.c=0,"break"}},Sn=this;mn<wn-4;++mn){var Nn=Cn();if(Nn==="break")break}if(this.p=et$1,vn<0){var jn=hn?gn.subarray(0,xn-12-(vn==-2&&8)-(b4(gn,xn-16)==134695760&&4)):gn.subarray(0,mn);An?An.push(jn,!!hn):this.k[+(hn==2)].push(jn)}if(hn&2)return this.push(gn.subarray(mn),rn);this.p=gn.subarray(mn)}rn&&(this.c&&err(13),this.p=null)},sn.prototype.register=function(O){this.o[O.compression]=O},sn})(),mt$1=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(sn){sn()};function unzip$1(sn,O,rn){rn||(rn=O,O={}),typeof rn!="function"&&err(7);var an=[],un=function(){for(var jn=0;jn<an.length;++jn)an[jn]()},dn={},hn=function(jn,Hn){mt$1(function(){rn(jn,Hn)})};mt$1(function(){hn=rn});for(var mn=sn.length-22;b4(sn,mn)!=101010256;--mn)if(!mn||sn.length-mn>65558)return hn(err(13,0,1),null),un;var xn=b2(sn,mn+8);if(xn){var gn=xn,wn=b4(sn,mn+16),vn=wn==4294967295||gn==65535;if(vn){var An=b4(sn,mn-12);vn=b4(sn,An)==101075792,vn&&(gn=xn=b4(sn,An+32),wn=b4(sn,An+48))}for(var Cn=O&&O.filter,Sn=function(jn){var Hn=zh(sn,wn,vn),Bn=Hn[0],On=Hn[1],Mn=Hn[2],Un=Hn[3],Tn=Hn[4],zn=Hn[5],Dn=slzh(sn,zn);wn=Tn;var In=function(Wn,Fn){Wn?(un(),hn(Wn,null)):(Fn&&(dn[Un]=Fn),--xn||hn(null,dn))};if(!Cn||Cn({name:Un,size:On,originalSize:Mn,compression:Bn}))if(!Bn)In(null,slc(sn,Dn,Dn+On));else if(Bn==8){var Ln=sn.subarray(Dn,Dn+On);if(Mn<524288||On>.8*Mn)try{In(null,inflateSync(Ln,{out:new u8(Mn)}))}catch(Wn){In(Wn,null)}else an.push(inflate(Ln,{size:Mn},In))}else In(err(14,"unknown compression type "+Bn,1),null);else In(null,null)},Nn=0;Nn<gn;++Nn)Sn(Nn)}else hn(null,{});return un}function unzipSync(sn,O){for(var rn={},an=sn.length-22;b4(sn,an)!=101010256;--an)(!an||sn.length-an>65558)&&err(13);var un=b2(sn,an+8);if(!un)return{};var dn=b4(sn,an+16),hn=dn==4294967295||un==65535;if(hn){var mn=b4(sn,an-12);hn=b4(sn,mn)==101075792,hn&&(un=b4(sn,mn+32),dn=b4(sn,mn+48))}for(var xn=O&&O.filter,gn=0;gn<un;++gn){var wn=zh(sn,dn,hn),vn=wn[0],An=wn[1],Cn=wn[2],Sn=wn[3],Nn=wn[4],jn=wn[5],Hn=slzh(sn,jn);dn=Nn,(!xn||xn({name:Sn,size:An,originalSize:Cn,compression:vn}))&&(vn?vn==8?rn[Sn]=inflateSync(sn.subarray(Hn,Hn+An),{out:new u8(Cn)}):err(14,"unknown compression type "+vn):rn[Sn]=slc(sn,Hn,Hn+An))}return rn}const fflate=Object.freeze(Object.defineProperty({__proto__:null,AsyncCompress:AsyncGzip,AsyncDecompress,AsyncDeflate,AsyncGunzip,AsyncGzip,AsyncInflate,AsyncUnzipInflate,AsyncUnzlib,AsyncZipDeflate,AsyncZlib,Compress:Gzip,DecodeUTF8,Decompress,Deflate,EncodeUTF8,FlateErrorCode,Gunzip,Gzip,Inflate,Unzip,UnzipInflate,UnzipPassThrough,Unzlib,Zip,ZipDeflate,ZipPassThrough,Zlib,compress:gzip,compressSync:gzipSync,decompress,decompressSync,deflate,deflateSync,gunzip,gunzipSync,gzip,gzipSync,inflate,inflateSync,strFromU8,strToU8,unzip:unzip$1,unzipSync,unzlib,unzlibSync,zip,zipSync,zlib,zlibSync},Symbol.toStringTag,{value:"Module"})),libcurl=(function(){var sn=typeof sn<"u"?sn:{},O=Object.assign({},sn),rn="./this.program",an=(yn,bn)=>{throw bn},un=typeof window=="object",dn=typeof importScripts=="function",hn=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",mn=!un&&!hn&&!dn;if(sn.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var xn="";function gn(yn){return sn.locateFile?sn.locateFile(yn,xn):xn+yn}var wn,vn,An;function Cn(yn){if(yn instanceof ll)return;let bn=yn;yn&&typeof yn=="object"&&yn.stack&&(bn=[yn,yn.stack]),Nn("exiting due to exception: "+bn)}if(mn){if(typeof process=="object"&&typeof require=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(wn=function(bn){return read(bn)}),An=function(bn){let _n;return typeof readbuffer=="function"?new Uint8Array(readbuffer(bn)):(_n=read(bn,"binary"),sr(typeof _n=="object"),_n)},vn=function(bn,_n,kn){setTimeout(()=>_n(An(bn)),0)},typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(an=((yn,bn)=>{Cn(bn),quit(yn)})),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(un||dn){if(dn?xn=self.location.href:typeof document<"u"&&document.currentScript&&(xn=document.currentScript.src),xn.indexOf("blob:")!==0?xn=xn.substr(0,xn.replace(/[?#].*/,"").lastIndexOf("/")+1):xn="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");wn=(yn=>{var bn=new XMLHttpRequest;return bn.open("GET",yn,!1),bn.send(null),bn.responseText}),dn&&(An=(yn=>{var bn=new XMLHttpRequest;return bn.open("GET",yn,!1),bn.responseType="arraybuffer",bn.send(null),new Uint8Array(bn.response)})),vn=((yn,bn,_n)=>{var kn=new XMLHttpRequest;kn.open("GET",yn,!0),kn.responseType="arraybuffer",kn.onload=(()=>{if(kn.status==200||kn.status==0&&kn.response){bn(kn.response);return}_n()}),kn.onerror=_n,kn.send(null)})}else throw new Error("environment detection error");var Sn=sn.print||console.log.bind(console),Nn=sn.printErr||console.warn.bind(console);Object.assign(sn,O),O=null,Bf(),sn.arguments&&sn.arguments,Dn("arguments","arguments_"),sn.thisProgram&&(rn=sn.thisProgram),Dn("thisProgram","thisProgram"),sn.quit&&(an=sn.quit),Dn("quit","quit_"),sr(typeof sn.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),sr(typeof sn.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),sr(typeof sn.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),sr(typeof sn.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),sr(typeof sn.read>"u","Module.read option was removed (modify read_ in JS)"),sr(typeof sn.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),sr(typeof sn.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),sr(typeof sn.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),sr(typeof sn.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Dn("read","read_"),Dn("readAsync","readAsync"),Dn("readBinary","readBinary"),Dn("setWindowTitle","setWindowTitle"),sr(!hn,"node environment detected but not enabled at build time.  Add 'node' to `-s ENVIRONMENT` to enable."),sr(!mn,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");function jn(yn){jn.shown||(jn.shown={}),jn.shown[yn]||(jn.shown[yn]=1,Nn(yn))}function Hn(yn,bn){if(typeof WebAssembly.Function=="function"){for(var _n={i:"i32",j:"i64",f:"f32",d:"f64"},kn={parameters:[],results:bn[0]=="v"?[]:[_n[bn[0]]]},qn=1;qn<bn.length;++qn)kn.parameters.push(_n[bn[qn]]);return new WebAssembly.Function(kn,yn)}var Kn=[1,0,1,96],tr=bn.slice(0,1),ir=bn.slice(1),ur={i:127,j:126,f:125,d:124};Kn.push(ir.length);for(var qn=0;qn<ir.length;++qn)Kn.push(ur[ir[qn]]);tr=="v"?Kn.push(0):Kn=Kn.concat([1,ur[tr]]),Kn[1]=Kn.length-2;var wr=new Uint8Array([0,97,115,109,1,0,0,0].concat(Kn,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),Sr=new WebAssembly.Module(wr),_r=new WebAssembly.Instance(Sr,{e:{f:yn}}),yr=_r.exports.f;return yr}var Bn=[],On;function Mn(){if(Bn.length)return Bn.pop();try{ss.grow(1)}catch(yn){throw yn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":yn}return ss.length-1}function Un(yn,bn){for(var _n=yn;_n<yn+bn;_n++){var kn=di(_n);kn&&On.set(kn,_n)}}function Tn(yn,bn){if(sr(typeof yn<"u"),On||(On=new WeakMap,Un(0,ss.length)),On.has(yn))return On.get(yn);var _n=Mn();try{Ws(_n,yn)}catch(qn){if(!(qn instanceof TypeError))throw qn;sr(typeof bn<"u","Missing signature argument to addFunction: "+yn);var kn=Hn(yn,bn);Ws(_n,kn)}return On.set(yn,_n),_n}function zn(yn){On.delete(di(yn)),Bn.push(yn)}function Dn(yn,bn){Object.getOwnPropertyDescriptor(sn,yn)||Object.defineProperty(sn,yn,{configurable:!0,get:function(){As("Module."+yn+" has been replaced with plain "+bn+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function In(yn){Object.getOwnPropertyDescriptor(sn,yn)&&As("`Module."+yn+"` was supplied but `"+yn+"` not included in INCOMING_MODULE_JS_API")}function Ln(yn,bn){var _n="'"+yn+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";return bn&&(_n+=". Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you"),_n}function Wn(yn,bn){Object.getOwnPropertyDescriptor(sn,yn)||Object.defineProperty(sn,yn,{configurable:!0,get:function(){As(Ln(yn,bn))}})}function Fn(yn,bn){Object.getOwnPropertyDescriptor(sn,yn)||(sn[yn]=(()=>As(Ln(yn,bn))))}var Pn=0,Vn=yn=>{Pn=yn},Zn=()=>Pn,Yn;sn.wasmBinary&&(Yn=sn.wasmBinary),Dn("wasmBinary","wasmBinary"),sn.noExitRuntime,Dn("noExitRuntime","noExitRuntime"),typeof WebAssembly!="object"&&As("no native wasm support detected");var Qn,Xn=!1,rr;function sr(yn,bn){yn||As("Assertion failed"+(bn?": "+bn:""))}var Jn=0,nr=1;function ar(yn,bn){var _n;return sr(typeof bn=="number","allocate no longer takes a type argument"),sr(typeof yn!="number","allocate no longer takes a number as arg0"),bn==nr?_n=Gf(yn.length):_n=al(yn.length),!yn.subarray&&!yn.slice&&(yn=new Uint8Array(yn)),Gr.set(yn,_n),_n}var or=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function dr(yn,bn,_n){for(var kn=bn+_n,qn=bn;yn[qn]&&!(qn>=kn);)++qn;if(qn-bn>16&&yn.subarray&&or)return or.decode(yn.subarray(bn,qn));for(var Kn="";bn<qn;){var tr=yn[bn++];if(!(tr&128)){Kn+=String.fromCharCode(tr);continue}var ir=yn[bn++]&63;if((tr&224)==192){Kn+=String.fromCharCode((tr&31)<<6|ir);continue}var ur=yn[bn++]&63;if((tr&240)==224?tr=(tr&15)<<12|ir<<6|ur:((tr&248)!=240&&jn("Invalid UTF-8 leading byte 0x"+tr.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),tr=(tr&7)<<18|ir<<12|ur<<6|yn[bn++]&63),tr<65536)Kn+=String.fromCharCode(tr);else{var wr=tr-65536;Kn+=String.fromCharCode(55296|wr>>10,56320|wr&1023)}}return Kn}function xr(yn,bn){return yn?dr(Gr,yn,bn):""}function Dr(yn,bn,_n,kn){if(!(kn>0))return 0;for(var qn=_n,Kn=_n+kn-1,tr=0;tr<yn.length;++tr){var ir=yn.charCodeAt(tr);if(ir>=55296&&ir<=57343){var ur=yn.charCodeAt(++tr);ir=65536+((ir&1023)<<10)|ur&1023}if(ir<=127){if(_n>=Kn)break;bn[_n++]=ir}else if(ir<=2047){if(_n+1>=Kn)break;bn[_n++]=192|ir>>6,bn[_n++]=128|ir&63}else if(ir<=65535){if(_n+2>=Kn)break;bn[_n++]=224|ir>>12,bn[_n++]=128|ir>>6&63,bn[_n++]=128|ir&63}else{if(_n+3>=Kn)break;ir>1114111&&jn("Invalid Unicode code point 0x"+ir.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),bn[_n++]=240|ir>>18,bn[_n++]=128|ir>>12&63,bn[_n++]=128|ir>>6&63,bn[_n++]=128|ir&63}}return bn[_n]=0,_n-qn}function Nr(yn,bn,_n){return sr(typeof _n=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Dr(yn,Gr,bn,_n)}function Ir(yn){for(var bn=0,_n=0;_n<yn.length;++_n){var kn=yn.charCodeAt(_n);kn>=55296&&kn<=57343&&(kn=65536+((kn&1023)<<10)|yn.charCodeAt(++_n)&1023),kn<=127?++bn:kn<=2047?bn+=2:kn<=65535?bn+=3:bn+=4}return bn}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function xs(yn){var bn=Ir(yn)+1,_n=al(bn);return _n&&Dr(yn,Or,_n,bn),_n}function es(yn,bn){sr(yn.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Or.set(yn,bn)}function vs(yn,bn,_n){for(var kn=0;kn<yn.length;++kn)sr(yn.charCodeAt(kn)===(yn.charCodeAt(kn)&255)),Or[bn++>>0]=yn.charCodeAt(kn);Or[bn>>0]=0}var Kr,Or,Gr,ks,Ks,gr,Fr;function Mr(yn){Kr=yn,sn.HEAP8=Or=new Int8Array(yn),sn.HEAP16=ks=new Int16Array(yn),sn.HEAP32=gr=new Int32Array(yn),sn.HEAPU8=Gr=new Uint8Array(yn),sn.HEAPU16=Ks=new Uint16Array(yn),sn.HEAPU32=Fr=new Uint32Array(yn),sn.HEAPF32=new Float32Array(yn),sn.HEAPF64=new Float64Array(yn)}var ts=5242880;sn.TOTAL_STACK&&sr(ts===sn.TOTAL_STACK,"the stack size can no longer be determined at runtime");var ns=sn.INITIAL_MEMORY||16777216;Dn("INITIAL_MEMORY","INITIAL_MEMORY"),sr(ns>=ts,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+ns+"! (TOTAL_STACK="+ts+")"),sr(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),sr(!sn.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),sr(ns==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var ss;function Yr(){var yn=ic();sr((yn&3)==0),gr[yn+4>>2]=34821223,gr[yn+8>>2]=2310721022,gr[0]=1668509029}function ls(){if(!Xn){var yn=ic(),bn=Fr[yn+4>>2],_n=Fr[yn+8>>2];(bn!=34821223||_n!=2310721022)&&As("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+_n.toString(16)+" 0x"+bn.toString(16)),gr[0]!==1668509029&&As("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var yn=new Int16Array(1),bn=new Int8Array(yn.buffer);if(yn[0]=25459,bn[0]!==115||bn[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"})();var Jr=[],Hr=[],is=[],ii=!1;function Ji(){if(sn.preRun)for(typeof sn.preRun=="function"&&(sn.preRun=[sn.preRun]);sn.preRun.length;)_s(sn.preRun.shift());Xi(Jr)}function fi(){ls(),sr(!ii),ii=!0,!sn.noFSInit&&!$n.init.initialized&&$n.init(),$n.ignorePermissions=!1,ps.root=$n.mount(ps,{},null),js.root=$n.mount(js,{},null),Xi(Hr)}function ds(){if(ls(),sn.postRun)for(typeof sn.postRun=="function"&&(sn.postRun=[sn.postRun]);sn.postRun.length;)Ei(sn.postRun.shift());Xi(is)}function _s(yn){Jr.unshift(yn)}function Vs(yn){Hr.unshift(yn)}function Ei(yn){is.unshift(yn)}sr(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),sr(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),sr(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),sr(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Is=0,Li=null,Qi=null,Ki={};function Zi(yn){for(var bn=yn;;){if(!Ki[yn])return yn;yn=bn+Math.random()}}function Vi(yn){Is++,sn.monitorRunDependencies&&sn.monitorRunDependencies(Is),yn?(sr(!Ki[yn]),Ki[yn]=1,Li===null&&typeof setInterval<"u"&&(Li=setInterval(function(){if(Xn){clearInterval(Li),Li=null;return}var bn=!1;for(var _n in Ki)bn||(bn=!0,Nn("still waiting on run dependencies:")),Nn("dependency: "+_n);bn&&Nn("(end of list)")},1e4))):Nn("warning: run dependency added without ID")}function Ti(yn){if(Is--,sn.monitorRunDependencies&&sn.monitorRunDependencies(Is),yn?(sr(Ki[yn]),delete Ki[yn]):Nn("warning: run dependency removed without ID"),Is==0&&(Li!==null&&(clearInterval(Li),Li=null),Qi)){var bn=Qi;Qi=null,bn()}}sn.preloadedImages={},sn.preloadedAudios={};function As(yn){sn.onAbort&&sn.onAbort(yn),yn="Aborted("+yn+")",Nn(yn),Xn=!0,rr=1;var bn=new WebAssembly.RuntimeError(yn);throw bn}var Fa="data:application/octet-stream;base64,";function Si(yn){return yn.startsWith(Fa)}function Wo(yn){return yn.startsWith("file://")}function Lr(yn,bn){return function(){var _n=yn,kn=bn;return kn=sn.asm,sr(ii,"native function `"+_n+"` called before runtime initialization"),sr(!0,"native function `"+_n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),kn[yn]||sr(kn[yn],"exported native function `"+_n+"` not found"),kn[yn].apply(null,arguments)}}var Ns;Ns="emscripten_compiled.wasm",Si(Ns)||(Ns=gn(Ns));function zi(yn){try{if(yn==Ns&&Yn)return new Uint8Array(Yn);if(An)return An(yn);throw"both async and sync fetching of the wasm failed"}catch(bn){As(bn)}}function Ml(){return!Yn&&(un||dn)&&typeof fetch=="function"?fetch(Ns,{credentials:"same-origin"}).then(function(yn){if(!yn.ok)throw"failed to load wasm binary file at '"+Ns+"'";return yn.arrayBuffer()}).catch(function(){return zi(Ns)}):Promise.resolve().then(function(){return zi(Ns)})}function ka(){var yn={env:su,wasi_snapshot_preview1:su};function bn(ir,ur){var wr=ir.exports;sn.asm=wr,Qn=sn.asm.memory,sr(Qn,"memory not found in wasm exports"),Mr(Qn.buffer),ss=sn.asm.__indirect_function_table,sr(ss,"table not found in wasm exports"),Vs(sn.asm.__wasm_call_ctors),Ti("wasm-instantiate")}Vi("wasm-instantiate");var _n=sn;function kn(ir){sr(sn===_n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),_n=null,bn(ir.instance)}function qn(ir){return Ml().then(function(ur){return WebAssembly.instantiate(ur,yn)}).then(function(ur){return ur}).then(ir,function(ur){Nn("failed to asynchronously prepare wasm: "+ur),Wo(Ns)&&Nn("warning: Loading from a file URI ("+Ns+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),As(ur)})}function Kn(){return!Yn&&typeof WebAssembly.instantiateStreaming=="function"&&!Si(Ns)&&typeof fetch=="function"?fetch(Ns,{credentials:"same-origin"}).then(function(ir){var ur=WebAssembly.instantiateStreaming(ir,yn);return ur.then(kn,function(wr){return Nn("wasm streaming compile failed: "+wr),Nn("falling back to ArrayBuffer instantiation"),qn(kn)})}):qn(kn)}if(sn.instantiateWasm)try{var tr=sn.instantiateWasm(yn,bn);return tr}catch(ir){return Nn("Module.instantiateWasm callback failed with error: "+ir),!1}return Kn(),{}}var Wr,Rs;function Xi(yn){for(;yn.length>0;){var bn=yn.shift();if(typeof bn=="function"){bn(sn);continue}var _n=bn.func;typeof _n=="number"?bn.arg===void 0?di(_n)():di(_n)(bn.arg):_n(bn.arg===void 0?null:bn.arg)}}function Ao(yn){return jn("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),yn}function Gc(yn){var bn=/\b_Z[\w\d_]+/g;return yn.replace(bn,function(_n){var kn=Ao(_n);return _n===kn?_n:kn+" ["+_n+"]"})}function di(yn){return ss.get(yn)}function ea(yn){if(yn instanceof ll||yn=="unwind")return rr;an(1,yn)}function Ws(yn,bn){ss.set(yn,bn)}function ai(yn,bn,_n,kn){As("Assertion failed: "+xr(yn)+", at: "+[bn?xr(bn):"unknown filename",_n,kn?xr(kn):"unknown function"])}function Ia(yn,bn){di(yn)(bn)}var hs={splitPath:function(yn){var bn=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return bn.exec(yn).slice(1)},normalizeArray:function(yn,bn){for(var _n=0,kn=yn.length-1;kn>=0;kn--){var qn=yn[kn];qn==="."?yn.splice(kn,1):qn===".."?(yn.splice(kn,1),_n++):_n&&(yn.splice(kn,1),_n--)}if(bn)for(;_n;_n--)yn.unshift("..");return yn},normalize:function(yn){var bn=yn.charAt(0)==="/",_n=yn.substr(-1)==="/";return yn=hs.normalizeArray(yn.split("/").filter(function(kn){return!!kn}),!bn).join("/"),!yn&&!bn&&(yn="."),yn&&_n&&(yn+="/"),(bn?"/":"")+yn},dirname:function(yn){var bn=hs.splitPath(yn),_n=bn[0],kn=bn[1];return!_n&&!kn?".":(kn&&(kn=kn.substr(0,kn.length-1)),_n+kn)},basename:function(yn){if(yn==="/")return"/";yn=hs.normalize(yn),yn=yn.replace(/\/$/,"");var bn=yn.lastIndexOf("/");return bn===-1?yn:yn.substr(bn+1)},extname:function(yn){return hs.splitPath(yn)[3]},join:function(){var yn=Array.prototype.slice.call(arguments,0);return hs.normalize(yn.join("/"))},join2:function(yn,bn){return hs.normalize(yn+"/"+bn)}};function yf(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var yn=new Uint8Array(1);return function(){return crypto.getRandomValues(yn),yn[0]}}else return function(){As("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var Ui={resolve:function(){for(var yn="",bn=!1,_n=arguments.length-1;_n>=-1&&!bn;_n--){var kn=_n>=0?arguments[_n]:$n.cwd();if(typeof kn!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!kn)return"";yn=kn+"/"+yn,bn=kn.charAt(0)==="/"}return yn=hs.normalizeArray(yn.split("/").filter(function(qn){return!!qn}),!bn).join("/"),(bn?"/":"")+yn||"."},relative:function(yn,bn){yn=Ui.resolve(yn).substr(1),bn=Ui.resolve(bn).substr(1);function _n(wr){for(var Sr=0;Sr<wr.length&&wr[Sr]==="";Sr++);for(var _r=wr.length-1;_r>=0&&wr[_r]==="";_r--);return Sr>_r?[]:wr.slice(Sr,_r-Sr+1)}for(var kn=_n(yn.split("/")),qn=_n(bn.split("/")),Kn=Math.min(kn.length,qn.length),tr=Kn,ir=0;ir<Kn;ir++)if(kn[ir]!==qn[ir]){tr=ir;break}for(var ur=[],ir=tr;ir<kn.length;ir++)ur.push("..");return ur=ur.concat(qn.slice(tr)),ur.join("/")}},ta={ttys:[],init:function(){},shutdown:function(){},register:function(yn,bn){ta.ttys[yn]={input:[],output:[],ops:bn},$n.registerDevice(yn,ta.stream_ops)},stream_ops:{open:function(yn){var bn=ta.ttys[yn.node.rdev];if(!bn)throw new $n.ErrnoError(43);yn.tty=bn,yn.seekable=!1},close:function(yn){yn.tty.ops.flush(yn.tty)},flush:function(yn){yn.tty.ops.flush(yn.tty)},read:function(yn,bn,_n,kn,qn){if(!yn.tty||!yn.tty.ops.get_char)throw new $n.ErrnoError(60);for(var Kn=0,tr=0;tr<kn;tr++){var ir;try{ir=yn.tty.ops.get_char(yn.tty)}catch{throw new $n.ErrnoError(29)}if(ir===void 0&&Kn===0)throw new $n.ErrnoError(6);if(ir==null)break;Kn++,bn[_n+tr]=ir}return Kn&&(yn.node.timestamp=Date.now()),Kn},write:function(yn,bn,_n,kn,qn){if(!yn.tty||!yn.tty.ops.put_char)throw new $n.ErrnoError(60);try{for(var Kn=0;Kn<kn;Kn++)yn.tty.ops.put_char(yn.tty,bn[_n+Kn])}catch{throw new $n.ErrnoError(29)}return kn&&(yn.node.timestamp=Date.now()),Kn}},default_tty_ops:{get_char:function(yn){if(!yn.input.length){var bn=null;if(typeof window<"u"&&typeof window.prompt=="function"?(bn=window.prompt("Input: "),bn!==null&&(bn+=`
`)):typeof readline=="function"&&(bn=readline(),bn!==null&&(bn+=`
`)),!bn)return null;yn.input=_o(bn,!0)}return yn.input.shift()},put_char:function(yn,bn){bn===null||bn===10?(Sn(dr(yn.output,0)),yn.output=[]):bn!=0&&yn.output.push(bn)},flush:function(yn){yn.output&&yn.output.length>0&&(Sn(dr(yn.output,0)),yn.output=[])}},default_tty1_ops:{put_char:function(yn,bn){bn===null||bn===10?(Nn(dr(yn.output,0)),yn.output=[]):bn!=0&&yn.output.push(bn)},flush:function(yn){yn.output&&yn.output.length>0&&(Nn(dr(yn.output,0)),yn.output=[])}}};function Ma(yn,bn){Gr.fill(0,yn,yn+bn)}function Ll(yn){As("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")}var Pr={ops_table:null,mount:function(yn){return Pr.createNode(null,"/",16895,0)},createNode:function(yn,bn,_n,kn){if($n.isBlkdev(_n)||$n.isFIFO(_n))throw new $n.ErrnoError(63);Pr.ops_table||(Pr.ops_table={dir:{node:{getattr:Pr.node_ops.getattr,setattr:Pr.node_ops.setattr,lookup:Pr.node_ops.lookup,mknod:Pr.node_ops.mknod,rename:Pr.node_ops.rename,unlink:Pr.node_ops.unlink,rmdir:Pr.node_ops.rmdir,readdir:Pr.node_ops.readdir,symlink:Pr.node_ops.symlink},stream:{llseek:Pr.stream_ops.llseek}},file:{node:{getattr:Pr.node_ops.getattr,setattr:Pr.node_ops.setattr},stream:{llseek:Pr.stream_ops.llseek,read:Pr.stream_ops.read,write:Pr.stream_ops.write,allocate:Pr.stream_ops.allocate,mmap:Pr.stream_ops.mmap,msync:Pr.stream_ops.msync}},link:{node:{getattr:Pr.node_ops.getattr,setattr:Pr.node_ops.setattr,readlink:Pr.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Pr.node_ops.getattr,setattr:Pr.node_ops.setattr},stream:$n.chrdev_stream_ops}});var qn=$n.createNode(yn,bn,_n,kn);return $n.isDir(qn.mode)?(qn.node_ops=Pr.ops_table.dir.node,qn.stream_ops=Pr.ops_table.dir.stream,qn.contents={}):$n.isFile(qn.mode)?(qn.node_ops=Pr.ops_table.file.node,qn.stream_ops=Pr.ops_table.file.stream,qn.usedBytes=0,qn.contents=null):$n.isLink(qn.mode)?(qn.node_ops=Pr.ops_table.link.node,qn.stream_ops=Pr.ops_table.link.stream):$n.isChrdev(qn.mode)&&(qn.node_ops=Pr.ops_table.chrdev.node,qn.stream_ops=Pr.ops_table.chrdev.stream),qn.timestamp=Date.now(),yn&&(yn.contents[bn]=qn,yn.timestamp=qn.timestamp),qn},getFileDataAsTypedArray:function(yn){return yn.contents?yn.contents.subarray?yn.contents.subarray(0,yn.usedBytes):new Uint8Array(yn.contents):new Uint8Array(0)},expandFileStorage:function(yn,bn){var _n=yn.contents?yn.contents.length:0;if(!(_n>=bn)){var kn=1024*1024;bn=Math.max(bn,_n*(_n<kn?2:1.125)>>>0),_n!=0&&(bn=Math.max(bn,256));var qn=yn.contents;yn.contents=new Uint8Array(bn),yn.usedBytes>0&&yn.contents.set(qn.subarray(0,yn.usedBytes),0)}},resizeFileStorage:function(yn,bn){if(yn.usedBytes!=bn)if(bn==0)yn.contents=null,yn.usedBytes=0;else{var _n=yn.contents;yn.contents=new Uint8Array(bn),_n&&yn.contents.set(_n.subarray(0,Math.min(bn,yn.usedBytes))),yn.usedBytes=bn}},node_ops:{getattr:function(yn){var bn={};return bn.dev=$n.isChrdev(yn.mode)?yn.id:1,bn.ino=yn.id,bn.mode=yn.mode,bn.nlink=1,bn.uid=0,bn.gid=0,bn.rdev=yn.rdev,$n.isDir(yn.mode)?bn.size=4096:$n.isFile(yn.mode)?bn.size=yn.usedBytes:$n.isLink(yn.mode)?bn.size=yn.link.length:bn.size=0,bn.atime=new Date(yn.timestamp),bn.mtime=new Date(yn.timestamp),bn.ctime=new Date(yn.timestamp),bn.blksize=4096,bn.blocks=Math.ceil(bn.size/bn.blksize),bn},setattr:function(yn,bn){bn.mode!==void 0&&(yn.mode=bn.mode),bn.timestamp!==void 0&&(yn.timestamp=bn.timestamp),bn.size!==void 0&&Pr.resizeFileStorage(yn,bn.size)},lookup:function(yn,bn){throw $n.genericErrors[44]},mknod:function(yn,bn,_n,kn){return Pr.createNode(yn,bn,_n,kn)},rename:function(yn,bn,_n){if($n.isDir(yn.mode)){var kn;try{kn=$n.lookupNode(bn,_n)}catch{}if(kn)for(var qn in kn.contents)throw new $n.ErrnoError(55)}delete yn.parent.contents[yn.name],yn.parent.timestamp=Date.now(),yn.name=_n,bn.contents[_n]=yn,bn.timestamp=yn.parent.timestamp,yn.parent=bn},unlink:function(yn,bn){delete yn.contents[bn],yn.timestamp=Date.now()},rmdir:function(yn,bn){var _n=$n.lookupNode(yn,bn);for(var kn in _n.contents)throw new $n.ErrnoError(55);delete yn.contents[bn],yn.timestamp=Date.now()},readdir:function(yn){var bn=[".",".."];for(var _n in yn.contents)yn.contents.hasOwnProperty(_n)&&bn.push(_n);return bn},symlink:function(yn,bn,_n){var kn=Pr.createNode(yn,bn,41471,0);return kn.link=_n,kn},readlink:function(yn){if(!$n.isLink(yn.mode))throw new $n.ErrnoError(28);return yn.link}},stream_ops:{read:function(yn,bn,_n,kn,qn){var Kn=yn.node.contents;if(qn>=yn.node.usedBytes)return 0;var tr=Math.min(yn.node.usedBytes-qn,kn);if(sr(tr>=0),tr>8&&Kn.subarray)bn.set(Kn.subarray(qn,qn+tr),_n);else for(var ir=0;ir<tr;ir++)bn[_n+ir]=Kn[qn+ir];return tr},write:function(yn,bn,_n,kn,qn,Kn){if(sr(!(bn instanceof ArrayBuffer)),bn.buffer===Or.buffer&&(Kn=!1),!kn)return 0;var tr=yn.node;if(tr.timestamp=Date.now(),bn.subarray&&(!tr.contents||tr.contents.subarray)){if(Kn)return sr(qn===0,"canOwn must imply no weird position inside the file"),tr.contents=bn.subarray(_n,_n+kn),tr.usedBytes=kn,kn;if(tr.usedBytes===0&&qn===0)return tr.contents=bn.slice(_n,_n+kn),tr.usedBytes=kn,kn;if(qn+kn<=tr.usedBytes)return tr.contents.set(bn.subarray(_n,_n+kn),qn),kn}if(Pr.expandFileStorage(tr,qn+kn),tr.contents.subarray&&bn.subarray)tr.contents.set(bn.subarray(_n,_n+kn),qn);else for(var ir=0;ir<kn;ir++)tr.contents[qn+ir]=bn[_n+ir];return tr.usedBytes=Math.max(tr.usedBytes,qn+kn),kn},llseek:function(yn,bn,_n){var kn=bn;if(_n===1?kn+=yn.position:_n===2&&$n.isFile(yn.node.mode)&&(kn+=yn.node.usedBytes),kn<0)throw new $n.ErrnoError(28);return kn},allocate:function(yn,bn,_n){Pr.expandFileStorage(yn.node,bn+_n),yn.node.usedBytes=Math.max(yn.node.usedBytes,bn+_n)},mmap:function(yn,bn,_n,kn,qn,Kn){if(bn!==0)throw new $n.ErrnoError(28);if(!$n.isFile(yn.node.mode))throw new $n.ErrnoError(43);var tr,ir,ur=yn.node.contents;if(!(Kn&2)&&ur.buffer===Kr)ir=!1,tr=ur.byteOffset;else{if((kn>0||kn+_n<ur.length)&&(ur.subarray?ur=ur.subarray(kn,kn+_n):ur=Array.prototype.slice.call(ur,kn,kn+_n)),ir=!0,tr=Ll(),!tr)throw new $n.ErrnoError(48);Or.set(ur,tr)}return{ptr:tr,allocated:ir}},msync:function(yn,bn,_n,kn,qn){if(!$n.isFile(yn.node.mode))throw new $n.ErrnoError(43);return qn&2||Pr.stream_ops.write(yn,bn,0,kn,_n,!1),0}}};function La(yn,bn,_n,kn){var qn=Zi("al "+yn);vn(yn,function(Kn){sr(Kn,'Loading data file "'+yn+'" failed (no arrayBuffer).'),bn(new Uint8Array(Kn)),qn&&Ti(qn)},function(Kn){if(_n)_n();else throw'Loading data file "'+yn+'" failed.'}),qn&&Vi(qn)}var vo={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},na={},$n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(yn,bn={})=>{if(yn=Ui.resolve($n.cwd(),yn),!yn)return{path:"",node:null};var _n={follow_mount:!0,recurse_count:0};for(var kn in _n)bn[kn]===void 0&&(bn[kn]=_n[kn]);if(bn.recurse_count>8)throw new $n.ErrnoError(32);for(var qn=hs.normalizeArray(yn.split("/").filter(yr=>!!yr),!1),Kn=$n.root,tr="/",ir=0;ir<qn.length;ir++){var ur=ir===qn.length-1;if(ur&&bn.parent)break;if(Kn=$n.lookupNode(Kn,qn[ir]),tr=hs.join2(tr,qn[ir]),$n.isMountpoint(Kn)&&(!ur||ur&&bn.follow_mount)&&(Kn=Kn.mounted.root),!ur||bn.follow)for(var wr=0;$n.isLink(Kn.mode);){var Sr=$n.readlink(tr);tr=Ui.resolve(hs.dirname(tr),Sr);var _r=$n.lookupPath(tr,{recurse_count:bn.recurse_count});if(Kn=_r.node,wr++>40)throw new $n.ErrnoError(32)}}return{path:tr,node:Kn}},getPath:yn=>{for(var bn;;){if($n.isRoot(yn)){var _n=yn.mount.mountpoint;return bn?_n[_n.length-1]!=="/"?_n+"/"+bn:_n+bn:_n}bn=bn?yn.name+"/"+bn:yn.name,yn=yn.parent}},hashName:(yn,bn)=>{for(var _n=0,kn=0;kn<bn.length;kn++)_n=(_n<<5)-_n+bn.charCodeAt(kn)|0;return(yn+_n>>>0)%$n.nameTable.length},hashAddNode:yn=>{var bn=$n.hashName(yn.parent.id,yn.name);yn.name_next=$n.nameTable[bn],$n.nameTable[bn]=yn},hashRemoveNode:yn=>{var bn=$n.hashName(yn.parent.id,yn.name);if($n.nameTable[bn]===yn)$n.nameTable[bn]=yn.name_next;else for(var _n=$n.nameTable[bn];_n;){if(_n.name_next===yn){_n.name_next=yn.name_next;break}_n=_n.name_next}},lookupNode:(yn,bn)=>{var _n=$n.mayLookup(yn);if(_n)throw new $n.ErrnoError(_n,yn);for(var kn=$n.hashName(yn.id,bn),qn=$n.nameTable[kn];qn;qn=qn.name_next){var Kn=qn.name;if(qn.parent.id===yn.id&&Kn===bn)return qn}return $n.lookup(yn,bn)},createNode:(yn,bn,_n,kn)=>{sr(typeof yn=="object");var qn=new $n.FSNode(yn,bn,_n,kn);return $n.hashAddNode(qn),qn},destroyNode:yn=>{$n.hashRemoveNode(yn)},isRoot:yn=>yn===yn.parent,isMountpoint:yn=>!!yn.mounted,isFile:yn=>(yn&61440)===32768,isDir:yn=>(yn&61440)===16384,isLink:yn=>(yn&61440)===40960,isChrdev:yn=>(yn&61440)===8192,isBlkdev:yn=>(yn&61440)===24576,isFIFO:yn=>(yn&61440)===4096,isSocket:yn=>(yn&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:yn=>{var bn=$n.flagModes[yn];if(typeof bn>"u")throw new Error("Unknown file open mode: "+yn);return bn},flagsToPermissionString:yn=>{var bn=["r","w","rw"][yn&3];return yn&512&&(bn+="w"),bn},nodePermissions:(yn,bn)=>$n.ignorePermissions?0:bn.includes("r")&&!(yn.mode&292)||bn.includes("w")&&!(yn.mode&146)||bn.includes("x")&&!(yn.mode&73)?2:0,mayLookup:yn=>{var bn=$n.nodePermissions(yn,"x");return bn||(yn.node_ops.lookup?0:2)},mayCreate:(yn,bn)=>{try{var _n=$n.lookupNode(yn,bn);return 20}catch{}return $n.nodePermissions(yn,"wx")},mayDelete:(yn,bn,_n)=>{var kn;try{kn=$n.lookupNode(yn,bn)}catch(Kn){return Kn.errno}var qn=$n.nodePermissions(yn,"wx");if(qn)return qn;if(_n){if(!$n.isDir(kn.mode))return 54;if($n.isRoot(kn)||$n.getPath(kn)===$n.cwd())return 10}else if($n.isDir(kn.mode))return 31;return 0},mayOpen:(yn,bn)=>yn?$n.isLink(yn.mode)?32:$n.isDir(yn.mode)&&($n.flagsToPermissionString(bn)!=="r"||bn&512)?31:$n.nodePermissions(yn,$n.flagsToPermissionString(bn)):44,MAX_OPEN_FDS:4096,nextfd:(yn=0,bn=$n.MAX_OPEN_FDS)=>{for(var _n=yn;_n<=bn;_n++)if(!$n.streams[_n])return _n;throw new $n.ErrnoError(33)},getStream:yn=>$n.streams[yn],createStream:(yn,bn,_n)=>{$n.FSStream||($n.FSStream=function(){},$n.FSStream.prototype={object:{get:function(){return this.node},set:function(qn){this.node=qn}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}),yn=Object.assign(new $n.FSStream,yn);var kn=$n.nextfd(bn,_n);return yn.fd=kn,$n.streams[kn]=yn,yn},closeStream:yn=>{$n.streams[yn]=null},chrdev_stream_ops:{open:yn=>{var bn=$n.getDevice(yn.node.rdev);yn.stream_ops=bn.stream_ops,yn.stream_ops.open&&yn.stream_ops.open(yn)},llseek:()=>{throw new $n.ErrnoError(70)}},major:yn=>yn>>8,minor:yn=>yn&255,makedev:(yn,bn)=>yn<<8|bn,registerDevice:(yn,bn)=>{$n.devices[yn]={stream_ops:bn}},getDevice:yn=>$n.devices[yn],getMounts:yn=>{for(var bn=[],_n=[yn];_n.length;){var kn=_n.pop();bn.push(kn),_n.push.apply(_n,kn.mounts)}return bn},syncfs:(yn,bn)=>{typeof yn=="function"&&(bn=yn,yn=!1),$n.syncFSRequests++,$n.syncFSRequests>1&&Nn("warning: "+$n.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var _n=$n.getMounts($n.root.mount),kn=0;function qn(tr){return sr($n.syncFSRequests>0),$n.syncFSRequests--,bn(tr)}function Kn(tr){if(tr)return Kn.errored?void 0:(Kn.errored=!0,qn(tr));++kn>=_n.length&&qn(null)}_n.forEach(tr=>{if(!tr.type.syncfs)return Kn(null);tr.type.syncfs(tr,yn,Kn)})},mount:(yn,bn,_n)=>{if(typeof yn=="string")throw yn;var kn=_n==="/",qn=!_n,Kn;if(kn&&$n.root)throw new $n.ErrnoError(10);if(!kn&&!qn){var tr=$n.lookupPath(_n,{follow_mount:!1});if(_n=tr.path,Kn=tr.node,$n.isMountpoint(Kn))throw new $n.ErrnoError(10);if(!$n.isDir(Kn.mode))throw new $n.ErrnoError(54)}var ir={type:yn,opts:bn,mountpoint:_n,mounts:[]},ur=yn.mount(ir);return ur.mount=ir,ir.root=ur,kn?$n.root=ur:Kn&&(Kn.mounted=ir,Kn.mount&&Kn.mount.mounts.push(ir)),ur},unmount:yn=>{var bn=$n.lookupPath(yn,{follow_mount:!1});if(!$n.isMountpoint(bn.node))throw new $n.ErrnoError(28);var _n=bn.node,kn=_n.mounted,qn=$n.getMounts(kn);Object.keys($n.nameTable).forEach(tr=>{for(var ir=$n.nameTable[tr];ir;){var ur=ir.name_next;qn.includes(ir.mount)&&$n.destroyNode(ir),ir=ur}}),_n.mounted=null;var Kn=_n.mount.mounts.indexOf(kn);sr(Kn!==-1),_n.mount.mounts.splice(Kn,1)},lookup:(yn,bn)=>yn.node_ops.lookup(yn,bn),mknod:(yn,bn,_n)=>{var kn=$n.lookupPath(yn,{parent:!0}),qn=kn.node,Kn=hs.basename(yn);if(!Kn||Kn==="."||Kn==="..")throw new $n.ErrnoError(28);var tr=$n.mayCreate(qn,Kn);if(tr)throw new $n.ErrnoError(tr);if(!qn.node_ops.mknod)throw new $n.ErrnoError(63);return qn.node_ops.mknod(qn,Kn,bn,_n)},create:(yn,bn)=>(bn=bn!==void 0?bn:438,bn&=4095,bn|=32768,$n.mknod(yn,bn,0)),mkdir:(yn,bn)=>(bn=bn!==void 0?bn:511,bn&=1023,bn|=16384,$n.mknod(yn,bn,0)),mkdirTree:(yn,bn)=>{for(var _n=yn.split("/"),kn="",qn=0;qn<_n.length;++qn)if(_n[qn]){kn+="/"+_n[qn];try{$n.mkdir(kn,bn)}catch(Kn){if(Kn.errno!=20)throw Kn}}},mkdev:(yn,bn,_n)=>(typeof _n>"u"&&(_n=bn,bn=438),bn|=8192,$n.mknod(yn,bn,_n)),symlink:(yn,bn)=>{if(!Ui.resolve(yn))throw new $n.ErrnoError(44);var _n=$n.lookupPath(bn,{parent:!0}),kn=_n.node;if(!kn)throw new $n.ErrnoError(44);var qn=hs.basename(bn),Kn=$n.mayCreate(kn,qn);if(Kn)throw new $n.ErrnoError(Kn);if(!kn.node_ops.symlink)throw new $n.ErrnoError(63);return kn.node_ops.symlink(kn,qn,yn)},rename:(yn,bn)=>{var _n=hs.dirname(yn),kn=hs.dirname(bn),qn=hs.basename(yn),Kn=hs.basename(bn),tr,ir,ur;if(tr=$n.lookupPath(yn,{parent:!0}),ir=tr.node,tr=$n.lookupPath(bn,{parent:!0}),ur=tr.node,!ir||!ur)throw new $n.ErrnoError(44);if(ir.mount!==ur.mount)throw new $n.ErrnoError(75);var wr=$n.lookupNode(ir,qn),Sr=Ui.relative(yn,kn);if(Sr.charAt(0)!==".")throw new $n.ErrnoError(28);if(Sr=Ui.relative(bn,_n),Sr.charAt(0)!==".")throw new $n.ErrnoError(55);var _r;try{_r=$n.lookupNode(ur,Kn)}catch{}if(wr!==_r){var yr=$n.isDir(wr.mode),Rr=$n.mayDelete(ir,qn,yr);if(Rr)throw new $n.ErrnoError(Rr);if(Rr=_r?$n.mayDelete(ur,Kn,yr):$n.mayCreate(ur,Kn),Rr)throw new $n.ErrnoError(Rr);if(!ir.node_ops.rename)throw new $n.ErrnoError(63);if($n.isMountpoint(wr)||_r&&$n.isMountpoint(_r))throw new $n.ErrnoError(10);if(ur!==ir&&(Rr=$n.nodePermissions(ir,"w"),Rr))throw new $n.ErrnoError(Rr);$n.hashRemoveNode(wr);try{ir.node_ops.rename(wr,ur,Kn)}catch(qr){throw qr}finally{$n.hashAddNode(wr)}}},rmdir:yn=>{var bn=$n.lookupPath(yn,{parent:!0}),_n=bn.node,kn=hs.basename(yn),qn=$n.lookupNode(_n,kn),Kn=$n.mayDelete(_n,kn,!0);if(Kn)throw new $n.ErrnoError(Kn);if(!_n.node_ops.rmdir)throw new $n.ErrnoError(63);if($n.isMountpoint(qn))throw new $n.ErrnoError(10);_n.node_ops.rmdir(_n,kn),$n.destroyNode(qn)},readdir:yn=>{var bn=$n.lookupPath(yn,{follow:!0}),_n=bn.node;if(!_n.node_ops.readdir)throw new $n.ErrnoError(54);return _n.node_ops.readdir(_n)},unlink:yn=>{var bn=$n.lookupPath(yn,{parent:!0}),_n=bn.node;if(!_n)throw new $n.ErrnoError(44);var kn=hs.basename(yn),qn=$n.lookupNode(_n,kn),Kn=$n.mayDelete(_n,kn,!1);if(Kn)throw new $n.ErrnoError(Kn);if(!_n.node_ops.unlink)throw new $n.ErrnoError(63);if($n.isMountpoint(qn))throw new $n.ErrnoError(10);_n.node_ops.unlink(_n,kn),$n.destroyNode(qn)},readlink:yn=>{var bn=$n.lookupPath(yn),_n=bn.node;if(!_n)throw new $n.ErrnoError(44);if(!_n.node_ops.readlink)throw new $n.ErrnoError(28);return Ui.resolve($n.getPath(_n.parent),_n.node_ops.readlink(_n))},stat:(yn,bn)=>{var _n=$n.lookupPath(yn,{follow:!bn}),kn=_n.node;if(!kn)throw new $n.ErrnoError(44);if(!kn.node_ops.getattr)throw new $n.ErrnoError(63);return kn.node_ops.getattr(kn)},lstat:yn=>$n.stat(yn,!0),chmod:(yn,bn,_n)=>{var kn;if(typeof yn=="string"){var qn=$n.lookupPath(yn,{follow:!_n});kn=qn.node}else kn=yn;if(!kn.node_ops.setattr)throw new $n.ErrnoError(63);kn.node_ops.setattr(kn,{mode:bn&4095|kn.mode&-4096,timestamp:Date.now()})},lchmod:(yn,bn)=>{$n.chmod(yn,bn,!0)},fchmod:(yn,bn)=>{var _n=$n.getStream(yn);if(!_n)throw new $n.ErrnoError(8);$n.chmod(_n.node,bn)},chown:(yn,bn,_n,kn)=>{var qn;if(typeof yn=="string"){var Kn=$n.lookupPath(yn,{follow:!kn});qn=Kn.node}else qn=yn;if(!qn.node_ops.setattr)throw new $n.ErrnoError(63);qn.node_ops.setattr(qn,{timestamp:Date.now()})},lchown:(yn,bn,_n)=>{$n.chown(yn,bn,_n,!0)},fchown:(yn,bn,_n)=>{var kn=$n.getStream(yn);if(!kn)throw new $n.ErrnoError(8);$n.chown(kn.node,bn,_n)},truncate:(yn,bn)=>{if(bn<0)throw new $n.ErrnoError(28);var _n;if(typeof yn=="string"){var kn=$n.lookupPath(yn,{follow:!0});_n=kn.node}else _n=yn;if(!_n.node_ops.setattr)throw new $n.ErrnoError(63);if($n.isDir(_n.mode))throw new $n.ErrnoError(31);if(!$n.isFile(_n.mode))throw new $n.ErrnoError(28);var qn=$n.nodePermissions(_n,"w");if(qn)throw new $n.ErrnoError(qn);_n.node_ops.setattr(_n,{size:bn,timestamp:Date.now()})},ftruncate:(yn,bn)=>{var _n=$n.getStream(yn);if(!_n)throw new $n.ErrnoError(8);if((_n.flags&2097155)===0)throw new $n.ErrnoError(28);$n.truncate(_n.node,bn)},utime:(yn,bn,_n)=>{var kn=$n.lookupPath(yn,{follow:!0}),qn=kn.node;qn.node_ops.setattr(qn,{timestamp:Math.max(bn,_n)})},open:(yn,bn,_n,kn,qn)=>{if(yn==="")throw new $n.ErrnoError(44);bn=typeof bn=="string"?$n.modeStringToFlags(bn):bn,_n=typeof _n>"u"?438:_n,bn&64?_n=_n&4095|32768:_n=0;var Kn;if(typeof yn=="object")Kn=yn;else{yn=hs.normalize(yn);try{var tr=$n.lookupPath(yn,{follow:!(bn&131072)});Kn=tr.node}catch{}}var ir=!1;if(bn&64)if(Kn){if(bn&128)throw new $n.ErrnoError(20)}else Kn=$n.mknod(yn,_n,0),ir=!0;if(!Kn)throw new $n.ErrnoError(44);if($n.isChrdev(Kn.mode)&&(bn&=-513),bn&65536&&!$n.isDir(Kn.mode))throw new $n.ErrnoError(54);if(!ir){var ur=$n.mayOpen(Kn,bn);if(ur)throw new $n.ErrnoError(ur)}bn&512&&$n.truncate(Kn,0),bn&=-131713;var wr=$n.createStream({node:Kn,path:$n.getPath(Kn),flags:bn,seekable:!0,position:0,stream_ops:Kn.stream_ops,ungotten:[],error:!1},kn,qn);return wr.stream_ops.open&&wr.stream_ops.open(wr),sn.logReadFiles&&!(bn&1)&&($n.readFiles||($n.readFiles={}),yn in $n.readFiles||($n.readFiles[yn]=1)),wr},close:yn=>{if($n.isClosed(yn))throw new $n.ErrnoError(8);yn.getdents&&(yn.getdents=null);try{yn.stream_ops.close&&yn.stream_ops.close(yn)}catch(bn){throw bn}finally{$n.closeStream(yn.fd)}yn.fd=null},isClosed:yn=>yn.fd===null,llseek:(yn,bn,_n)=>{if($n.isClosed(yn))throw new $n.ErrnoError(8);if(!yn.seekable||!yn.stream_ops.llseek)throw new $n.ErrnoError(70);if(_n!=0&&_n!=1&&_n!=2)throw new $n.ErrnoError(28);return yn.position=yn.stream_ops.llseek(yn,bn,_n),yn.ungotten=[],yn.position},read:(yn,bn,_n,kn,qn)=>{if(kn<0||qn<0)throw new $n.ErrnoError(28);if($n.isClosed(yn))throw new $n.ErrnoError(8);if((yn.flags&2097155)===1)throw new $n.ErrnoError(8);if($n.isDir(yn.node.mode))throw new $n.ErrnoError(31);if(!yn.stream_ops.read)throw new $n.ErrnoError(28);var Kn=typeof qn<"u";if(!Kn)qn=yn.position;else if(!yn.seekable)throw new $n.ErrnoError(70);var tr=yn.stream_ops.read(yn,bn,_n,kn,qn);return Kn||(yn.position+=tr),tr},write:(yn,bn,_n,kn,qn,Kn)=>{if(kn<0||qn<0)throw new $n.ErrnoError(28);if($n.isClosed(yn))throw new $n.ErrnoError(8);if((yn.flags&2097155)===0)throw new $n.ErrnoError(8);if($n.isDir(yn.node.mode))throw new $n.ErrnoError(31);if(!yn.stream_ops.write)throw new $n.ErrnoError(28);yn.seekable&&yn.flags&1024&&$n.llseek(yn,0,2);var tr=typeof qn<"u";if(!tr)qn=yn.position;else if(!yn.seekable)throw new $n.ErrnoError(70);var ir=yn.stream_ops.write(yn,bn,_n,kn,qn,Kn);return tr||(yn.position+=ir),ir},allocate:(yn,bn,_n)=>{if($n.isClosed(yn))throw new $n.ErrnoError(8);if(bn<0||_n<=0)throw new $n.ErrnoError(28);if((yn.flags&2097155)===0)throw new $n.ErrnoError(8);if(!$n.isFile(yn.node.mode)&&!$n.isDir(yn.node.mode))throw new $n.ErrnoError(43);if(!yn.stream_ops.allocate)throw new $n.ErrnoError(138);yn.stream_ops.allocate(yn,bn,_n)},mmap:(yn,bn,_n,kn,qn,Kn)=>{if((qn&2)!==0&&(Kn&2)===0&&(yn.flags&2097155)!==2)throw new $n.ErrnoError(2);if((yn.flags&2097155)===1)throw new $n.ErrnoError(2);if(!yn.stream_ops.mmap)throw new $n.ErrnoError(43);return yn.stream_ops.mmap(yn,bn,_n,kn,qn,Kn)},msync:(yn,bn,_n,kn,qn)=>!yn||!yn.stream_ops.msync?0:yn.stream_ops.msync(yn,bn,_n,kn,qn),munmap:yn=>0,ioctl:(yn,bn,_n)=>{if(!yn.stream_ops.ioctl)throw new $n.ErrnoError(59);return yn.stream_ops.ioctl(yn,bn,_n)},readFile:(yn,bn={})=>{if(bn.flags=bn.flags||0,bn.encoding=bn.encoding||"binary",bn.encoding!=="utf8"&&bn.encoding!=="binary")throw new Error('Invalid encoding type "'+bn.encoding+'"');var _n,kn=$n.open(yn,bn.flags),qn=$n.stat(yn),Kn=qn.size,tr=new Uint8Array(Kn);return $n.read(kn,tr,0,Kn,0),bn.encoding==="utf8"?_n=dr(tr,0):bn.encoding==="binary"&&(_n=tr),$n.close(kn),_n},writeFile:(yn,bn,_n={})=>{_n.flags=_n.flags||577;var kn=$n.open(yn,_n.flags,_n.mode);if(typeof bn=="string"){var qn=new Uint8Array(Ir(bn)+1),Kn=Dr(bn,qn,0,qn.length);$n.write(kn,qn,0,Kn,void 0,_n.canOwn)}else if(ArrayBuffer.isView(bn))$n.write(kn,bn,0,bn.byteLength,void 0,_n.canOwn);else throw new Error("Unsupported data type");$n.close(kn)},cwd:()=>$n.currentPath,chdir:yn=>{var bn=$n.lookupPath(yn,{follow:!0});if(bn.node===null)throw new $n.ErrnoError(44);if(!$n.isDir(bn.node.mode))throw new $n.ErrnoError(54);var _n=$n.nodePermissions(bn.node,"x");if(_n)throw new $n.ErrnoError(_n);$n.currentPath=bn.path},createDefaultDirectories:()=>{$n.mkdir("/tmp"),$n.mkdir("/home"),$n.mkdir("/home/web_user")},createDefaultDevices:()=>{$n.mkdir("/dev"),$n.registerDevice($n.makedev(1,3),{read:()=>0,write:(bn,_n,kn,qn,Kn)=>qn}),$n.mkdev("/dev/null",$n.makedev(1,3)),ta.register($n.makedev(5,0),ta.default_tty_ops),ta.register($n.makedev(6,0),ta.default_tty1_ops),$n.mkdev("/dev/tty",$n.makedev(5,0)),$n.mkdev("/dev/tty1",$n.makedev(6,0));var yn=yf();$n.createDevice("/dev","random",yn),$n.createDevice("/dev","urandom",yn),$n.mkdir("/dev/shm"),$n.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{$n.mkdir("/proc");var yn=$n.mkdir("/proc/self");$n.mkdir("/proc/self/fd"),$n.mount({mount:()=>{var bn=$n.createNode(yn,"fd",16895,73);return bn.node_ops={lookup:(_n,kn)=>{var qn=+kn,Kn=$n.getStream(qn);if(!Kn)throw new $n.ErrnoError(8);var tr={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Kn.path}};return tr.parent=tr,tr}},bn}},{},"/proc/self/fd")},createStandardStreams:()=>{sn.stdin?$n.createDevice("/dev","stdin",sn.stdin):$n.symlink("/dev/tty","/dev/stdin"),sn.stdout?$n.createDevice("/dev","stdout",null,sn.stdout):$n.symlink("/dev/tty","/dev/stdout"),sn.stderr?$n.createDevice("/dev","stderr",null,sn.stderr):$n.symlink("/dev/tty1","/dev/stderr");var yn=$n.open("/dev/stdin",0),bn=$n.open("/dev/stdout",1),_n=$n.open("/dev/stderr",1);sr(yn.fd===0,"invalid handle for stdin ("+yn.fd+")"),sr(bn.fd===1,"invalid handle for stdout ("+bn.fd+")"),sr(_n.fd===2,"invalid handle for stderr ("+_n.fd+")")},ensureErrnoError:()=>{$n.ErrnoError||($n.ErrnoError=function(bn,_n){this.node=_n,this.setErrno=function(kn){this.errno=kn;for(var qn in na)if(na[qn]===kn){this.code=qn;break}},this.setErrno(bn),this.message=vo[bn],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=Gc(this.stack))},$n.ErrnoError.prototype=new Error,$n.ErrnoError.prototype.constructor=$n.ErrnoError,[44].forEach(yn=>{$n.genericErrors[yn]=new $n.ErrnoError(yn),$n.genericErrors[yn].stack="<generic error, no stack>"}))},staticInit:()=>{$n.ensureErrnoError(),$n.nameTable=new Array(4096),$n.mount(Pr,{},"/"),$n.createDefaultDirectories(),$n.createDefaultDevices(),$n.createSpecialDirectories(),$n.filesystems={MEMFS:Pr}},init:(yn,bn,_n)=>{sr(!$n.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),$n.init.initialized=!0,$n.ensureErrnoError(),sn.stdin=yn||sn.stdin,sn.stdout=bn||sn.stdout,sn.stderr=_n||sn.stderr,$n.createStandardStreams()},quit:()=>{$n.init.initialized=!1,du();for(var yn=0;yn<$n.streams.length;yn++){var bn=$n.streams[yn];bn&&$n.close(bn)}},getMode:(yn,bn)=>{var _n=0;return yn&&(_n|=365),bn&&(_n|=146),_n},findObject:(yn,bn)=>{var _n=$n.analyzePath(yn,bn);return _n.exists?_n.object:null},analyzePath:(yn,bn)=>{try{var _n=$n.lookupPath(yn,{follow:!bn});yn=_n.path}catch{}var kn={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _n=$n.lookupPath(yn,{parent:!0});kn.parentExists=!0,kn.parentPath=_n.path,kn.parentObject=_n.node,kn.name=hs.basename(yn),_n=$n.lookupPath(yn,{follow:!bn}),kn.exists=!0,kn.path=_n.path,kn.object=_n.node,kn.name=_n.node.name,kn.isRoot=_n.path==="/"}catch(qn){kn.error=qn.errno}return kn},createPath:(yn,bn,_n,kn)=>{yn=typeof yn=="string"?yn:$n.getPath(yn);for(var qn=bn.split("/").reverse();qn.length;){var Kn=qn.pop();if(Kn){var tr=hs.join2(yn,Kn);try{$n.mkdir(tr)}catch{}yn=tr}}return tr},createFile:(yn,bn,_n,kn,qn)=>{var Kn=hs.join2(typeof yn=="string"?yn:$n.getPath(yn),bn),tr=$n.getMode(kn,qn);return $n.create(Kn,tr)},createDataFile:(yn,bn,_n,kn,qn,Kn)=>{var tr=bn;yn&&(yn=typeof yn=="string"?yn:$n.getPath(yn),tr=bn?hs.join2(yn,bn):yn);var ir=$n.getMode(kn,qn),ur=$n.create(tr,ir);if(_n){if(typeof _n=="string"){for(var wr=new Array(_n.length),Sr=0,_r=_n.length;Sr<_r;++Sr)wr[Sr]=_n.charCodeAt(Sr);_n=wr}$n.chmod(ur,ir|146);var yr=$n.open(ur,577);$n.write(yr,_n,0,_n.length,0,Kn),$n.close(yr),$n.chmod(ur,ir)}return ur},createDevice:(yn,bn,_n,kn)=>{var qn=hs.join2(typeof yn=="string"?yn:$n.getPath(yn),bn),Kn=$n.getMode(!!_n,!!kn);$n.createDevice.major||($n.createDevice.major=64);var tr=$n.makedev($n.createDevice.major++,0);return $n.registerDevice(tr,{open:ir=>{ir.seekable=!1},close:ir=>{kn&&kn.buffer&&kn.buffer.length&&kn(10)},read:(ir,ur,wr,Sr,_r)=>{for(var yr=0,Rr=0;Rr<Sr;Rr++){var qr;try{qr=_n()}catch{throw new $n.ErrnoError(29)}if(qr===void 0&&yr===0)throw new $n.ErrnoError(6);if(qr==null)break;yr++,ur[wr+Rr]=qr}return yr&&(ir.node.timestamp=Date.now()),yr},write:(ir,ur,wr,Sr,_r)=>{for(var yr=0;yr<Sr;yr++)try{kn(ur[wr+yr])}catch{throw new $n.ErrnoError(29)}return Sr&&(ir.node.timestamp=Date.now()),yr}}),$n.mkdev(qn,Kn,tr)},forceLoadFile:yn=>{if(yn.isDevice||yn.isFolder||yn.link||yn.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(wn)try{yn.contents=_o(wn(yn.url),!0),yn.usedBytes=yn.contents.length}catch{throw new $n.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(yn,bn,_n,kn,qn)=>{function Kn(){this.lengthKnown=!1,this.chunks=[]}if(Kn.prototype.get=function(yr){if(!(yr>this.length-1||yr<0)){var Rr=yr%this.chunkSize,qr=yr/this.chunkSize|0;return this.getter(qr)[Rr]}},Kn.prototype.setDataGetter=function(yr){this.getter=yr},Kn.prototype.cacheLength=function(){var yr=new XMLHttpRequest;if(yr.open("HEAD",_n,!1),yr.send(null),!(yr.status>=200&&yr.status<300||yr.status===304))throw new Error("Couldn't load "+_n+". Status: "+yr.status);var Rr=Number(yr.getResponseHeader("Content-length")),qr,rs=(qr=yr.getResponseHeader("Accept-Ranges"))&&qr==="bytes",Ms=(qr=yr.getResponseHeader("Content-Encoding"))&&qr==="gzip",Bs=1024*1024;rs||(Bs=Rr);var Cr=($r,zr)=>{if($r>zr)throw new Error("invalid range ("+$r+", "+zr+") or no bytes requested!");if(zr>Rr-1)throw new Error("only "+Rr+" bytes available! programmer error!");var Qr=new XMLHttpRequest;if(Qr.open("GET",_n,!1),Rr!==Bs&&Qr.setRequestHeader("Range","bytes="+$r+"-"+zr),Qr.responseType="arraybuffer",Qr.overrideMimeType&&Qr.overrideMimeType("text/plain; charset=x-user-defined"),Qr.send(null),!(Qr.status>=200&&Qr.status<300||Qr.status===304))throw new Error("Couldn't load "+_n+". Status: "+Qr.status);return Qr.response!==void 0?new Uint8Array(Qr.response||[]):_o(Qr.responseText||"",!0)},jr=this;jr.setDataGetter($r=>{var zr=$r*Bs,Qr=($r+1)*Bs-1;if(Qr=Math.min(Qr,Rr-1),typeof jr.chunks[$r]>"u"&&(jr.chunks[$r]=Cr(zr,Qr)),typeof jr.chunks[$r]>"u")throw new Error("doXHR failed!");return jr.chunks[$r]}),(Ms||!Rr)&&(Bs=Rr=1,Rr=this.getter(0).length,Bs=Rr,Sn("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Rr,this._chunkSize=Bs,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!dn)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var tr=new Kn;Object.defineProperties(tr,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ir={isDevice:!1,contents:tr}}else var ir={isDevice:!1,url:_n};var ur=$n.createFile(yn,bn,ir,kn,qn);ir.contents?ur.contents=ir.contents:ir.url&&(ur.contents=null,ur.url=ir.url),Object.defineProperties(ur,{usedBytes:{get:function(){return this.contents.length}}});var wr={},Sr=Object.keys(ur.stream_ops);return Sr.forEach(_r=>{var yr=ur.stream_ops[_r];wr[_r]=function(){return $n.forceLoadFile(ur),yr.apply(null,arguments)}}),wr.read=((_r,yr,Rr,qr,rs)=>{$n.forceLoadFile(ur);var Ms=_r.node.contents;if(rs>=Ms.length)return 0;var Bs=Math.min(Ms.length-rs,qr);if(sr(Bs>=0),Ms.slice)for(var Cr=0;Cr<Bs;Cr++)yr[Rr+Cr]=Ms[rs+Cr];else for(var Cr=0;Cr<Bs;Cr++)yr[Rr+Cr]=Ms.get(rs+Cr);return Bs}),ur.stream_ops=wr,ur},createPreloadedFile:(yn,bn,_n,kn,qn,Kn,tr,ir,ur,wr)=>{var Sr=bn?Ui.resolve(hs.join2(yn,bn)):yn,_r=Zi("cp "+Sr);function yr(Rr){function qr(rs){wr&&wr(),ir||$n.createDataFile(yn,bn,rs,kn,qn,ur),Kn&&Kn(),Ti(_r)}Browser.handledByPreloadPlugin(Rr,Sr,qr,()=>{tr&&tr(),Ti(_r)})||qr(Rr)}Vi(_r),typeof _n=="string"?La(_n,Rr=>yr(Rr),tr):yr(_n)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(yn,bn,_n)=>{bn=bn||(()=>{}),_n=_n||(()=>{});var kn=$n.indexedDB();try{var qn=kn.open($n.DB_NAME(),$n.DB_VERSION)}catch(Kn){return _n(Kn)}qn.onupgradeneeded=(()=>{Sn("creating db");var Kn=qn.result;Kn.createObjectStore($n.DB_STORE_NAME)}),qn.onsuccess=(()=>{var Kn=qn.result,tr=Kn.transaction([$n.DB_STORE_NAME],"readwrite"),ir=tr.objectStore($n.DB_STORE_NAME),ur=0,wr=0,Sr=yn.length;function _r(){wr==0?bn():_n()}yn.forEach(yr=>{var Rr=ir.put($n.analyzePath(yr).object.contents,yr);Rr.onsuccess=(()=>{ur++,ur+wr==Sr&&_r()}),Rr.onerror=(()=>{wr++,ur+wr==Sr&&_r()})}),tr.onerror=_n}),qn.onerror=_n},loadFilesFromDB:(yn,bn,_n)=>{bn=bn||(()=>{}),_n=_n||(()=>{});var kn=$n.indexedDB();try{var qn=kn.open($n.DB_NAME(),$n.DB_VERSION)}catch(Kn){return _n(Kn)}qn.onupgradeneeded=_n,qn.onsuccess=(()=>{var Kn=qn.result;try{var tr=Kn.transaction([$n.DB_STORE_NAME],"readonly")}catch(yr){_n(yr);return}var ir=tr.objectStore($n.DB_STORE_NAME),ur=0,wr=0,Sr=yn.length;function _r(){wr==0?bn():_n()}yn.forEach(yr=>{var Rr=ir.get(yr);Rr.onsuccess=(()=>{$n.analyzePath(yr).exists&&$n.unlink(yr),$n.createDataFile(hs.dirname(yr),hs.basename(yr),Rr.result,!0,!0,!0),ur++,ur+wr==Sr&&_r()}),Rr.onerror=(()=>{wr++,ur+wr==Sr&&_r()})}),tr.onerror=_n}),qn.onerror=_n},absolutePath:()=>{As("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:()=>{As("FS.createFolder has been removed; use FS.mkdir instead")},createLink:()=>{As("FS.createLink has been removed; use FS.symlink instead")},joinPath:()=>{As("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:()=>{As("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:()=>{As("FS.standardizePath has been removed; use PATH.normalize instead")}},Zr={DEFAULT_POLLMASK:5,calculateAt:function(yn,bn,_n){if(bn[0]==="/")return bn;var kn;if(yn===-100)kn=$n.cwd();else{var qn=$n.getStream(yn);if(!qn)throw new $n.ErrnoError(8);kn=qn.path}if(bn.length==0){if(!_n)throw new $n.ErrnoError(44);return kn}return hs.join2(kn,bn)},doStat:function(yn,bn,_n){try{var kn=yn(bn)}catch(qn){if(qn&&qn.node&&hs.normalize(bn)!==hs.normalize($n.getPath(qn.node)))return-54;throw qn}return gr[_n>>2]=kn.dev,gr[_n+4>>2]=0,gr[_n+8>>2]=kn.ino,gr[_n+12>>2]=kn.mode,gr[_n+16>>2]=kn.nlink,gr[_n+20>>2]=kn.uid,gr[_n+24>>2]=kn.gid,gr[_n+28>>2]=kn.rdev,gr[_n+32>>2]=0,Rs=[kn.size>>>0,(Wr=kn.size,+Math.abs(Wr)>=1?Wr>0?(Math.min(+Math.floor(Wr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Wr-+(~~Wr>>>0))/4294967296)>>>0:0)],gr[_n+40>>2]=Rs[0],gr[_n+44>>2]=Rs[1],gr[_n+48>>2]=4096,gr[_n+52>>2]=kn.blocks,gr[_n+56>>2]=kn.atime.getTime()/1e3|0,gr[_n+60>>2]=0,gr[_n+64>>2]=kn.mtime.getTime()/1e3|0,gr[_n+68>>2]=0,gr[_n+72>>2]=kn.ctime.getTime()/1e3|0,gr[_n+76>>2]=0,Rs=[kn.ino>>>0,(Wr=kn.ino,+Math.abs(Wr)>=1?Wr>0?(Math.min(+Math.floor(Wr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Wr-+(~~Wr>>>0))/4294967296)>>>0:0)],gr[_n+80>>2]=Rs[0],gr[_n+84>>2]=Rs[1],0},doMsync:function(yn,bn,_n,kn,qn){var Kn=Gr.slice(yn,yn+_n);$n.msync(bn,Kn,qn,_n,kn)},doMkdir:function(yn,bn){return yn=hs.normalize(yn),yn[yn.length-1]==="/"&&(yn=yn.substr(0,yn.length-1)),$n.mkdir(yn,bn,0),0},doMknod:function(yn,bn,_n){switch(bn&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return $n.mknod(yn,bn,_n),0},doReadlink:function(yn,bn,_n){if(_n<=0)return-28;var kn=$n.readlink(yn),qn=Math.min(_n,Ir(kn)),Kn=Or[bn+qn];return Nr(kn,bn,_n+1),Or[bn+qn]=Kn,qn},doAccess:function(yn,bn){if(bn&-8)return-28;var _n=$n.lookupPath(yn,{follow:!0}),kn=_n.node;if(!kn)return-44;var qn="";return bn&4&&(qn+="r"),bn&2&&(qn+="w"),bn&1&&(qn+="x"),qn&&$n.nodePermissions(kn,qn)?-2:0},doDup:function(yn,bn,_n){var kn=$n.getStream(_n);return kn&&$n.close(kn),$n.open(yn,bn,0,_n,_n).fd},doReadv:function(yn,bn,_n,kn){for(var qn=0,Kn=0;Kn<_n;Kn++){var tr=gr[bn+Kn*8>>2],ir=gr[bn+(Kn*8+4)>>2],ur=$n.read(yn,Or,tr,ir,kn);if(ur<0)return-1;if(qn+=ur,ur<ir)break}return qn},doWritev:function(yn,bn,_n,kn){for(var qn=0,Kn=0;Kn<_n;Kn++){var tr=gr[bn+Kn*8>>2],ir=gr[bn+(Kn*8+4)>>2],ur=$n.write(yn,Or,tr,ir,kn);if(ur<0)return-1;qn+=ur}return qn},varargs:void 0,get:function(){sr(Zr.varargs!=null),Zr.varargs+=4;var yn=gr[Zr.varargs-4>>2];return yn},getStr:function(yn){var bn=xr(yn);return bn},getStreamFromFD:function(yn){var bn=$n.getStream(yn);if(!bn)throw new $n.ErrnoError(8);return bn},get64:function(yn,bn){return yn>=0?sr(bn===0):sr(bn===-1),yn}};function qc(yn,bn,_n,kn,qn){try{for(var Kn=0,tr=bn?gr[bn>>2]:0,ir=bn?gr[bn+4>>2]:0,ur=_n?gr[_n>>2]:0,wr=_n?gr[_n+4>>2]:0,Sr=kn?gr[kn>>2]:0,_r=kn?gr[kn+4>>2]:0,yr=0,Rr=0,qr=0,rs=0,Ms=0,Bs=0,Cr=(bn?gr[bn>>2]:0)|(_n?gr[_n>>2]:0)|(kn?gr[kn>>2]:0),jr=(bn?gr[bn+4>>2]:0)|(_n?gr[_n+4>>2]:0)|(kn?gr[kn+4>>2]:0),$r=function(xi,Gi,pc,ml){return xi<32?Gi&ml:pc&ml},zr=0;zr<yn;zr++){var Qr=1<<zr%32;if($r(zr,Cr,jr,Qr)){var Hs=$n.getStream(zr);if(!Hs)throw new $n.ErrnoError(8);var Ls=Zr.DEFAULT_POLLMASK;Hs.stream_ops.poll&&(Ls=Hs.stream_ops.poll(Hs)),Ls&1&&$r(zr,tr,ir,Qr)&&(zr<32?yr=yr|Qr:Rr=Rr|Qr,Kn++),Ls&4&&$r(zr,ur,wr,Qr)&&(zr<32?qr=qr|Qr:rs=rs|Qr,Kn++),Ls&2&&$r(zr,Sr,_r,Qr)&&(zr<32?Ms=Ms|Qr:Bs=Bs|Qr,Kn++)}}return bn&&(gr[bn>>2]=yr,gr[bn+4>>2]=Rr),_n&&(gr[_n>>2]=qr,gr[_n+4>>2]=rs),kn&&(gr[kn>>2]=Ms,gr[kn+4>>2]=Bs),Kn}catch(xi){if(typeof $n>"u"||!(xi instanceof $n.ErrnoError))throw xi;return-xi.errno}}var ps={mount:function(yn){return sn.websocket=sn.websocket&&typeof sn.websocket=="object"?sn.websocket:{},sn.websocket._callbacks={},sn.websocket.on=function(bn,_n){return typeof _n=="function"&&(this._callbacks[bn]=_n),this},sn.websocket.emit=function(bn,_n){typeof this._callbacks[bn]=="function"&&this._callbacks[bn].call(this,_n)},$n.createNode(null,"/",16895,0)},createSocket:function(yn,bn,_n){bn&=-526337;var kn=bn==1;_n&&sr(kn==(_n==6));var qn={family:yn,type:bn,protocol:_n,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:ps.websocket_sock_ops},Kn=ps.nextname(),tr=$n.createNode(ps.root,Kn,49152,0);tr.sock=qn;var ir=$n.createStream({path:Kn,node:tr,flags:2,seekable:!1,stream_ops:ps.stream_ops});return qn.stream=ir,qn},getSocket:function(yn){var bn=$n.getStream(yn);return!bn||!$n.isSocket(bn.node.mode)?null:bn.node.sock},stream_ops:{poll:function(yn){var bn=yn.node.sock;return bn.sock_ops.poll(bn)},ioctl:function(yn,bn,_n){var kn=yn.node.sock;return kn.sock_ops.ioctl(kn,bn,_n)},read:function(yn,bn,_n,kn,qn){var Kn=yn.node.sock,tr=Kn.sock_ops.recvmsg(Kn,kn);return tr?(bn.set(tr.buffer,_n),tr.buffer.length):0},write:function(yn,bn,_n,kn,qn){var Kn=yn.node.sock;return Kn.sock_ops.sendmsg(Kn,bn,_n,kn)},close:function(yn){var bn=yn.node.sock;bn.sock_ops.close(bn)}},nextname:function(){return ps.nextname.current||(ps.nextname.current=0),"socket["+ps.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(yn,bn,_n){var kn;if(typeof bn=="object"&&(kn=bn,bn=null,_n=null),kn)if(kn._socket)bn=kn._socket.remoteAddress,_n=kn._socket.remotePort;else{var qn=/ws[s]?:\/\/([^:]+):(\d+)/.exec(kn.url);if(!qn)throw new Error("WebSocket URL must be in the format ws(s)://address:port");bn=qn[1],_n=parseInt(qn[2],10)}else try{var Kn=sn.websocket&&typeof sn.websocket=="object",tr="ws:#".replace("#","//");if(Kn&&typeof sn.websocket.url=="string"&&(tr=sn.websocket.url),tr==="ws://"||tr==="wss://"){var wr=bn.split("/");tr=tr+wr[0]+":"+_n+"/"+wr.slice(1).join("/")}var ir="binary";Kn&&typeof sn.websocket.subprotocol=="string"&&(ir=sn.websocket.subprotocol);var ur=void 0,wr=bn.split("/");tr.endsWith("/")||(tr+="/"),tr+=wr[0]+":"+_n,ir!=="null"&&(ir=ir.replace(/^ +| +$/g,"").split(/ *, */),ur=hn?{protocol:ir.toString()}:ir),Kn&&sn.websocket.subprotocol===null&&(ir="null",ur=void 0);var Sr;Sr=WebSocket;try{if(ti.transport==="wisp")kn=new vu(tr);else if(ti.transport==="wsproxy")kn=new WebSocket(tr);else{if(typeof ti.transport=="string")throw new TypeError("invalid transport type");kn=new ti.transport(tr)}}catch(yr){throw ul("Error while creating a TCP connection: "+yr),yr}kn.binaryType="arraybuffer"}catch{throw new $n.ErrnoError(23)}var _r={addr:bn,port:_n,socket:kn,dgram_send_queue:[]};return ps.websocket_sock_ops.addPeer(yn,_r),ps.websocket_sock_ops.handlePeerEvents(yn,_r),yn.type===2&&typeof yn.sport<"u"&&_r.dgram_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(yn.sport&65280)>>8,yn.sport&255])),_r},getPeer:function(yn,bn,_n){return yn.peers[bn+":"+_n]},addPeer:function(yn,bn){yn.peers[bn.addr+":"+bn.port]=bn},removePeer:function(yn,bn){delete yn.peers[bn.addr+":"+bn.port]},handlePeerEvents:function(yn,bn){var _n=!0,kn=function(){sn.websocket.emit("open",yn.stream.fd);try{for(var Kn=bn.dgram_send_queue.shift();Kn;)bn.socket.send(Kn),Kn=bn.dgram_send_queue.shift()}catch{bn.socket.close()}};function qn(Kn){if(typeof Kn=="string"){var tr=new TextEncoder;Kn=tr.encode(Kn)}else{if(sr(Kn.byteLength!==void 0),Kn.byteLength==0)return;Kn=new Uint8Array(Kn)}var ir=_n;if(_n=!1,ir&&Kn.length===10&&Kn[0]===255&&Kn[1]===255&&Kn[2]===255&&Kn[3]===255&&Kn[4]===112&&Kn[5]===111&&Kn[6]===114&&Kn[7]===116){var ur=Kn[8]<<8|Kn[9];ps.websocket_sock_ops.removePeer(yn,bn),bn.port=ur,ps.websocket_sock_ops.addPeer(yn,bn);return}yn.recv_queue.push({addr:bn.addr,port:bn.port,data:Kn}),sn.websocket.emit("message",yn.stream.fd)}hn?(bn.socket.on("open",kn),bn.socket.on("message",function(Kn,tr){tr.binary&&qn(new Uint8Array(Kn).buffer)}),bn.socket.on("close",function(){sn.websocket.emit("close",yn.stream.fd)}),bn.socket.on("error",function(Kn){yn.error=14,sn.websocket.emit("error",[yn.stream.fd,yn.error,"ECONNREFUSED: Connection refused"])})):(bn.socket.onopen=kn,bn.socket.onclose=function(){sn.websocket.emit("close",yn.stream.fd)},bn.socket.onmessage=function(tr){qn(tr.data)},bn.socket.onerror=function(Kn){yn.error=14,sn.websocket.emit("error",[yn.stream.fd,yn.error,"ECONNREFUSED: Connection refused"])})},poll:function(yn){if(yn.type===1&&yn.server)return yn.pending.length?65:0;var bn=0,_n=yn.type===1?ps.websocket_sock_ops.getPeer(yn,yn.daddr,yn.dport):null;return(yn.recv_queue.length||!_n||_n&&_n.socket.readyState===_n.socket.CLOSING||_n&&_n.socket.readyState===_n.socket.CLOSED)&&(bn|=65),(!_n||_n&&_n.socket.readyState===_n.socket.OPEN)&&(bn|=4),(_n&&_n.socket.readyState===_n.socket.CLOSING||_n&&_n.socket.readyState===_n.socket.CLOSED)&&(bn|=16),bn},ioctl:function(yn,bn,_n){if(bn===21531){var kn=0;return yn.recv_queue.length&&(kn=yn.recv_queue[0].data.length),gr[_n>>2]=kn,0}else return 28},close:function(yn){if(yn.server){try{yn.server.close()}catch{}yn.server=null}for(var bn=Object.keys(yn.peers),_n=0;_n<bn.length;_n++){var kn=yn.peers[bn[_n]];try{kn.socket.close()}catch{}ps.websocket_sock_ops.removePeer(yn,kn)}return 0},bind:function(yn,bn,_n){if(typeof yn.saddr<"u"||typeof yn.sport<"u")throw new $n.ErrnoError(28);if(yn.saddr=bn,yn.sport=_n,yn.type===2){yn.server&&(yn.server.close(),yn.server=null);try{yn.sock_ops.listen(yn,0)}catch(kn){if(!(kn instanceof $n.ErrnoError)||kn.errno!==138)throw kn}}},connect:function(yn,bn,_n){if(yn.server)throw new $n.ErrnoError(138);if(typeof yn.daddr<"u"&&typeof yn.dport<"u"){var kn=ps.websocket_sock_ops.getPeer(yn,yn.daddr,yn.dport);if(kn)throw kn.socket.readyState===kn.socket.CONNECTING?new $n.ErrnoError(7):new $n.ErrnoError(30)}var qn=ps.websocket_sock_ops.createPeer(yn,bn,_n);throw yn.daddr=qn.addr,yn.dport=qn.port,new $n.ErrnoError(26)},listen:function(yn,bn){if(!hn)throw new $n.ErrnoError(138)},accept:function(yn){if(!yn.server)throw new $n.ErrnoError(28);var bn=yn.pending.shift();return bn.stream.flags=yn.stream.flags,bn},getname:function(yn,bn){var _n,kn;if(bn){if(yn.daddr===void 0||yn.dport===void 0)throw new $n.ErrnoError(53);_n=yn.daddr,kn=yn.dport}else _n=yn.saddr||0,kn=yn.sport||0;return{addr:_n,port:kn}},sendmsg:function(yn,bn,_n,kn,qn,Kn){if(yn.type===2){if((qn===void 0||Kn===void 0)&&(qn=yn.daddr,Kn=yn.dport),qn===void 0||Kn===void 0)throw new $n.ErrnoError(17)}else qn=yn.daddr,Kn=yn.dport;var tr=ps.websocket_sock_ops.getPeer(yn,qn,Kn);if(yn.type===1){if(!tr||tr.socket.readyState===tr.socket.CLOSING||tr.socket.readyState===tr.socket.CLOSED)throw new $n.ErrnoError(53);if(tr.socket.readyState===tr.socket.CONNECTING)throw new $n.ErrnoError(6)}ArrayBuffer.isView(bn)&&(_n+=bn.byteOffset,bn=bn.buffer);var ir;if(ir=bn.slice(_n,_n+kn),yn.type===2&&(!tr||tr.socket.readyState!==tr.socket.OPEN))return(!tr||tr.socket.readyState===tr.socket.CLOSING||tr.socket.readyState===tr.socket.CLOSED)&&(tr=ps.websocket_sock_ops.createPeer(yn,qn,Kn)),tr.dgram_send_queue.push(ir),kn;try{return tr.socket.send(ir),kn}catch{throw new $n.ErrnoError(28)}},recvmsg:function(yn,bn){if(yn.type===1&&yn.server)throw new $n.ErrnoError(53);var _n=yn.recv_queue.shift();if(!_n)if(yn.type===1){var kn=ps.websocket_sock_ops.getPeer(yn,yn.daddr,yn.dport);if(kn){if(kn.socket.readyState===kn.socket.CLOSING||kn.socket.readyState===kn.socket.CLOSED)return null;throw new $n.ErrnoError(6)}else throw new $n.ErrnoError(53)}else throw new $n.ErrnoError(6);var qn=_n.data.byteLength||_n.data.length,Kn=_n.data.byteOffset||0,tr=_n.data.buffer||_n.data,ir=Math.min(bn,qn),ur={buffer:new Uint8Array(tr,Kn,ir),addr:_n.addr,port:_n.port};if(yn.type===1&&ir<qn){var wr=qn-ir;_n.data=new Uint8Array(tr,Kn+ir,wr),yn.recv_queue.unshift(_n)}return ur}}};function Ci(yn){var bn=ps.getSocket(yn);if(!bn)throw new $n.ErrnoError(8);return bn}function Yc(yn){return gr[fu()>>2]=yn,yn}function Go(yn){return(yn&255)+"."+(yn>>8&255)+"."+(yn>>16&255)+"."+(yn>>24&255)}function zl(yn){var bn="",_n=0,kn=0,qn=0,Kn=0,tr=0,ir=0,ur=[yn[0]&65535,yn[0]>>16,yn[1]&65535,yn[1]>>16,yn[2]&65535,yn[2]>>16,yn[3]&65535,yn[3]>>16],wr=!0,Sr="";for(ir=0;ir<5;ir++)if(ur[ir]!==0){wr=!1;break}if(wr){if(Sr=Go(ur[6]|ur[7]<<16),ur[5]===-1)return bn="::ffff:",bn+=Sr,bn;if(ur[5]===0)return bn="::",Sr==="0.0.0.0"&&(Sr=""),Sr==="0.0.0.1"&&(Sr="1"),bn+=Sr,bn}for(_n=0;_n<8;_n++)ur[_n]===0&&(_n-qn>1&&(tr=0),qn=_n,tr++),tr>kn&&(kn=tr,Kn=_n-kn+1);for(_n=0;_n<8;_n++){if(kn>1&&ur[_n]===0&&_n>=Kn&&_n<Kn+kn){_n===Kn&&(bn+=":",Kn===0&&(bn+=":"));continue}bn+=Number(sc(ur[_n]&65535)).toString(16),bn+=_n<7?":":""}return bn}function bf(yn,bn){var _n=ks[yn>>1],kn=sc(Ks[yn+2>>1]),qn;switch(_n){case 2:if(bn!==16)return{errno:28};qn=gr[yn+4>>2],qn=Go(qn);break;case 10:if(bn!==28)return{errno:28};qn=[gr[yn+8>>2],gr[yn+12>>2],gr[yn+16>>2],gr[yn+20>>2]],qn=zl(qn);break;default:return{errno:5}}return{family:_n,addr:qn,port:kn}}function la(yn){for(var bn=yn.split("."),_n=0;_n<4;_n++){var kn=Number(bn[_n]);if(isNaN(kn))return null;bn[_n]=kn}return(bn[0]|bn[1]<<8|bn[2]<<16|bn[3]<<24)>>>0}function ca(yn){return parseInt(yn)}function _i(yn){var bn,_n,kn,qn,Kn=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,tr=[];if(!Kn.test(yn))return null;if(yn==="::")return[0,0,0,0,0,0,0,0];for(yn.startsWith("::")?yn=yn.replace("::","Z:"):yn=yn.replace("::",":Z:"),yn.indexOf(".")>0?(yn=yn.replace(new RegExp("[.]","g"),":"),bn=yn.split(":"),bn[bn.length-4]=ca(bn[bn.length-4])+ca(bn[bn.length-3])*256,bn[bn.length-3]=ca(bn[bn.length-2])+ca(bn[bn.length-1])*256,bn=bn.slice(0,bn.length-2)):bn=yn.split(":"),kn=0,qn=0,_n=0;_n<bn.length;_n++)if(typeof bn[_n]=="string")if(bn[_n]==="Z"){for(qn=0;qn<8-bn.length+1;qn++)tr[_n+qn]=0;kn=qn-1}else tr[_n+kn]=Do(parseInt(bn[_n],16));else tr[_n+kn]=bn[_n];return[tr[1]<<16|tr[0],tr[3]<<16|tr[2],tr[5]<<16|tr[4],tr[7]<<16|tr[6]]}var Ts={address_map:{id:1,addrs:{},names:{}},lookup_name:function(yn){var bn=la(yn);if(bn!==null||(bn=_i(yn),bn!==null))return yn;var _n;if(Ts.address_map.addrs[yn])_n=Ts.address_map.addrs[yn];else{var kn=Ts.address_map.id++;sr(kn<65535,"exceeded max address mappings of 65535"),_n="172.29."+(kn&255)+"."+(kn&65280),Ts.address_map.names[_n]=yn,Ts.address_map.addrs[yn]=_n}return _n},lookup_addr:function(yn){return Ts.address_map.names[yn]?Ts.address_map.names[yn]:null}};function qo(yn,bn,_n){if(_n&&yn===0)return null;var kn=bf(yn,bn);if(kn.errno)throw new $n.ErrnoError(kn.errno);return kn.addr=Ts.lookup_addr(kn.addr)||kn.addr,kn}function Ef(yn,bn,_n){try{var kn=Ci(yn),qn=qo(bn,_n);return kn.sock_ops.bind(kn,qn.addr,qn.port),0}catch(Kn){if(typeof $n>"u"||!(Kn instanceof $n.ErrnoError))throw Kn;return-Kn.errno}}function Ul(yn,bn,_n){try{var kn=Ci(yn),qn=qo(bn,_n);return kn.sock_ops.connect(kn,qn.addr,qn.port),0}catch(Kn){if(typeof $n>"u"||!(Kn instanceof $n.ErrnoError))throw Kn;return-Kn.errno}}function Jc(yn,bn,_n){Zr.varargs=_n;try{var kn=Zr.getStreamFromFD(yn);switch(bn){case 0:{var qn=Zr.get();if(qn<0)return-28;var Kn;return Kn=$n.open(kn.path,kn.flags,0,qn),Kn.fd}case 1:case 2:return 0;case 3:return kn.flags;case 4:{var qn=Zr.get();return kn.flags|=qn,0}case 5:{var qn=Zr.get(),tr=0;return ks[qn+tr>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Yc(28),-1;default:return-28}}catch(ir){if(typeof $n>"u"||!(ir instanceof $n.ErrnoError))throw ir;return-ir.errno}}function Yo(yn,bn){try{var _n=Zr.getStreamFromFD(yn);return Zr.doStat($n.stat,_n.path,bn)}catch(kn){if(typeof $n>"u"||!(kn instanceof $n.ErrnoError))throw kn;return-kn.errno}}function Sf(yn,bn,_n,kn){try{bn=Zr.getStr(bn);var qn=kn&256,Kn=kn&4096;return kn=kn&-4353,sr(!kn,kn),bn=Zr.calculateAt(yn,bn,Kn),Zr.doStat(qn?$n.lstat:$n.stat,bn,_n)}catch(tr){if(typeof $n>"u"||!(tr instanceof $n.ErrnoError))throw tr;return-tr.errno}}function hi(yn,bn){try{if(bn===0)return-28;var _n=$n.cwd(),kn=Ir(_n);return bn<kn+1?-68:(Nr(_n,yn,bn),yn)}catch(qn){if(typeof $n>"u"||!(qn instanceof $n.ErrnoError))throw qn;return-qn.errno}}function Hl(yn,bn,_n){try{var kn=Zr.getStreamFromFD(yn);kn.getdents||(kn.getdents=$n.readdir(kn.path));for(var qn=280,Kn=0,tr=$n.llseek(kn,0,1),ir=Math.floor(tr/qn);ir<kn.getdents.length&&Kn+qn<=_n;){var ur,wr,Sr=kn.getdents[ir];if(Sr===".")ur=kn.node.id,wr=4;else if(Sr===".."){var _r=$n.lookupPath(kn.path,{parent:!0});ur=_r.node.id,wr=4}else{var yr=$n.lookupNode(kn.node,Sr);ur=yr.id,wr=$n.isChrdev(yr.mode)?2:$n.isDir(yr.mode)?4:$n.isLink(yr.mode)?10:8}sr(ur),Rs=[ur>>>0,(Wr=ur,+Math.abs(Wr)>=1?Wr>0?(Math.min(+Math.floor(Wr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Wr-+(~~Wr>>>0))/4294967296)>>>0:0)],gr[bn+Kn>>2]=Rs[0],gr[bn+Kn+4>>2]=Rs[1],Rs=[(ir+1)*qn>>>0,(Wr=(ir+1)*qn,+Math.abs(Wr)>=1?Wr>0?(Math.min(+Math.floor(Wr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Wr-+(~~Wr>>>0))/4294967296)>>>0:0)],gr[bn+Kn+8>>2]=Rs[0],gr[bn+Kn+12>>2]=Rs[1],ks[bn+Kn+16>>1]=280,Or[bn+Kn+18>>0]=wr,Nr(Sr,bn+Kn+19,256),Kn+=qn,ir+=1}return $n.llseek(kn,ir*qn,0),Kn}catch(Rr){if(typeof $n>"u"||!(Rr instanceof $n.ErrnoError))throw Rr;return-Rr.errno}}function Jo(yn,bn,_n,kn,qn){switch(bn){case 2:_n=la(_n),Ma(yn,16),qn&&(gr[qn>>2]=16),ks[yn>>1]=bn,gr[yn+4>>2]=_n,ks[yn+2>>1]=Do(kn);break;case 10:_n=_i(_n),Ma(yn,28),qn&&(gr[qn>>2]=28),gr[yn>>2]=bn,gr[yn+8>>2]=_n[0],gr[yn+12>>2]=_n[1],gr[yn+16>>2]=_n[2],gr[yn+20>>2]=_n[3],ks[yn+2>>1]=Do(kn);break;default:return 5}return 0}function $l(yn,bn,_n){try{var kn=Ci(yn),qn=Jo(bn,kn.family,Ts.lookup_name(kn.saddr||"0.0.0.0"),kn.sport,_n);return sr(!qn),0}catch(Kn){if(typeof $n>"u"||!(Kn instanceof $n.ErrnoError))throw Kn;return-Kn.errno}}function za(yn,bn,_n,kn,qn){try{var Kn=Ci(yn);return bn===1&&_n===4?(gr[kn>>2]=Kn.error,gr[qn>>2]=4,Kn.error=null,0):-50}catch(tr){if(typeof $n>"u"||!(tr instanceof $n.ErrnoError))throw tr;return-tr.errno}}function Qc(yn,bn,_n){Zr.varargs=_n;try{var kn=Zr.getStreamFromFD(yn);switch(bn){case 21509:case 21505:return kn.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return kn.tty?0:-59;case 21519:{if(!kn.tty)return-59;var qn=Zr.get();return gr[qn>>2]=0,0}case 21520:return kn.tty?-28:-59;case 21531:{var qn=Zr.get();return $n.ioctl(kn,bn,qn)}case 21523:return kn.tty?0:-59;case 21524:return kn.tty?0:-59;default:As("bad ioctl syscall "+bn)}}catch(Kn){if(typeof $n>"u"||!(Kn instanceof $n.ErrnoError))throw Kn;return-Kn.errno}}function Kc(yn,bn){try{return yn=Zr.getStr(yn),Zr.doStat($n.lstat,yn,bn)}catch(_n){if(typeof $n>"u"||!(_n instanceof $n.ErrnoError))throw _n;return-_n.errno}}function Ua(yn,bn,_n){Zr.varargs=_n;try{var kn=Zr.getStr(yn),qn=_n?Zr.get():0,Kn=$n.open(kn,bn,qn);return Kn.fd}catch(tr){if(typeof $n>"u"||!(tr instanceof $n.ErrnoError))throw tr;return-tr.errno}}var js={BUCKET_BUFFER_SIZE:8192,mount:function(yn){return $n.createNode(null,"/",16895,0)},createPipe:function(){var yn={buckets:[],refcnt:2};yn.buckets.push({buffer:new Uint8Array(js.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var bn=js.nextname(),_n=js.nextname(),kn=$n.createNode(js.root,bn,4096,0),qn=$n.createNode(js.root,_n,4096,0);kn.pipe=yn,qn.pipe=yn;var Kn=$n.createStream({path:bn,node:kn,flags:0,seekable:!1,stream_ops:js.stream_ops});kn.stream=Kn;var tr=$n.createStream({path:_n,node:qn,flags:1,seekable:!1,stream_ops:js.stream_ops});return qn.stream=tr,{readable_fd:Kn.fd,writable_fd:tr.fd}},stream_ops:{poll:function(yn){var bn=yn.node.pipe;if((yn.flags&2097155)===1)return 260;if(bn.buckets.length>0)for(var _n=0;_n<bn.buckets.length;_n++){var kn=bn.buckets[_n];if(kn.offset-kn.roffset>0)return 65}return 0},ioctl:function(yn,bn,_n){return 28},fsync:function(yn){return 28},read:function(yn,bn,_n,kn,qn){for(var Kn=yn.node.pipe,tr=0,ir=0;ir<Kn.buckets.length;ir++){var ur=Kn.buckets[ir];tr+=ur.offset-ur.roffset}sr(bn instanceof ArrayBuffer||ArrayBuffer.isView(bn));var wr=bn.subarray(_n,_n+kn);if(kn<=0)return 0;if(tr==0)throw new $n.ErrnoError(6);for(var Sr=Math.min(tr,kn),_r=Sr,yr=0,ir=0;ir<Kn.buckets.length;ir++){var Rr=Kn.buckets[ir],qr=Rr.offset-Rr.roffset;if(Sr<=qr){var rs=Rr.buffer.subarray(Rr.roffset,Rr.offset);Sr<qr?(rs=rs.subarray(0,Sr),Rr.roffset+=Sr):yr++,wr.set(rs);break}else{var rs=Rr.buffer.subarray(Rr.roffset,Rr.offset);wr.set(rs),wr=wr.subarray(rs.byteLength),Sr-=rs.byteLength,yr++}}return yr&&yr==Kn.buckets.length&&(yr--,Kn.buckets[yr].offset=0,Kn.buckets[yr].roffset=0),Kn.buckets.splice(0,yr),_r},write:function(yn,bn,_n,kn,qn){var Kn=yn.node.pipe;sr(bn instanceof ArrayBuffer||ArrayBuffer.isView(bn));var tr=bn.subarray(_n,_n+kn),ir=tr.byteLength;if(ir<=0)return 0;var ur=null;Kn.buckets.length==0?(ur={buffer:new Uint8Array(js.BUCKET_BUFFER_SIZE),offset:0,roffset:0},Kn.buckets.push(ur)):ur=Kn.buckets[Kn.buckets.length-1],sr(ur.offset<=js.BUCKET_BUFFER_SIZE);var wr=js.BUCKET_BUFFER_SIZE-ur.offset;if(wr>=ir)return ur.buffer.set(tr,ur.offset),ur.offset+=ir,ir;wr>0&&(ur.buffer.set(tr.subarray(0,wr),ur.offset),ur.offset+=wr,tr=tr.subarray(wr,tr.byteLength));for(var Sr=tr.byteLength/js.BUCKET_BUFFER_SIZE|0,_r=tr.byteLength%js.BUCKET_BUFFER_SIZE,yr=0;yr<Sr;yr++){var Rr={buffer:new Uint8Array(js.BUCKET_BUFFER_SIZE),offset:js.BUCKET_BUFFER_SIZE,roffset:0};Kn.buckets.push(Rr),Rr.buffer.set(tr.subarray(0,js.BUCKET_BUFFER_SIZE)),tr=tr.subarray(js.BUCKET_BUFFER_SIZE,tr.byteLength)}if(_r>0){var Rr={buffer:new Uint8Array(js.BUCKET_BUFFER_SIZE),offset:tr.byteLength,roffset:0};Kn.buckets.push(Rr),Rr.buffer.set(tr)}return ir},close:function(yn){var bn=yn.node.pipe;bn.refcnt--,bn.refcnt===0&&(bn.buckets=null)}},nextname:function(){return js.nextname.current||(js.nextname.current=0),"pipe["+js.nextname.current+++"]"}};function Zc(yn){try{if(yn==0)throw new $n.ErrnoError(21);var bn=js.createPipe();return gr[yn>>2]=bn.readable_fd,gr[yn+4>>2]=bn.writable_fd,0}catch(_n){if(typeof $n>"u"||!(_n instanceof $n.ErrnoError))throw _n;return-_n.errno}}function Vc(yn,bn,_n){try{for(var kn=0,qn=0;qn<bn;qn++){var Kn=yn+8*qn,tr=gr[Kn>>2],ir=ks[Kn+4>>1],ur=32,wr=$n.getStream(tr);wr&&(ur=Zr.DEFAULT_POLLMASK,wr.stream_ops.poll&&(ur=wr.stream_ops.poll(wr))),ur&=ir|8|16,ur&&kn++,ks[Kn+6>>1]=ur}return kn}catch(Sr){if(typeof $n>"u"||!(Sr instanceof $n.ErrnoError))throw Sr;return-Sr.errno}}function Pl(yn,bn,_n){try{return yn=Zr.getStr(yn),Zr.doReadlink(yn,bn,_n)}catch(kn){if(typeof $n>"u"||!(kn instanceof $n.ErrnoError))throw kn;return-kn.errno}}function Cf(yn,bn,_n,kn,qn,Kn){try{var tr=Ci(yn),ir=tr.sock_ops.recvmsg(tr,_n);if(!ir)return 0;if(qn){var ur=Jo(qn,tr.family,Ts.lookup_name(ir.addr),ir.port,Kn);sr(!ur)}return Gr.set(ir.buffer,bn),ir.buffer.byteLength}catch(wr){if(typeof $n>"u"||!(wr instanceof $n.ErrnoError))throw wr;return-wr.errno}}function _f(yn,bn){try{return yn=Zr.getStr(yn),bn=Zr.getStr(bn),$n.rename(yn,bn),0}catch(_n){if(typeof $n>"u"||!(_n instanceof $n.ErrnoError))throw _n;return-_n.errno}}function Qo(yn){try{return yn=Zr.getStr(yn),$n.rmdir(yn),0}catch(bn){if(typeof $n>"u"||!(bn instanceof $n.ErrnoError))throw bn;return-bn.errno}}function Hi(yn,bn,_n,kn,qn,Kn){try{var tr=Ci(yn),ir=qo(qn,Kn,!0);return ir?tr.sock_ops.sendmsg(tr,Or,bn,_n,ir.addr,ir.port):$n.write(tr.stream,Or,bn,_n)}catch(ur){if(typeof $n>"u"||!(ur instanceof $n.ErrnoError))throw ur;return-ur.errno}}function Wl(yn,bn,_n){try{var kn=ps.createSocket(yn,bn,_n);return kn.stream.fd}catch(qn){if(typeof $n>"u"||!(qn instanceof $n.ErrnoError))throw qn;return-qn.errno}}function Gl(yn,bn){try{return yn=Zr.getStr(yn),Zr.doStat($n.stat,yn,bn)}catch(_n){if(typeof $n>"u"||!(_n instanceof $n.ErrnoError))throw _n;return-_n.errno}}function Ha(yn){try{return yn=Zr.getStr(yn),$n.unlink(yn),0}catch(bn){if(typeof $n>"u"||!(bn instanceof $n.ErrnoError))throw bn;return-bn.errno}}function $a(){throw 1/0}function Xc(yn,bn){var _n=new Date(gr[yn>>2]*1e3);gr[bn>>2]=_n.getUTCSeconds(),gr[bn+4>>2]=_n.getUTCMinutes(),gr[bn+8>>2]=_n.getUTCHours(),gr[bn+12>>2]=_n.getUTCDate(),gr[bn+16>>2]=_n.getUTCMonth(),gr[bn+20>>2]=_n.getUTCFullYear()-1900,gr[bn+24>>2]=_n.getUTCDay();var kn=Date.UTC(_n.getUTCFullYear(),0,1,0,0,0,0),qn=(_n.getTime()-kn)/(1e3*60*60*24)|0;gr[bn+28>>2]=qn}function ql(yn,bn,_n){var kn=new Date().getFullYear(),qn=new Date(kn,0,1),Kn=new Date(kn,6,1),tr=qn.getTimezoneOffset(),ir=Kn.getTimezoneOffset(),ur=Math.max(tr,ir);gr[yn>>2]=ur*60,gr[bn>>2]=+(tr!=ir);function wr(qr){var rs=qr.toTimeString().match(/\(([A-Za-z ]+)\)$/);return rs?rs[1]:"GMT"}var Sr=wr(qn),_r=wr(Kn),yr=xs(Sr),Rr=xs(_r);ir<tr?(gr[_n>>2]=yr,gr[_n+4>>2]=Rr):(gr[_n>>2]=Rr,gr[_n+4>>2]=yr)}function Ko(yn,bn,_n){Ko.called||(Ko.called=!0,ql(yn,bn,_n))}function yo(yn,bn){if(Xn){Nn("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{yn()}catch(_n){ea(_n)}}function $i(yn){setTimeout(function(){yo(function(){hu(14)})},yn*1e3)}var Zo;Zo=(()=>performance.now());var bo=!0;function ra(yn,bn){var _n;if(yn===0)_n=Date.now();else if((yn===1||yn===4)&&bo)_n=Zo();else return Yc(28),-1;return gr[bn>>2]=_n/1e3|0,gr[bn+4>>2]=_n%1e3*1e3*1e3|0,0}function Yl(yn){sr(typeof yn=="number"),console.error(xr(yn))}function Vo(){return 2147483648}function eu(yn){try{return Qn.grow(yn-Kr.byteLength+65535>>>16),Mr(Qn.buffer),1}catch(bn){Nn("emscripten_realloc_buffer: Attempted to grow heap from "+Kr.byteLength+" bytes to "+yn+" bytes, but got error: "+bn)}}function Xo(yn){var bn=Gr.length;yn=yn>>>0,sr(yn>bn);var _n=Vo();if(yn>_n)return Nn("Cannot enlarge memory, asked to go up to "+yn+" bytes, but the limit is "+_n+" bytes!"),!1;let kn=(ur,wr)=>ur+(wr-ur%wr)%wr;for(var qn=1;qn<=4;qn*=2){var Kn=bn*(1+.2/qn);Kn=Math.min(Kn,yn+100663296);var tr=Math.min(_n,kn(Math.max(yn,Kn),65536)),ir=eu(tr);if(ir)return!0}return Nn("Failed to grow the heap from "+bn+" bytes to "+tr+" bytes, not enough memory!"),!1}var Pa={};function tu(){return rn||"./this.program"}function Gs(){if(!Gs.strings){var yn=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",bn={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:yn,_:tu()};for(var _n in Pa)Pa[_n]===void 0?delete bn[_n]:bn[_n]=Pa[_n];var kn=[];for(var _n in bn)kn.push(_n+"="+bn[_n]);Gs.strings=kn}return Gs.strings}function ua(yn,bn){var _n=0;return Gs().forEach(function(kn,qn){var Kn=bn+_n;gr[yn+qn*4>>2]=Kn,vs(kn,Kn),_n+=kn.length+1}),0}function el(yn,bn){var _n=Gs();gr[yn>>2]=_n.length;var kn=0;return _n.forEach(function(qn){kn+=qn.length+1}),gr[bn>>2]=kn,0}function Eo(yn){try{var bn=Zr.getStreamFromFD(yn);return $n.close(bn),0}catch(_n){if(typeof $n>"u"||!(_n instanceof $n.ErrnoError))throw _n;return _n.errno}}function Rf(yn,bn,_n,kn){try{var qn=Zr.getStreamFromFD(yn),Kn=Zr.doReadv(qn,bn,_n);return gr[kn>>2]=Kn,0}catch(tr){if(typeof $n>"u"||!(tr instanceof $n.ErrnoError))throw tr;return tr.errno}}function Jl(yn,bn,_n,kn,qn){try{var Kn=Zr.getStreamFromFD(yn),tr=4294967296,ir=_n*tr+(bn>>>0),ur=9007199254740992;return ir<=-ur||ir>=ur?-61:($n.llseek(Kn,ir,kn),Rs=[Kn.position>>>0,(Wr=Kn.position,+Math.abs(Wr)>=1?Wr>0?(Math.min(+Math.floor(Wr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Wr-+(~~Wr>>>0))/4294967296)>>>0:0)],gr[qn>>2]=Rs[0],gr[qn+4>>2]=Rs[1],Kn.getdents&&ir===0&&kn===0&&(Kn.getdents=null),0)}catch(wr){if(typeof $n>"u"||!(wr instanceof $n.ErrnoError))throw wr;return wr.errno}}function Ql(yn,bn,_n,kn){try{var qn=Zr.getStreamFromFD(yn),Kn=Zr.doWritev(qn,bn,_n);return gr[kn>>2]=Kn,0}catch(tr){if(typeof $n>"u"||!(tr instanceof $n.ErrnoError))throw tr;return tr.errno}}function So(){return Zn()}function tl(yn,bn,_n,kn){var qn=0,Kn=0,tr=0,ir=0,ur=0,wr=0,Sr;function _r(yr,Rr,qr,rs,Ms,Bs){var Cr,jr,$r,zr;return jr=yr===10?28:16,Ms=yr===10?zl(Ms):Go(Ms),Cr=al(jr),zr=Jo(Cr,yr,Ms,Bs),sr(!zr),$r=al(32),gr[$r+4>>2]=yr,gr[$r+8>>2]=Rr,gr[$r+12>>2]=qr,gr[$r+24>>2]=rs,gr[$r+20>>2]=Cr,yr===10?gr[$r+16>>2]=28:gr[$r+16>>2]=16,gr[$r+28>>2]=0,$r}if(_n&&(tr=gr[_n>>2],ir=gr[_n+4>>2],ur=gr[_n+8>>2],wr=gr[_n+12>>2]),ur&&!wr&&(wr=ur===2?17:6),!ur&&wr&&(ur=wr===17?2:1),wr===0&&(wr=6),ur===0&&(ur=1),!yn&&!bn)return-2;if(tr&-1088||_n!==0&&gr[_n>>2]&2&&!yn)return-1;if(tr&32)return-2;if(ur!==0&&ur!==1&&ur!==2)return-7;if(ir!==0&&ir!==2&&ir!==10)return-6;if(bn&&(bn=xr(bn),Kn=parseInt(bn,10),isNaN(Kn)))return tr&1024?-2:-8;if(!yn)return ir===0&&(ir=2),(tr&1)===0&&(ir===2?qn=No(2130706433):qn=[0,0,0,1]),Sr=_r(ir,ur,wr,null,qn,Kn),gr[kn>>2]=Sr,0;if(yn=xr(yn),qn=la(yn),qn!==null)if(ir===0||ir===2)ir=2;else if(ir===10&&tr&8)qn=[0,0,No(65535),qn],ir=10;else return-2;else if(qn=_i(yn),qn!==null)if(ir===0||ir===10)ir=10;else return-2;return qn!=null?(Sr=_r(ir,ur,wr,yn,qn,Kn),gr[kn>>2]=Sr,0):tr&4?-2:(yn=Ts.lookup_name(yn),qn=la(yn),ir===0?ir=2:ir===10&&(qn=[0,0,No(65535),qn]),Sr=_r(ir,ur,wr,null,qn,Kn),gr[kn>>2]=Sr,0)}function nu(yn){var bn=Date.now();return gr[yn>>2]=bn/1e3|0,gr[yn+4>>2]=bn%1e3*1e3|0,0}function Df(yn){Vn(yn)}function nl(yn){return yn%4===0&&(yn%100!==0||yn%400===0)}function Kl(yn,bn){for(var _n=0,kn=0;kn<=bn;_n+=yn[kn++]);return _n}var Wa=[31,29,31,30,31,30,31,31,30,31,30,31],rl=[31,28,31,30,31,30,31,31,30,31,30,31];function sl(yn,bn){for(var _n=new Date(yn.getTime());bn>0;){var kn=nl(_n.getFullYear()),qn=_n.getMonth(),Kn=(kn?Wa:rl)[qn];if(bn>Kn-_n.getDate())bn-=Kn-_n.getDate()+1,_n.setDate(1),qn<11?_n.setMonth(qn+1):(_n.setMonth(0),_n.setFullYear(_n.getFullYear()+1));else return _n.setDate(_n.getDate()+bn),_n}return _n}function Nf(yn,bn,_n,kn){var qn=gr[kn+40>>2],Kn={tm_sec:gr[kn>>2],tm_min:gr[kn+4>>2],tm_hour:gr[kn+8>>2],tm_mday:gr[kn+12>>2],tm_mon:gr[kn+16>>2],tm_year:gr[kn+20>>2],tm_wday:gr[kn+24>>2],tm_yday:gr[kn+28>>2],tm_isdst:gr[kn+32>>2],tm_gmtoff:gr[kn+36>>2],tm_zone:qn?xr(qn):""},tr=xr(_n),ir={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ur in ir)tr=tr.replace(new RegExp(ur,"g"),ir[ur]);var wr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Sr=["January","February","March","April","May","June","July","August","September","October","November","December"];function _r(Cr,jr,$r){for(var zr=typeof Cr=="number"?Cr.toString():Cr||"";zr.length<jr;)zr=$r[0]+zr;return zr}function yr(Cr,jr){return _r(Cr,jr,"0")}function Rr(Cr,jr){function $r(Qr){return Qr<0?-1:Qr>0?1:0}var zr;return(zr=$r(Cr.getFullYear()-jr.getFullYear()))===0&&(zr=$r(Cr.getMonth()-jr.getMonth()))===0&&(zr=$r(Cr.getDate()-jr.getDate())),zr}function qr(Cr){switch(Cr.getDay()){case 0:return new Date(Cr.getFullYear()-1,11,29);case 1:return Cr;case 2:return new Date(Cr.getFullYear(),0,3);case 3:return new Date(Cr.getFullYear(),0,2);case 4:return new Date(Cr.getFullYear(),0,1);case 5:return new Date(Cr.getFullYear()-1,11,31);case 6:return new Date(Cr.getFullYear()-1,11,30)}}function rs(Cr){var jr=sl(new Date(Cr.tm_year+1900,0,1),Cr.tm_yday),$r=new Date(jr.getFullYear(),0,4),zr=new Date(jr.getFullYear()+1,0,4),Qr=qr($r),Hs=qr(zr);return Rr(Qr,jr)<=0?Rr(Hs,jr)<=0?jr.getFullYear()+1:jr.getFullYear():jr.getFullYear()-1}var Ms={"%a":function(Cr){return wr[Cr.tm_wday].substring(0,3)},"%A":function(Cr){return wr[Cr.tm_wday]},"%b":function(Cr){return Sr[Cr.tm_mon].substring(0,3)},"%B":function(Cr){return Sr[Cr.tm_mon]},"%C":function(Cr){var jr=Cr.tm_year+1900;return yr(jr/100|0,2)},"%d":function(Cr){return yr(Cr.tm_mday,2)},"%e":function(Cr){return _r(Cr.tm_mday,2," ")},"%g":function(Cr){return rs(Cr).toString().substring(2)},"%G":function(Cr){return rs(Cr)},"%H":function(Cr){return yr(Cr.tm_hour,2)},"%I":function(Cr){var jr=Cr.tm_hour;return jr==0?jr=12:jr>12&&(jr-=12),yr(jr,2)},"%j":function(Cr){return yr(Cr.tm_mday+Kl(nl(Cr.tm_year+1900)?Wa:rl,Cr.tm_mon-1),3)},"%m":function(Cr){return yr(Cr.tm_mon+1,2)},"%M":function(Cr){return yr(Cr.tm_min,2)},"%n":function(){return`
`},"%p":function(Cr){return Cr.tm_hour>=0&&Cr.tm_hour<12?"AM":"PM"},"%S":function(Cr){return yr(Cr.tm_sec,2)},"%t":function(){return"	"},"%u":function(Cr){return Cr.tm_wday||7},"%U":function(Cr){var jr=new Date(Cr.tm_year+1900,0,1),$r=jr.getDay()===0?jr:sl(jr,7-jr.getDay()),zr=new Date(Cr.tm_year+1900,Cr.tm_mon,Cr.tm_mday);if(Rr($r,zr)<0){var Qr=Kl(nl(zr.getFullYear())?Wa:rl,zr.getMonth()-1)-31,Hs=31-$r.getDate(),Ls=Hs+Qr+zr.getDate();return yr(Math.ceil(Ls/7),2)}return Rr($r,jr)===0?"01":"00"},"%V":function(Cr){var jr=new Date(Cr.tm_year+1900,0,4),$r=new Date(Cr.tm_year+1901,0,4),zr=qr(jr),Qr=qr($r),Hs=sl(new Date(Cr.tm_year+1900,0,1),Cr.tm_yday);if(Rr(Hs,zr)<0)return"53";if(Rr(Qr,Hs)<=0)return"01";var Ls;return zr.getFullYear()<Cr.tm_year+1900?Ls=Cr.tm_yday+32-zr.getDate():Ls=Cr.tm_yday+1-zr.getDate(),yr(Math.ceil(Ls/7),2)},"%w":function(Cr){return Cr.tm_wday},"%W":function(Cr){var jr=new Date(Cr.tm_year,0,1),$r=jr.getDay()===1?jr:sl(jr,jr.getDay()===0?1:7-jr.getDay()+1),zr=new Date(Cr.tm_year+1900,Cr.tm_mon,Cr.tm_mday);if(Rr($r,zr)<0){var Qr=Kl(nl(zr.getFullYear())?Wa:rl,zr.getMonth()-1)-31,Hs=31-$r.getDate(),Ls=Hs+Qr+zr.getDate();return yr(Math.ceil(Ls/7),2)}return Rr($r,jr)===0?"01":"00"},"%y":function(Cr){return(Cr.tm_year+1900).toString().substring(2)},"%Y":function(Cr){return Cr.tm_year+1900},"%z":function(Cr){var jr=Cr.tm_gmtoff,$r=jr>=0;return jr=Math.abs(jr)/60,jr=jr/60*100+jr%60,($r?"+":"-")+("0000"+jr).slice(-4)},"%Z":function(Cr){return Cr.tm_zone},"%%":function(){return"%"}};tr=tr.replace(/%%/g,"\0\0");for(var ur in Ms)tr.includes(ur)&&(tr=tr.replace(new RegExp(ur,"g"),Ms[ur](Kn)));tr=tr.replace(/\0\0/g,"%");var Bs=_o(tr,!1);return Bs.length>bn?0:(es(Bs,yn),Bs.length-1)}function jf(yn){var bn=Date.now()/1e3|0;return yn&&(gr[yn>>2]=bn),bn}var ru=function(yn,bn,_n,kn){yn||(yn=this),this.parent=yn,this.mount=yn.mount,this.mounted=null,this.id=$n.nextInode++,this.name=bn,this.mode=_n,this.node_ops={},this.stream_ops={},this.rdev=kn},Co=365,il=146;Object.defineProperties(ru.prototype,{read:{get:function(){return(this.mode&Co)===Co},set:function(yn){yn?this.mode|=Co:this.mode&=~Co}},write:{get:function(){return(this.mode&il)===il},set:function(yn){yn?this.mode|=il:this.mode&=~il}},isFolder:{get:function(){return $n.isDir(this.mode)}},isDevice:{get:function(){return $n.isChrdev(this.mode)}}}),$n.FSNode=ru,$n.staticInit(),na={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function _o(yn,bn,_n){var kn=Ir(yn)+1,qn=new Array(kn),Kn=Dr(yn,qn,0,qn.length);return bn&&(qn.length=Kn),qn}function Bf(){In("fetchSettings")}var su={__assert_fail:ai,__call_sighandler:Ia,__syscall__newselect:qc,__syscall_bind:Ef,__syscall_connect:Ul,__syscall_fcntl64:Jc,__syscall_fstat64:Yo,__syscall_fstatat64:Sf,__syscall_getcwd:hi,__syscall_getdents64:Hl,__syscall_getsockname:$l,__syscall_getsockopt:za,__syscall_ioctl:Qc,__syscall_lstat64:Kc,__syscall_open:Ua,__syscall_pipe:Zc,__syscall_poll:Vc,__syscall_readlink:Pl,__syscall_recvfrom:Cf,__syscall_rename:_f,__syscall_rmdir:Qo,__syscall_sendto:Hi,__syscall_socket:Wl,__syscall_stat64:Gl,__syscall_unlink:Ha,_emscripten_throw_longjmp:$a,_gmtime_js:Xc,_tzset_js:Ko,alarm:$i,clock_gettime:ra,emscripten_console_error:Yl,emscripten_resize_heap:Xo,environ_get:ua,environ_sizes_get:el,fd_close:Eo,fd_read:Rf,fd_seek:Jl,fd_write:Ql,getTempRet0:So,getaddrinfo:tl,gettimeofday:nu,invoke_i:gu,invoke_ii:wu,invoke_iiii:xu,invoke_iiiiiii:jo,invoke_jii:qf,invoke_vi:ac,invoke_viii:mu,setTempRet0:Df,strftime:Nf,time:jf};if(Ns&&Si(Ns))var Zl=ka();else var Zl=null;sn.___wasm_call_ctors=Lr("__wasm_call_ctors");var Of=sn._get_cacert=Lr("get_cacert"),al=sn._malloc=Lr("malloc"),Tf=sn._init_curl=Lr("init_curl"),Vl=sn._http_set_options=Lr("http_set_options"),Fi=sn._free=Lr("free"),Ff=sn._http_set_cookie_jar=Lr("http_set_cookie_jar"),kf=sn._http_get_info=Lr("http_get_info"),If=sn._create_request=Lr("create_request"),Mf=sn._request_cleanup=Lr("request_cleanup"),Xl=sn._request_set_proxy=Lr("request_set_proxy"),Lf=sn._session_create=Lr("session_create"),iu=sn._session_perform=Lr("session_perform"),zf=sn._session_set_options=Lr("session_set_options"),tc=sn._session_add_request=Lr("session_add_request"),Ro=sn._session_get_active=Lr("session_get_active"),Uf=sn._session_remove_request=Lr("session_remove_request"),au=sn._session_cleanup=Lr("session_cleanup"),ou=sn._recv_from_socket=Lr("recv_from_socket"),lu=sn._send_to_socket=Lr("send_to_socket"),cu=sn._tls_socket_set_options=Lr("tls_socket_set_options"),uu=sn._get_version=Lr("get_version"),Ga=sn._get_error_str=Lr("get_error_str"),Hf=sn._recv_from_websocket=Lr("recv_from_websocket"),$f=sn._send_to_websocket=Lr("send_to_websocket");sn._close_websocket=Lr("close_websocket");var Pf=sn._websocket_set_options=Lr("websocket_set_options"),nc=sn._get_result_size=Lr("get_result_size"),rc=sn._get_result_buffer=Lr("get_result_buffer"),qa=sn._get_result_code=Lr("get_result_code"),Ya=sn._get_result_closed=Lr("get_result_closed"),Wf=sn._get_result_bytes_left=Lr("get_result_bytes_left"),ol=sn._get_result_is_text=Lr("get_result_is_text"),fu=sn.___errno_location=Lr("__errno_location"),sc=sn._ntohs=Lr("ntohs"),Do=sn._htons=Lr("htons");sn._saveSetjmp=Lr("saveSetjmp");var No=sn._htonl=Lr("htonl"),du=sn.___stdio_exit=Lr("__stdio_exit"),hu=sn._raise=Lr("raise"),sa=sn._setThrew=Lr("setThrew"),pu=sn._emscripten_stack_init=function(){return(pu=sn._emscripten_stack_init=sn.asm.emscripten_stack_init).apply(null,arguments)};sn._emscripten_stack_get_free=function(){return(sn._emscripten_stack_get_free=sn.asm.emscripten_stack_get_free).apply(null,arguments)},sn._emscripten_stack_get_base=function(){return(sn._emscripten_stack_get_base=sn.asm.emscripten_stack_get_base).apply(null,arguments)};var ic=sn._emscripten_stack_get_end=function(){return(ic=sn._emscripten_stack_get_end=sn.asm.emscripten_stack_get_end).apply(null,arguments)},fa=sn.stackSave=Lr("stackSave"),da=sn.stackRestore=Lr("stackRestore"),Gf=sn.stackAlloc=Lr("stackAlloc"),li=sn.dynCall_jii=Lr("dynCall_jii");sn.dynCall_iiji=Lr("dynCall_iiji"),sn.dynCall_iiij=Lr("dynCall_iiij"),sn.dynCall_iiiiijjii=Lr("dynCall_iiiiijjii"),sn.dynCall_jiji=Lr("dynCall_jiji");function jo(yn,bn,_n,kn,qn,Kn,tr){var ir=fa();try{return di(yn)(bn,_n,kn,qn,Kn,tr)}catch(ur){if(da(ir),ur!==ur+0)throw ur;sa(1,0)}}function mu(yn,bn,_n,kn){var qn=fa();try{di(yn)(bn,_n,kn)}catch(Kn){if(da(qn),Kn!==Kn+0)throw Kn;sa(1,0)}}function gu(yn){var bn=fa();try{return di(yn)()}catch(_n){if(da(bn),_n!==_n+0)throw _n;sa(1,0)}}function xu(yn,bn,_n,kn){var qn=fa();try{return di(yn)(bn,_n,kn)}catch(Kn){if(da(qn),Kn!==Kn+0)throw Kn;sa(1,0)}}function wu(yn,bn){var _n=fa();try{return di(yn)(bn)}catch(kn){if(da(_n),kn!==kn+0)throw kn;sa(1,0)}}function ac(yn,bn){var _n=fa();try{di(yn)(bn)}catch(kn){if(da(_n),kn!==kn+0)throw kn;sa(1,0)}}function qf(yn,bn,_n){var kn=fa();try{return li(yn,bn,_n)}catch(qn){if(da(kn),qn!==qn+0)throw qn;sa(1,0)}}Fn("intArrayFromString",!1),Fn("intArrayToString",!1),Fn("ccall",!1),Fn("cwrap",!1),Fn("setValue",!1),Fn("getValue",!1),sn.allocate=ar,Fn("UTF8ArrayToString",!1),Fn("UTF8ToString",!1),Fn("stringToUTF8Array",!1),Fn("stringToUTF8",!1),Fn("lengthBytesUTF8",!1),Fn("stackTrace",!1),Fn("addOnPreRun",!1),Fn("addOnInit",!1),Fn("addOnPreMain",!1),Fn("addOnExit",!1),Fn("addOnPostRun",!1),Fn("writeStringToMemory",!1),Fn("writeArrayToMemory",!1),Fn("writeAsciiToMemory",!1),Fn("addRunDependency",!0),Fn("removeRunDependency",!0),Fn("FS_createFolder",!1),Fn("FS_createPath",!0),Fn("FS_createDataFile",!0),Fn("FS_createPreloadedFile",!0),Fn("FS_createLazyFile",!0),Fn("FS_createLink",!1),Fn("FS_createDevice",!0),Fn("FS_unlink",!0),Fn("getLEB",!1),Fn("getFunctionTables",!1),Fn("alignFunctionTables",!1),Fn("registerFunctions",!1),sn.addFunction=Tn,sn.removeFunction=zn,Fn("getFuncWrapper",!1),Fn("prettyPrint",!1),Fn("dynCall",!1),Fn("getCompilerSetting",!1),Fn("print",!1),Fn("printErr",!1),Fn("getTempRet0",!1),Fn("setTempRet0",!1),Fn("callMain",!1),Fn("abort",!1),Fn("keepRuntimeAlive",!1),Fn("zeroMemory",!1),Fn("stringToNewUTF8",!1),Fn("emscripten_realloc_buffer",!1),Fn("ENV",!1),Fn("withStackSave",!1),Fn("ERRNO_CODES",!1),Fn("ERRNO_MESSAGES",!1),Fn("setErrNo",!1),Fn("inetPton4",!1),Fn("inetNtop4",!1),Fn("inetPton6",!1),Fn("inetNtop6",!1),Fn("readSockaddr",!1),Fn("writeSockaddr",!1),Fn("DNS",!1),Fn("getHostByName",!1),Fn("Protocols",!1),Fn("Sockets",!1),Fn("getRandomDevice",!1),Fn("traverseStack",!1),Fn("convertFrameToPC",!1),Fn("UNWIND_CACHE",!1),Fn("saveInUnwindCache",!1),Fn("convertPCtoSourceLocation",!1),Fn("readAsmConstArgsArray",!1),Fn("readAsmConstArgs",!1),Fn("mainThreadEM_ASM",!1),Fn("jstoi_q",!1),Fn("jstoi_s",!1),Fn("getExecutableName",!1),Fn("listenOnce",!1),Fn("autoResumeAudioContext",!1),Fn("dynCallLegacy",!1),Fn("getDynCaller",!1),Fn("dynCall",!1),Fn("callRuntimeCallbacks",!1),Fn("setWasmTableEntry",!1),Fn("getWasmTableEntry",!1),Fn("handleException",!1),Fn("runtimeKeepalivePush",!1),Fn("runtimeKeepalivePop",!1),Fn("callUserCallback",!1),Fn("maybeExit",!1),Fn("safeSetTimeout",!1),Fn("asmjsMangle",!1),Fn("asyncLoad",!1),Fn("alignMemory",!1),Fn("mmapAlloc",!1),Fn("reallyNegative",!1),Fn("unSign",!1),Fn("reSign",!1),Fn("formatString",!1),Fn("PATH",!1),Fn("PATH_FS",!1),Fn("SYSCALLS",!1),Fn("getSocketFromFD",!1),Fn("getSocketAddress",!1),Fn("JSEvents",!1),Fn("registerKeyEventCallback",!1),Fn("specialHTMLTargets",!1),Fn("maybeCStringToJsString",!1),Fn("findEventTarget",!1),Fn("findCanvasEventTarget",!1),Fn("getBoundingClientRect",!1),Fn("fillMouseEventData",!1),Fn("registerMouseEventCallback",!1),Fn("registerWheelEventCallback",!1),Fn("registerUiEventCallback",!1),Fn("registerFocusEventCallback",!1),Fn("fillDeviceOrientationEventData",!1),Fn("registerDeviceOrientationEventCallback",!1),Fn("fillDeviceMotionEventData",!1),Fn("registerDeviceMotionEventCallback",!1),Fn("screenOrientation",!1),Fn("fillOrientationChangeEventData",!1),Fn("registerOrientationChangeEventCallback",!1),Fn("fillFullscreenChangeEventData",!1),Fn("registerFullscreenChangeEventCallback",!1),Fn("registerRestoreOldStyle",!1),Fn("hideEverythingExceptGivenElement",!1),Fn("restoreHiddenElements",!1),Fn("setLetterbox",!1),Fn("currentFullscreenStrategy",!1),Fn("restoreOldWindowedStyle",!1),Fn("softFullscreenResizeWebGLRenderTarget",!1),Fn("doRequestFullscreen",!1),Fn("fillPointerlockChangeEventData",!1),Fn("registerPointerlockChangeEventCallback",!1),Fn("registerPointerlockErrorEventCallback",!1),Fn("requestPointerLock",!1),Fn("fillVisibilityChangeEventData",!1),Fn("registerVisibilityChangeEventCallback",!1),Fn("registerTouchEventCallback",!1),Fn("fillGamepadEventData",!1),Fn("registerGamepadEventCallback",!1),Fn("registerBeforeUnloadEventCallback",!1),Fn("fillBatteryEventData",!1),Fn("battery",!1),Fn("registerBatteryEventCallback",!1),Fn("setCanvasElementSize",!1),Fn("getCanvasElementSize",!1),Fn("demangle",!1),Fn("demangleAll",!1),Fn("jsStackTrace",!1),Fn("stackTrace",!1),Fn("getEnvStrings",!1),Fn("checkWasiClock",!1),Fn("writeI53ToI64",!1),Fn("writeI53ToI64Clamped",!1),Fn("writeI53ToI64Signaling",!1),Fn("writeI53ToU64Clamped",!1),Fn("writeI53ToU64Signaling",!1),Fn("readI53FromI64",!1),Fn("readI53FromU64",!1),Fn("convertI32PairToI53",!1),Fn("convertU32PairToI53",!1),Fn("setImmediateWrapped",!1),Fn("clearImmediateWrapped",!1),Fn("polyfillSetImmediate",!1),Fn("uncaughtExceptionCount",!1),Fn("exceptionLast",!1),Fn("exceptionCaught",!1),Fn("ExceptionInfo",!1),Fn("CatchInfo",!1),Fn("exception_addRef",!1),Fn("exception_decRef",!1),Fn("Browser",!1),Fn("funcWrappers",!1),Fn("getFuncWrapper",!1),Fn("setMainLoop",!1),Fn("wget",!1),Fn("FS",!1),Fn("MEMFS",!1),Fn("TTY",!1),Fn("PIPEFS",!1),Fn("SOCKFS",!1),Fn("_setNetworkCallback",!1),Fn("tempFixedLengthArray",!1),Fn("miniTempWebGLFloatBuffers",!1),Fn("heapObjectForWebGLType",!1),Fn("heapAccessShiftForWebGLHeap",!1),Fn("GL",!1),Fn("emscriptenWebGLGet",!1),Fn("computeUnpackAlignedImageSize",!1),Fn("emscriptenWebGLGetTexPixelData",!1),Fn("emscriptenWebGLGetUniform",!1),Fn("webglGetUniformLocation",!1),Fn("webglPrepareUniformLocationsBeforeFirstUse",!1),Fn("webglGetLeftBracePos",!1),Fn("emscriptenWebGLGetVertexAttrib",!1),Fn("writeGLArray",!1),Fn("AL",!1),Fn("SDL_unicode",!1),Fn("SDL_ttfContext",!1),Fn("SDL_audio",!1),Fn("SDL",!1),Fn("SDL_gfx",!1),Fn("GLUT",!1),Fn("EGL",!1),Fn("GLFW_Window",!1),Fn("GLFW",!1),Fn("GLEW",!1),Fn("IDBStore",!1),Fn("runAndAbortIfError",!1),Fn("WS",!1),Fn("warnOnce",!1),Fn("stackSave",!1),Fn("stackRestore",!1),Fn("stackAlloc",!1),Fn("AsciiToString",!1),Fn("stringToAscii",!1),Fn("UTF16ToString",!1),Fn("stringToUTF16",!1),Fn("lengthBytesUTF16",!1),Fn("UTF32ToString",!1),Fn("stringToUTF32",!1),Fn("lengthBytesUTF32",!1),Fn("allocateUTF8",!1),Fn("allocateUTF8OnStack",!1),sn.writeStackCookie=Yr,sn.checkStackCookie=ls,sn.ALLOC_NORMAL=Jn,Wn("ALLOC_STACK",!1);var Pi;function ll(yn){this.name="ExitStatus",this.message="Program terminated with exit("+yn+")",this.status=yn}Qi=function yn(){Pi||Ja(),Pi||(Qi=yn)};function Bo(){pu(),Yr()}function Ja(yn){if(Is>0||(Bo(),Ji(),Is>0))return;function bn(){Pi||(Pi=!0,sn.calledRun=!0,!Xn&&(fi(),sn.onRuntimeInitialized&&sn.onRuntimeInitialized(),sr(!sn._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ds()))}sn.setStatus?(sn.setStatus("Running..."),setTimeout(function(){setTimeout(function(){sn.setStatus("")},1),bn()},1)):bn(),ls()}if(sn.run=Ja,sn.preInit)for(typeof sn.preInit=="function"&&(sn.preInit=[sn.preInit]);sn.preInit.length>0;)sn.preInit.pop()();Ns&&Si(Ns)&&Ja();const Oo={DATA:2,CONTINUE:3,CLOSE:4},ha=[void 0,"CONNECT","DATA","CONTINUE","CLOSE"];function ia(yn){if(yn.length==4)return new Uint32Array(yn.buffer)[0];if(yn.length==2)return new Uint16Array(yn.buffer)[0];if(yn.length==1)return yn[0];throw"invalid array length"}function pa(yn,bn){let _n=new ArrayBuffer(bn),kn=new DataView(_n);if(bn==1)kn.setUint8(0,yn,!0);else if(bn==2)kn.setUint16(0,yn,!0);else if(bn==4)kn.setUint32(0,yn,!0);else throw"invalid array length";return new Uint8Array(_n)}function oc(){let yn=0;for(let kn of arguments)yn+=kn.length;let bn=new Uint8Array(yn),_n=0;for(let kn of arguments)bn.set(kn,_n),_n+=kn.length;return bn}function Wi(yn,bn,_n){let kn=pa(bn,4),qn=pa(yn,1);return oc(qn,kn,_n)}class Au extends EventTarget{constructor(bn,_n,kn,qn,Kn,tr,ir){super(),this.hostname=bn,this.port=_n,this.ws=kn,this.buffer_size=qn,this.stream_id=Kn,this.connection=tr,this.stream_type=ir,this.send_buffer=[],this.open=!0}send(bn){if(this.buffer_size>0||!this.open||this.stream_type===2){let _n=Wi(2,this.stream_id,bn);this.ws.send(_n),this.buffer_size--}else this.send_buffer.push(bn)}continue_received(bn){for(this.buffer_size=bn;this.buffer_size>0&&this.send_buffer.length>0;)this.send(this.send_buffer.shift())}close(bn=1){if(!this.open)return;let _n=pa(bn,1),kn=Wi(4,this.stream_id,_n);this.ws.send(kn),this.open=!1,delete this.connection.active_streams[this.stream_id]}}class cc extends EventTarget{constructor(bn){if(super(),this.wisp_url=bn,this.max_buffer_size=null,this.active_streams={},this.connected=!1,this.connecting=!1,this.next_stream_id=1,!this.wisp_url.endsWith("/"))throw"wisp endpoints must end with a trailing forward slash";this.connect_ws()}connect_ws(){this.ws=new WebSocket(this.wisp_url),this.ws.binaryType="arraybuffer",this.connecting=!0,this.ws.addEventListener("error",bn=>{this.on_ws_close();let _n=new Event("error");this.dispatchEvent(_n)}),this.ws.addEventListener("close",()=>{this.on_ws_close();let bn=new CloseEvent("close");this.dispatchEvent(bn)}),this.ws.addEventListener("message",bn=>{if(this.on_ws_msg(bn),this.connecting){this.connected=!0,this.connecting=!1;let _n=new Event("open");this.dispatchEvent(_n)}})}close_stream(bn,_n){let kn=new CloseEvent("close",{code:_n});bn.open=!1,bn.dispatchEvent(kn),delete this.active_streams[bn.stream_id]}on_ws_close(){this.connected=!1,this.connecting=!1;for(let bn of Object.keys(this.active_streams))this.close_stream(this.active_streams[bn],3)}create_stream(bn,_n,kn="tcp"){let qn=kn==="udp"?2:1,Kn=this.next_stream_id;this.next_stream_id++;let tr=new Au(bn,_n,this.ws,this.max_buffer_size,Kn,this,qn);tr.open=this.connected;let ir=pa(qn,1),ur=pa(_n,2),wr=new TextEncoder().encode(bn),Sr=oc(ir,ur,wr),_r=Wi(1,Kn,Sr);return this.active_streams[Kn]=tr,this.ws.send(_r),tr}on_ws_msg(bn){let _n=new Uint8Array(bn.data);if(_n.length<5){uc("wisp client warning: received a packet which is too short");return}let kn=_n[0],qn=ia(_n.slice(1,5)),Kn=_n.slice(5),tr=this.active_streams[qn];if(typeof tr>"u"&&qn!==0){uc(`wisp client warning: received a ${ha[kn]} packet for a stream which doesn't exist`);return}if(kn===Oo.DATA){let ir=new MessageEvent("message",{data:Kn});tr.dispatchEvent(ir)}else kn===Oo.CONTINUE&&qn==0?this.max_buffer_size=ia(Kn):kn===Oo.CONTINUE?tr.continue_received(ia(Kn)):kn===Oo.CLOSE?this.close_stream(tr,Kn[0]):uc(`wisp client warning: receive an invalid packet of type ${kn}`)}}const Qa={};class vu extends EventTarget{constructor(bn,_n){super(),this.url=bn,this.protocols=_n,this.binaryType="blob",this.stream=null,this.event_listeners={},this.connection=null,this.onopen=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onclose=()=>{},this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;let kn=this.url.split("/"),qn=kn.pop().split(":");this.host=qn[0],this.port=parseInt(qn[1]),this.real_url=kn.join("/")+"/",this.init_connection()}on_conn_close(){delete Qa[this.real_url]}init_connection(){this.connection=Qa[this.real_url],this.connection?this.connection.connected?(this.connection=Qa[this.real_url],this.init_stream()):this.connection.addEventListener("open",()=>{this.init_stream()}):(this.connection=new cc(this.real_url),this.connection.addEventListener("open",()=>{this.init_stream()}),this.connection.addEventListener("close",()=>{this.on_conn_close()}),this.connection.addEventListener("error",()=>{this.on_conn_close()}),Qa[this.real_url]=this.connection)}init_stream(){this.stream=this.connection.create_stream(this.host,this.port),this.stream.addEventListener("message",_n=>{let kn;if(this.binaryType=="blob")kn=new Blob(_n.data);else if(this.binaryType=="arraybuffer")kn=_n.data.buffer;else throw"invalid binaryType string";let qn=new MessageEvent("message",{data:kn});this.onmessage(qn),this.dispatchEvent(qn)}),this.stream.addEventListener("close",_n=>{let kn=new CloseEvent("close",{code:_n.code});this.onclose(kn),this.dispatchEvent(kn)});let bn=new Event("open");this.onopen(bn),this.dispatchEvent(bn)}send(bn){let _n;if(typeof bn=="string")_n=new TextEncoder().encode(bn);else if(bn instanceof Blob){bn.arrayBuffer().then(kn=>{_n=new Uint8Array(kn),this.send(_n)});return}else if(bn instanceof ArrayBuffer)ArrayBuffer.isView(bn)&&bn instanceof DataView?_n=new Uint8Array(bn.buffer):_n=new Uint8Array(bn);else if(ArrayBuffer.isView(bn))_n=Uint8Array.from(bn);else throw"invalid data type";if(!this.stream)throw"websocket is not ready";this.stream.send(_n)}close(){this.stream.close(2)}get bufferedAmount(){let bn=0;for(let _n of this.stream.send_buffer)bn+=_n.length;return bn}get extensions(){return""}get protocol(){return"binary"}get readyState(){return this.connection&&!this.connection.connected&&!this.connection.connecting?this.CLOSED:!this.connection||!this.connection.connected?this.CONNECTING:this.stream.open?this.OPEN:this.CLOSED}}function cl(yn,bn){yn==="log"?console.log(bn):yn==="warn"?console.warn(bn):yn==="error"&&console.error(bn)}function uc(yn){cl("warn",yn)}function ul(yn){cl("error",yn)}class yu{constructor(bn){for(let _n in bn)this[_n]=bn[_n];return new Proxy(this,this)}get(bn,_n){let kn=Object.keys(this);for(let qn of kn)if(qn.toLowerCase()===_n.toLowerCase())return this[qn]}set(bn,_n,kn){let qn=Object.keys(this);for(let Kn of qn)Kn.toLowerCase()===_n.toLowerCase()&&(this[Kn]=kn);return this[_n]=kn,!0}}function fc(yn){return ar(_o(yn),Jn)}function oi(yn){return ar(yn,Jn)}function ma(yn){let bn=Ga(yn);return xr(bn)}function pi(yn){let bn=yn.reduce((qn,Kn)=>qn+Kn.length,0),_n=new Uint8Array(bn),kn=0;for(let qn of yn)_n.set(qn,kn),kn+=qn.length;return _n}function Ka(yn){if(yn instanceof Uint8Array)return yn;if(typeof yn=="string")return new TextEncoder().encode(yn);if(yn instanceof ArrayBuffer)return new Uint8Array(yn);if(ArrayBuffer.isView(yn))return new Uint8Array(yn.buffer);throw new TypeError("invalid data type to be sent")}function ga(yn,bn=[]){let _n=[];for(let qn=0;qn<bn.length;qn++){let Kn=null;typeof bn[qn]=="string"&&(Kn=fc(bn[qn])),bn[qn]instanceof Uint8Array&&(Kn=oi(bn[qn])),Kn&&(bn[qn]=Kn,_n.push(Kn))}let kn=yn(...bn);for(let qn of _n)Fi(qn);return kn}function xa(yn,bn=[]){let _n=ga(yn,bn),kn=xr(_n);return Fi(_n),kn}function Za(yn){if(typeof yn=="string"||yn instanceof String){let bn=new URL(yn).protocol;if(!["socks5h:","socks4a:","http:"].includes(bn))throw new TypeError("Only socks5h, socks4a, and http proxies are supported.")}}const dc={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"},wa=`libcurl.js is licensed under the GNU LGPL v3. You can find the license text and source code at the project's git repository: https://github.com/ading2210/libcurl.js

Several C libraries are used, and their licenses are listed below:
- libcurl: curl License (https://curl.se/docs/copyright.html)
- mbedtls: Apache License 2.0 (https://github.com/Mbed-TLS/mbedtls/blob/development/LICENSE)
- cjson: MIT License (https://github.com/DaveGamble/cJSON/blob/master/LICENSE)
- zlib: zlib License (https://www.zlib.net/zlib_license.html)
- brotli: MIT License (https://github.com/google/brotli/blob/master/LICENSE)
- nghttp2: MIT License (https://github.com/nghttp2/nghttp2/blob/master/COPYING)
`;class dl{constructor(bn={}){hl(!0),this.options=bn,this.session_ptr=Lf(),this.active_requests=0,this.event_loop=null,this.requests_list=[],this.to_remove=[],this.end_callback_ptr=sn.addFunction((_n,kn)=>{this.end_callback(_n,kn)},"vii"),this.headers_callback_ptr=sn.addFunction((_n,kn,qn)=>{this.headers_callback(_n,kn,qn)},"viii"),this.data_callback_ptr=sn.addFunction((_n,kn,qn)=>{this.data_callback(_n,kn,qn)},"viii"),this.request_callbacks={},this.last_request_id=0}assert_ready(){if(!this.session_ptr)throw new Error("session has been removed")}set_connections(bn,_n,kn=0){this.assert_ready(),zf(this.session_ptr,bn,_n,kn)}end_callback(bn,_n){this.active_requests--,this.request_callbacks[bn].end(_n),delete this.request_callbacks[bn]}data_callback(bn,_n,kn){let qn=sn.HEAPU8.subarray(_n,_n+kn),Kn=new Uint8Array(qn);this.request_callbacks[bn].data(Kn)}headers_callback(bn,_n,kn){let qn=sn.HEAPU8.subarray(_n,_n+kn),Kn=new Uint8Array(qn);this.request_callbacks[bn].headers(Kn)}create_request(bn,_n,kn,qn){this.assert_ready();let Kn=this.last_request_id++;return this.request_callbacks[Kn]={end:kn,data:_n,headers:qn},ga(If,[bn,Kn,this.data_callback_ptr,this.end_callback_ptr,this.headers_callback_ptr])}remove_request_now(bn){this.session_ptr&&Uf(this.session_ptr,bn),Mf(bn);let _n=this.requests_list.indexOf(bn);_n!==-1&&this.requests_list.splice(_n,1)}remove_request(bn){this.assert_ready(),setTimeout(()=>{this.remove_request_now(bn)},1)}start_request(bn){this.assert_ready(),tc(this.session_ptr,bn),iu(this.session_ptr),this.active_requests++,this.requests_list.push(bn),!this.event_loop&&(this.event_loop=setInterval(()=>{this.event_loop_func()},0))}event_loop_func(){Ro(this.session_ptr)||this.active_requests?iu(this.session_ptr):(clearInterval(this.event_loop),this.event_loop=null)}close_now(){for(let bn of this.requests_list)this.remove_request_now(bn);au(this.session_ptr),this.session_ptr=null,sn.removeFunction(this.end_callback_ptr),sn.removeFunction(this.headers_callback_ptr),sn.removeFunction(this.data_callback_ptr)}close(){this.assert_ready(),setTimeout(()=>{this.close_now()},1)}stream_response(bn,_n,kn,qn){let Kn,tr=!1,ir=!1,ur=new ReadableStream({start(_r){Kn=_r}});qn instanceof AbortSignal&&qn.addEventListener("abort",()=>{tr||(tr=!0,ir&&Kn.error("The operation was aborted."),Sr(-1))});let wr=_r=>{ir||(ir=!0,_n(ur));try{Kn.enqueue(_r)}catch(yr){if(tr)return;if(tr=!0,yr instanceof TypeError)kn(-1);else throw yr}},Sr=_r=>{!ir&&_r===0&&(ir=!0,_n(ur));try{Kn.close()}catch{}kn(_r)};return this.create_request(bn,wr,Sr,()=>{})}}class To extends dl{constructor(bn={}){super(),this.options=bn,this.base_url=void 0,this.set_connections(50,40,6),this.import_cookies()}import_cookies(){this.options.enable_cookies&&(this.cookie_filename=`/cookies_${Math.random()}.txt`,this.options.cookie_jar&&$n.writeFile(this.cookie_filename,this.options.cookie_jar))}export_cookies(){if(!this.cookie_filename)return"";try{return $n.readFile(this.cookie_filename,{encoding:"utf8"})}catch(bn){if(bn.errno===44)return"";throw bn}}close(){if(this.cookie_filename)try{$n.unlink(this.cookie_filename)}catch{}super.close()}request_async(bn,_n,kn){return new Promise((qn,Kn)=>{let tr=null,ir=null,ur=yr=>{let Rr=xa(kf,[tr]),qr=this.constructor.create_response(yr,JSON.parse(Rr));if(_n.redirect==="error"&&qr.status>=300&&qr.status<400){wr(-2);return}qn(qr)},wr=yr=>{ir!=null&&(Fi(ir),ir=null),tr!=null&&(yr>0?(ul(`Request "${bn}" failed with error code ${yr}: ${ma(yr)}`),Kn(new TypeError(`Request failed with error code ${yr}: ${ma(yr)}`))):yr===-1?Kn(new DOMException("The operation was aborted.")):yr===-2&&Kn(new TypeError("Request failed because redirects were disallowed.")),this.remove_request(tr),tr=null)};ir=kn?oi(kn):null;let Sr=kn?kn.length:0,_r=JSON.stringify(_n);tr=this.stream_response(bn,ur,wr,_n.signal),ga(Vl,[tr,_r,ir,Sr]),this.cookie_filename&&_n.credentials!=="omit"&&ga(Ff,[tr,this.cookie_filename]),_n.proxy&&xa(Xl,[tr,_n.proxy]),this.start_request(tr)})}async fetch(bn,_n={}){let kn=bn,qn=Object.fromEntries(Object.entries(_n));if(bn instanceof Request){kn=bn.url,qn.headers=qn.headers||Object.fromEntries(bn.headers),qn.method=qn.method||bn.method;let tr=await bn.arrayBuffer();tr.byteLength!==0&&(qn.body=tr)}else typeof kn=="string"||kn instanceof String?kn=new URL(kn,this.base_url).href:kn instanceof URL?kn=kn.href:kn=""+kn;this.options&&this.options.proxy&&(qn.proxy=this.options.proxy),Za(qn.proxy);let Kn=await this.constructor.create_options(qn);return await this.request_async(kn,qn,Kn)}static create_response(bn,_n){_n.ok=_n.status>=200&&_n.status<300,_n.statusText=dc[_n.status]||"",(_n.status===204||_n.status===205)&&(bn=null);let kn=new Response(bn,_n);for(let Kn in _n)Kn!="headers"&&Object.defineProperty(kn,Kn,{writable:!1,value:_n[Kn]});Object.defineProperty(kn,"headers",{writable:!1,value:new Headers}),Object.defineProperty(kn,"raw_headers",{writable:!1,value:_n.headers});for(let[Kn,tr]of _n.headers)kn.headers.append(Kn,tr);let qn=Object.getPrototypeOf(kn);return kn.blob=async()=>{let Kn=await qn.blob.call(kn),tr=Kn.type.split(";")[0].trim();return Object.defineProperty(Kn,"type",{value:tr}),Kn},kn}static async create_options(bn){let _n=null;bn.body instanceof ReadableStream&&(bn.duplex="half");let kn=new Request("http://127.0.0.1/",bn),qn=await kn.arrayBuffer();qn.byteLength>0&&(_n=new Uint8Array(qn));let Kn=bn.headers||{};return Kn instanceof Headers&&(Kn=Object.fromEntries(Kn)),bn.headers=new yu(Kn),bn.referrer&&(bn.headers.Referer=bn.referrer),bn.headers["User-Agent"]||(bn.headers["User-Agent"]=navigator.userAgent),_n&&!bn.headers["Content-Type"]&&(bn.headers["Content-Type"]=kn.headers.get("Content-Type")||""),_n}}class Aa extends dl{constructor(bn,_n=[],kn={}){if(!bn.startsWith("wss://")&&!bn.startsWith("ws://"))throw new SyntaxError("invalid url");super(),this.url=bn,this.protocols=_n,this.options=kn,this.onopen=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onclose=()=>{},this.connected=!1,this.recv_loop=null,this.http_handle=null,this.recv_buffer=[];try{Za(this.options.proxy),this.set_connections(1,0),this.connect()}catch(qn){throw this.cleanup(!0),qn}}connect(){let bn=()=>{},_n=()=>{},kn=Kn=>{Kn===0?(this.connected=!0,this.recv_loop=setInterval(()=>{let tr=this.recv();tr!==null&&this.onmessage(tr)},0),this.onopen()):this.cleanup(Kn)},qn={headers:this.options.headers||{}};this.protocols&&(typeof this.protocols=="string"&&(this.protocols=[this.protocols]),qn.headers["Sec-Websocket-Protocol"]=this.protocols.join(", ")),this.options.verbose&&(qn._libcurl_verbose=1),this.http_handle=this.create_request(this.url,bn,kn,_n),ga(Vl,[this.http_handle,JSON.stringify(qn),null,0]),Pf(this.http_handle),this.options.proxy&&xa(Xl,[this.http_handle,this.options.proxy]),this.start_request(this.http_handle)}recv(){let bn=65536,_n=Hf(this.http_handle,bn),kn=rc(_n),qn=qa(_n),Kn=Ya(_n),tr=null;if(qn===0&&!Kn){let ir=nc(_n),ur=sn.HEAPU8.subarray(kn,kn+ir),wr=new Uint8Array(ur);if(this.recv_buffer.push(wr),ir!==bn&&!Wf(_n)){let Sr=pi(this.recv_buffer),_r=ol(_n);this.recv_buffer=[],_r?tr=new TextDecoder().decode(Sr):tr=Sr}}else qn===0&&Kn?this.cleanup():qn!==81&&this.cleanup(qn);return Fi(kn),Fi(_n),tr}cleanup(bn=0){this.connected&&(this.recv_loop&&clearInterval(this.recv_loop),super.close(),this.connected=!1,bn?(ul(`Websocket "${this.url}" encountered error code ${bn}: ${ma(bn)}`),this.onerror(bn)):this.onclose())}send(bn){let _n=typeof bn=="string";if(!this.connected)return;_n&&(bn=new TextEncoder().encode(bn));let kn=oi(bn),qn=bn.length;$f(this.http_handle,kn,qn,_n),Fi(kn)}close(){this.cleanup()}}class Yf extends EventTarget{constructor(bn,_n=[],kn={}){super(),this.url=bn,this.protocols=_n,this.options=kn,this.binaryType="blob",this.onopen=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onclose=()=>{},this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.status=this.CONNECTING,this.socket=null,this.connect()}connect(){this.socket=new Aa(this.url,this.protocols,this.options),this.socket.onopen=()=>{this.status=this.OPEN;let bn=new Event("open");this.onopen(bn),this.dispatchEvent(bn)},this.socket.onclose=()=>{this.status=this.CLOSED;let bn=new CloseEvent("close");this.dispatchEvent(bn),this.onclose(bn)},this.socket.onerror=bn=>{this.status=this.CLOSED;let _n=new Event("error");this.dispatchEvent(_n),this.onerror(_n)},this.socket.onmessage=bn=>{let _n;if(typeof bn=="string")_n=bn;else if(this.binaryType=="blob")_n=new Blob(bn);else if(this.binaryType=="arraybuffer")_n=bn.buffer;else throw new TypeError("invalid binaryType string");let kn=new MessageEvent("message",{data:_n});this.onmessage(kn),this.dispatchEvent(kn)}}send(bn){if(this.status===this.CONNECTING)throw new DOMException("websocket not ready yet");this.status!==this.CLOSED&&(bn instanceof Blob?(async()=>{let _n=await bn.arrayBuffer();this.socket.send(new Uint8Array(_n))})():typeof bn=="string"?this.socket.send(bn):this.socket.send(Ka(bn)))}close(){this.status=this.CLOSING,this.socket.close()}get readyState(){return this.status}get bufferedAmount(){return 0}get protocol(){return this.protocols[0]||""}get extensions(){return""}}class ci extends dl{constructor(bn,_n,kn={}){super(),this.hostname=bn,this.port=_n,this.url=`https://${bn}:${_n}`,this.options=kn,this.onopen=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onclose=()=>{},this.connected=!1,this.recv_loop=null;try{Za(this.options.proxy),this.set_connections(1,0),this.connect()}catch(qn){throw this.cleanup(!0),qn}}connect(){let bn=()=>{},_n=()=>{},kn=qn=>{qn===0?(this.connected=!0,this.recv_loop=setInterval(()=>{let Kn=this.recv();Kn!=null&&this.onmessage(Kn)},0),this.onopen()):this.cleanup(qn)};this.http_handle=this.create_request(this.url,bn,kn,_n),cu(this.http_handle,+this.options.verbose),this.options.proxy&&xa(Xl,[this.http_handle,this.options.proxy]),this.start_request(this.http_handle)}recv(){let _n=ou(this.http_handle,65536),kn=rc(_n),qn=qa(_n),Kn=Ya(_n);if(qn===0&&!Kn){let tr=nc(_n),ir=sn.HEAPU8.subarray(kn,kn+tr),ur=new Uint8Array(ir);this.onmessage(ur)}else qn===0&&Kn?this.cleanup():qn!=81&&this.cleanup(qn);Fi(kn),Fi(_n)}send(bn){if(!this.connected)return;let _n=oi(bn),kn=bn.length;lu(this.http_handle,_n,kn),Fi(_n)}cleanup(bn=!1){if(this.http_handle)this.remove_request(this.http_handle),this.http_handle=null,super.close();else return;clearInterval(this.recv_loop),this.connected=!1,bn?this.onerror(bn):this.onclose()}close(){this.cleanup()}}var Va=null,ei=!1,va=null,ti=null,Ri=null;const hc="0.7.4",bu="1.1.1";function hl(yn){if(!ei)throw new Error("wasm not loaded yet, please call libcurl.load_wasm first");if(!Va&&yn)throw new Error("websocket proxy url not set, please call libcurl.set_websocket")}function Eu(yn){Va=yn,typeof sn.websocket>"u"&&(sn.websocket={}),typeof ps.websocketArgs<"u"&&(ps.websocketArgs.url=yn),sn.websocket.url=yn,!Ri&&ei&&ya()}function mi(){if(!ei)return null;if(va)return va;let yn=uu(),bn=xr(yn);return Fi(yn),va=JSON.parse(bn),va.lib=hc,va.wisp=bu,va}function Xa(){return xr(Of())}function ya(){Ri=new To,ti.fetch=Ri.fetch.bind(Ri)}function pl(){ei=!0,Tf(),!Ri&&Va&&ya();let yn=new Event("libcurl_load");ti.events.dispatchEvent(yn),ti.onload(),un&&document.dispatchEvent(yn)}function Fo(yn){let bn=new CustomEvent("libcurl_abort",{detail:yn});ti.events.dispatchEvent(bn),un&&document.dispatchEvent(bn)}function gi(yn){if(!ei)return(!Ns||!Si(Ns))&&(Ns=yn,ka(),Ja()),new Promise((bn,_n)=>{if(ei)return bn();ti.events.addEventListener("libcurl_load",()=>{bn()},{once:!0}),ti.events.addEventListener("libcurl_abort",kn=>{_n(kn.detail)},{once:!0})})}return sn.onRuntimeInitialized=pl,sn.onAbort=Fo,ti={set_websocket:Eu,load_wasm:gi,get_cacert:Xa,get_error_string:ma,wisp:{wisp_connections:Qa,WispConnection:cc,WispWebSocket:vu},transport:"wisp",WebSocket:Yf,CurlWebSocket:Aa,TLSSocket:ci,HTTPSession:To,fetch(){throw hl(!0),new Error("not ready")},get copyright(){return wa},get version(){return mi()},get ready(){return ei},get websocket_url(){return Va},get stdout(){return Sn},set stdout(yn){Sn=yn},get stderr(){return Nn},set stderr(yn){Nn=yn},get logger(){return cl},set logger(yn){cl=yn},onload(){},events:new EventTarget},ti})(),apps=[],hash$1="static-build",repository="https://github.com/Ahmed-Elgammal13/web-v2";var cryptoJs$1={exports:{}};function commonjsRequire(sn){throw new Error('Could not dynamically require "'+sn+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var core=core$1.exports,hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,(function(sn,O){(function(rn,an){sn.exports=an()})(core,function(){var rn=rn||(function(an,un){var dn;if(typeof window<"u"&&window.crypto&&(dn=window.crypto),typeof self<"u"&&self.crypto&&(dn=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(dn=globalThis.crypto),!dn&&typeof window<"u"&&window.msCrypto&&(dn=window.msCrypto),!dn&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(dn=commonjsGlobal.crypto),!dn&&typeof commonjsRequire=="function")try{dn=require$$0}catch{}var hn=function(){if(dn){if(typeof dn.getRandomValues=="function")try{return dn.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof dn.randomBytes=="function")try{return dn.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},mn=Object.create||(function(){function Bn(){}return function(On){var Mn;return Bn.prototype=On,Mn=new Bn,Bn.prototype=null,Mn}})(),xn={},gn=xn.lib={},wn=gn.Base=(function(){return{extend:function(Bn){var On=mn(this);return Bn&&On.mixIn(Bn),(!On.hasOwnProperty("init")||this.init===On.init)&&(On.init=function(){On.$super.init.apply(this,arguments)}),On.init.prototype=On,On.$super=this,On},create:function(){var Bn=this.extend();return Bn.init.apply(Bn,arguments),Bn},init:function(){},mixIn:function(Bn){for(var On in Bn)Bn.hasOwnProperty(On)&&(this[On]=Bn[On]);Bn.hasOwnProperty("toString")&&(this.toString=Bn.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),vn=gn.WordArray=wn.extend({init:function(Bn,On){Bn=this.words=Bn||[],On!=un?this.sigBytes=On:this.sigBytes=Bn.length*4},toString:function(Bn){return(Bn||Cn).stringify(this)},concat:function(Bn){var On=this.words,Mn=Bn.words,Un=this.sigBytes,Tn=Bn.sigBytes;if(this.clamp(),Un%4)for(var zn=0;zn<Tn;zn++){var Dn=Mn[zn>>>2]>>>24-zn%4*8&255;On[Un+zn>>>2]|=Dn<<24-(Un+zn)%4*8}else for(var In=0;In<Tn;In+=4)On[Un+In>>>2]=Mn[In>>>2];return this.sigBytes+=Tn,this},clamp:function(){var Bn=this.words,On=this.sigBytes;Bn[On>>>2]&=4294967295<<32-On%4*8,Bn.length=an.ceil(On/4)},clone:function(){var Bn=wn.clone.call(this);return Bn.words=this.words.slice(0),Bn},random:function(Bn){for(var On=[],Mn=0;Mn<Bn;Mn+=4)On.push(hn());return new vn.init(On,Bn)}}),An=xn.enc={},Cn=An.Hex={stringify:function(Bn){for(var On=Bn.words,Mn=Bn.sigBytes,Un=[],Tn=0;Tn<Mn;Tn++){var zn=On[Tn>>>2]>>>24-Tn%4*8&255;Un.push((zn>>>4).toString(16)),Un.push((zn&15).toString(16))}return Un.join("")},parse:function(Bn){for(var On=Bn.length,Mn=[],Un=0;Un<On;Un+=2)Mn[Un>>>3]|=parseInt(Bn.substr(Un,2),16)<<24-Un%8*4;return new vn.init(Mn,On/2)}},Sn=An.Latin1={stringify:function(Bn){for(var On=Bn.words,Mn=Bn.sigBytes,Un=[],Tn=0;Tn<Mn;Tn++){var zn=On[Tn>>>2]>>>24-Tn%4*8&255;Un.push(String.fromCharCode(zn))}return Un.join("")},parse:function(Bn){for(var On=Bn.length,Mn=[],Un=0;Un<On;Un++)Mn[Un>>>2]|=(Bn.charCodeAt(Un)&255)<<24-Un%4*8;return new vn.init(Mn,On)}},Nn=An.Utf8={stringify:function(Bn){try{return decodeURIComponent(escape(Sn.stringify(Bn)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Bn){return Sn.parse(unescape(encodeURIComponent(Bn)))}},jn=gn.BufferedBlockAlgorithm=wn.extend({reset:function(){this._data=new vn.init,this._nDataBytes=0},_append:function(Bn){typeof Bn=="string"&&(Bn=Nn.parse(Bn)),this._data.concat(Bn),this._nDataBytes+=Bn.sigBytes},_process:function(Bn){var On,Mn=this._data,Un=Mn.words,Tn=Mn.sigBytes,zn=this.blockSize,Dn=zn*4,In=Tn/Dn;Bn?In=an.ceil(In):In=an.max((In|0)-this._minBufferSize,0);var Ln=In*zn,Wn=an.min(Ln*4,Tn);if(Ln){for(var Fn=0;Fn<Ln;Fn+=zn)this._doProcessBlock(Un,Fn);On=Un.splice(0,Ln),Mn.sigBytes-=Wn}return new vn.init(On,Wn)},clone:function(){var Bn=wn.clone.call(this);return Bn._data=this._data.clone(),Bn},_minBufferSize:0});gn.Hasher=jn.extend({cfg:wn.extend(),init:function(Bn){this.cfg=this.cfg.extend(Bn),this.reset()},reset:function(){jn.reset.call(this),this._doReset()},update:function(Bn){return this._append(Bn),this._process(),this},finalize:function(Bn){Bn&&this._append(Bn);var On=this._doFinalize();return On},blockSize:16,_createHelper:function(Bn){return function(On,Mn){return new Bn.init(Mn).finalize(On)}},_createHmacHelper:function(Bn){return function(On,Mn){return new Hn.HMAC.init(Bn,Mn).finalize(On)}}});var Hn=xn.algo={};return xn})(Math);return rn})})(core$1)),core$1.exports}var x64Core$1={exports:{}},x64Core=x64Core$1.exports,hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(x64Core,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.Base,mn=dn.WordArray,xn=un.x64={};xn.Word=hn.extend({init:function(gn,wn){this.high=gn,this.low=wn}}),xn.WordArray=hn.extend({init:function(gn,wn){gn=this.words=gn||[],wn!=an?this.sigBytes=wn:this.sigBytes=gn.length*8},toX32:function(){for(var gn=this.words,wn=gn.length,vn=[],An=0;An<wn;An++){var Cn=gn[An];vn.push(Cn.high),vn.push(Cn.low)}return mn.create(vn,this.sigBytes)},clone:function(){for(var gn=hn.clone.call(this),wn=gn.words=this.words.slice(0),vn=wn.length,An=0;An<vn;An++)wn[An]=wn[An].clone();return gn}})})(),rn})})(x64Core$1)),x64Core$1.exports}var libTypedarrays$1={exports:{}},libTypedarrays=libTypedarrays$1.exports,hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(libTypedarrays,function(rn){return(function(){if(typeof ArrayBuffer=="function"){var an=rn,un=an.lib,dn=un.WordArray,hn=dn.init,mn=dn.init=function(xn){if(xn instanceof ArrayBuffer&&(xn=new Uint8Array(xn)),(xn instanceof Int8Array||typeof Uint8ClampedArray<"u"&&xn instanceof Uint8ClampedArray||xn instanceof Int16Array||xn instanceof Uint16Array||xn instanceof Int32Array||xn instanceof Uint32Array||xn instanceof Float32Array||xn instanceof Float64Array)&&(xn=new Uint8Array(xn.buffer,xn.byteOffset,xn.byteLength)),xn instanceof Uint8Array){for(var gn=xn.byteLength,wn=[],vn=0;vn<gn;vn++)wn[vn>>>2]|=xn[vn]<<24-vn%4*8;hn.call(this,wn,gn)}else hn.apply(this,arguments)};mn.prototype=dn}})(),rn.lib.WordArray})})(libTypedarrays$1)),libTypedarrays$1.exports}var encUtf16$1={exports:{}},encUtf16=encUtf16$1.exports,hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(encUtf16,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=an.enc;hn.Utf16=hn.Utf16BE={stringify:function(xn){for(var gn=xn.words,wn=xn.sigBytes,vn=[],An=0;An<wn;An+=2){var Cn=gn[An>>>2]>>>16-An%4*8&65535;vn.push(String.fromCharCode(Cn))}return vn.join("")},parse:function(xn){for(var gn=xn.length,wn=[],vn=0;vn<gn;vn++)wn[vn>>>1]|=xn.charCodeAt(vn)<<16-vn%2*16;return dn.create(wn,gn*2)}},hn.Utf16LE={stringify:function(xn){for(var gn=xn.words,wn=xn.sigBytes,vn=[],An=0;An<wn;An+=2){var Cn=mn(gn[An>>>2]>>>16-An%4*8&65535);vn.push(String.fromCharCode(Cn))}return vn.join("")},parse:function(xn){for(var gn=xn.length,wn=[],vn=0;vn<gn;vn++)wn[vn>>>1]|=mn(xn.charCodeAt(vn)<<16-vn%2*16);return dn.create(wn,gn*2)}};function mn(xn){return xn<<8&4278255360|xn>>>8&16711935}})(),rn.enc.Utf16})})(encUtf16$1)),encUtf16$1.exports}var encBase64$1={exports:{}},encBase64=encBase64$1.exports,hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(encBase64,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=an.enc;hn.Base64={stringify:function(xn){var gn=xn.words,wn=xn.sigBytes,vn=this._map;xn.clamp();for(var An=[],Cn=0;Cn<wn;Cn+=3)for(var Sn=gn[Cn>>>2]>>>24-Cn%4*8&255,Nn=gn[Cn+1>>>2]>>>24-(Cn+1)%4*8&255,jn=gn[Cn+2>>>2]>>>24-(Cn+2)%4*8&255,Hn=Sn<<16|Nn<<8|jn,Bn=0;Bn<4&&Cn+Bn*.75<wn;Bn++)An.push(vn.charAt(Hn>>>6*(3-Bn)&63));var On=vn.charAt(64);if(On)for(;An.length%4;)An.push(On);return An.join("")},parse:function(xn){var gn=xn.length,wn=this._map,vn=this._reverseMap;if(!vn){vn=this._reverseMap=[];for(var An=0;An<wn.length;An++)vn[wn.charCodeAt(An)]=An}var Cn=wn.charAt(64);if(Cn){var Sn=xn.indexOf(Cn);Sn!==-1&&(gn=Sn)}return mn(xn,gn,vn)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function mn(xn,gn,wn){for(var vn=[],An=0,Cn=0;Cn<gn;Cn++)if(Cn%4){var Sn=wn[xn.charCodeAt(Cn-1)]<<Cn%4*2,Nn=wn[xn.charCodeAt(Cn)]>>>6-Cn%4*2,jn=Sn|Nn;vn[An>>>2]|=jn<<24-An%4*8,An++}return dn.create(vn,An)}})(),rn.enc.Base64})})(encBase64$1)),encBase64$1.exports}var encBase64url$1={exports:{}},encBase64url=encBase64url$1.exports,hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(encBase64url,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=an.enc;hn.Base64url={stringify:function(xn,gn){gn===void 0&&(gn=!0);var wn=xn.words,vn=xn.sigBytes,An=gn?this._safe_map:this._map;xn.clamp();for(var Cn=[],Sn=0;Sn<vn;Sn+=3)for(var Nn=wn[Sn>>>2]>>>24-Sn%4*8&255,jn=wn[Sn+1>>>2]>>>24-(Sn+1)%4*8&255,Hn=wn[Sn+2>>>2]>>>24-(Sn+2)%4*8&255,Bn=Nn<<16|jn<<8|Hn,On=0;On<4&&Sn+On*.75<vn;On++)Cn.push(An.charAt(Bn>>>6*(3-On)&63));var Mn=An.charAt(64);if(Mn)for(;Cn.length%4;)Cn.push(Mn);return Cn.join("")},parse:function(xn,gn){gn===void 0&&(gn=!0);var wn=xn.length,vn=gn?this._safe_map:this._map,An=this._reverseMap;if(!An){An=this._reverseMap=[];for(var Cn=0;Cn<vn.length;Cn++)An[vn.charCodeAt(Cn)]=Cn}var Sn=vn.charAt(64);if(Sn){var Nn=xn.indexOf(Sn);Nn!==-1&&(wn=Nn)}return mn(xn,wn,An)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function mn(xn,gn,wn){for(var vn=[],An=0,Cn=0;Cn<gn;Cn++)if(Cn%4){var Sn=wn[xn.charCodeAt(Cn-1)]<<Cn%4*2,Nn=wn[xn.charCodeAt(Cn)]>>>6-Cn%4*2,jn=Sn|Nn;vn[An>>>2]|=jn<<24-An%4*8,An++}return dn.create(vn,An)}})(),rn.enc.Base64url})})(encBase64url$1)),encBase64url$1.exports}var md5$1={exports:{}},md5=md5$1.exports,hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(md5,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.WordArray,mn=dn.Hasher,xn=un.algo,gn=[];(function(){for(var Nn=0;Nn<64;Nn++)gn[Nn]=an.abs(an.sin(Nn+1))*4294967296|0})();var wn=xn.MD5=mn.extend({_doReset:function(){this._hash=new hn.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Nn,jn){for(var Hn=0;Hn<16;Hn++){var Bn=jn+Hn,On=Nn[Bn];Nn[Bn]=(On<<8|On>>>24)&16711935|(On<<24|On>>>8)&4278255360}var Mn=this._hash.words,Un=Nn[jn+0],Tn=Nn[jn+1],zn=Nn[jn+2],Dn=Nn[jn+3],In=Nn[jn+4],Ln=Nn[jn+5],Wn=Nn[jn+6],Fn=Nn[jn+7],Pn=Nn[jn+8],Vn=Nn[jn+9],Zn=Nn[jn+10],Yn=Nn[jn+11],Qn=Nn[jn+12],Xn=Nn[jn+13],rr=Nn[jn+14],sr=Nn[jn+15],Jn=Mn[0],nr=Mn[1],ar=Mn[2],or=Mn[3];Jn=vn(Jn,nr,ar,or,Un,7,gn[0]),or=vn(or,Jn,nr,ar,Tn,12,gn[1]),ar=vn(ar,or,Jn,nr,zn,17,gn[2]),nr=vn(nr,ar,or,Jn,Dn,22,gn[3]),Jn=vn(Jn,nr,ar,or,In,7,gn[4]),or=vn(or,Jn,nr,ar,Ln,12,gn[5]),ar=vn(ar,or,Jn,nr,Wn,17,gn[6]),nr=vn(nr,ar,or,Jn,Fn,22,gn[7]),Jn=vn(Jn,nr,ar,or,Pn,7,gn[8]),or=vn(or,Jn,nr,ar,Vn,12,gn[9]),ar=vn(ar,or,Jn,nr,Zn,17,gn[10]),nr=vn(nr,ar,or,Jn,Yn,22,gn[11]),Jn=vn(Jn,nr,ar,or,Qn,7,gn[12]),or=vn(or,Jn,nr,ar,Xn,12,gn[13]),ar=vn(ar,or,Jn,nr,rr,17,gn[14]),nr=vn(nr,ar,or,Jn,sr,22,gn[15]),Jn=An(Jn,nr,ar,or,Tn,5,gn[16]),or=An(or,Jn,nr,ar,Wn,9,gn[17]),ar=An(ar,or,Jn,nr,Yn,14,gn[18]),nr=An(nr,ar,or,Jn,Un,20,gn[19]),Jn=An(Jn,nr,ar,or,Ln,5,gn[20]),or=An(or,Jn,nr,ar,Zn,9,gn[21]),ar=An(ar,or,Jn,nr,sr,14,gn[22]),nr=An(nr,ar,or,Jn,In,20,gn[23]),Jn=An(Jn,nr,ar,or,Vn,5,gn[24]),or=An(or,Jn,nr,ar,rr,9,gn[25]),ar=An(ar,or,Jn,nr,Dn,14,gn[26]),nr=An(nr,ar,or,Jn,Pn,20,gn[27]),Jn=An(Jn,nr,ar,or,Xn,5,gn[28]),or=An(or,Jn,nr,ar,zn,9,gn[29]),ar=An(ar,or,Jn,nr,Fn,14,gn[30]),nr=An(nr,ar,or,Jn,Qn,20,gn[31]),Jn=Cn(Jn,nr,ar,or,Ln,4,gn[32]),or=Cn(or,Jn,nr,ar,Pn,11,gn[33]),ar=Cn(ar,or,Jn,nr,Yn,16,gn[34]),nr=Cn(nr,ar,or,Jn,rr,23,gn[35]),Jn=Cn(Jn,nr,ar,or,Tn,4,gn[36]),or=Cn(or,Jn,nr,ar,In,11,gn[37]),ar=Cn(ar,or,Jn,nr,Fn,16,gn[38]),nr=Cn(nr,ar,or,Jn,Zn,23,gn[39]),Jn=Cn(Jn,nr,ar,or,Xn,4,gn[40]),or=Cn(or,Jn,nr,ar,Un,11,gn[41]),ar=Cn(ar,or,Jn,nr,Dn,16,gn[42]),nr=Cn(nr,ar,or,Jn,Wn,23,gn[43]),Jn=Cn(Jn,nr,ar,or,Vn,4,gn[44]),or=Cn(or,Jn,nr,ar,Qn,11,gn[45]),ar=Cn(ar,or,Jn,nr,sr,16,gn[46]),nr=Cn(nr,ar,or,Jn,zn,23,gn[47]),Jn=Sn(Jn,nr,ar,or,Un,6,gn[48]),or=Sn(or,Jn,nr,ar,Fn,10,gn[49]),ar=Sn(ar,or,Jn,nr,rr,15,gn[50]),nr=Sn(nr,ar,or,Jn,Ln,21,gn[51]),Jn=Sn(Jn,nr,ar,or,Qn,6,gn[52]),or=Sn(or,Jn,nr,ar,Dn,10,gn[53]),ar=Sn(ar,or,Jn,nr,Zn,15,gn[54]),nr=Sn(nr,ar,or,Jn,Tn,21,gn[55]),Jn=Sn(Jn,nr,ar,or,Pn,6,gn[56]),or=Sn(or,Jn,nr,ar,sr,10,gn[57]),ar=Sn(ar,or,Jn,nr,Wn,15,gn[58]),nr=Sn(nr,ar,or,Jn,Xn,21,gn[59]),Jn=Sn(Jn,nr,ar,or,In,6,gn[60]),or=Sn(or,Jn,nr,ar,Yn,10,gn[61]),ar=Sn(ar,or,Jn,nr,zn,15,gn[62]),nr=Sn(nr,ar,or,Jn,Vn,21,gn[63]),Mn[0]=Mn[0]+Jn|0,Mn[1]=Mn[1]+nr|0,Mn[2]=Mn[2]+ar|0,Mn[3]=Mn[3]+or|0},_doFinalize:function(){var Nn=this._data,jn=Nn.words,Hn=this._nDataBytes*8,Bn=Nn.sigBytes*8;jn[Bn>>>5]|=128<<24-Bn%32;var On=an.floor(Hn/4294967296),Mn=Hn;jn[(Bn+64>>>9<<4)+15]=(On<<8|On>>>24)&16711935|(On<<24|On>>>8)&4278255360,jn[(Bn+64>>>9<<4)+14]=(Mn<<8|Mn>>>24)&16711935|(Mn<<24|Mn>>>8)&4278255360,Nn.sigBytes=(jn.length+1)*4,this._process();for(var Un=this._hash,Tn=Un.words,zn=0;zn<4;zn++){var Dn=Tn[zn];Tn[zn]=(Dn<<8|Dn>>>24)&16711935|(Dn<<24|Dn>>>8)&4278255360}return Un},clone:function(){var Nn=mn.clone.call(this);return Nn._hash=this._hash.clone(),Nn}});function vn(Nn,jn,Hn,Bn,On,Mn,Un){var Tn=Nn+(jn&Hn|~jn&Bn)+On+Un;return(Tn<<Mn|Tn>>>32-Mn)+jn}function An(Nn,jn,Hn,Bn,On,Mn,Un){var Tn=Nn+(jn&Bn|Hn&~Bn)+On+Un;return(Tn<<Mn|Tn>>>32-Mn)+jn}function Cn(Nn,jn,Hn,Bn,On,Mn,Un){var Tn=Nn+(jn^Hn^Bn)+On+Un;return(Tn<<Mn|Tn>>>32-Mn)+jn}function Sn(Nn,jn,Hn,Bn,On,Mn,Un){var Tn=Nn+(Hn^(jn|~Bn))+On+Un;return(Tn<<Mn|Tn>>>32-Mn)+jn}un.MD5=mn._createHelper(wn),un.HmacMD5=mn._createHmacHelper(wn)})(Math),rn.MD5})})(md5$1)),md5$1.exports}var sha1$1={exports:{}},sha1=sha1$1.exports,hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(sha1,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=un.Hasher,mn=an.algo,xn=[],gn=mn.SHA1=hn.extend({_doReset:function(){this._hash=new dn.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(wn,vn){for(var An=this._hash.words,Cn=An[0],Sn=An[1],Nn=An[2],jn=An[3],Hn=An[4],Bn=0;Bn<80;Bn++){if(Bn<16)xn[Bn]=wn[vn+Bn]|0;else{var On=xn[Bn-3]^xn[Bn-8]^xn[Bn-14]^xn[Bn-16];xn[Bn]=On<<1|On>>>31}var Mn=(Cn<<5|Cn>>>27)+Hn+xn[Bn];Bn<20?Mn+=(Sn&Nn|~Sn&jn)+1518500249:Bn<40?Mn+=(Sn^Nn^jn)+1859775393:Bn<60?Mn+=(Sn&Nn|Sn&jn|Nn&jn)-1894007588:Mn+=(Sn^Nn^jn)-899497514,Hn=jn,jn=Nn,Nn=Sn<<30|Sn>>>2,Sn=Cn,Cn=Mn}An[0]=An[0]+Cn|0,An[1]=An[1]+Sn|0,An[2]=An[2]+Nn|0,An[3]=An[3]+jn|0,An[4]=An[4]+Hn|0},_doFinalize:function(){var wn=this._data,vn=wn.words,An=this._nDataBytes*8,Cn=wn.sigBytes*8;return vn[Cn>>>5]|=128<<24-Cn%32,vn[(Cn+64>>>9<<4)+14]=Math.floor(An/4294967296),vn[(Cn+64>>>9<<4)+15]=An,wn.sigBytes=vn.length*4,this._process(),this._hash},clone:function(){var wn=hn.clone.call(this);return wn._hash=this._hash.clone(),wn}});an.SHA1=hn._createHelper(gn),an.HmacSHA1=hn._createHmacHelper(gn)})(),rn.SHA1})})(sha1$1)),sha1$1.exports}var sha256$1={exports:{}},sha256=sha256$1.exports,hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(sha256,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.WordArray,mn=dn.Hasher,xn=un.algo,gn=[],wn=[];(function(){function Cn(Hn){for(var Bn=an.sqrt(Hn),On=2;On<=Bn;On++)if(!(Hn%On))return!1;return!0}function Sn(Hn){return(Hn-(Hn|0))*4294967296|0}for(var Nn=2,jn=0;jn<64;)Cn(Nn)&&(jn<8&&(gn[jn]=Sn(an.pow(Nn,1/2))),wn[jn]=Sn(an.pow(Nn,1/3)),jn++),Nn++})();var vn=[],An=xn.SHA256=mn.extend({_doReset:function(){this._hash=new hn.init(gn.slice(0))},_doProcessBlock:function(Cn,Sn){for(var Nn=this._hash.words,jn=Nn[0],Hn=Nn[1],Bn=Nn[2],On=Nn[3],Mn=Nn[4],Un=Nn[5],Tn=Nn[6],zn=Nn[7],Dn=0;Dn<64;Dn++){if(Dn<16)vn[Dn]=Cn[Sn+Dn]|0;else{var In=vn[Dn-15],Ln=(In<<25|In>>>7)^(In<<14|In>>>18)^In>>>3,Wn=vn[Dn-2],Fn=(Wn<<15|Wn>>>17)^(Wn<<13|Wn>>>19)^Wn>>>10;vn[Dn]=Ln+vn[Dn-7]+Fn+vn[Dn-16]}var Pn=Mn&Un^~Mn&Tn,Vn=jn&Hn^jn&Bn^Hn&Bn,Zn=(jn<<30|jn>>>2)^(jn<<19|jn>>>13)^(jn<<10|jn>>>22),Yn=(Mn<<26|Mn>>>6)^(Mn<<21|Mn>>>11)^(Mn<<7|Mn>>>25),Qn=zn+Yn+Pn+wn[Dn]+vn[Dn],Xn=Zn+Vn;zn=Tn,Tn=Un,Un=Mn,Mn=On+Qn|0,On=Bn,Bn=Hn,Hn=jn,jn=Qn+Xn|0}Nn[0]=Nn[0]+jn|0,Nn[1]=Nn[1]+Hn|0,Nn[2]=Nn[2]+Bn|0,Nn[3]=Nn[3]+On|0,Nn[4]=Nn[4]+Mn|0,Nn[5]=Nn[5]+Un|0,Nn[6]=Nn[6]+Tn|0,Nn[7]=Nn[7]+zn|0},_doFinalize:function(){var Cn=this._data,Sn=Cn.words,Nn=this._nDataBytes*8,jn=Cn.sigBytes*8;return Sn[jn>>>5]|=128<<24-jn%32,Sn[(jn+64>>>9<<4)+14]=an.floor(Nn/4294967296),Sn[(jn+64>>>9<<4)+15]=Nn,Cn.sigBytes=Sn.length*4,this._process(),this._hash},clone:function(){var Cn=mn.clone.call(this);return Cn._hash=this._hash.clone(),Cn}});un.SHA256=mn._createHelper(An),un.HmacSHA256=mn._createHmacHelper(An)})(Math),rn.SHA256})})(sha256$1)),sha256$1.exports}var sha224$1={exports:{}},sha224=sha224$1.exports,hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireSha256())})(sha224,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=an.algo,mn=hn.SHA256,xn=hn.SHA224=mn.extend({_doReset:function(){this._hash=new dn.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var gn=mn._doFinalize.call(this);return gn.sigBytes-=4,gn}});an.SHA224=mn._createHelper(xn),an.HmacSHA224=mn._createHmacHelper(xn)})(),rn.SHA224})})(sha224$1)),sha224$1.exports}var sha512$1={exports:{}},sha512=sha512$1.exports,hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireX64Core())})(sha512,function(rn){return(function(){var an=rn,un=an.lib,dn=un.Hasher,hn=an.x64,mn=hn.Word,xn=hn.WordArray,gn=an.algo;function wn(){return mn.create.apply(mn,arguments)}var vn=[wn(1116352408,3609767458),wn(1899447441,602891725),wn(3049323471,3964484399),wn(3921009573,2173295548),wn(961987163,4081628472),wn(1508970993,3053834265),wn(2453635748,2937671579),wn(2870763221,3664609560),wn(3624381080,2734883394),wn(310598401,1164996542),wn(607225278,1323610764),wn(1426881987,3590304994),wn(1925078388,4068182383),wn(2162078206,991336113),wn(2614888103,633803317),wn(3248222580,3479774868),wn(3835390401,2666613458),wn(4022224774,944711139),wn(264347078,2341262773),wn(604807628,2007800933),wn(770255983,1495990901),wn(1249150122,1856431235),wn(1555081692,3175218132),wn(1996064986,2198950837),wn(2554220882,3999719339),wn(2821834349,766784016),wn(2952996808,2566594879),wn(3210313671,3203337956),wn(3336571891,1034457026),wn(3584528711,2466948901),wn(113926993,3758326383),wn(338241895,168717936),wn(666307205,1188179964),wn(773529912,1546045734),wn(1294757372,1522805485),wn(1396182291,2643833823),wn(1695183700,2343527390),wn(1986661051,1014477480),wn(2177026350,1206759142),wn(2456956037,344077627),wn(2730485921,1290863460),wn(2820302411,3158454273),wn(3259730800,3505952657),wn(3345764771,106217008),wn(3516065817,3606008344),wn(3600352804,1432725776),wn(4094571909,1467031594),wn(275423344,851169720),wn(430227734,3100823752),wn(506948616,1363258195),wn(659060556,3750685593),wn(883997877,3785050280),wn(958139571,3318307427),wn(1322822218,3812723403),wn(1537002063,2003034995),wn(1747873779,3602036899),wn(1955562222,1575990012),wn(2024104815,1125592928),wn(2227730452,2716904306),wn(2361852424,442776044),wn(2428436474,593698344),wn(2756734187,3733110249),wn(3204031479,2999351573),wn(3329325298,3815920427),wn(3391569614,3928383900),wn(3515267271,566280711),wn(3940187606,3454069534),wn(4118630271,4000239992),wn(116418474,1914138554),wn(174292421,2731055270),wn(289380356,3203993006),wn(460393269,320620315),wn(685471733,587496836),wn(852142971,1086792851),wn(1017036298,365543100),wn(1126000580,2618297676),wn(1288033470,3409855158),wn(1501505948,4234509866),wn(1607167915,987167468),wn(1816402316,1246189591)],An=[];(function(){for(var Sn=0;Sn<80;Sn++)An[Sn]=wn()})();var Cn=gn.SHA512=dn.extend({_doReset:function(){this._hash=new xn.init([new mn.init(1779033703,4089235720),new mn.init(3144134277,2227873595),new mn.init(1013904242,4271175723),new mn.init(2773480762,1595750129),new mn.init(1359893119,2917565137),new mn.init(2600822924,725511199),new mn.init(528734635,4215389547),new mn.init(1541459225,327033209)])},_doProcessBlock:function(Sn,Nn){for(var jn=this._hash.words,Hn=jn[0],Bn=jn[1],On=jn[2],Mn=jn[3],Un=jn[4],Tn=jn[5],zn=jn[6],Dn=jn[7],In=Hn.high,Ln=Hn.low,Wn=Bn.high,Fn=Bn.low,Pn=On.high,Vn=On.low,Zn=Mn.high,Yn=Mn.low,Qn=Un.high,Xn=Un.low,rr=Tn.high,sr=Tn.low,Jn=zn.high,nr=zn.low,ar=Dn.high,or=Dn.low,dr=In,xr=Ln,Dr=Wn,Nr=Fn,Ir=Pn,xs=Vn,es=Zn,vs=Yn,Kr=Qn,Or=Xn,Gr=rr,ks=sr,Ks=Jn,gr=nr,Fr=ar,Mr=or,ts=0;ts<80;ts++){var ns,ss,Yr=An[ts];if(ts<16)ss=Yr.high=Sn[Nn+ts*2]|0,ns=Yr.low=Sn[Nn+ts*2+1]|0;else{var ls=An[ts-15],Jr=ls.high,Hr=ls.low,is=(Jr>>>1|Hr<<31)^(Jr>>>8|Hr<<24)^Jr>>>7,ii=(Hr>>>1|Jr<<31)^(Hr>>>8|Jr<<24)^(Hr>>>7|Jr<<25),Ji=An[ts-2],fi=Ji.high,ds=Ji.low,_s=(fi>>>19|ds<<13)^(fi<<3|ds>>>29)^fi>>>6,Vs=(ds>>>19|fi<<13)^(ds<<3|fi>>>29)^(ds>>>6|fi<<26),Ei=An[ts-7],Is=Ei.high,Li=Ei.low,Qi=An[ts-16],Ki=Qi.high,Zi=Qi.low;ns=ii+Li,ss=is+Is+(ns>>>0<ii>>>0?1:0),ns=ns+Vs,ss=ss+_s+(ns>>>0<Vs>>>0?1:0),ns=ns+Zi,ss=ss+Ki+(ns>>>0<Zi>>>0?1:0),Yr.high=ss,Yr.low=ns}var Vi=Kr&Gr^~Kr&Ks,Ti=Or&ks^~Or&gr,As=dr&Dr^dr&Ir^Dr&Ir,Fa=xr&Nr^xr&xs^Nr&xs,Si=(dr>>>28|xr<<4)^(dr<<30|xr>>>2)^(dr<<25|xr>>>7),Wo=(xr>>>28|dr<<4)^(xr<<30|dr>>>2)^(xr<<25|dr>>>7),Lr=(Kr>>>14|Or<<18)^(Kr>>>18|Or<<14)^(Kr<<23|Or>>>9),Ns=(Or>>>14|Kr<<18)^(Or>>>18|Kr<<14)^(Or<<23|Kr>>>9),zi=vn[ts],Ml=zi.high,ka=zi.low,Wr=Mr+Ns,Rs=Fr+Lr+(Wr>>>0<Mr>>>0?1:0),Wr=Wr+Ti,Rs=Rs+Vi+(Wr>>>0<Ti>>>0?1:0),Wr=Wr+ka,Rs=Rs+Ml+(Wr>>>0<ka>>>0?1:0),Wr=Wr+ns,Rs=Rs+ss+(Wr>>>0<ns>>>0?1:0),Xi=Wo+Fa,Ao=Si+As+(Xi>>>0<Wo>>>0?1:0);Fr=Ks,Mr=gr,Ks=Gr,gr=ks,Gr=Kr,ks=Or,Or=vs+Wr|0,Kr=es+Rs+(Or>>>0<vs>>>0?1:0)|0,es=Ir,vs=xs,Ir=Dr,xs=Nr,Dr=dr,Nr=xr,xr=Wr+Xi|0,dr=Rs+Ao+(xr>>>0<Wr>>>0?1:0)|0}Ln=Hn.low=Ln+xr,Hn.high=In+dr+(Ln>>>0<xr>>>0?1:0),Fn=Bn.low=Fn+Nr,Bn.high=Wn+Dr+(Fn>>>0<Nr>>>0?1:0),Vn=On.low=Vn+xs,On.high=Pn+Ir+(Vn>>>0<xs>>>0?1:0),Yn=Mn.low=Yn+vs,Mn.high=Zn+es+(Yn>>>0<vs>>>0?1:0),Xn=Un.low=Xn+Or,Un.high=Qn+Kr+(Xn>>>0<Or>>>0?1:0),sr=Tn.low=sr+ks,Tn.high=rr+Gr+(sr>>>0<ks>>>0?1:0),nr=zn.low=nr+gr,zn.high=Jn+Ks+(nr>>>0<gr>>>0?1:0),or=Dn.low=or+Mr,Dn.high=ar+Fr+(or>>>0<Mr>>>0?1:0)},_doFinalize:function(){var Sn=this._data,Nn=Sn.words,jn=this._nDataBytes*8,Hn=Sn.sigBytes*8;Nn[Hn>>>5]|=128<<24-Hn%32,Nn[(Hn+128>>>10<<5)+30]=Math.floor(jn/4294967296),Nn[(Hn+128>>>10<<5)+31]=jn,Sn.sigBytes=Nn.length*4,this._process();var Bn=this._hash.toX32();return Bn},clone:function(){var Sn=dn.clone.call(this);return Sn._hash=this._hash.clone(),Sn},blockSize:1024/32});an.SHA512=dn._createHelper(Cn),an.HmacSHA512=dn._createHmacHelper(Cn)})(),rn.SHA512})})(sha512$1)),sha512$1.exports}var sha384$1={exports:{}},sha384=sha384$1.exports,hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireX64Core(),requireSha512())})(sha384,function(rn){return(function(){var an=rn,un=an.x64,dn=un.Word,hn=un.WordArray,mn=an.algo,xn=mn.SHA512,gn=mn.SHA384=xn.extend({_doReset:function(){this._hash=new hn.init([new dn.init(3418070365,3238371032),new dn.init(1654270250,914150663),new dn.init(2438529370,812702999),new dn.init(355462360,4144912697),new dn.init(1731405415,4290775857),new dn.init(2394180231,1750603025),new dn.init(3675008525,1694076839),new dn.init(1203062813,3204075428)])},_doFinalize:function(){var wn=xn._doFinalize.call(this);return wn.sigBytes-=16,wn}});an.SHA384=xn._createHelper(gn),an.HmacSHA384=xn._createHmacHelper(gn)})(),rn.SHA384})})(sha384$1)),sha384$1.exports}var sha3$1={exports:{}},sha3=sha3$1.exports,hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireX64Core())})(sha3,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.WordArray,mn=dn.Hasher,xn=un.x64,gn=xn.Word,wn=un.algo,vn=[],An=[],Cn=[];(function(){for(var jn=1,Hn=0,Bn=0;Bn<24;Bn++){vn[jn+5*Hn]=(Bn+1)*(Bn+2)/2%64;var On=Hn%5,Mn=(2*jn+3*Hn)%5;jn=On,Hn=Mn}for(var jn=0;jn<5;jn++)for(var Hn=0;Hn<5;Hn++)An[jn+5*Hn]=Hn+(2*jn+3*Hn)%5*5;for(var Un=1,Tn=0;Tn<24;Tn++){for(var zn=0,Dn=0,In=0;In<7;In++){if(Un&1){var Ln=(1<<In)-1;Ln<32?Dn^=1<<Ln:zn^=1<<Ln-32}Un&128?Un=Un<<1^113:Un<<=1}Cn[Tn]=gn.create(zn,Dn)}})();var Sn=[];(function(){for(var jn=0;jn<25;jn++)Sn[jn]=gn.create()})();var Nn=wn.SHA3=mn.extend({cfg:mn.cfg.extend({outputLength:512}),_doReset:function(){for(var jn=this._state=[],Hn=0;Hn<25;Hn++)jn[Hn]=new gn.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(jn,Hn){for(var Bn=this._state,On=this.blockSize/2,Mn=0;Mn<On;Mn++){var Un=jn[Hn+2*Mn],Tn=jn[Hn+2*Mn+1];Un=(Un<<8|Un>>>24)&16711935|(Un<<24|Un>>>8)&4278255360,Tn=(Tn<<8|Tn>>>24)&16711935|(Tn<<24|Tn>>>8)&4278255360;var zn=Bn[Mn];zn.high^=Tn,zn.low^=Un}for(var Dn=0;Dn<24;Dn++){for(var In=0;In<5;In++){for(var Ln=0,Wn=0,Fn=0;Fn<5;Fn++){var zn=Bn[In+5*Fn];Ln^=zn.high,Wn^=zn.low}var Pn=Sn[In];Pn.high=Ln,Pn.low=Wn}for(var In=0;In<5;In++)for(var Vn=Sn[(In+4)%5],Zn=Sn[(In+1)%5],Yn=Zn.high,Qn=Zn.low,Ln=Vn.high^(Yn<<1|Qn>>>31),Wn=Vn.low^(Qn<<1|Yn>>>31),Fn=0;Fn<5;Fn++){var zn=Bn[In+5*Fn];zn.high^=Ln,zn.low^=Wn}for(var Xn=1;Xn<25;Xn++){var Ln,Wn,zn=Bn[Xn],rr=zn.high,sr=zn.low,Jn=vn[Xn];Jn<32?(Ln=rr<<Jn|sr>>>32-Jn,Wn=sr<<Jn|rr>>>32-Jn):(Ln=sr<<Jn-32|rr>>>64-Jn,Wn=rr<<Jn-32|sr>>>64-Jn);var nr=Sn[An[Xn]];nr.high=Ln,nr.low=Wn}var ar=Sn[0],or=Bn[0];ar.high=or.high,ar.low=or.low;for(var In=0;In<5;In++)for(var Fn=0;Fn<5;Fn++){var Xn=In+5*Fn,zn=Bn[Xn],dr=Sn[Xn],xr=Sn[(In+1)%5+5*Fn],Dr=Sn[(In+2)%5+5*Fn];zn.high=dr.high^~xr.high&Dr.high,zn.low=dr.low^~xr.low&Dr.low}var zn=Bn[0],Nr=Cn[Dn];zn.high^=Nr.high,zn.low^=Nr.low}},_doFinalize:function(){var jn=this._data,Hn=jn.words;this._nDataBytes*8;var Bn=jn.sigBytes*8,On=this.blockSize*32;Hn[Bn>>>5]|=1<<24-Bn%32,Hn[(an.ceil((Bn+1)/On)*On>>>5)-1]|=128,jn.sigBytes=Hn.length*4,this._process();for(var Mn=this._state,Un=this.cfg.outputLength/8,Tn=Un/8,zn=[],Dn=0;Dn<Tn;Dn++){var In=Mn[Dn],Ln=In.high,Wn=In.low;Ln=(Ln<<8|Ln>>>24)&16711935|(Ln<<24|Ln>>>8)&4278255360,Wn=(Wn<<8|Wn>>>24)&16711935|(Wn<<24|Wn>>>8)&4278255360,zn.push(Wn),zn.push(Ln)}return new hn.init(zn,Un)},clone:function(){for(var jn=mn.clone.call(this),Hn=jn._state=this._state.slice(0),Bn=0;Bn<25;Bn++)Hn[Bn]=Hn[Bn].clone();return jn}});un.SHA3=mn._createHelper(Nn),un.HmacSHA3=mn._createHmacHelper(Nn)})(Math),rn.SHA3})})(sha3$1)),sha3$1.exports}var ripemd160$1={exports:{}},ripemd160=ripemd160$1.exports,hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(ripemd160,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.WordArray,mn=dn.Hasher,xn=un.algo,gn=hn.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),wn=hn.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),vn=hn.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),An=hn.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Cn=hn.create([0,1518500249,1859775393,2400959708,2840853838]),Sn=hn.create([1352829926,1548603684,1836072691,2053994217,0]),Nn=xn.RIPEMD160=mn.extend({_doReset:function(){this._hash=hn.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Tn,zn){for(var Dn=0;Dn<16;Dn++){var In=zn+Dn,Ln=Tn[In];Tn[In]=(Ln<<8|Ln>>>24)&16711935|(Ln<<24|Ln>>>8)&4278255360}var Wn=this._hash.words,Fn=Cn.words,Pn=Sn.words,Vn=gn.words,Zn=wn.words,Yn=vn.words,Qn=An.words,Xn,rr,sr,Jn,nr,ar,or,dr,xr,Dr;ar=Xn=Wn[0],or=rr=Wn[1],dr=sr=Wn[2],xr=Jn=Wn[3],Dr=nr=Wn[4];for(var Nr,Dn=0;Dn<80;Dn+=1)Nr=Xn+Tn[zn+Vn[Dn]]|0,Dn<16?Nr+=jn(rr,sr,Jn)+Fn[0]:Dn<32?Nr+=Hn(rr,sr,Jn)+Fn[1]:Dn<48?Nr+=Bn(rr,sr,Jn)+Fn[2]:Dn<64?Nr+=On(rr,sr,Jn)+Fn[3]:Nr+=Mn(rr,sr,Jn)+Fn[4],Nr=Nr|0,Nr=Un(Nr,Yn[Dn]),Nr=Nr+nr|0,Xn=nr,nr=Jn,Jn=Un(sr,10),sr=rr,rr=Nr,Nr=ar+Tn[zn+Zn[Dn]]|0,Dn<16?Nr+=Mn(or,dr,xr)+Pn[0]:Dn<32?Nr+=On(or,dr,xr)+Pn[1]:Dn<48?Nr+=Bn(or,dr,xr)+Pn[2]:Dn<64?Nr+=Hn(or,dr,xr)+Pn[3]:Nr+=jn(or,dr,xr)+Pn[4],Nr=Nr|0,Nr=Un(Nr,Qn[Dn]),Nr=Nr+Dr|0,ar=Dr,Dr=xr,xr=Un(dr,10),dr=or,or=Nr;Nr=Wn[1]+sr+xr|0,Wn[1]=Wn[2]+Jn+Dr|0,Wn[2]=Wn[3]+nr+ar|0,Wn[3]=Wn[4]+Xn+or|0,Wn[4]=Wn[0]+rr+dr|0,Wn[0]=Nr},_doFinalize:function(){var Tn=this._data,zn=Tn.words,Dn=this._nDataBytes*8,In=Tn.sigBytes*8;zn[In>>>5]|=128<<24-In%32,zn[(In+64>>>9<<4)+14]=(Dn<<8|Dn>>>24)&16711935|(Dn<<24|Dn>>>8)&4278255360,Tn.sigBytes=(zn.length+1)*4,this._process();for(var Ln=this._hash,Wn=Ln.words,Fn=0;Fn<5;Fn++){var Pn=Wn[Fn];Wn[Fn]=(Pn<<8|Pn>>>24)&16711935|(Pn<<24|Pn>>>8)&4278255360}return Ln},clone:function(){var Tn=mn.clone.call(this);return Tn._hash=this._hash.clone(),Tn}});function jn(Tn,zn,Dn){return Tn^zn^Dn}function Hn(Tn,zn,Dn){return Tn&zn|~Tn&Dn}function Bn(Tn,zn,Dn){return(Tn|~zn)^Dn}function On(Tn,zn,Dn){return Tn&Dn|zn&~Dn}function Mn(Tn,zn,Dn){return Tn^(zn|~Dn)}function Un(Tn,zn){return Tn<<zn|Tn>>>32-zn}un.RIPEMD160=mn._createHelper(Nn),un.HmacRIPEMD160=mn._createHmacHelper(Nn)})(),rn.RIPEMD160})})(ripemd160$1)),ripemd160$1.exports}var hmac$1={exports:{}},hmac=hmac$1.exports,hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,(function(sn,O){(function(rn,an){sn.exports=an(requireCore())})(hmac,function(rn){(function(){var an=rn,un=an.lib,dn=un.Base,hn=an.enc,mn=hn.Utf8,xn=an.algo;xn.HMAC=dn.extend({init:function(gn,wn){gn=this._hasher=new gn.init,typeof wn=="string"&&(wn=mn.parse(wn));var vn=gn.blockSize,An=vn*4;wn.sigBytes>An&&(wn=gn.finalize(wn)),wn.clamp();for(var Cn=this._oKey=wn.clone(),Sn=this._iKey=wn.clone(),Nn=Cn.words,jn=Sn.words,Hn=0;Hn<vn;Hn++)Nn[Hn]^=1549556828,jn[Hn]^=909522486;Cn.sigBytes=Sn.sigBytes=An,this.reset()},reset:function(){var gn=this._hasher;gn.reset(),gn.update(this._iKey)},update:function(gn){return this._hasher.update(gn),this},finalize:function(gn){var wn=this._hasher,vn=wn.finalize(gn);wn.reset();var An=wn.finalize(this._oKey.clone().concat(vn));return An}})})()})})(hmac$1)),hmac$1.exports}var pbkdf2$1={exports:{}},pbkdf2=pbkdf2$1.exports,hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireSha256(),requireHmac())})(pbkdf2,function(rn){return(function(){var an=rn,un=an.lib,dn=un.Base,hn=un.WordArray,mn=an.algo,xn=mn.SHA256,gn=mn.HMAC,wn=mn.PBKDF2=dn.extend({cfg:dn.extend({keySize:128/32,hasher:xn,iterations:25e4}),init:function(vn){this.cfg=this.cfg.extend(vn)},compute:function(vn,An){for(var Cn=this.cfg,Sn=gn.create(Cn.hasher,vn),Nn=hn.create(),jn=hn.create([1]),Hn=Nn.words,Bn=jn.words,On=Cn.keySize,Mn=Cn.iterations;Hn.length<On;){var Un=Sn.update(An).finalize(jn);Sn.reset();for(var Tn=Un.words,zn=Tn.length,Dn=Un,In=1;In<Mn;In++){Dn=Sn.finalize(Dn),Sn.reset();for(var Ln=Dn.words,Wn=0;Wn<zn;Wn++)Tn[Wn]^=Ln[Wn]}Nn.concat(Un),Bn[0]++}return Nn.sigBytes=On*4,Nn}});an.PBKDF2=function(vn,An,Cn){return wn.create(Cn).compute(vn,An)}})(),rn.PBKDF2})})(pbkdf2$1)),pbkdf2$1.exports}var evpkdf$1={exports:{}},evpkdf=evpkdf$1.exports,hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireSha1(),requireHmac())})(evpkdf,function(rn){return(function(){var an=rn,un=an.lib,dn=un.Base,hn=un.WordArray,mn=an.algo,xn=mn.MD5,gn=mn.EvpKDF=dn.extend({cfg:dn.extend({keySize:128/32,hasher:xn,iterations:1}),init:function(wn){this.cfg=this.cfg.extend(wn)},compute:function(wn,vn){for(var An,Cn=this.cfg,Sn=Cn.hasher.create(),Nn=hn.create(),jn=Nn.words,Hn=Cn.keySize,Bn=Cn.iterations;jn.length<Hn;){An&&Sn.update(An),An=Sn.update(wn).finalize(vn),Sn.reset();for(var On=1;On<Bn;On++)An=Sn.finalize(An),Sn.reset();Nn.concat(An)}return Nn.sigBytes=Hn*4,Nn}});an.EvpKDF=function(wn,vn,An){return gn.create(An).compute(wn,vn)}})(),rn.EvpKDF})})(evpkdf$1)),evpkdf$1.exports}var cipherCore$1={exports:{}},cipherCore=cipherCore$1.exports,hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEvpkdf())})(cipherCore,function(rn){rn.lib.Cipher||(function(an){var un=rn,dn=un.lib,hn=dn.Base,mn=dn.WordArray,xn=dn.BufferedBlockAlgorithm,gn=un.enc;gn.Utf8;var wn=gn.Base64,vn=un.algo,An=vn.EvpKDF,Cn=dn.Cipher=xn.extend({cfg:hn.extend(),createEncryptor:function(Ln,Wn){return this.create(this._ENC_XFORM_MODE,Ln,Wn)},createDecryptor:function(Ln,Wn){return this.create(this._DEC_XFORM_MODE,Ln,Wn)},init:function(Ln,Wn,Fn){this.cfg=this.cfg.extend(Fn),this._xformMode=Ln,this._key=Wn,this.reset()},reset:function(){xn.reset.call(this),this._doReset()},process:function(Ln){return this._append(Ln),this._process()},finalize:function(Ln){Ln&&this._append(Ln);var Wn=this._doFinalize();return Wn},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function Ln(Wn){return typeof Wn=="string"?In:Tn}return function(Wn){return{encrypt:function(Fn,Pn,Vn){return Ln(Pn).encrypt(Wn,Fn,Pn,Vn)},decrypt:function(Fn,Pn,Vn){return Ln(Pn).decrypt(Wn,Fn,Pn,Vn)}}}})()});dn.StreamCipher=Cn.extend({_doFinalize:function(){var Ln=this._process(!0);return Ln},blockSize:1});var Sn=un.mode={},Nn=dn.BlockCipherMode=hn.extend({createEncryptor:function(Ln,Wn){return this.Encryptor.create(Ln,Wn)},createDecryptor:function(Ln,Wn){return this.Decryptor.create(Ln,Wn)},init:function(Ln,Wn){this._cipher=Ln,this._iv=Wn}}),jn=Sn.CBC=(function(){var Ln=Nn.extend();Ln.Encryptor=Ln.extend({processBlock:function(Fn,Pn){var Vn=this._cipher,Zn=Vn.blockSize;Wn.call(this,Fn,Pn,Zn),Vn.encryptBlock(Fn,Pn),this._prevBlock=Fn.slice(Pn,Pn+Zn)}}),Ln.Decryptor=Ln.extend({processBlock:function(Fn,Pn){var Vn=this._cipher,Zn=Vn.blockSize,Yn=Fn.slice(Pn,Pn+Zn);Vn.decryptBlock(Fn,Pn),Wn.call(this,Fn,Pn,Zn),this._prevBlock=Yn}});function Wn(Fn,Pn,Vn){var Zn,Yn=this._iv;Yn?(Zn=Yn,this._iv=an):Zn=this._prevBlock;for(var Qn=0;Qn<Vn;Qn++)Fn[Pn+Qn]^=Zn[Qn]}return Ln})(),Hn=un.pad={},Bn=Hn.Pkcs7={pad:function(Ln,Wn){for(var Fn=Wn*4,Pn=Fn-Ln.sigBytes%Fn,Vn=Pn<<24|Pn<<16|Pn<<8|Pn,Zn=[],Yn=0;Yn<Pn;Yn+=4)Zn.push(Vn);var Qn=mn.create(Zn,Pn);Ln.concat(Qn)},unpad:function(Ln){var Wn=Ln.words[Ln.sigBytes-1>>>2]&255;Ln.sigBytes-=Wn}};dn.BlockCipher=Cn.extend({cfg:Cn.cfg.extend({mode:jn,padding:Bn}),reset:function(){var Ln;Cn.reset.call(this);var Wn=this.cfg,Fn=Wn.iv,Pn=Wn.mode;this._xformMode==this._ENC_XFORM_MODE?Ln=Pn.createEncryptor:(Ln=Pn.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Ln?this._mode.init(this,Fn&&Fn.words):(this._mode=Ln.call(Pn,this,Fn&&Fn.words),this._mode.__creator=Ln)},_doProcessBlock:function(Ln,Wn){this._mode.processBlock(Ln,Wn)},_doFinalize:function(){var Ln,Wn=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Wn.pad(this._data,this.blockSize),Ln=this._process(!0)):(Ln=this._process(!0),Wn.unpad(Ln)),Ln},blockSize:128/32});var On=dn.CipherParams=hn.extend({init:function(Ln){this.mixIn(Ln)},toString:function(Ln){return(Ln||this.formatter).stringify(this)}}),Mn=un.format={},Un=Mn.OpenSSL={stringify:function(Ln){var Wn,Fn=Ln.ciphertext,Pn=Ln.salt;return Pn?Wn=mn.create([1398893684,1701076831]).concat(Pn).concat(Fn):Wn=Fn,Wn.toString(wn)},parse:function(Ln){var Wn,Fn=wn.parse(Ln),Pn=Fn.words;return Pn[0]==1398893684&&Pn[1]==1701076831&&(Wn=mn.create(Pn.slice(2,4)),Pn.splice(0,4),Fn.sigBytes-=16),On.create({ciphertext:Fn,salt:Wn})}},Tn=dn.SerializableCipher=hn.extend({cfg:hn.extend({format:Un}),encrypt:function(Ln,Wn,Fn,Pn){Pn=this.cfg.extend(Pn);var Vn=Ln.createEncryptor(Fn,Pn),Zn=Vn.finalize(Wn),Yn=Vn.cfg;return On.create({ciphertext:Zn,key:Fn,iv:Yn.iv,algorithm:Ln,mode:Yn.mode,padding:Yn.padding,blockSize:Ln.blockSize,formatter:Pn.format})},decrypt:function(Ln,Wn,Fn,Pn){Pn=this.cfg.extend(Pn),Wn=this._parse(Wn,Pn.format);var Vn=Ln.createDecryptor(Fn,Pn).finalize(Wn.ciphertext);return Vn},_parse:function(Ln,Wn){return typeof Ln=="string"?Wn.parse(Ln,this):Ln}}),zn=un.kdf={},Dn=zn.OpenSSL={execute:function(Ln,Wn,Fn,Pn,Vn){if(Pn||(Pn=mn.random(64/8)),Vn)var Zn=An.create({keySize:Wn+Fn,hasher:Vn}).compute(Ln,Pn);else var Zn=An.create({keySize:Wn+Fn}).compute(Ln,Pn);var Yn=mn.create(Zn.words.slice(Wn),Fn*4);return Zn.sigBytes=Wn*4,On.create({key:Zn,iv:Yn,salt:Pn})}},In=dn.PasswordBasedCipher=Tn.extend({cfg:Tn.cfg.extend({kdf:Dn}),encrypt:function(Ln,Wn,Fn,Pn){Pn=this.cfg.extend(Pn);var Vn=Pn.kdf.execute(Fn,Ln.keySize,Ln.ivSize,Pn.salt,Pn.hasher);Pn.iv=Vn.iv;var Zn=Tn.encrypt.call(this,Ln,Wn,Vn.key,Pn);return Zn.mixIn(Vn),Zn},decrypt:function(Ln,Wn,Fn,Pn){Pn=this.cfg.extend(Pn),Wn=this._parse(Wn,Pn.format);var Vn=Pn.kdf.execute(Fn,Ln.keySize,Ln.ivSize,Wn.salt,Pn.hasher);Pn.iv=Vn.iv;var Zn=Tn.decrypt.call(this,Ln,Wn,Vn.key,Pn);return Zn}})})()})})(cipherCore$1)),cipherCore$1.exports}var modeCfb$1={exports:{}},modeCfb=modeCfb$1.exports,hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(modeCfb,function(rn){return rn.mode.CFB=(function(){var an=rn.lib.BlockCipherMode.extend();an.Encryptor=an.extend({processBlock:function(dn,hn){var mn=this._cipher,xn=mn.blockSize;un.call(this,dn,hn,xn,mn),this._prevBlock=dn.slice(hn,hn+xn)}}),an.Decryptor=an.extend({processBlock:function(dn,hn){var mn=this._cipher,xn=mn.blockSize,gn=dn.slice(hn,hn+xn);un.call(this,dn,hn,xn,mn),this._prevBlock=gn}});function un(dn,hn,mn,xn){var gn,wn=this._iv;wn?(gn=wn.slice(0),this._iv=void 0):gn=this._prevBlock,xn.encryptBlock(gn,0);for(var vn=0;vn<mn;vn++)dn[hn+vn]^=gn[vn]}return an})(),rn.mode.CFB})})(modeCfb$1)),modeCfb$1.exports}var modeCtr$1={exports:{}},modeCtr=modeCtr$1.exports,hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(modeCtr,function(rn){return rn.mode.CTR=(function(){var an=rn.lib.BlockCipherMode.extend(),un=an.Encryptor=an.extend({processBlock:function(dn,hn){var mn=this._cipher,xn=mn.blockSize,gn=this._iv,wn=this._counter;gn&&(wn=this._counter=gn.slice(0),this._iv=void 0);var vn=wn.slice(0);mn.encryptBlock(vn,0),wn[xn-1]=wn[xn-1]+1|0;for(var An=0;An<xn;An++)dn[hn+An]^=vn[An]}});return an.Decryptor=un,an})(),rn.mode.CTR})})(modeCtr$1)),modeCtr$1.exports}var modeCtrGladman$1={exports:{}},modeCtrGladman=modeCtrGladman$1.exports,hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(modeCtrGladman,function(rn){return rn.mode.CTRGladman=(function(){var an=rn.lib.BlockCipherMode.extend();function un(mn){if((mn>>24&255)===255){var xn=mn>>16&255,gn=mn>>8&255,wn=mn&255;xn===255?(xn=0,gn===255?(gn=0,wn===255?wn=0:++wn):++gn):++xn,mn=0,mn+=xn<<16,mn+=gn<<8,mn+=wn}else mn+=1<<24;return mn}function dn(mn){return(mn[0]=un(mn[0]))===0&&(mn[1]=un(mn[1])),mn}var hn=an.Encryptor=an.extend({processBlock:function(mn,xn){var gn=this._cipher,wn=gn.blockSize,vn=this._iv,An=this._counter;vn&&(An=this._counter=vn.slice(0),this._iv=void 0),dn(An);var Cn=An.slice(0);gn.encryptBlock(Cn,0);for(var Sn=0;Sn<wn;Sn++)mn[xn+Sn]^=Cn[Sn]}});return an.Decryptor=hn,an})(),rn.mode.CTRGladman})})(modeCtrGladman$1)),modeCtrGladman$1.exports}var modeOfb$1={exports:{}},modeOfb=modeOfb$1.exports,hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(modeOfb,function(rn){return rn.mode.OFB=(function(){var an=rn.lib.BlockCipherMode.extend(),un=an.Encryptor=an.extend({processBlock:function(dn,hn){var mn=this._cipher,xn=mn.blockSize,gn=this._iv,wn=this._keystream;gn&&(wn=this._keystream=gn.slice(0),this._iv=void 0),mn.encryptBlock(wn,0);for(var vn=0;vn<xn;vn++)dn[hn+vn]^=wn[vn]}});return an.Decryptor=un,an})(),rn.mode.OFB})})(modeOfb$1)),modeOfb$1.exports}var modeEcb$1={exports:{}},modeEcb=modeEcb$1.exports,hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(modeEcb,function(rn){return rn.mode.ECB=(function(){var an=rn.lib.BlockCipherMode.extend();return an.Encryptor=an.extend({processBlock:function(un,dn){this._cipher.encryptBlock(un,dn)}}),an.Decryptor=an.extend({processBlock:function(un,dn){this._cipher.decryptBlock(un,dn)}}),an})(),rn.mode.ECB})})(modeEcb$1)),modeEcb$1.exports}var padAnsix923$1={exports:{}},padAnsix923=padAnsix923$1.exports,hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(padAnsix923,function(rn){return rn.pad.AnsiX923={pad:function(an,un){var dn=an.sigBytes,hn=un*4,mn=hn-dn%hn,xn=dn+mn-1;an.clamp(),an.words[xn>>>2]|=mn<<24-xn%4*8,an.sigBytes+=mn},unpad:function(an){var un=an.words[an.sigBytes-1>>>2]&255;an.sigBytes-=un}},rn.pad.Ansix923})})(padAnsix923$1)),padAnsix923$1.exports}var padIso10126$1={exports:{}},padIso10126=padIso10126$1.exports,hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(padIso10126,function(rn){return rn.pad.Iso10126={pad:function(an,un){var dn=un*4,hn=dn-an.sigBytes%dn;an.concat(rn.lib.WordArray.random(hn-1)).concat(rn.lib.WordArray.create([hn<<24],1))},unpad:function(an){var un=an.words[an.sigBytes-1>>>2]&255;an.sigBytes-=un}},rn.pad.Iso10126})})(padIso10126$1)),padIso10126$1.exports}var padIso97971$1={exports:{}},padIso97971=padIso97971$1.exports,hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(padIso97971,function(rn){return rn.pad.Iso97971={pad:function(an,un){an.concat(rn.lib.WordArray.create([2147483648],1)),rn.pad.ZeroPadding.pad(an,un)},unpad:function(an){rn.pad.ZeroPadding.unpad(an),an.sigBytes--}},rn.pad.Iso97971})})(padIso97971$1)),padIso97971$1.exports}var padZeropadding$1={exports:{}},padZeropadding=padZeropadding$1.exports,hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(padZeropadding,function(rn){return rn.pad.ZeroPadding={pad:function(an,un){var dn=un*4;an.clamp(),an.sigBytes+=dn-(an.sigBytes%dn||dn)},unpad:function(an){for(var un=an.words,dn=an.sigBytes-1,dn=an.sigBytes-1;dn>=0;dn--)if(un[dn>>>2]>>>24-dn%4*8&255){an.sigBytes=dn+1;break}}},rn.pad.ZeroPadding})})(padZeropadding$1)),padZeropadding$1.exports}var padNopadding$1={exports:{}},padNopadding=padNopadding$1.exports,hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(padNopadding,function(rn){return rn.pad.NoPadding={pad:function(){},unpad:function(){}},rn.pad.NoPadding})})(padNopadding$1)),padNopadding$1.exports}var formatHex$1={exports:{}},formatHex=formatHex$1.exports,hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireCipherCore())})(formatHex,function(rn){return(function(an){var un=rn,dn=un.lib,hn=dn.CipherParams,mn=un.enc,xn=mn.Hex,gn=un.format;gn.Hex={stringify:function(wn){return wn.ciphertext.toString(xn)},parse:function(wn){var vn=xn.parse(wn);return hn.create({ciphertext:vn})}}})(),rn.format.Hex})})(formatHex$1)),formatHex$1.exports}var aes$1={exports:{}},aes=aes$1.exports,hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(aes,function(rn){return(function(){var an=rn,un=an.lib,dn=un.BlockCipher,hn=an.algo,mn=[],xn=[],gn=[],wn=[],vn=[],An=[],Cn=[],Sn=[],Nn=[],jn=[];(function(){for(var On=[],Mn=0;Mn<256;Mn++)Mn<128?On[Mn]=Mn<<1:On[Mn]=Mn<<1^283;for(var Un=0,Tn=0,Mn=0;Mn<256;Mn++){var zn=Tn^Tn<<1^Tn<<2^Tn<<3^Tn<<4;zn=zn>>>8^zn&255^99,mn[Un]=zn,xn[zn]=Un;var Dn=On[Un],In=On[Dn],Ln=On[In],Wn=On[zn]*257^zn*16843008;gn[Un]=Wn<<24|Wn>>>8,wn[Un]=Wn<<16|Wn>>>16,vn[Un]=Wn<<8|Wn>>>24,An[Un]=Wn;var Wn=Ln*16843009^In*65537^Dn*257^Un*16843008;Cn[zn]=Wn<<24|Wn>>>8,Sn[zn]=Wn<<16|Wn>>>16,Nn[zn]=Wn<<8|Wn>>>24,jn[zn]=Wn,Un?(Un=Dn^On[On[On[Ln^Dn]]],Tn^=On[On[Tn]]):Un=Tn=1}})();var Hn=[0,1,2,4,8,16,32,64,128,27,54],Bn=hn.AES=dn.extend({_doReset:function(){var On;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Mn=this._keyPriorReset=this._key,Un=Mn.words,Tn=Mn.sigBytes/4,zn=this._nRounds=Tn+6,Dn=(zn+1)*4,In=this._keySchedule=[],Ln=0;Ln<Dn;Ln++)Ln<Tn?In[Ln]=Un[Ln]:(On=In[Ln-1],Ln%Tn?Tn>6&&Ln%Tn==4&&(On=mn[On>>>24]<<24|mn[On>>>16&255]<<16|mn[On>>>8&255]<<8|mn[On&255]):(On=On<<8|On>>>24,On=mn[On>>>24]<<24|mn[On>>>16&255]<<16|mn[On>>>8&255]<<8|mn[On&255],On^=Hn[Ln/Tn|0]<<24),In[Ln]=In[Ln-Tn]^On);for(var Wn=this._invKeySchedule=[],Fn=0;Fn<Dn;Fn++){var Ln=Dn-Fn;if(Fn%4)var On=In[Ln];else var On=In[Ln-4];Fn<4||Ln<=4?Wn[Fn]=On:Wn[Fn]=Cn[mn[On>>>24]]^Sn[mn[On>>>16&255]]^Nn[mn[On>>>8&255]]^jn[mn[On&255]]}}},encryptBlock:function(On,Mn){this._doCryptBlock(On,Mn,this._keySchedule,gn,wn,vn,An,mn)},decryptBlock:function(On,Mn){var Un=On[Mn+1];On[Mn+1]=On[Mn+3],On[Mn+3]=Un,this._doCryptBlock(On,Mn,this._invKeySchedule,Cn,Sn,Nn,jn,xn);var Un=On[Mn+1];On[Mn+1]=On[Mn+3],On[Mn+3]=Un},_doCryptBlock:function(On,Mn,Un,Tn,zn,Dn,In,Ln){for(var Wn=this._nRounds,Fn=On[Mn]^Un[0],Pn=On[Mn+1]^Un[1],Vn=On[Mn+2]^Un[2],Zn=On[Mn+3]^Un[3],Yn=4,Qn=1;Qn<Wn;Qn++){var Xn=Tn[Fn>>>24]^zn[Pn>>>16&255]^Dn[Vn>>>8&255]^In[Zn&255]^Un[Yn++],rr=Tn[Pn>>>24]^zn[Vn>>>16&255]^Dn[Zn>>>8&255]^In[Fn&255]^Un[Yn++],sr=Tn[Vn>>>24]^zn[Zn>>>16&255]^Dn[Fn>>>8&255]^In[Pn&255]^Un[Yn++],Jn=Tn[Zn>>>24]^zn[Fn>>>16&255]^Dn[Pn>>>8&255]^In[Vn&255]^Un[Yn++];Fn=Xn,Pn=rr,Vn=sr,Zn=Jn}var Xn=(Ln[Fn>>>24]<<24|Ln[Pn>>>16&255]<<16|Ln[Vn>>>8&255]<<8|Ln[Zn&255])^Un[Yn++],rr=(Ln[Pn>>>24]<<24|Ln[Vn>>>16&255]<<16|Ln[Zn>>>8&255]<<8|Ln[Fn&255])^Un[Yn++],sr=(Ln[Vn>>>24]<<24|Ln[Zn>>>16&255]<<16|Ln[Fn>>>8&255]<<8|Ln[Pn&255])^Un[Yn++],Jn=(Ln[Zn>>>24]<<24|Ln[Fn>>>16&255]<<16|Ln[Pn>>>8&255]<<8|Ln[Vn&255])^Un[Yn++];On[Mn]=Xn,On[Mn+1]=rr,On[Mn+2]=sr,On[Mn+3]=Jn},keySize:256/32});an.AES=dn._createHelper(Bn)})(),rn.AES})})(aes$1)),aes$1.exports}var tripledes$1={exports:{}},tripledes=tripledes$1.exports,hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(tripledes,function(rn){return(function(){var an=rn,un=an.lib,dn=un.WordArray,hn=un.BlockCipher,mn=an.algo,xn=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],gn=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],wn=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],vn=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],An=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Cn=mn.DES=hn.extend({_doReset:function(){for(var Hn=this._key,Bn=Hn.words,On=[],Mn=0;Mn<56;Mn++){var Un=xn[Mn]-1;On[Mn]=Bn[Un>>>5]>>>31-Un%32&1}for(var Tn=this._subKeys=[],zn=0;zn<16;zn++){for(var Dn=Tn[zn]=[],In=wn[zn],Mn=0;Mn<24;Mn++)Dn[Mn/6|0]|=On[(gn[Mn]-1+In)%28]<<31-Mn%6,Dn[4+(Mn/6|0)]|=On[28+(gn[Mn+24]-1+In)%28]<<31-Mn%6;Dn[0]=Dn[0]<<1|Dn[0]>>>31;for(var Mn=1;Mn<7;Mn++)Dn[Mn]=Dn[Mn]>>>(Mn-1)*4+3;Dn[7]=Dn[7]<<5|Dn[7]>>>27}for(var Ln=this._invSubKeys=[],Mn=0;Mn<16;Mn++)Ln[Mn]=Tn[15-Mn]},encryptBlock:function(Hn,Bn){this._doCryptBlock(Hn,Bn,this._subKeys)},decryptBlock:function(Hn,Bn){this._doCryptBlock(Hn,Bn,this._invSubKeys)},_doCryptBlock:function(Hn,Bn,On){this._lBlock=Hn[Bn],this._rBlock=Hn[Bn+1],Sn.call(this,4,252645135),Sn.call(this,16,65535),Nn.call(this,2,858993459),Nn.call(this,8,16711935),Sn.call(this,1,1431655765);for(var Mn=0;Mn<16;Mn++){for(var Un=On[Mn],Tn=this._lBlock,zn=this._rBlock,Dn=0,In=0;In<8;In++)Dn|=vn[In][((zn^Un[In])&An[In])>>>0];this._lBlock=zn,this._rBlock=Tn^Dn}var Ln=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ln,Sn.call(this,1,1431655765),Nn.call(this,8,16711935),Nn.call(this,2,858993459),Sn.call(this,16,65535),Sn.call(this,4,252645135),Hn[Bn]=this._lBlock,Hn[Bn+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Sn(Hn,Bn){var On=(this._lBlock>>>Hn^this._rBlock)&Bn;this._rBlock^=On,this._lBlock^=On<<Hn}function Nn(Hn,Bn){var On=(this._rBlock>>>Hn^this._lBlock)&Bn;this._lBlock^=On,this._rBlock^=On<<Hn}an.DES=hn._createHelper(Cn);var jn=mn.TripleDES=hn.extend({_doReset:function(){var Hn=this._key,Bn=Hn.words;if(Bn.length!==2&&Bn.length!==4&&Bn.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var On=Bn.slice(0,2),Mn=Bn.length<4?Bn.slice(0,2):Bn.slice(2,4),Un=Bn.length<6?Bn.slice(0,2):Bn.slice(4,6);this._des1=Cn.createEncryptor(dn.create(On)),this._des2=Cn.createEncryptor(dn.create(Mn)),this._des3=Cn.createEncryptor(dn.create(Un))},encryptBlock:function(Hn,Bn){this._des1.encryptBlock(Hn,Bn),this._des2.decryptBlock(Hn,Bn),this._des3.encryptBlock(Hn,Bn)},decryptBlock:function(Hn,Bn){this._des3.decryptBlock(Hn,Bn),this._des2.encryptBlock(Hn,Bn),this._des1.decryptBlock(Hn,Bn)},keySize:192/32,ivSize:64/32,blockSize:64/32});an.TripleDES=hn._createHelper(jn)})(),rn.TripleDES})})(tripledes$1)),tripledes$1.exports}var rc4$1={exports:{}},rc4=rc4$1.exports,hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rc4,function(rn){return(function(){var an=rn,un=an.lib,dn=un.StreamCipher,hn=an.algo,mn=hn.RC4=dn.extend({_doReset:function(){for(var wn=this._key,vn=wn.words,An=wn.sigBytes,Cn=this._S=[],Sn=0;Sn<256;Sn++)Cn[Sn]=Sn;for(var Sn=0,Nn=0;Sn<256;Sn++){var jn=Sn%An,Hn=vn[jn>>>2]>>>24-jn%4*8&255;Nn=(Nn+Cn[Sn]+Hn)%256;var Bn=Cn[Sn];Cn[Sn]=Cn[Nn],Cn[Nn]=Bn}this._i=this._j=0},_doProcessBlock:function(wn,vn){wn[vn]^=xn.call(this)},keySize:256/32,ivSize:0});function xn(){for(var wn=this._S,vn=this._i,An=this._j,Cn=0,Sn=0;Sn<4;Sn++){vn=(vn+1)%256,An=(An+wn[vn])%256;var Nn=wn[vn];wn[vn]=wn[An],wn[An]=Nn,Cn|=wn[(wn[vn]+wn[An])%256]<<24-Sn*8}return this._i=vn,this._j=An,Cn}an.RC4=dn._createHelper(mn);var gn=hn.RC4Drop=mn.extend({cfg:mn.cfg.extend({drop:192}),_doReset:function(){mn._doReset.call(this);for(var wn=this.cfg.drop;wn>0;wn--)xn.call(this)}});an.RC4Drop=dn._createHelper(gn)})(),rn.RC4})})(rc4$1)),rc4$1.exports}var rabbit$1={exports:{}},rabbit=rabbit$1.exports,hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbit,function(rn){return(function(){var an=rn,un=an.lib,dn=un.StreamCipher,hn=an.algo,mn=[],xn=[],gn=[],wn=hn.Rabbit=dn.extend({_doReset:function(){for(var An=this._key.words,Cn=this.cfg.iv,Sn=0;Sn<4;Sn++)An[Sn]=(An[Sn]<<8|An[Sn]>>>24)&16711935|(An[Sn]<<24|An[Sn]>>>8)&4278255360;var Nn=this._X=[An[0],An[3]<<16|An[2]>>>16,An[1],An[0]<<16|An[3]>>>16,An[2],An[1]<<16|An[0]>>>16,An[3],An[2]<<16|An[1]>>>16],jn=this._C=[An[2]<<16|An[2]>>>16,An[0]&4294901760|An[1]&65535,An[3]<<16|An[3]>>>16,An[1]&4294901760|An[2]&65535,An[0]<<16|An[0]>>>16,An[2]&4294901760|An[3]&65535,An[1]<<16|An[1]>>>16,An[3]&4294901760|An[0]&65535];this._b=0;for(var Sn=0;Sn<4;Sn++)vn.call(this);for(var Sn=0;Sn<8;Sn++)jn[Sn]^=Nn[Sn+4&7];if(Cn){var Hn=Cn.words,Bn=Hn[0],On=Hn[1],Mn=(Bn<<8|Bn>>>24)&16711935|(Bn<<24|Bn>>>8)&4278255360,Un=(On<<8|On>>>24)&16711935|(On<<24|On>>>8)&4278255360,Tn=Mn>>>16|Un&4294901760,zn=Un<<16|Mn&65535;jn[0]^=Mn,jn[1]^=Tn,jn[2]^=Un,jn[3]^=zn,jn[4]^=Mn,jn[5]^=Tn,jn[6]^=Un,jn[7]^=zn;for(var Sn=0;Sn<4;Sn++)vn.call(this)}},_doProcessBlock:function(An,Cn){var Sn=this._X;vn.call(this),mn[0]=Sn[0]^Sn[5]>>>16^Sn[3]<<16,mn[1]=Sn[2]^Sn[7]>>>16^Sn[5]<<16,mn[2]=Sn[4]^Sn[1]>>>16^Sn[7]<<16,mn[3]=Sn[6]^Sn[3]>>>16^Sn[1]<<16;for(var Nn=0;Nn<4;Nn++)mn[Nn]=(mn[Nn]<<8|mn[Nn]>>>24)&16711935|(mn[Nn]<<24|mn[Nn]>>>8)&4278255360,An[Cn+Nn]^=mn[Nn]},blockSize:128/32,ivSize:64/32});function vn(){for(var An=this._X,Cn=this._C,Sn=0;Sn<8;Sn++)xn[Sn]=Cn[Sn];Cn[0]=Cn[0]+1295307597+this._b|0,Cn[1]=Cn[1]+3545052371+(Cn[0]>>>0<xn[0]>>>0?1:0)|0,Cn[2]=Cn[2]+886263092+(Cn[1]>>>0<xn[1]>>>0?1:0)|0,Cn[3]=Cn[3]+1295307597+(Cn[2]>>>0<xn[2]>>>0?1:0)|0,Cn[4]=Cn[4]+3545052371+(Cn[3]>>>0<xn[3]>>>0?1:0)|0,Cn[5]=Cn[5]+886263092+(Cn[4]>>>0<xn[4]>>>0?1:0)|0,Cn[6]=Cn[6]+1295307597+(Cn[5]>>>0<xn[5]>>>0?1:0)|0,Cn[7]=Cn[7]+3545052371+(Cn[6]>>>0<xn[6]>>>0?1:0)|0,this._b=Cn[7]>>>0<xn[7]>>>0?1:0;for(var Sn=0;Sn<8;Sn++){var Nn=An[Sn]+Cn[Sn],jn=Nn&65535,Hn=Nn>>>16,Bn=((jn*jn>>>17)+jn*Hn>>>15)+Hn*Hn,On=((Nn&4294901760)*Nn|0)+((Nn&65535)*Nn|0);gn[Sn]=Bn^On}An[0]=gn[0]+(gn[7]<<16|gn[7]>>>16)+(gn[6]<<16|gn[6]>>>16)|0,An[1]=gn[1]+(gn[0]<<8|gn[0]>>>24)+gn[7]|0,An[2]=gn[2]+(gn[1]<<16|gn[1]>>>16)+(gn[0]<<16|gn[0]>>>16)|0,An[3]=gn[3]+(gn[2]<<8|gn[2]>>>24)+gn[1]|0,An[4]=gn[4]+(gn[3]<<16|gn[3]>>>16)+(gn[2]<<16|gn[2]>>>16)|0,An[5]=gn[5]+(gn[4]<<8|gn[4]>>>24)+gn[3]|0,An[6]=gn[6]+(gn[5]<<16|gn[5]>>>16)+(gn[4]<<16|gn[4]>>>16)|0,An[7]=gn[7]+(gn[6]<<8|gn[6]>>>24)+gn[5]|0}an.Rabbit=dn._createHelper(wn)})(),rn.Rabbit})})(rabbit$1)),rabbit$1.exports}var rabbitLegacy$1={exports:{}},rabbitLegacy=rabbitLegacy$1.exports,hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbitLegacy,function(rn){return(function(){var an=rn,un=an.lib,dn=un.StreamCipher,hn=an.algo,mn=[],xn=[],gn=[],wn=hn.RabbitLegacy=dn.extend({_doReset:function(){var An=this._key.words,Cn=this.cfg.iv,Sn=this._X=[An[0],An[3]<<16|An[2]>>>16,An[1],An[0]<<16|An[3]>>>16,An[2],An[1]<<16|An[0]>>>16,An[3],An[2]<<16|An[1]>>>16],Nn=this._C=[An[2]<<16|An[2]>>>16,An[0]&4294901760|An[1]&65535,An[3]<<16|An[3]>>>16,An[1]&4294901760|An[2]&65535,An[0]<<16|An[0]>>>16,An[2]&4294901760|An[3]&65535,An[1]<<16|An[1]>>>16,An[3]&4294901760|An[0]&65535];this._b=0;for(var jn=0;jn<4;jn++)vn.call(this);for(var jn=0;jn<8;jn++)Nn[jn]^=Sn[jn+4&7];if(Cn){var Hn=Cn.words,Bn=Hn[0],On=Hn[1],Mn=(Bn<<8|Bn>>>24)&16711935|(Bn<<24|Bn>>>8)&4278255360,Un=(On<<8|On>>>24)&16711935|(On<<24|On>>>8)&4278255360,Tn=Mn>>>16|Un&4294901760,zn=Un<<16|Mn&65535;Nn[0]^=Mn,Nn[1]^=Tn,Nn[2]^=Un,Nn[3]^=zn,Nn[4]^=Mn,Nn[5]^=Tn,Nn[6]^=Un,Nn[7]^=zn;for(var jn=0;jn<4;jn++)vn.call(this)}},_doProcessBlock:function(An,Cn){var Sn=this._X;vn.call(this),mn[0]=Sn[0]^Sn[5]>>>16^Sn[3]<<16,mn[1]=Sn[2]^Sn[7]>>>16^Sn[5]<<16,mn[2]=Sn[4]^Sn[1]>>>16^Sn[7]<<16,mn[3]=Sn[6]^Sn[3]>>>16^Sn[1]<<16;for(var Nn=0;Nn<4;Nn++)mn[Nn]=(mn[Nn]<<8|mn[Nn]>>>24)&16711935|(mn[Nn]<<24|mn[Nn]>>>8)&4278255360,An[Cn+Nn]^=mn[Nn]},blockSize:128/32,ivSize:64/32});function vn(){for(var An=this._X,Cn=this._C,Sn=0;Sn<8;Sn++)xn[Sn]=Cn[Sn];Cn[0]=Cn[0]+1295307597+this._b|0,Cn[1]=Cn[1]+3545052371+(Cn[0]>>>0<xn[0]>>>0?1:0)|0,Cn[2]=Cn[2]+886263092+(Cn[1]>>>0<xn[1]>>>0?1:0)|0,Cn[3]=Cn[3]+1295307597+(Cn[2]>>>0<xn[2]>>>0?1:0)|0,Cn[4]=Cn[4]+3545052371+(Cn[3]>>>0<xn[3]>>>0?1:0)|0,Cn[5]=Cn[5]+886263092+(Cn[4]>>>0<xn[4]>>>0?1:0)|0,Cn[6]=Cn[6]+1295307597+(Cn[5]>>>0<xn[5]>>>0?1:0)|0,Cn[7]=Cn[7]+3545052371+(Cn[6]>>>0<xn[6]>>>0?1:0)|0,this._b=Cn[7]>>>0<xn[7]>>>0?1:0;for(var Sn=0;Sn<8;Sn++){var Nn=An[Sn]+Cn[Sn],jn=Nn&65535,Hn=Nn>>>16,Bn=((jn*jn>>>17)+jn*Hn>>>15)+Hn*Hn,On=((Nn&4294901760)*Nn|0)+((Nn&65535)*Nn|0);gn[Sn]=Bn^On}An[0]=gn[0]+(gn[7]<<16|gn[7]>>>16)+(gn[6]<<16|gn[6]>>>16)|0,An[1]=gn[1]+(gn[0]<<8|gn[0]>>>24)+gn[7]|0,An[2]=gn[2]+(gn[1]<<16|gn[1]>>>16)+(gn[0]<<16|gn[0]>>>16)|0,An[3]=gn[3]+(gn[2]<<8|gn[2]>>>24)+gn[1]|0,An[4]=gn[4]+(gn[3]<<16|gn[3]>>>16)+(gn[2]<<16|gn[2]>>>16)|0,An[5]=gn[5]+(gn[4]<<8|gn[4]>>>24)+gn[3]|0,An[6]=gn[6]+(gn[5]<<16|gn[5]>>>16)+(gn[4]<<16|gn[4]>>>16)|0,An[7]=gn[7]+(gn[6]<<8|gn[6]>>>24)+gn[5]|0}an.RabbitLegacy=dn._createHelper(wn)})(),rn.RabbitLegacy})})(rabbitLegacy$1)),rabbitLegacy$1.exports}var blowfish$1={exports:{}},blowfish=blowfish$1.exports,hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(blowfish,function(rn){return(function(){var an=rn,un=an.lib,dn=un.BlockCipher,hn=an.algo;const mn=16,xn=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],gn=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var wn={pbox:[],sbox:[]};function vn(jn,Hn){let Bn=Hn>>24&255,On=Hn>>16&255,Mn=Hn>>8&255,Un=Hn&255,Tn=jn.sbox[0][Bn]+jn.sbox[1][On];return Tn=Tn^jn.sbox[2][Mn],Tn=Tn+jn.sbox[3][Un],Tn}function An(jn,Hn,Bn){let On=Hn,Mn=Bn,Un;for(let Tn=0;Tn<mn;++Tn)On=On^jn.pbox[Tn],Mn=vn(jn,On)^Mn,Un=On,On=Mn,Mn=Un;return Un=On,On=Mn,Mn=Un,Mn=Mn^jn.pbox[mn],On=On^jn.pbox[mn+1],{left:On,right:Mn}}function Cn(jn,Hn,Bn){let On=Hn,Mn=Bn,Un;for(let Tn=mn+1;Tn>1;--Tn)On=On^jn.pbox[Tn],Mn=vn(jn,On)^Mn,Un=On,On=Mn,Mn=Un;return Un=On,On=Mn,Mn=Un,Mn=Mn^jn.pbox[1],On=On^jn.pbox[0],{left:On,right:Mn}}function Sn(jn,Hn,Bn){for(let zn=0;zn<4;zn++){jn.sbox[zn]=[];for(let Dn=0;Dn<256;Dn++)jn.sbox[zn][Dn]=gn[zn][Dn]}let On=0;for(let zn=0;zn<mn+2;zn++)jn.pbox[zn]=xn[zn]^Hn[On],On++,On>=Bn&&(On=0);let Mn=0,Un=0,Tn=0;for(let zn=0;zn<mn+2;zn+=2)Tn=An(jn,Mn,Un),Mn=Tn.left,Un=Tn.right,jn.pbox[zn]=Mn,jn.pbox[zn+1]=Un;for(let zn=0;zn<4;zn++)for(let Dn=0;Dn<256;Dn+=2)Tn=An(jn,Mn,Un),Mn=Tn.left,Un=Tn.right,jn.sbox[zn][Dn]=Mn,jn.sbox[zn][Dn+1]=Un;return!0}var Nn=hn.Blowfish=dn.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var jn=this._keyPriorReset=this._key,Hn=jn.words,Bn=jn.sigBytes/4;Sn(wn,Hn,Bn)}},encryptBlock:function(jn,Hn){var Bn=An(wn,jn[Hn],jn[Hn+1]);jn[Hn]=Bn.left,jn[Hn+1]=Bn.right},decryptBlock:function(jn,Hn){var Bn=Cn(wn,jn[Hn],jn[Hn+1]);jn[Hn]=Bn.left,jn[Hn+1]=Bn.right},blockSize:64/32,keySize:128/32,ivSize:64/32});an.Blowfish=dn._createHelper(Nn)})(),rn.Blowfish})})(blowfish$1)),blowfish$1.exports}var cryptoJs=cryptoJs$1.exports,hasRequiredCryptoJs;function requireCryptoJs(){return hasRequiredCryptoJs||(hasRequiredCryptoJs=1,(function(sn,O){(function(rn,an,un){sn.exports=an(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(cryptoJs,function(rn){return rn})})(cryptoJs$1)),cryptoJs$1.exports}var cryptoJsExports=requireCryptoJs();class pwd{harden(O){return cryptoJsExports.SHA256(O).toString()}}function ownKeys$1(sn,O){var rn=Object.keys(sn);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(sn);O&&(an=an.filter(function(un){return Object.getOwnPropertyDescriptor(sn,un).enumerable})),rn.push.apply(rn,an)}return rn}function _objectSpread2$1(sn){for(var O=1;O<arguments.length;O++){var rn=arguments[O]!=null?arguments[O]:{};O%2?ownKeys$1(Object(rn),!0).forEach(function(an){_defineProperty$1(sn,an,rn[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(rn)):ownKeys$1(Object(rn)).forEach(function(an){Object.defineProperty(sn,an,Object.getOwnPropertyDescriptor(rn,an))})}return sn}function _toPrimitive$1(sn,O){if(typeof sn!="object"||!sn)return sn;var rn=sn[Symbol.toPrimitive];if(rn!==void 0){var an=rn.call(sn,O);if(typeof an!="object")return an;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(sn)}function _toPropertyKey$1(sn){var O=_toPrimitive$1(sn,"string");return typeof O=="symbol"?O:O+""}function _typeof(sn){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_typeof(sn)}function _classCallCheck$1(sn,O){if(!(sn instanceof O))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(sn,O){for(var rn=0;rn<O.length;rn++){var an=O[rn];an.enumerable=an.enumerable||!1,an.configurable=!0,"value"in an&&(an.writable=!0),Object.defineProperty(sn,_toPropertyKey$1(an.key),an)}}function _createClass$1(sn,O,rn){return O&&_defineProperties$1(sn.prototype,O),rn&&_defineProperties$1(sn,rn),Object.defineProperty(sn,"prototype",{writable:!1}),sn}function _defineProperty$1(sn,O,rn){return O=_toPropertyKey$1(O),O in sn?Object.defineProperty(sn,O,{value:rn,enumerable:!0,configurable:!0,writable:!0}):sn[O]=rn,sn}function _toConsumableArray(sn){return _arrayWithoutHoles(sn)||_iterableToArray(sn)||_unsupportedIterableToArray(sn)||_nonIterableSpread()}function _arrayWithoutHoles(sn){if(Array.isArray(sn))return _arrayLikeToArray(sn)}function _iterableToArray(sn){if(typeof Symbol<"u"&&sn[Symbol.iterator]!=null||sn["@@iterator"]!=null)return Array.from(sn)}function _unsupportedIterableToArray(sn,O){if(sn){if(typeof sn=="string")return _arrayLikeToArray(sn,O);var rn=Object.prototype.toString.call(sn).slice(8,-1);if(rn==="Object"&&sn.constructor&&(rn=sn.constructor.name),rn==="Map"||rn==="Set")return Array.from(sn);if(rn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rn))return _arrayLikeToArray(sn,O)}}function _arrayLikeToArray(sn,O){(O==null||O>sn.length)&&(O=sn.length);for(var rn=0,an=new Array(O);rn<O;rn++)an[rn]=sn[rn];return an}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IS_BROWSER$1=typeof window<"u"&&typeof window.document<"u",WINDOW$1=IS_BROWSER$1?window:{},IS_TOUCH_DEVICE=IS_BROWSER$1&&WINDOW$1.document.documentElement?"ontouchstart"in WINDOW$1.document.documentElement:!1,HAS_POINTER_EVENT=IS_BROWSER$1?"PointerEvent"in WINDOW$1:!1,NAMESPACE="cropper",ACTION_ALL="all",ACTION_CROP="crop",ACTION_MOVE="move",ACTION_ZOOM="zoom",ACTION_EAST="e",ACTION_WEST="w",ACTION_SOUTH="s",ACTION_NORTH="n",ACTION_NORTH_EAST="ne",ACTION_NORTH_WEST="nw",ACTION_SOUTH_EAST="se",ACTION_SOUTH_WEST="sw",CLASS_CROP="".concat(NAMESPACE,"-crop"),CLASS_DISABLED="".concat(NAMESPACE,"-disabled"),CLASS_HIDDEN="".concat(NAMESPACE,"-hidden"),CLASS_HIDE="".concat(NAMESPACE,"-hide"),CLASS_INVISIBLE="".concat(NAMESPACE,"-invisible"),CLASS_MODAL="".concat(NAMESPACE,"-modal"),CLASS_MOVE="".concat(NAMESPACE,"-move"),DATA_ACTION="".concat(NAMESPACE,"Action"),DATA_PREVIEW="".concat(NAMESPACE,"Preview"),DRAG_MODE_CROP="crop",DRAG_MODE_MOVE="move",DRAG_MODE_NONE="none",EVENT_CROP="crop",EVENT_CROP_END="cropend",EVENT_CROP_MOVE="cropmove",EVENT_CROP_START="cropstart",EVENT_DBLCLICK="dblclick",EVENT_TOUCH_START=IS_TOUCH_DEVICE?"touchstart":"mousedown",EVENT_TOUCH_MOVE=IS_TOUCH_DEVICE?"touchmove":"mousemove",EVENT_TOUCH_END=IS_TOUCH_DEVICE?"touchend touchcancel":"mouseup",EVENT_POINTER_DOWN=HAS_POINTER_EVENT?"pointerdown":EVENT_TOUCH_START,EVENT_POINTER_MOVE=HAS_POINTER_EVENT?"pointermove":EVENT_TOUCH_MOVE,EVENT_POINTER_UP=HAS_POINTER_EVENT?"pointerup pointercancel":EVENT_TOUCH_END,EVENT_READY="ready",EVENT_RESIZE="resize",EVENT_WHEEL="wheel",EVENT_ZOOM="zoom",MIME_TYPE_JPEG="image/jpeg",REGEXP_ACTIONS=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^img|canvas$/i,MIN_CONTAINER_WIDTH=200,MIN_CONTAINER_HEIGHT=100,DEFAULTS$1={viewMode:0,dragMode:DRAG_MODE_CROP,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:MIN_CONTAINER_WIDTH,minContainerHeight:MIN_CONTAINER_HEIGHT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},TEMPLATE='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',isNaN$1=Number.isNaN||WINDOW$1.isNaN;function isNumber$1(sn){return typeof sn=="number"&&!isNaN$1(sn)}var isPositiveNumber$1=function(O){return O>0&&O<1/0};function isUndefined(sn){return typeof sn>"u"}function isObject$1(sn){return _typeof(sn)==="object"&&sn!==null}var hasOwnProperty=Object.prototype.hasOwnProperty;function isPlainObject$1(sn){if(!isObject$1(sn))return!1;try{var O=sn.constructor,rn=O.prototype;return O&&rn&&hasOwnProperty.call(rn,"isPrototypeOf")}catch{return!1}}function isFunction$1(sn){return typeof sn=="function"}var slice$1=Array.prototype.slice;function toArray$1(sn){return Array.from?Array.from(sn):slice$1.call(sn)}function forEach(sn,O){return sn&&isFunction$1(O)&&(Array.isArray(sn)||isNumber$1(sn.length)?toArray$1(sn).forEach(function(rn,an){O.call(sn,rn,an,sn)}):isObject$1(sn)&&Object.keys(sn).forEach(function(rn){O.call(sn,sn[rn],rn,sn)})),sn}var assign=Object.assign||function(O){for(var rn=arguments.length,an=new Array(rn>1?rn-1:0),un=1;un<rn;un++)an[un-1]=arguments[un];return isObject$1(O)&&an.length>0&&an.forEach(function(dn){isObject$1(dn)&&Object.keys(dn).forEach(function(hn){O[hn]=dn[hn]})}),O},REGEXP_DECIMALS$1=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber$1(sn){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS$1.test(sn)?Math.round(sn*O)/O:sn}var REGEXP_SUFFIX=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(sn,O){var rn=sn.style;forEach(O,function(an,un){REGEXP_SUFFIX.test(un)&&isNumber$1(an)&&(an="".concat(an,"px")),rn[un]=an})}function hasClass(sn,O){return sn.classList?sn.classList.contains(O):sn.className.indexOf(O)>-1}function addClass(sn,O){if(O){if(isNumber$1(sn.length)){forEach(sn,function(an){addClass(an,O)});return}if(sn.classList){sn.classList.add(O);return}var rn=sn.className.trim();rn?rn.indexOf(O)<0&&(sn.className="".concat(rn," ").concat(O)):sn.className=O}}function removeClass(sn,O){if(O){if(isNumber$1(sn.length)){forEach(sn,function(rn){removeClass(rn,O)});return}if(sn.classList){sn.classList.remove(O);return}sn.className.indexOf(O)>=0&&(sn.className=sn.className.replace(O,""))}}function toggleClass(sn,O,rn){if(O){if(isNumber$1(sn.length)){forEach(sn,function(an){toggleClass(an,O,rn)});return}rn?addClass(sn,O):removeClass(sn,O)}}var REGEXP_CAMEL_CASE=/([a-z\d])([A-Z])/g;function toParamCase(sn){return sn.replace(REGEXP_CAMEL_CASE,"$1-$2").toLowerCase()}function getData(sn,O){return isObject$1(sn[O])?sn[O]:sn.dataset?sn.dataset[O]:sn.getAttribute("data-".concat(toParamCase(O)))}function setData(sn,O,rn){isObject$1(rn)?sn[O]=rn:sn.dataset?sn.dataset[O]=rn:sn.setAttribute("data-".concat(toParamCase(O)),rn)}function removeData(sn,O){if(isObject$1(sn[O]))try{delete sn[O]}catch{sn[O]=void 0}else if(sn.dataset)try{delete sn.dataset[O]}catch{sn.dataset[O]=void 0}else sn.removeAttribute("data-".concat(toParamCase(O)))}var REGEXP_SPACES=/\s\s*/,onceSupported=(function(){var sn=!1;if(IS_BROWSER$1){var O=!1,rn=function(){},an=Object.defineProperty({},"once",{get:function(){return sn=!0,O},set:function(dn){O=dn}});WINDOW$1.addEventListener("test",rn,an),WINDOW$1.removeEventListener("test",rn,an)}return sn})();function removeListener(sn,O,rn){var an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},un=rn;O.trim().split(REGEXP_SPACES).forEach(function(dn){if(!onceSupported){var hn=sn.listeners;hn&&hn[dn]&&hn[dn][rn]&&(un=hn[dn][rn],delete hn[dn][rn],Object.keys(hn[dn]).length===0&&delete hn[dn],Object.keys(hn).length===0&&delete sn.listeners)}sn.removeEventListener(dn,un,an)})}function addListener(sn,O,rn){var an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},un=rn;O.trim().split(REGEXP_SPACES).forEach(function(dn){if(an.once&&!onceSupported){var hn=sn.listeners,mn=hn===void 0?{}:hn;un=function(){delete mn[dn][rn],sn.removeEventListener(dn,un,an);for(var gn=arguments.length,wn=new Array(gn),vn=0;vn<gn;vn++)wn[vn]=arguments[vn];rn.apply(sn,wn)},mn[dn]||(mn[dn]={}),mn[dn][rn]&&sn.removeEventListener(dn,mn[dn][rn],an),mn[dn][rn]=un,sn.listeners=mn}sn.addEventListener(dn,un,an)})}function dispatchEvent(sn,O,rn){var an;return isFunction$1(Event)&&isFunction$1(CustomEvent)?an=new CustomEvent(O,{detail:rn,bubbles:!0,cancelable:!0}):(an=document.createEvent("CustomEvent"),an.initCustomEvent(O,!0,!0,rn)),sn.dispatchEvent(an)}function getOffset(sn){var O=sn.getBoundingClientRect();return{left:O.left+(window.pageXOffset-document.documentElement.clientLeft),top:O.top+(window.pageYOffset-document.documentElement.clientTop)}}var location$1=WINDOW$1.location,REGEXP_ORIGINS=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(sn){var O=sn.match(REGEXP_ORIGINS);return O!==null&&(O[1]!==location$1.protocol||O[2]!==location$1.hostname||O[3]!==location$1.port)}function addTimestamp(sn){var O="timestamp=".concat(new Date().getTime());return sn+(sn.indexOf("?")===-1?"?":"&")+O}function getTransforms(sn){var O=sn.rotate,rn=sn.scaleX,an=sn.scaleY,un=sn.translateX,dn=sn.translateY,hn=[];isNumber$1(un)&&un!==0&&hn.push("translateX(".concat(un,"px)")),isNumber$1(dn)&&dn!==0&&hn.push("translateY(".concat(dn,"px)")),isNumber$1(O)&&O!==0&&hn.push("rotate(".concat(O,"deg)")),isNumber$1(rn)&&rn!==1&&hn.push("scaleX(".concat(rn,")")),isNumber$1(an)&&an!==1&&hn.push("scaleY(".concat(an,")"));var mn=hn.length?hn.join(" "):"none";return{WebkitTransform:mn,msTransform:mn,transform:mn}}function getMaxZoomRatio(sn){var O=_objectSpread2$1({},sn),rn=0;return forEach(sn,function(an,un){delete O[un],forEach(O,function(dn){var hn=Math.abs(an.startX-dn.startX),mn=Math.abs(an.startY-dn.startY),xn=Math.abs(an.endX-dn.endX),gn=Math.abs(an.endY-dn.endY),wn=Math.sqrt(hn*hn+mn*mn),vn=Math.sqrt(xn*xn+gn*gn),An=(vn-wn)/wn;Math.abs(An)>Math.abs(rn)&&(rn=An)})}),rn}function getPointer(sn,O){var rn=sn.pageX,an=sn.pageY,un={endX:rn,endY:an};return O?un:_objectSpread2$1({startX:rn,startY:an},un)}function getPointersCenter(sn){var O=0,rn=0,an=0;return forEach(sn,function(un){var dn=un.startX,hn=un.startY;O+=dn,rn+=hn,an+=1}),O/=an,rn/=an,{pageX:O,pageY:rn}}function getAdjustedSizes$1(sn){var O=sn.aspectRatio,rn=sn.height,an=sn.width,un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",dn=isPositiveNumber$1(an),hn=isPositiveNumber$1(rn);if(dn&&hn){var mn=rn*O;un==="contain"&&mn>an||un==="cover"&&mn<an?rn=an/O:an=rn*O}else dn?rn=an/O:hn&&(an=rn*O);return{width:an,height:rn}}function getRotatedSizes(sn){var O=sn.width,rn=sn.height,an=sn.degree;if(an=Math.abs(an)%180,an===90)return{width:rn,height:O};var un=an%90*Math.PI/180,dn=Math.sin(un),hn=Math.cos(un),mn=O*hn+rn*dn,xn=O*dn+rn*hn;return an>90?{width:xn,height:mn}:{width:mn,height:xn}}function getSourceCanvas(sn,O,rn,an){var un=O.aspectRatio,dn=O.naturalWidth,hn=O.naturalHeight,mn=O.rotate,xn=mn===void 0?0:mn,gn=O.scaleX,wn=gn===void 0?1:gn,vn=O.scaleY,An=vn===void 0?1:vn,Cn=rn.aspectRatio,Sn=rn.naturalWidth,Nn=rn.naturalHeight,jn=an.fillColor,Hn=jn===void 0?"transparent":jn,Bn=an.imageSmoothingEnabled,On=Bn===void 0?!0:Bn,Mn=an.imageSmoothingQuality,Un=Mn===void 0?"low":Mn,Tn=an.maxWidth,zn=Tn===void 0?1/0:Tn,Dn=an.maxHeight,In=Dn===void 0?1/0:Dn,Ln=an.minWidth,Wn=Ln===void 0?0:Ln,Fn=an.minHeight,Pn=Fn===void 0?0:Fn,Vn=document.createElement("canvas"),Zn=Vn.getContext("2d"),Yn=getAdjustedSizes$1({aspectRatio:Cn,width:zn,height:In}),Qn=getAdjustedSizes$1({aspectRatio:Cn,width:Wn,height:Pn},"cover"),Xn=Math.min(Yn.width,Math.max(Qn.width,Sn)),rr=Math.min(Yn.height,Math.max(Qn.height,Nn)),sr=getAdjustedSizes$1({aspectRatio:un,width:zn,height:In}),Jn=getAdjustedSizes$1({aspectRatio:un,width:Wn,height:Pn},"cover"),nr=Math.min(sr.width,Math.max(Jn.width,dn)),ar=Math.min(sr.height,Math.max(Jn.height,hn)),or=[-nr/2,-ar/2,nr,ar];return Vn.width=normalizeDecimalNumber$1(Xn),Vn.height=normalizeDecimalNumber$1(rr),Zn.fillStyle=Hn,Zn.fillRect(0,0,Xn,rr),Zn.save(),Zn.translate(Xn/2,rr/2),Zn.rotate(xn*Math.PI/180),Zn.scale(wn,An),Zn.imageSmoothingEnabled=On,Zn.imageSmoothingQuality=Un,Zn.drawImage.apply(Zn,[sn].concat(_toConsumableArray(or.map(function(dr){return Math.floor(normalizeDecimalNumber$1(dr))})))),Zn.restore(),Vn}var fromCharCode$1=String.fromCharCode;function getStringFromCharCode$1(sn,O,rn){var an="";rn+=O;for(var un=O;un<rn;un+=1)an+=fromCharCode$1(sn.getUint8(un));return an}var REGEXP_DATA_URL_HEAD=/^data:.*,/;function dataURLToArrayBuffer(sn){var O=sn.replace(REGEXP_DATA_URL_HEAD,""),rn=atob(O),an=new ArrayBuffer(rn.length),un=new Uint8Array(an);return forEach(un,function(dn,hn){un[hn]=rn.charCodeAt(hn)}),an}function arrayBufferToDataURL$1(sn,O){for(var rn=[],an=8192,un=new Uint8Array(sn);un.length>0;)rn.push(fromCharCode$1.apply(null,toArray$1(un.subarray(0,an)))),un=un.subarray(an);return"data:".concat(O,";base64,").concat(btoa(rn.join("")))}function resetAndGetOrientation$1(sn){var O=new DataView(sn),rn;try{var an,un,dn;if(O.getUint8(0)===255&&O.getUint8(1)===216)for(var hn=O.byteLength,mn=2;mn+1<hn;){if(O.getUint8(mn)===255&&O.getUint8(mn+1)===225){un=mn;break}mn+=1}if(un){var xn=un+4,gn=un+10;if(getStringFromCharCode$1(O,xn,4)==="Exif"){var wn=O.getUint16(gn);if(an=wn===18761,(an||wn===19789)&&O.getUint16(gn+2,an)===42){var vn=O.getUint32(gn+4,an);vn>=8&&(dn=gn+vn)}}}if(dn){var An=O.getUint16(dn,an),Cn,Sn;for(Sn=0;Sn<An;Sn+=1)if(Cn=dn+Sn*12+2,O.getUint16(Cn,an)===274){Cn+=8,rn=O.getUint16(Cn,an),O.setUint16(Cn,1,an);break}}}catch{rn=1}return rn}function parseOrientation$1(sn){var O=0,rn=1,an=1;switch(sn){case 2:rn=-1;break;case 3:O=-180;break;case 4:an=-1;break;case 5:O=90,an=-1;break;case 6:O=90;break;case 7:O=90,rn=-1;break;case 8:O=-90;break}return{rotate:O,scaleX:rn,scaleY:an}}var render={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var O=this.element,rn=this.options,an=this.container,un=this.cropper,dn=Number(rn.minContainerWidth),hn=Number(rn.minContainerHeight);addClass(un,CLASS_HIDDEN),removeClass(O,CLASS_HIDDEN);var mn={width:Math.max(an.offsetWidth,dn>=0?dn:MIN_CONTAINER_WIDTH),height:Math.max(an.offsetHeight,hn>=0?hn:MIN_CONTAINER_HEIGHT)};this.containerData=mn,setStyle(un,{width:mn.width,height:mn.height}),addClass(O,CLASS_HIDDEN),removeClass(un,CLASS_HIDDEN)},initCanvas:function(){var O=this.containerData,rn=this.imageData,an=this.options.viewMode,un=Math.abs(rn.rotate)%180===90,dn=un?rn.naturalHeight:rn.naturalWidth,hn=un?rn.naturalWidth:rn.naturalHeight,mn=dn/hn,xn=O.width,gn=O.height;O.height*mn>O.width?an===3?xn=O.height*mn:gn=O.width/mn:an===3?gn=O.width/mn:xn=O.height*mn;var wn={aspectRatio:mn,naturalWidth:dn,naturalHeight:hn,width:xn,height:gn};this.canvasData=wn,this.limited=an===1||an===2,this.limitCanvas(!0,!0),wn.width=Math.min(Math.max(wn.width,wn.minWidth),wn.maxWidth),wn.height=Math.min(Math.max(wn.height,wn.minHeight),wn.maxHeight),wn.left=(O.width-wn.width)/2,wn.top=(O.height-wn.height)/2,wn.oldLeft=wn.left,wn.oldTop=wn.top,this.initialCanvasData=assign({},wn)},limitCanvas:function(O,rn){var an=this.options,un=this.containerData,dn=this.canvasData,hn=this.cropBoxData,mn=an.viewMode,xn=dn.aspectRatio,gn=this.cropped&&hn;if(O){var wn=Number(an.minCanvasWidth)||0,vn=Number(an.minCanvasHeight)||0;mn>1?(wn=Math.max(wn,un.width),vn=Math.max(vn,un.height),mn===3&&(vn*xn>wn?wn=vn*xn:vn=wn/xn)):mn>0&&(wn?wn=Math.max(wn,gn?hn.width:0):vn?vn=Math.max(vn,gn?hn.height:0):gn&&(wn=hn.width,vn=hn.height,vn*xn>wn?wn=vn*xn:vn=wn/xn));var An=getAdjustedSizes$1({aspectRatio:xn,width:wn,height:vn});wn=An.width,vn=An.height,dn.minWidth=wn,dn.minHeight=vn,dn.maxWidth=1/0,dn.maxHeight=1/0}if(rn)if(mn>(gn?0:1)){var Cn=un.width-dn.width,Sn=un.height-dn.height;dn.minLeft=Math.min(0,Cn),dn.minTop=Math.min(0,Sn),dn.maxLeft=Math.max(0,Cn),dn.maxTop=Math.max(0,Sn),gn&&this.limited&&(dn.minLeft=Math.min(hn.left,hn.left+(hn.width-dn.width)),dn.minTop=Math.min(hn.top,hn.top+(hn.height-dn.height)),dn.maxLeft=hn.left,dn.maxTop=hn.top,mn===2&&(dn.width>=un.width&&(dn.minLeft=Math.min(0,Cn),dn.maxLeft=Math.max(0,Cn)),dn.height>=un.height&&(dn.minTop=Math.min(0,Sn),dn.maxTop=Math.max(0,Sn))))}else dn.minLeft=-dn.width,dn.minTop=-dn.height,dn.maxLeft=un.width,dn.maxTop=un.height},renderCanvas:function(O,rn){var an=this.canvasData,un=this.imageData;if(rn){var dn=getRotatedSizes({width:un.naturalWidth*Math.abs(un.scaleX||1),height:un.naturalHeight*Math.abs(un.scaleY||1),degree:un.rotate||0}),hn=dn.width,mn=dn.height,xn=an.width*(hn/an.naturalWidth),gn=an.height*(mn/an.naturalHeight);an.left-=(xn-an.width)/2,an.top-=(gn-an.height)/2,an.width=xn,an.height=gn,an.aspectRatio=hn/mn,an.naturalWidth=hn,an.naturalHeight=mn,this.limitCanvas(!0,!1)}(an.width>an.maxWidth||an.width<an.minWidth)&&(an.left=an.oldLeft),(an.height>an.maxHeight||an.height<an.minHeight)&&(an.top=an.oldTop),an.width=Math.min(Math.max(an.width,an.minWidth),an.maxWidth),an.height=Math.min(Math.max(an.height,an.minHeight),an.maxHeight),this.limitCanvas(!1,!0),an.left=Math.min(Math.max(an.left,an.minLeft),an.maxLeft),an.top=Math.min(Math.max(an.top,an.minTop),an.maxTop),an.oldLeft=an.left,an.oldTop=an.top,setStyle(this.canvas,assign({width:an.width,height:an.height},getTransforms({translateX:an.left,translateY:an.top}))),this.renderImage(O),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(O){var rn=this.canvasData,an=this.imageData,un=an.naturalWidth*(rn.width/rn.naturalWidth),dn=an.naturalHeight*(rn.height/rn.naturalHeight);assign(an,{width:un,height:dn,left:(rn.width-un)/2,top:(rn.height-dn)/2}),setStyle(this.image,assign({width:an.width,height:an.height},getTransforms(assign({translateX:an.left,translateY:an.top},an)))),O&&this.output()},initCropBox:function(){var O=this.options,rn=this.canvasData,an=O.aspectRatio||O.initialAspectRatio,un=Number(O.autoCropArea)||.8,dn={width:rn.width,height:rn.height};an&&(rn.height*an>rn.width?dn.height=dn.width/an:dn.width=dn.height*an),this.cropBoxData=dn,this.limitCropBox(!0,!0),dn.width=Math.min(Math.max(dn.width,dn.minWidth),dn.maxWidth),dn.height=Math.min(Math.max(dn.height,dn.minHeight),dn.maxHeight),dn.width=Math.max(dn.minWidth,dn.width*un),dn.height=Math.max(dn.minHeight,dn.height*un),dn.left=rn.left+(rn.width-dn.width)/2,dn.top=rn.top+(rn.height-dn.height)/2,dn.oldLeft=dn.left,dn.oldTop=dn.top,this.initialCropBoxData=assign({},dn)},limitCropBox:function(O,rn){var an=this.options,un=this.containerData,dn=this.canvasData,hn=this.cropBoxData,mn=this.limited,xn=an.aspectRatio;if(O){var gn=Number(an.minCropBoxWidth)||0,wn=Number(an.minCropBoxHeight)||0,vn=mn?Math.min(un.width,dn.width,dn.width+dn.left,un.width-dn.left):un.width,An=mn?Math.min(un.height,dn.height,dn.height+dn.top,un.height-dn.top):un.height;gn=Math.min(gn,un.width),wn=Math.min(wn,un.height),xn&&(gn&&wn?wn*xn>gn?wn=gn/xn:gn=wn*xn:gn?wn=gn/xn:wn&&(gn=wn*xn),An*xn>vn?An=vn/xn:vn=An*xn),hn.minWidth=Math.min(gn,vn),hn.minHeight=Math.min(wn,An),hn.maxWidth=vn,hn.maxHeight=An}rn&&(mn?(hn.minLeft=Math.max(0,dn.left),hn.minTop=Math.max(0,dn.top),hn.maxLeft=Math.min(un.width,dn.left+dn.width)-hn.width,hn.maxTop=Math.min(un.height,dn.top+dn.height)-hn.height):(hn.minLeft=0,hn.minTop=0,hn.maxLeft=un.width-hn.width,hn.maxTop=un.height-hn.height))},renderCropBox:function(){var O=this.options,rn=this.containerData,an=this.cropBoxData;(an.width>an.maxWidth||an.width<an.minWidth)&&(an.left=an.oldLeft),(an.height>an.maxHeight||an.height<an.minHeight)&&(an.top=an.oldTop),an.width=Math.min(Math.max(an.width,an.minWidth),an.maxWidth),an.height=Math.min(Math.max(an.height,an.minHeight),an.maxHeight),this.limitCropBox(!1,!0),an.left=Math.min(Math.max(an.left,an.minLeft),an.maxLeft),an.top=Math.min(Math.max(an.top,an.minTop),an.maxTop),an.oldLeft=an.left,an.oldTop=an.top,O.movable&&O.cropBoxMovable&&setData(this.face,DATA_ACTION,an.width>=rn.width&&an.height>=rn.height?ACTION_MOVE:ACTION_ALL),setStyle(this.cropBox,assign({width:an.width,height:an.height},getTransforms({translateX:an.left,translateY:an.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dispatchEvent(this.element,EVENT_CROP,this.getData())}},preview={initPreview:function(){var O=this.element,rn=this.crossOrigin,an=this.options.preview,un=rn?this.crossOriginUrl:this.url,dn=O.alt||"The image to preview",hn=document.createElement("img");if(rn&&(hn.crossOrigin=rn),hn.src=un,hn.alt=dn,this.viewBox.appendChild(hn),this.viewBoxImage=hn,!!an){var mn=an;typeof an=="string"?mn=O.ownerDocument.querySelectorAll(an):an.querySelector&&(mn=[an]),this.previews=mn,forEach(mn,function(xn){var gn=document.createElement("img");setData(xn,DATA_PREVIEW,{width:xn.offsetWidth,height:xn.offsetHeight,html:xn.innerHTML}),rn&&(gn.crossOrigin=rn),gn.src=un,gn.alt=dn,gn.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',xn.innerHTML="",xn.appendChild(gn)})}},resetPreview:function(){forEach(this.previews,function(O){var rn=getData(O,DATA_PREVIEW);setStyle(O,{width:rn.width,height:rn.height}),O.innerHTML=rn.html,removeData(O,DATA_PREVIEW)})},preview:function(){var O=this.imageData,rn=this.canvasData,an=this.cropBoxData,un=an.width,dn=an.height,hn=O.width,mn=O.height,xn=an.left-rn.left-O.left,gn=an.top-rn.top-O.top;!this.cropped||this.disabled||(setStyle(this.viewBoxImage,assign({width:hn,height:mn},getTransforms(assign({translateX:-xn,translateY:-gn},O)))),forEach(this.previews,function(wn){var vn=getData(wn,DATA_PREVIEW),An=vn.width,Cn=vn.height,Sn=An,Nn=Cn,jn=1;un&&(jn=An/un,Nn=dn*jn),dn&&Nn>Cn&&(jn=Cn/dn,Sn=un*jn,Nn=Cn),setStyle(wn,{width:Sn,height:Nn}),setStyle(wn.getElementsByTagName("img")[0],assign({width:hn*jn,height:mn*jn},getTransforms(assign({translateX:-xn*jn,translateY:-gn*jn},O))))}))}},events={bind:function(){var O=this.element,rn=this.options,an=this.cropper;isFunction$1(rn.cropstart)&&addListener(O,EVENT_CROP_START,rn.cropstart),isFunction$1(rn.cropmove)&&addListener(O,EVENT_CROP_MOVE,rn.cropmove),isFunction$1(rn.cropend)&&addListener(O,EVENT_CROP_END,rn.cropend),isFunction$1(rn.crop)&&addListener(O,EVENT_CROP,rn.crop),isFunction$1(rn.zoom)&&addListener(O,EVENT_ZOOM,rn.zoom),addListener(an,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),rn.zoomable&&rn.zoomOnWheel&&addListener(an,EVENT_WHEEL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),rn.toggleDragModeOnDblclick&&addListener(an,EVENT_DBLCLICK,this.onDblclick=this.dblclick.bind(this)),addListener(O.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(O.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),rn.responsive&&addListener(window,EVENT_RESIZE,this.onResize=this.resize.bind(this))},unbind:function(){var O=this.element,rn=this.options,an=this.cropper;isFunction$1(rn.cropstart)&&removeListener(O,EVENT_CROP_START,rn.cropstart),isFunction$1(rn.cropmove)&&removeListener(O,EVENT_CROP_MOVE,rn.cropmove),isFunction$1(rn.cropend)&&removeListener(O,EVENT_CROP_END,rn.cropend),isFunction$1(rn.crop)&&removeListener(O,EVENT_CROP,rn.crop),isFunction$1(rn.zoom)&&removeListener(O,EVENT_ZOOM,rn.zoom),removeListener(an,EVENT_POINTER_DOWN,this.onCropStart),rn.zoomable&&rn.zoomOnWheel&&removeListener(an,EVENT_WHEEL,this.onWheel,{passive:!1,capture:!0}),rn.toggleDragModeOnDblclick&&removeListener(an,EVENT_DBLCLICK,this.onDblclick),removeListener(O.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(O.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),rn.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}},handlers={resize:function(){if(!this.disabled){var O=this.options,rn=this.container,an=this.containerData,un=rn.offsetWidth/an.width,dn=rn.offsetHeight/an.height,hn=Math.abs(un-1)>Math.abs(dn-1)?un:dn;if(hn!==1){var mn,xn;O.restore&&(mn=this.getCanvasData(),xn=this.getCropBoxData()),this.render(),O.restore&&(this.setCanvasData(forEach(mn,function(gn,wn){mn[wn]=gn*hn})),this.setCropBoxData(forEach(xn,function(gn,wn){xn[wn]=gn*hn})))}}},dblclick:function(){this.disabled||this.options.dragMode===DRAG_MODE_NONE||this.setDragMode(hasClass(this.dragBox,CLASS_CROP)?DRAG_MODE_MOVE:DRAG_MODE_CROP)},wheel:function(O){var rn=this,an=Number(this.options.wheelZoomRatio)||.1,un=1;this.disabled||(O.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){rn.wheeling=!1},50),O.deltaY?un=O.deltaY>0?1:-1:O.wheelDelta?un=-O.wheelDelta/120:O.detail&&(un=O.detail>0?1:-1),this.zoom(-un*an,O)))},cropStart:function(O){var rn=O.buttons,an=O.button;if(!(this.disabled||(O.type==="mousedown"||O.type==="pointerdown"&&O.pointerType==="mouse")&&(isNumber$1(rn)&&rn!==1||isNumber$1(an)&&an!==0||O.ctrlKey))){var un=this.options,dn=this.pointers,hn;O.changedTouches?forEach(O.changedTouches,function(mn){dn[mn.identifier]=getPointer(mn)}):dn[O.pointerId||0]=getPointer(O),Object.keys(dn).length>1&&un.zoomable&&un.zoomOnTouch?hn=ACTION_ZOOM:hn=getData(O.target,DATA_ACTION),REGEXP_ACTIONS.test(hn)&&dispatchEvent(this.element,EVENT_CROP_START,{originalEvent:O,action:hn})!==!1&&(O.preventDefault(),this.action=hn,this.cropping=!1,hn===ACTION_CROP&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function(O){var rn=this.action;if(!(this.disabled||!rn)){var an=this.pointers;O.preventDefault(),dispatchEvent(this.element,EVENT_CROP_MOVE,{originalEvent:O,action:rn})!==!1&&(O.changedTouches?forEach(O.changedTouches,function(un){assign(an[un.identifier]||{},getPointer(un,!0))}):assign(an[O.pointerId||0]||{},getPointer(O,!0)),this.change(O))}},cropEnd:function(O){if(!this.disabled){var rn=this.action,an=this.pointers;O.changedTouches?forEach(O.changedTouches,function(un){delete an[un.identifier]}):delete an[O.pointerId||0],rn&&(O.preventDefault(),Object.keys(an).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent(this.element,EVENT_CROP_END,{originalEvent:O,action:rn}))}}},change={change:function(O){var rn=this.options,an=this.canvasData,un=this.containerData,dn=this.cropBoxData,hn=this.pointers,mn=this.action,xn=rn.aspectRatio,gn=dn.left,wn=dn.top,vn=dn.width,An=dn.height,Cn=gn+vn,Sn=wn+An,Nn=0,jn=0,Hn=un.width,Bn=un.height,On=!0,Mn;!xn&&O.shiftKey&&(xn=vn&&An?vn/An:1),this.limited&&(Nn=dn.minLeft,jn=dn.minTop,Hn=Nn+Math.min(un.width,an.width,an.left+an.width),Bn=jn+Math.min(un.height,an.height,an.top+an.height));var Un=hn[Object.keys(hn)[0]],Tn={x:Un.endX-Un.startX,y:Un.endY-Un.startY},zn=function(In){switch(In){case ACTION_EAST:Cn+Tn.x>Hn&&(Tn.x=Hn-Cn);break;case ACTION_WEST:gn+Tn.x<Nn&&(Tn.x=Nn-gn);break;case ACTION_NORTH:wn+Tn.y<jn&&(Tn.y=jn-wn);break;case ACTION_SOUTH:Sn+Tn.y>Bn&&(Tn.y=Bn-Sn);break}};switch(mn){case ACTION_ALL:gn+=Tn.x,wn+=Tn.y;break;case ACTION_EAST:if(Tn.x>=0&&(Cn>=Hn||xn&&(wn<=jn||Sn>=Bn))){On=!1;break}zn(ACTION_EAST),vn+=Tn.x,vn<0&&(mn=ACTION_WEST,vn=-vn,gn-=vn),xn&&(An=vn/xn,wn+=(dn.height-An)/2);break;case ACTION_NORTH:if(Tn.y<=0&&(wn<=jn||xn&&(gn<=Nn||Cn>=Hn))){On=!1;break}zn(ACTION_NORTH),An-=Tn.y,wn+=Tn.y,An<0&&(mn=ACTION_SOUTH,An=-An,wn-=An),xn&&(vn=An*xn,gn+=(dn.width-vn)/2);break;case ACTION_WEST:if(Tn.x<=0&&(gn<=Nn||xn&&(wn<=jn||Sn>=Bn))){On=!1;break}zn(ACTION_WEST),vn-=Tn.x,gn+=Tn.x,vn<0&&(mn=ACTION_EAST,vn=-vn,gn-=vn),xn&&(An=vn/xn,wn+=(dn.height-An)/2);break;case ACTION_SOUTH:if(Tn.y>=0&&(Sn>=Bn||xn&&(gn<=Nn||Cn>=Hn))){On=!1;break}zn(ACTION_SOUTH),An+=Tn.y,An<0&&(mn=ACTION_NORTH,An=-An,wn-=An),xn&&(vn=An*xn,gn+=(dn.width-vn)/2);break;case ACTION_NORTH_EAST:if(xn){if(Tn.y<=0&&(wn<=jn||Cn>=Hn)){On=!1;break}zn(ACTION_NORTH),An-=Tn.y,wn+=Tn.y,vn=An*xn}else zn(ACTION_NORTH),zn(ACTION_EAST),Tn.x>=0?Cn<Hn?vn+=Tn.x:Tn.y<=0&&wn<=jn&&(On=!1):vn+=Tn.x,Tn.y<=0?wn>jn&&(An-=Tn.y,wn+=Tn.y):(An-=Tn.y,wn+=Tn.y);vn<0&&An<0?(mn=ACTION_SOUTH_WEST,An=-An,vn=-vn,wn-=An,gn-=vn):vn<0?(mn=ACTION_NORTH_WEST,vn=-vn,gn-=vn):An<0&&(mn=ACTION_SOUTH_EAST,An=-An,wn-=An);break;case ACTION_NORTH_WEST:if(xn){if(Tn.y<=0&&(wn<=jn||gn<=Nn)){On=!1;break}zn(ACTION_NORTH),An-=Tn.y,wn+=Tn.y,vn=An*xn,gn+=dn.width-vn}else zn(ACTION_NORTH),zn(ACTION_WEST),Tn.x<=0?gn>Nn?(vn-=Tn.x,gn+=Tn.x):Tn.y<=0&&wn<=jn&&(On=!1):(vn-=Tn.x,gn+=Tn.x),Tn.y<=0?wn>jn&&(An-=Tn.y,wn+=Tn.y):(An-=Tn.y,wn+=Tn.y);vn<0&&An<0?(mn=ACTION_SOUTH_EAST,An=-An,vn=-vn,wn-=An,gn-=vn):vn<0?(mn=ACTION_NORTH_EAST,vn=-vn,gn-=vn):An<0&&(mn=ACTION_SOUTH_WEST,An=-An,wn-=An);break;case ACTION_SOUTH_WEST:if(xn){if(Tn.x<=0&&(gn<=Nn||Sn>=Bn)){On=!1;break}zn(ACTION_WEST),vn-=Tn.x,gn+=Tn.x,An=vn/xn}else zn(ACTION_SOUTH),zn(ACTION_WEST),Tn.x<=0?gn>Nn?(vn-=Tn.x,gn+=Tn.x):Tn.y>=0&&Sn>=Bn&&(On=!1):(vn-=Tn.x,gn+=Tn.x),Tn.y>=0?Sn<Bn&&(An+=Tn.y):An+=Tn.y;vn<0&&An<0?(mn=ACTION_NORTH_EAST,An=-An,vn=-vn,wn-=An,gn-=vn):vn<0?(mn=ACTION_SOUTH_EAST,vn=-vn,gn-=vn):An<0&&(mn=ACTION_NORTH_WEST,An=-An,wn-=An);break;case ACTION_SOUTH_EAST:if(xn){if(Tn.x>=0&&(Cn>=Hn||Sn>=Bn)){On=!1;break}zn(ACTION_EAST),vn+=Tn.x,An=vn/xn}else zn(ACTION_SOUTH),zn(ACTION_EAST),Tn.x>=0?Cn<Hn?vn+=Tn.x:Tn.y>=0&&Sn>=Bn&&(On=!1):vn+=Tn.x,Tn.y>=0?Sn<Bn&&(An+=Tn.y):An+=Tn.y;vn<0&&An<0?(mn=ACTION_NORTH_WEST,An=-An,vn=-vn,wn-=An,gn-=vn):vn<0?(mn=ACTION_SOUTH_WEST,vn=-vn,gn-=vn):An<0&&(mn=ACTION_NORTH_EAST,An=-An,wn-=An);break;case ACTION_MOVE:this.move(Tn.x,Tn.y),On=!1;break;case ACTION_ZOOM:this.zoom(getMaxZoomRatio(hn),O),On=!1;break;case ACTION_CROP:if(!Tn.x||!Tn.y){On=!1;break}Mn=getOffset(this.cropper),gn=Un.startX-Mn.left,wn=Un.startY-Mn.top,vn=dn.minWidth,An=dn.minHeight,Tn.x>0?mn=Tn.y>0?ACTION_SOUTH_EAST:ACTION_NORTH_EAST:Tn.x<0&&(gn-=vn,mn=Tn.y>0?ACTION_SOUTH_WEST:ACTION_NORTH_WEST),Tn.y<0&&(wn-=An),this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}On&&(dn.width=vn,dn.height=An,dn.left=gn,dn.top=wn,this.action=mn,this.renderCropBox()),forEach(hn,function(Dn){Dn.startX=Dn.endX,Dn.startY=Dn.endY})}},methods$1={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=assign({},this.initialImageData),this.canvasData=assign({},this.initialCanvasData),this.cropBoxData=assign({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(assign(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function(O){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&O&&(this.isImg&&(this.element.src=O),rn?(this.url=O,this.image.src=O,this.ready&&(this.viewBoxImage.src=O,forEach(this.previews,function(an){an.getElementsByTagName("img")[0].src=O}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(O))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function(){var O=this.element;return O[NAMESPACE]?(O[NAMESPACE]=void 0,this.isImg&&this.replaced&&(O.src=this.originalUrl),this.uncreate(),this):this},move:function(O){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,an=this.canvasData,un=an.left,dn=an.top;return this.moveTo(isUndefined(O)?O:un+Number(O),isUndefined(rn)?rn:dn+Number(rn))},moveTo:function(O){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,an=this.canvasData,un=!1;return O=Number(O),rn=Number(rn),this.ready&&!this.disabled&&this.options.movable&&(isNumber$1(O)&&(an.left=O,un=!0),isNumber$1(rn)&&(an.top=rn,un=!0),un&&this.renderCanvas(!0)),this},zoom:function(O,rn){var an=this.canvasData;return O=Number(O),O<0?O=1/(1-O):O=1+O,this.zoomTo(an.width*O/an.naturalWidth,null,rn)},zoomTo:function(O,rn,an){var un=this.options,dn=this.canvasData,hn=dn.width,mn=dn.height,xn=dn.naturalWidth,gn=dn.naturalHeight;if(O=Number(O),O>=0&&this.ready&&!this.disabled&&un.zoomable){var wn=xn*O,vn=gn*O;if(dispatchEvent(this.element,EVENT_ZOOM,{ratio:O,oldRatio:hn/xn,originalEvent:an})===!1)return this;if(an){var An=this.pointers,Cn=getOffset(this.cropper),Sn=An&&Object.keys(An).length?getPointersCenter(An):{pageX:an.pageX,pageY:an.pageY};dn.left-=(wn-hn)*((Sn.pageX-Cn.left-dn.left)/hn),dn.top-=(vn-mn)*((Sn.pageY-Cn.top-dn.top)/mn)}else isPlainObject$1(rn)&&isNumber$1(rn.x)&&isNumber$1(rn.y)?(dn.left-=(wn-hn)*((rn.x-dn.left)/hn),dn.top-=(vn-mn)*((rn.y-dn.top)/mn)):(dn.left-=(wn-hn)/2,dn.top-=(vn-mn)/2);dn.width=wn,dn.height=vn,this.renderCanvas(!0)}return this},rotate:function(O){return this.rotateTo((this.imageData.rotate||0)+Number(O))},rotateTo:function(O){return O=Number(O),isNumber$1(O)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=O%360,this.renderCanvas(!0,!0)),this},scaleX:function(O){var rn=this.imageData.scaleY;return this.scale(O,isNumber$1(rn)?rn:1)},scaleY:function(O){var rn=this.imageData.scaleX;return this.scale(isNumber$1(rn)?rn:1,O)},scale:function(O){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,an=this.imageData,un=!1;return O=Number(O),rn=Number(rn),this.ready&&!this.disabled&&this.options.scalable&&(isNumber$1(O)&&(an.scaleX=O,un=!0),isNumber$1(rn)&&(an.scaleY=rn,un=!0),un&&this.renderCanvas(!0,!0)),this},getData:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,rn=this.options,an=this.imageData,un=this.canvasData,dn=this.cropBoxData,hn;if(this.ready&&this.cropped){hn={x:dn.left-un.left,y:dn.top-un.top,width:dn.width,height:dn.height};var mn=an.width/an.naturalWidth;if(forEach(hn,function(wn,vn){hn[vn]=wn/mn}),O){var xn=Math.round(hn.y+hn.height),gn=Math.round(hn.x+hn.width);hn.x=Math.round(hn.x),hn.y=Math.round(hn.y),hn.width=gn-hn.x,hn.height=xn-hn.y}}else hn={x:0,y:0,width:0,height:0};return rn.rotatable&&(hn.rotate=an.rotate||0),rn.scalable&&(hn.scaleX=an.scaleX||1,hn.scaleY=an.scaleY||1),hn},setData:function(O){var rn=this.options,an=this.imageData,un=this.canvasData,dn={};if(this.ready&&!this.disabled&&isPlainObject$1(O)){var hn=!1;rn.rotatable&&isNumber$1(O.rotate)&&O.rotate!==an.rotate&&(an.rotate=O.rotate,hn=!0),rn.scalable&&(isNumber$1(O.scaleX)&&O.scaleX!==an.scaleX&&(an.scaleX=O.scaleX,hn=!0),isNumber$1(O.scaleY)&&O.scaleY!==an.scaleY&&(an.scaleY=O.scaleY,hn=!0)),hn&&this.renderCanvas(!0,!0);var mn=an.width/an.naturalWidth;isNumber$1(O.x)&&(dn.left=O.x*mn+un.left),isNumber$1(O.y)&&(dn.top=O.y*mn+un.top),isNumber$1(O.width)&&(dn.width=O.width*mn),isNumber$1(O.height)&&(dn.height=O.height*mn),this.setCropBoxData(dn)}return this},getContainerData:function(){return this.ready?assign({},this.containerData):{}},getImageData:function(){return this.sized?assign({},this.imageData):{}},getCanvasData:function(){var O=this.canvasData,rn={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],function(an){rn[an]=O[an]}),rn},setCanvasData:function(O){var rn=this.canvasData,an=rn.aspectRatio;return this.ready&&!this.disabled&&isPlainObject$1(O)&&(isNumber$1(O.left)&&(rn.left=O.left),isNumber$1(O.top)&&(rn.top=O.top),isNumber$1(O.width)?(rn.width=O.width,rn.height=O.width/an):isNumber$1(O.height)&&(rn.height=O.height,rn.width=O.height*an),this.renderCanvas(!0)),this},getCropBoxData:function(){var O=this.cropBoxData,rn;return this.ready&&this.cropped&&(rn={left:O.left,top:O.top,width:O.width,height:O.height}),rn||{}},setCropBoxData:function(O){var rn=this.cropBoxData,an=this.options.aspectRatio,un,dn;return this.ready&&this.cropped&&!this.disabled&&isPlainObject$1(O)&&(isNumber$1(O.left)&&(rn.left=O.left),isNumber$1(O.top)&&(rn.top=O.top),isNumber$1(O.width)&&O.width!==rn.width&&(un=!0,rn.width=O.width),isNumber$1(O.height)&&O.height!==rn.height&&(dn=!0,rn.height=O.height),an&&(un?rn.height=rn.width/an:dn&&(rn.width=rn.height*an)),this.renderCropBox()),this},getCroppedCanvas:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var rn=this.canvasData,an=getSourceCanvas(this.image,this.imageData,rn,O);if(!this.cropped)return an;var un=this.getData(O.rounded),dn=un.x,hn=un.y,mn=un.width,xn=un.height,gn=an.width/Math.floor(rn.naturalWidth);gn!==1&&(dn*=gn,hn*=gn,mn*=gn,xn*=gn);var wn=mn/xn,vn=getAdjustedSizes$1({aspectRatio:wn,width:O.maxWidth||1/0,height:O.maxHeight||1/0}),An=getAdjustedSizes$1({aspectRatio:wn,width:O.minWidth||0,height:O.minHeight||0},"cover"),Cn=getAdjustedSizes$1({aspectRatio:wn,width:O.width||(gn!==1?an.width:mn),height:O.height||(gn!==1?an.height:xn)}),Sn=Cn.width,Nn=Cn.height;Sn=Math.min(vn.width,Math.max(An.width,Sn)),Nn=Math.min(vn.height,Math.max(An.height,Nn));var jn=document.createElement("canvas"),Hn=jn.getContext("2d");jn.width=normalizeDecimalNumber$1(Sn),jn.height=normalizeDecimalNumber$1(Nn),Hn.fillStyle=O.fillColor||"transparent",Hn.fillRect(0,0,Sn,Nn);var Bn=O.imageSmoothingEnabled,On=Bn===void 0?!0:Bn,Mn=O.imageSmoothingQuality;Hn.imageSmoothingEnabled=On,Mn&&(Hn.imageSmoothingQuality=Mn);var Un=an.width,Tn=an.height,zn=dn,Dn=hn,In,Ln,Wn,Fn,Pn,Vn;zn<=-mn||zn>Un?(zn=0,In=0,Wn=0,Pn=0):zn<=0?(Wn=-zn,zn=0,In=Math.min(Un,mn+zn),Pn=In):zn<=Un&&(Wn=0,In=Math.min(mn,Un-zn),Pn=In),In<=0||Dn<=-xn||Dn>Tn?(Dn=0,Ln=0,Fn=0,Vn=0):Dn<=0?(Fn=-Dn,Dn=0,Ln=Math.min(Tn,xn+Dn),Vn=Ln):Dn<=Tn&&(Fn=0,Ln=Math.min(xn,Tn-Dn),Vn=Ln);var Zn=[zn,Dn,In,Ln];if(Pn>0&&Vn>0){var Yn=Sn/mn;Zn.push(Wn*Yn,Fn*Yn,Pn*Yn,Vn*Yn)}return Hn.drawImage.apply(Hn,[an].concat(_toConsumableArray(Zn.map(function(Qn){return Math.floor(normalizeDecimalNumber$1(Qn))})))),jn},setAspectRatio:function(O){var rn=this.options;return!this.disabled&&!isUndefined(O)&&(rn.aspectRatio=Math.max(0,O)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(O){var rn=this.options,an=this.dragBox,un=this.face;if(this.ready&&!this.disabled){var dn=O===DRAG_MODE_CROP,hn=rn.movable&&O===DRAG_MODE_MOVE;O=dn||hn?O:DRAG_MODE_NONE,rn.dragMode=O,setData(an,DATA_ACTION,O),toggleClass(an,CLASS_CROP,dn),toggleClass(an,CLASS_MOVE,hn),rn.cropBoxMovable||(setData(un,DATA_ACTION,O),toggleClass(un,CLASS_CROP,dn),toggleClass(un,CLASS_MOVE,hn))}return this}},AnotherCropper=WINDOW$1.Cropper,Cropper=(function(){function sn(O){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck$1(this,sn),!O||!REGEXP_TAG_NAME.test(O.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=O,this.options=assign({},DEFAULTS$1,isPlainObject$1(rn)&&rn),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _createClass$1(sn,[{key:"init",value:function(){var rn=this.element,an=rn.tagName.toLowerCase(),un;if(!rn[NAMESPACE]){if(rn[NAMESPACE]=this,an==="img"){if(this.isImg=!0,un=rn.getAttribute("src")||"",this.originalUrl=un,!un)return;un=rn.src}else an==="canvas"&&window.HTMLCanvasElement&&(un=rn.toDataURL());this.load(un)}}},{key:"load",value:function(rn){var an=this;if(rn){this.url=rn,this.imageData={};var un=this.element,dn=this.options;if(!dn.rotatable&&!dn.scalable&&(dn.checkOrientation=!1),!dn.checkOrientation||!window.ArrayBuffer){this.clone();return}if(REGEXP_DATA_URL.test(rn)){REGEXP_DATA_URL_JPEG.test(rn)?this.read(dataURLToArrayBuffer(rn)):this.clone();return}var hn=new XMLHttpRequest,mn=this.clone.bind(this);this.reloading=!0,this.xhr=hn,hn.onabort=mn,hn.onerror=mn,hn.ontimeout=mn,hn.onprogress=function(){hn.getResponseHeader("content-type")!==MIME_TYPE_JPEG&&hn.abort()},hn.onload=function(){an.read(hn.response)},hn.onloadend=function(){an.reloading=!1,an.xhr=null},dn.checkCrossOrigin&&isCrossOriginURL(rn)&&un.crossOrigin&&(rn=addTimestamp(rn)),hn.open("GET",rn,!0),hn.responseType="arraybuffer",hn.withCredentials=un.crossOrigin==="use-credentials",hn.send()}}},{key:"read",value:function(rn){var an=this.options,un=this.imageData,dn=resetAndGetOrientation$1(rn),hn=0,mn=1,xn=1;if(dn>1){this.url=arrayBufferToDataURL$1(rn,MIME_TYPE_JPEG);var gn=parseOrientation$1(dn);hn=gn.rotate,mn=gn.scaleX,xn=gn.scaleY}an.rotatable&&(un.rotate=hn),an.scalable&&(un.scaleX=mn,un.scaleY=xn),this.clone()}},{key:"clone",value:function(){var rn=this.element,an=this.url,un=rn.crossOrigin,dn=an;this.options.checkCrossOrigin&&isCrossOriginURL(an)&&(un||(un="anonymous"),dn=addTimestamp(an)),this.crossOrigin=un,this.crossOriginUrl=dn;var hn=document.createElement("img");un&&(hn.crossOrigin=un),hn.src=dn||an,hn.alt=rn.alt||"The image to crop",this.image=hn,hn.onload=this.start.bind(this),hn.onerror=this.stop.bind(this),addClass(hn,CLASS_HIDE),rn.parentNode.insertBefore(hn,rn.nextSibling)}},{key:"start",value:function(){var rn=this,an=this.image;an.onload=null,an.onerror=null,this.sizing=!0;var un=WINDOW$1.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW$1.navigator.userAgent),dn=function(gn,wn){assign(rn.imageData,{naturalWidth:gn,naturalHeight:wn,aspectRatio:gn/wn}),rn.initialImageData=assign({},rn.imageData),rn.sizing=!1,rn.sized=!0,rn.build()};if(an.naturalWidth&&!un){dn(an.naturalWidth,an.naturalHeight);return}var hn=document.createElement("img"),mn=document.body||document.documentElement;this.sizingImage=hn,hn.onload=function(){dn(hn.width,hn.height),un||mn.removeChild(hn)},hn.src=an.src,un||(hn.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",mn.appendChild(hn))}},{key:"stop",value:function(){var rn=this.image;rn.onload=null,rn.onerror=null,rn.parentNode.removeChild(rn),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var rn=this.element,an=this.options,un=this.image,dn=rn.parentNode,hn=document.createElement("div");hn.innerHTML=TEMPLATE;var mn=hn.querySelector(".".concat(NAMESPACE,"-container")),xn=mn.querySelector(".".concat(NAMESPACE,"-canvas")),gn=mn.querySelector(".".concat(NAMESPACE,"-drag-box")),wn=mn.querySelector(".".concat(NAMESPACE,"-crop-box")),vn=wn.querySelector(".".concat(NAMESPACE,"-face"));this.container=dn,this.cropper=mn,this.canvas=xn,this.dragBox=gn,this.cropBox=wn,this.viewBox=mn.querySelector(".".concat(NAMESPACE,"-view-box")),this.face=vn,xn.appendChild(un),addClass(rn,CLASS_HIDDEN),dn.insertBefore(mn,rn.nextSibling),removeClass(un,CLASS_HIDE),this.initPreview(),this.bind(),an.initialAspectRatio=Math.max(0,an.initialAspectRatio)||NaN,an.aspectRatio=Math.max(0,an.aspectRatio)||NaN,an.viewMode=Math.max(0,Math.min(3,Math.round(an.viewMode)))||0,addClass(wn,CLASS_HIDDEN),an.guides||addClass(wn.getElementsByClassName("".concat(NAMESPACE,"-dashed")),CLASS_HIDDEN),an.center||addClass(wn.getElementsByClassName("".concat(NAMESPACE,"-center")),CLASS_HIDDEN),an.background&&addClass(mn,"".concat(NAMESPACE,"-bg")),an.highlight||addClass(vn,CLASS_INVISIBLE),an.cropBoxMovable&&(addClass(vn,CLASS_MOVE),setData(vn,DATA_ACTION,ACTION_ALL)),an.cropBoxResizable||(addClass(wn.getElementsByClassName("".concat(NAMESPACE,"-line")),CLASS_HIDDEN),addClass(wn.getElementsByClassName("".concat(NAMESPACE,"-point")),CLASS_HIDDEN)),this.render(),this.ready=!0,this.setDragMode(an.dragMode),an.autoCrop&&this.crop(),this.setData(an.data),isFunction$1(an.ready)&&addListener(rn,EVENT_READY,an.ready,{once:!0}),dispatchEvent(rn,EVENT_READY)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var rn=this.cropper.parentNode;rn&&rn.removeChild(this.cropper),removeClass(this.element,CLASS_HIDDEN)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,sn}},{key:"setDefaults",value:function(rn){assign(DEFAULTS$1,isPlainObject$1(rn)&&rn)}}])})();assign(Cropper.prototype,render,preview,events,handlers,change,methods$1);function ownKeys(sn,O){var rn=Object.keys(sn);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(sn);O&&(an=an.filter(function(un){return Object.getOwnPropertyDescriptor(sn,un).enumerable})),rn.push.apply(rn,an)}return rn}function _objectSpread2(sn){for(var O=1;O<arguments.length;O++){var rn=arguments[O]!=null?arguments[O]:{};O%2?ownKeys(Object(rn),!0).forEach(function(an){_defineProperty(sn,an,rn[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(rn)):ownKeys(Object(rn)).forEach(function(an){Object.defineProperty(sn,an,Object.getOwnPropertyDescriptor(rn,an))})}return sn}function _classCallCheck(sn,O){if(!(sn instanceof O))throw new TypeError("Cannot call a class as a function")}function _defineProperties(sn,O){for(var rn=0;rn<O.length;rn++){var an=O[rn];an.enumerable=an.enumerable||!1,an.configurable=!0,"value"in an&&(an.writable=!0),Object.defineProperty(sn,_toPropertyKey(an.key),an)}}function _createClass(sn,O,rn){return O&&_defineProperties(sn.prototype,O),rn&&_defineProperties(sn,rn),Object.defineProperty(sn,"prototype",{writable:!1}),sn}function _defineProperty(sn,O,rn){return O=_toPropertyKey(O),O in sn?Object.defineProperty(sn,O,{value:rn,enumerable:!0,configurable:!0,writable:!0}):sn[O]=rn,sn}function _extends(){return _extends=Object.assign?Object.assign.bind():function(sn){for(var O=1;O<arguments.length;O++){var rn=arguments[O];for(var an in rn)Object.prototype.hasOwnProperty.call(rn,an)&&(sn[an]=rn[an])}return sn},_extends.apply(this,arguments)}function _toPrimitive(sn,O){if(typeof sn!="object"||sn===null)return sn;var rn=sn[Symbol.toPrimitive];if(rn!==void 0){var an=rn.call(sn,O);if(typeof an!="object")return an;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(sn)}function _toPropertyKey(sn){var O=_toPrimitive(sn,"string");return typeof O=="symbol"?O:String(O)}var canvasToBlob={exports:{}};(function(sn){typeof window>"u"||(function(O){var rn=O.HTMLCanvasElement&&O.HTMLCanvasElement.prototype,an=O.Blob&&(function(){try{return!!new Blob}catch{return!1}})(),un=an&&O.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}})(),dn=O.BlobBuilder||O.WebKitBlobBuilder||O.MozBlobBuilder||O.MSBlobBuilder,hn=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,mn=(an||dn)&&O.atob&&O.ArrayBuffer&&O.Uint8Array&&function(xn){var gn,wn,vn,An,Cn,Sn,Nn,jn,Hn;if(gn=xn.match(hn),!gn)throw new Error("invalid data URI");for(wn=gn[2]?gn[1]:"text/plain"+(gn[3]||";charset=US-ASCII"),vn=!!gn[4],An=xn.slice(gn[0].length),vn?Cn=atob(An):Cn=decodeURIComponent(An),Sn=new ArrayBuffer(Cn.length),Nn=new Uint8Array(Sn),jn=0;jn<Cn.length;jn+=1)Nn[jn]=Cn.charCodeAt(jn);return an?new Blob([un?Nn:Sn],{type:wn}):(Hn=new dn,Hn.append(Sn),Hn.getBlob(wn))};O.HTMLCanvasElement&&!rn.toBlob&&(rn.mozGetAsFile?rn.toBlob=function(xn,gn,wn){var vn=this;setTimeout(function(){wn&&rn.toDataURL&&mn?xn(mn(vn.toDataURL(gn,wn))):xn(vn.mozGetAsFile("blob",gn))})}:rn.toDataURL&&mn&&(rn.msToBlob?rn.toBlob=function(xn,gn,wn){var vn=this;setTimeout(function(){(gn&&gn!=="image/png"||wn)&&rn.toDataURL&&mn?xn(mn(vn.toDataURL(gn,wn))):xn(vn.msToBlob(gn))})}:rn.toBlob=function(xn,gn,wn){var vn=this;setTimeout(function(){xn(mn(vn.toDataURL(gn,wn)))})})),sn.exports?sn.exports=mn:O.dataURLtoBlob=mn})(window)})(canvasToBlob);var toBlob=canvasToBlob.exports,isBlob=function(O){return typeof Blob>"u"?!1:O instanceof Blob||Object.prototype.toString.call(O)==="[object Blob]"},DEFAULTS={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},IS_BROWSER=typeof window<"u"&&typeof window.document<"u",WINDOW=IS_BROWSER?window:{},isPositiveNumber=function(O){return O>0&&O<1/0},slice=Array.prototype.slice;function toArray(sn){return Array.from?Array.from(sn):slice.call(sn)}var REGEXP_IMAGE_TYPE=/^image\/.+$/;function isImageType(sn){return REGEXP_IMAGE_TYPE.test(sn)}function imageTypeToExtension(sn){var O=isImageType(sn)?sn.substr(6):"";return O==="jpeg"&&(O="jpg"),".".concat(O)}var fromCharCode=String.fromCharCode;function getStringFromCharCode(sn,O,rn){var an="",un;for(rn+=O,un=O;un<rn;un+=1)an+=fromCharCode(sn.getUint8(un));return an}var btoa$1=WINDOW.btoa;function arrayBufferToDataURL(sn,O){for(var rn=[],an=8192,un=new Uint8Array(sn);un.length>0;)rn.push(fromCharCode.apply(null,toArray(un.subarray(0,an)))),un=un.subarray(an);return"data:".concat(O,";base64,").concat(btoa$1(rn.join("")))}function resetAndGetOrientation(sn){var O=new DataView(sn),rn;try{var an,un,dn;if(O.getUint8(0)===255&&O.getUint8(1)===216)for(var hn=O.byteLength,mn=2;mn+1<hn;){if(O.getUint8(mn)===255&&O.getUint8(mn+1)===225){un=mn;break}mn+=1}if(un){var xn=un+4,gn=un+10;if(getStringFromCharCode(O,xn,4)==="Exif"){var wn=O.getUint16(gn);if(an=wn===18761,(an||wn===19789)&&O.getUint16(gn+2,an)===42){var vn=O.getUint32(gn+4,an);vn>=8&&(dn=gn+vn)}}}if(dn){var An=O.getUint16(dn,an),Cn,Sn;for(Sn=0;Sn<An;Sn+=1)if(Cn=dn+Sn*12+2,O.getUint16(Cn,an)===274){Cn+=8,rn=O.getUint16(Cn,an),O.setUint16(Cn,1,an);break}}}catch{rn=1}return rn}function parseOrientation(sn){var O=0,rn=1,an=1;switch(sn){case 2:rn=-1;break;case 3:O=-180;break;case 4:an=-1;break;case 5:O=90,an=-1;break;case 6:O=90;break;case 7:O=90,rn=-1;break;case 8:O=-90;break}return{rotate:O,scaleX:rn,scaleY:an}}var REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(sn){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(sn)?Math.round(sn*O)/O:sn}function getAdjustedSizes(sn){var O=sn.aspectRatio,rn=sn.height,an=sn.width,un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",dn=isPositiveNumber(an),hn=isPositiveNumber(rn);if(dn&&hn){var mn=rn*O;(un==="contain"||un==="none")&&mn>an||un==="cover"&&mn<an?rn=an/O:an=rn*O}else dn?rn=an/O:hn&&(an=rn*O);return{width:an,height:rn}}function getExif(sn){for(var O=toArray(new Uint8Array(sn)),rn=O.length,an=[],un=0;un+3<rn;){var dn=O[un],hn=O[un+1];if(dn===255&&hn===218)break;if(dn===255&&hn===216)un+=2;else{var mn=O[un+2]*256+O[un+3],xn=un+mn+2,gn=O.slice(un,xn);an.push(gn),un=xn}}return an.reduce(function(wn,vn){return vn[0]===255&&vn[1]===225?wn.concat(vn):wn},[])}function insertExif(sn,O){var rn=toArray(new Uint8Array(sn));if(rn[2]!==255||rn[3]!==224)return sn;var an=rn[4]*256+rn[5],un=[255,216].concat(O,rn.slice(4+an));return new Uint8Array(un)}var ArrayBuffer$1=WINDOW.ArrayBuffer,FileReader$1=WINDOW.FileReader,URL$1=WINDOW.URL||WINDOW.webkitURL,REGEXP_EXTENSION=/\.\w+$/,AnotherCompressor=WINDOW.Compressor,Compressor=(function(){function sn(O,rn){_classCallCheck(this,sn),this.file=O,this.exif=[],this.image=new Image,this.options=_objectSpread2(_objectSpread2({},DEFAULTS),rn),this.aborted=!1,this.result=null,this.init()}return _createClass(sn,[{key:"init",value:function(){var rn=this,an=this.file,un=this.options;if(!isBlob(an)){this.fail(new Error("The first argument must be a File or Blob object."));return}var dn=an.type;if(!isImageType(dn)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!URL$1||!FileReader$1){this.fail(new Error("The current browser does not support image compression."));return}ArrayBuffer$1||(un.checkOrientation=!1,un.retainExif=!1);var hn=dn==="image/jpeg",mn=hn&&un.checkOrientation,xn=hn&&un.retainExif;if(URL$1&&!mn&&!xn)this.load({url:URL$1.createObjectURL(an)});else{var gn=new FileReader$1;this.reader=gn,gn.onload=function(wn){var vn=wn.target,An=vn.result,Cn={},Sn=1;mn&&(Sn=resetAndGetOrientation(An),Sn>1&&_extends(Cn,parseOrientation(Sn))),xn&&(rn.exif=getExif(An)),mn||xn?!URL$1||Sn>1?Cn.url=arrayBufferToDataURL(An,dn):Cn.url=URL$1.createObjectURL(an):Cn.url=An,rn.load(Cn)},gn.onabort=function(){rn.fail(new Error("Aborted to read the image with FileReader."))},gn.onerror=function(){rn.fail(new Error("Failed to read the image with FileReader."))},gn.onloadend=function(){rn.reader=null},mn||xn?gn.readAsArrayBuffer(an):gn.readAsDataURL(an)}}},{key:"load",value:function(rn){var an=this,un=this.file,dn=this.image;dn.onload=function(){an.draw(_objectSpread2(_objectSpread2({},rn),{},{naturalWidth:dn.naturalWidth,naturalHeight:dn.naturalHeight}))},dn.onabort=function(){an.fail(new Error("Aborted to load the image."))},dn.onerror=function(){an.fail(new Error("Failed to load the image."))},WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)&&(dn.crossOrigin="anonymous"),dn.alt=un.name,dn.src=rn.url}},{key:"draw",value:function(rn){var an=this,un=rn.naturalWidth,dn=rn.naturalHeight,hn=rn.rotate,mn=hn===void 0?0:hn,xn=rn.scaleX,gn=xn===void 0?1:xn,wn=rn.scaleY,vn=wn===void 0?1:wn,An=this.file,Cn=this.image,Sn=this.options,Nn=document.createElement("canvas"),jn=Nn.getContext("2d"),Hn=Math.abs(mn)%180===90,Bn=(Sn.resize==="contain"||Sn.resize==="cover")&&isPositiveNumber(Sn.width)&&isPositiveNumber(Sn.height),On=Math.max(Sn.maxWidth,0)||1/0,Mn=Math.max(Sn.maxHeight,0)||1/0,Un=Math.max(Sn.minWidth,0)||0,Tn=Math.max(Sn.minHeight,0)||0,zn=un/dn,Dn=Sn.width,In=Sn.height;if(Hn){var Ln=[Mn,On];On=Ln[0],Mn=Ln[1];var Wn=[Tn,Un];Un=Wn[0],Tn=Wn[1];var Fn=[In,Dn];Dn=Fn[0],In=Fn[1]}Bn&&(zn=Dn/In);var Pn=getAdjustedSizes({aspectRatio:zn,width:On,height:Mn},"contain");On=Pn.width,Mn=Pn.height;var Vn=getAdjustedSizes({aspectRatio:zn,width:Un,height:Tn},"cover");if(Un=Vn.width,Tn=Vn.height,Bn){var Zn=getAdjustedSizes({aspectRatio:zn,width:Dn,height:In},Sn.resize);Dn=Zn.width,In=Zn.height}else{var Yn=getAdjustedSizes({aspectRatio:zn,width:Dn,height:In}),Qn=Yn.width;Dn=Qn===void 0?un:Qn;var Xn=Yn.height;In=Xn===void 0?dn:Xn}Dn=Math.floor(normalizeDecimalNumber(Math.min(Math.max(Dn,Un),On))),In=Math.floor(normalizeDecimalNumber(Math.min(Math.max(In,Tn),Mn)));var rr=-Dn/2,sr=-In/2,Jn=Dn,nr=In,ar=[];if(Bn){var or=0,dr=0,xr=un,Dr=dn,Nr=getAdjustedSizes({aspectRatio:zn,width:un,height:dn},{contain:"cover",cover:"contain"}[Sn.resize]);xr=Nr.width,Dr=Nr.height,or=(un-xr)/2,dr=(dn-Dr)/2,ar.push(or,dr,xr,Dr)}if(ar.push(rr,sr,Jn,nr),Hn){var Ir=[In,Dn];Dn=Ir[0],In=Ir[1]}Nn.width=Dn,Nn.height=In,isImageType(Sn.mimeType)||(Sn.mimeType=An.type);var xs="transparent";An.size>Sn.convertSize&&Sn.convertTypes.indexOf(Sn.mimeType)>=0&&(Sn.mimeType="image/jpeg");var es=Sn.mimeType==="image/jpeg";if(es&&(xs="#fff"),jn.fillStyle=xs,jn.fillRect(0,0,Dn,In),Sn.beforeDraw&&Sn.beforeDraw.call(this,jn,Nn),!this.aborted&&(jn.save(),jn.translate(Dn/2,In/2),jn.rotate(mn*Math.PI/180),jn.scale(gn,vn),jn.drawImage.apply(jn,[Cn].concat(ar)),jn.restore(),Sn.drew&&Sn.drew.call(this,jn,Nn),!this.aborted)){var vs=function(Or){if(!an.aborted){var Gr=function(Fr){return an.done({naturalWidth:un,naturalHeight:dn,result:Fr})};if(Or&&es&&Sn.retainExif&&an.exif&&an.exif.length>0){var ks=function(Fr){return Gr(toBlob(arrayBufferToDataURL(insertExif(Fr,an.exif),Sn.mimeType)))};if(Or.arrayBuffer)Or.arrayBuffer().then(ks).catch(function(){an.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Ks=new FileReader$1;an.reader=Ks,Ks.onload=function(gr){var Fr=gr.target;ks(Fr.result)},Ks.onabort=function(){an.fail(new Error("Aborted to read the compressed image with FileReader."))},Ks.onerror=function(){an.fail(new Error("Failed to read the compressed image with FileReader."))},Ks.onloadend=function(){an.reader=null},Ks.readAsArrayBuffer(Or)}}else Gr(Or)}};Nn.toBlob?Nn.toBlob(vs,Sn.mimeType,Sn.quality):vs(toBlob(Nn.toDataURL(Sn.mimeType,Sn.quality)))}}},{key:"done",value:function(rn){var an=rn.naturalWidth,un=rn.naturalHeight,dn=rn.result,hn=this.file,mn=this.image,xn=this.options;if(URL$1&&mn.src.indexOf("blob:")===0&&URL$1.revokeObjectURL(mn.src),dn)if(xn.strict&&!xn.retainExif&&dn.size>hn.size&&xn.mimeType===hn.type&&!(xn.width>an||xn.height>un||xn.minWidth>an||xn.minHeight>un||xn.maxWidth<an||xn.maxHeight<un))dn=hn;else{var gn=new Date;dn.lastModified=gn.getTime(),dn.lastModifiedDate=gn,dn.name=hn.name,dn.name&&dn.type!==hn.type&&(dn.name=dn.name.replace(REGEXP_EXTENSION,imageTypeToExtension(dn.type)))}else dn=hn;this.result=dn,xn.success&&xn.success.call(this,dn)}},{key:"fail",value:function(rn){var an=this.options;if(an.error)an.error.call(this,rn);else throw rn}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=AnotherCompressor,sn}},{key:"setDefaults",value:function(rn){_extends(DEFAULTS,rn)}}]),sn})();let setDialogFn,removeFn;function DialogContainer(){const[sn,O]=reactExports.useState(null),[rn,an]=reactExports.useState({}),[un,dn]=reactExports.useState(null),hn=()=>{O(null),an({})},mn=(xn,gn,wn)=>{O(xn),an(gn),dn(wn?.sudo||null)};return reactExports.useEffect(()=>{setDialogFn=mn,removeFn=hn},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[sn==="alert"&&jsxRuntimeExports.jsx(Alert,{...rn}),sn==="message"&&jsxRuntimeExports.jsx(Message$1,{...rn}),sn==="select"&&jsxRuntimeExports.jsx(Select,{...rn}),sn==="auth"&&jsxRuntimeExports.jsx(Auth,{...rn}),sn==="permissions"&&jsxRuntimeExports.jsx(Permissions,{...rn}),sn==="filebrowser"&&jsxRuntimeExports.jsx(FileBrowser,{...rn}),sn==="directorybrowser"&&jsxRuntimeExports.jsx(DirectoryBrowser,{...rn}),sn==="savefile"&&jsxRuntimeExports.jsx(SaveFile,{...rn}),sn==="cropper"&&jsxRuntimeExports.jsx(Crop,{...rn}),sn==="webauth"&&jsxRuntimeExports.jsx(WebAuth,{...rn})]})}const formatSize=sn=>sn<1024?`${sn} B`:sn<1024*1024?`${(sn/1024).toFixed(2)} KB`:sn<1024*1024*1024?`${(sn/(1024*1024)).toFixed(2)} MB`:`${(sn/(1024*1024*1024)).toFixed(2)} GB`;function Alert({title:sn,message:O,onOk:rn}){const an=reactExports.useRef(null),un=reactExports.useRef(null),[dn,hn]=reactExports.useState(null),mn=()=>{an.current&&(an.current.classList.add("fade-out"),setTimeout(()=>{an.current?.remove(),rn&&rn()},200)),removeFn()};return reactExports.useEffect(()=>{document.addEventListener("mousedown",xn=>{an.current&&xn.target!==un.current&&xn.target===an.current&&rn&&rn()})}),reactExports.useEffect(()=>{if(O instanceof Error)hn(O.message);else if(typeof O=="object"&&O!==null)try{hn(JSON.stringify(O))}catch{hn(String(O))}else hn(String(O))},[O]),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:an,children:jsxRuntimeExports.jsxs("div",{ref:un,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("div",{className:"dialog-message",children:dn}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:mn,children:"OK"})})]})})}function Message$1({title:sn,defaultValue:O,onOk:rn,onCancel:an}){if(!sn)throw new Error("title is required");const un=reactExports.useRef(null),dn=reactExports.useRef(null),hn=reactExports.useRef(null),mn=()=>{const wn=hn.current?.value;un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),rn&&wn!==void 0&&rn(wn)},200),removeFn())},xn=()=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),an&&an()},200),removeFn())},gn=wn=>{wn.key==="Enter"&&mn()};return reactExports.useEffect(()=>{document.addEventListener("mousedown",wn=>{un.current&&wn.target!==dn.current&&wn.target===un.current&&xn()})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:un,children:jsxRuntimeExports.jsxs("div",{ref:dn,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("input",{type:"text",defaultValue:O,className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150",style:{width:"100%"},ref:hn,onKeyDown:gn}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:xn,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:mn,children:"OK"})]})]})})}function Select({title:sn,options:O,onOk:rn,onCancel:an}){if(!sn)throw new Error("title is required");const un=reactExports.useRef(null),dn=reactExports.useRef(null),hn=xn=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),rn&&rn(xn)},200),removeFn())},mn=()=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),an&&an()},200),removeFn())};return reactExports.useEffect(()=>{document.addEventListener("mousedown",xn=>{un.current&&xn.target!==dn.current&&xn.target===un.current&&mn()})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:un,children:jsxRuntimeExports.jsxs("div",{ref:dn,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:O&&O.map(xn=>jsxRuntimeExports.jsx("button",{className:"py-1.5 px-2.5 rounded-md bg-[#ffffff10] hover:bg-[#ffffff28] shadow-tb-border-shadow duration-150 cursor-pointer",onMouseDown:()=>hn(xn.value),children:xn.text},xn.value))})]})})}function Auth({title:sn,defaultUsername:O,onOk:rn,onCancel:an,sudo:un}){if(!sn)throw new Error("title is required");const dn=reactExports.useRef(null),hn=reactExports.useRef(null),mn=reactExports.useRef(null),xn=reactExports.useRef(null),[gn,wn]=reactExports.useState([]),vn=()=>{const Sn=mn.current?.value,Nn=xn.current?.value;dn.current&&(dn.current.classList.add("fade-out"),setTimeout(()=>{dn.current&&removeFn(),rn&&Sn&&Nn&&rn(Sn,Nn)},200))},An=()=>{dn.current&&(dn.current.classList.add("fade-out"),setTimeout(()=>{dn.current&&removeFn(),an&&an()},200))},Cn=Sn=>{Sn.key==="Enter"&&vn()};return reactExports.useEffect(()=>{document.addEventListener("mousedown",Sn=>{dn.current&&Sn.target!==hn.current&&Sn.target===dn.current&&An()})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:dn,children:jsxRuntimeExports.jsxs("div",{ref:hn,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("input",{type:"text",disabled:!0,defaultValue:un?"sudo":O,placeholder:"Username",className:`
                        ${un?"p-2 pl-4 rounded-lg bg-[#ffffff08] outline-hidden shadow-tb-border-shadow":"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow"}
                    `,style:{width:"100%"},ref:mn}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",className:"p-2 pl-4 rounded-lg bg-[#ffffff20] cursor-text outline-hidden shadow-tb-border-shadow duration-150",style:{width:"100%"},ref:xn,onKeyDown:Cn}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:An,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:vn,children:"OK"})]})]})})}function Permissions({title:sn,message:O,onOk:rn,onCancel:an}){if(!O)throw new Error("message is required");const un=reactExports.useRef(null),dn=reactExports.useRef(null),hn=()=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),rn&&rn()},200),removeFn())},mn=()=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current?.remove(),an&&an()},200),removeFn())};return reactExports.useEffect(()=>{document.addEventListener("mousedown",xn=>{un.current&&xn.target!==dn.current&&xn.target===un.current&&mn()})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:un,children:jsxRuntimeExports.jsxs("div",{ref:dn,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("div",{className:"dialog-message",children:O}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:mn,children:"Cancel"}),jsxRuntimeExports.jsx("div",{className:"dialog-action-buttons",children:jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:hn,children:"OK"})})]})]})})}function FileBrowser({title:sn,filter:O,local:rn,onOk:an,onCancel:un}){if(!sn)throw new Error("title is required");const[dn,hn]=reactExports.useState(null),[mn,xn]=reactExports.useState("storage devices"),[gn,wn]=reactExports.useState([]),[vn,An]=reactExports.useState(!0),[Cn,Sn]=reactExports.useState(!1),[Nn,jn]=reactExports.useState(null),Hn=window.parent.anura;reactExports.useEffect(()=>{const Tn=async zn=>{An(!0);try{if(zn.startsWith("/mnt/")){const Ln=zn.split("/")[2],Wn=window.tb.vfs.servers.get(Ln);if(Wn&&Wn.connected&&Wn.connection?.client){const Fn=Wn.connection.client,Pn=zn.replace(`/mnt/${Ln}`,"")||"/",Zn=(await Fn.getDirectoryContents(Pn)).map(Yn=>({entry:Yn.basename,isDirectory:Yn.type==="directory",type:"external",connected:!0}));wn(Zn.filter(Yn=>!!(!O||Yn.isDirectory||O!=="*.*"&&Yn.entry.endsWith(O)))),Sn(!0),An(!1);return}}const Dn=await Hn.fs.promises.readdir(zn),In=await Promise.all(Dn.map(async Ln=>{const Fn=(await Hn.fs.promises.stat(`${zn}/${Ln}`)).isDirectory(),Pn="internal";return!O||Fn||O!=="*.*"&&Ln.endsWith(O)?{entry:Ln,isDirectory:Fn,type:Pn}:null}));wn(In.filter(Boolean)),Sn(!0)}catch(Dn){console.error(Dn)}finally{An(!1)}};if(mn==="storage devices"){navigator.storage.estimate().then(({usage:Dn,quota:In})=>{jn({usage:Dn,quota:In})}),An(!1);const zn=rn?[{entry:"File System",type:"internal"}]:[{entry:"File System",type:"internal"},...Array.from(window.tb.vfs.servers.values()).map(Dn=>({entry:Dn.name,type:"external",connected:Dn.connected}))];wn(zn),Sn(!1)}else Tn(mn)},[mn,O,Hn]);const Bn=(Tn,zn,Dn)=>{mn==="storage devices"?Dn==="internal"?xn("//"):(window.tb.vfs.setServer(Tn),xn(`/mnt/${Tn}`)):zn?xn(`${mn}/${Tn}`):(hn(`${mn}/${Tn}`),document.querySelectorAll(".file-item").forEach(Ln=>{Ln.getAttribute("data-entry")!==`${Tn}`&&Ln.classList.remove("bg-[#ffffff18]")}))},On=()=>{setTimeout(()=>{removeFn(),an&&an(dn)},300)},Mn=()=>new Promise(Tn=>{setTimeout(()=>{Tn("Canceled"),removeFn(),un&&un()},300)}),Un=Tn=>{if(Tn.key==="Enter"){const zn=Tn.target.value;xn(zn==="storage devices"?"storage devices":zn)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),vn?jsxRuntimeExports.jsx("div",{className:"font-medium text-lg",children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:`
						overflow-y-auto min-h-[100px] max-h-[300px]
						${gn.length===0?" flex justify-center items-center":"bg-[#ffffff10] shadow-tb-border-shadow rounded-lg"}
					`,children:gn.length===0?jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl select-none",children:"No files found"}):gn.map(({entry:Tn,isDirectory:zn,type:Dn,connected:In})=>jsxRuntimeExports.jsx("div",{"data-entry":Tn,className:"file-item flex flex-col gap-1 select-none p-1.5 first:rounded-t-lg last:rounded-b-lg duration-150",onMouseDown:Ln=>{Bn(Tn,zn,Dn),document.querySelectorAll(".file-item").forEach(Fn=>{Fn.classList.remove("bg-[#ffffff18]")}),Ln.currentTarget.classList.add("bg-[#ffffff18]")},children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[mn==="storage devices"?Dn==="external"?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"17.25",r:"3",fill:In?"#5DD881":"#FF4D4D"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"})]}):zn?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:jsxRuntimeExports.jsx("path",{d:"M19.5 21a3 3 0 003-3v-4.5a3 3 0 00-3-3h-15a3 3 0 00-3 3V18a3 3 0 003 3h15zM1.5 10.146V6a3 3 0 013-3h5.379a2.25 2.25 0 011.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 013 3v1.146A4.483 4.483 0 0019.5 9h-15a4.483 4.483 0 00-3 1.146z"})}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-lg",children:Tn}),mn==="storage devices"&&Tn==="File System"&&Nn?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:`${formatSize(Nn.usage)} of ${formatSize(Nn.quota)}`}):Dn==="external"&&mn==="storage devices"?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:"WebDav Device"}):null]})},Tn))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:Mn,children:"Cancel"}),Cn&&jsxRuntimeExports.jsx("button",{className:"dialog-button goBack-button cursor-pointer",onMouseDown:()=>{if(mn==="//"||mn.startsWith("/mnt/")&&mn.split("/").length<=3)xn("storage devices");else{const Tn=mn.split("/");Tn.pop();const zn=Tn.join("/")||"storage devices";xn(zn)}},children:"Go Back"}),jsxRuntimeExports.jsx("input",{type:"text",className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150 mt-2",value:mn,placeholder:"Path",onKeyDown:Un,onChange:Tn=>xn(Tn.target.value)}),jsxRuntimeExports.jsx("button",{className:`${dn?"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150":"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#ffffff10] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#ffffff18] duration-150"}`,onMouseDown:On,disabled:!dn,children:"Select"})]})]})})}function DirectoryBrowser({title:sn,defualtDir:O,local:rn,onOk:an,onCancel:un}){const[dn,hn]=reactExports.useState(null),[mn,xn]=reactExports.useState([]),[gn,wn]=reactExports.useState(!0),[vn,An]=reactExports.useState(O||"storage devices"),[Cn,Sn]=reactExports.useState(!1),[Nn,jn]=reactExports.useState(null),Hn=window.parent.anura,Bn=async Tn=>{wn(!0);try{if(Tn.startsWith("/mnt/")){const Ln=Tn.split("/")[2],Wn=window.tb.vfs.servers.get(Ln);if(Wn&&Wn.connected&&Wn.connection?.client){const Fn=Wn.connection.client,Pn=Tn.replace(`/mnt/${Ln}`,"")||"/",Zn=(await Fn.getDirectoryContents(Pn)).filter(Yn=>Yn.type==="directory").map(Yn=>({entry:Yn.basename,isDirectory:!0,type:"external",connected:!0}));xn(Zn),Sn(!0),wn(!1);return}}const zn=await Hn.fs.promises.readdir(Tn),In=(await Promise.all(zn.map(async Ln=>{const Wn=await Hn.fs.promises.stat(`${Tn}/${Ln}`);return{entry:Ln,isDirectory:Wn.isDirectory(),type:"internal"}}))).filter(Ln=>Ln.isDirectory);xn(In),Sn(!0),Tn.startsWith("//")&&(Tn=Tn.slice(1)),An(Tn)}catch(zn){console.error(zn)}finally{wn(!1)}};reactExports.useEffect(()=>{if(vn==="storage devices"){navigator.storage.estimate().then(({usage:zn,quota:Dn})=>{jn({usage:zn,quota:Dn})});const Tn=rn?[{entry:"File System",type:"internal"}]:[{entry:"File System",type:"internal"},...Array.from(window.tb.vfs.servers.values()).map(zn=>({entry:zn.name,type:"external",connected:zn.connected}))];xn(Tn),Sn(!1),wn(!1)}else Bn(vn)},[vn]);const On=()=>{dn&&setTimeout(()=>{removeFn(),an&&an(dn)},300)},Mn=()=>new Promise(Tn=>{setTimeout(()=>{Tn("Canceled"),removeFn(),un&&un()},300)}),Un=Tn=>{if(Tn.key==="Enter"){const zn=Tn.target.value;An(zn==="storage devices"?"storage devices":zn)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),gn?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:`
						overflow-y-auto min-h-[100px] max-h-[300px]
						${mn.length===0?" flex justify-center items-center":"bg-[#ffffff10] shadow-tb-border-shadow rounded-lg"}
					`,children:mn.length===0?jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl select-none",children:"No directories found"}):mn.map(({entry:Tn,isDirectory:zn,type:Dn,connected:In})=>jsxRuntimeExports.jsx("div",{"data-entry":Tn,className:"file-item flex flex-col gap-1 select-none p-1.5 first:rounded-t-lg last:rounded-b-lg duration-150",onDoubleClick:()=>{vn==="storage devices"?Dn==="internal"?An("//"):(window.tb.vfs.setServer(Tn),An(`/mnt/${Tn}`)):vn.endsWith("/")?An(`${vn}${Tn}`):An(`${vn}/${Tn}`)},onMouseDown:Ln=>{let Wn;vn==="storage devices"?Dn==="internal"?Wn="//":Wn=`/mnt/${Tn}`:vn.endsWith("/")?Wn=`${vn}${Tn}`:Wn=`${vn}/${Tn}`,hn(Wn),document.querySelectorAll(".file-item").forEach(Pn=>{Pn.getAttribute("data-entry")!==`${Tn}`&&Pn.classList.remove("bg-[#ffffff18]")}),Ln.currentTarget.classList.add("bg-[#ffffff18]")},children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[vn==="storage devices"?Dn==="external"?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"17.25",r:"3",fill:In?"#5DD881":"#FF4D4D"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"})]}):zn?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:jsxRuntimeExports.jsx("path",{d:"M19.5 21a3 3 0 003-3v-4.5a3 3 0 00-3-3h-15a3 3 0 00-3 3V18a3 3 0 003 3h15zM1.5 10.146V6a3 3 0 013-3h5.379a2.25 2.25 0 011.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 013 3v1.146A4.483 4.483 0 0019.5 9h-15a4.483 4.483 0 00-3 1.146z"})}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-lg",children:Tn}),vn==="storage devices"&&Tn==="File System"&&Nn?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:`${formatSize(Nn.usage)} of ${formatSize(Nn.quota)}`}):Dn==="external"&&vn==="storage devices"?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:"WebDav Device"}):null]})},Tn))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:Mn,children:"Cancel"}),Cn&&jsxRuntimeExports.jsx("button",{className:"dialog-button goBack-button cursor-pointer",onMouseDown:()=>{if(vn==="//"||vn.startsWith("/mnt/")&&vn.split("/").length<=3)An("storage devices");else{const Tn=vn.split("/");Tn.pop();const zn=Tn.join("/")||"storage devices";An(zn)}},children:"Go Back"}),jsxRuntimeExports.jsx("input",{type:"text",className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150",value:vn,placeholder:"Directory",onKeyDown:Un,onChange:Tn=>An(Tn.target.value)}),jsxRuntimeExports.jsx("button",{className:`
						${dn?"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150":"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#ffffff10] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#ffffff18] duration-150"}
						`,onMouseDown:On,disabled:!dn,children:"Select"})]})]})})}function SaveFile({title:sn,defualtDir:O,filename:rn,local:an,onOk:un,onCancel:dn}){if(!sn)throw new Error("title is required");const[hn,mn]=reactExports.useState(null),[xn,gn]=reactExports.useState([]),[wn,vn]=reactExports.useState(!0),[An,Cn]=reactExports.useState(O||"storage devices"),[Sn,Nn]=reactExports.useState(!1),[jn,Hn]=reactExports.useState(null),Bn=reactExports.useRef(null),On=window.parent.anura,Mn=async In=>{vn(!0);try{if(In.startsWith("/mnt/")){const Pn=In.split("/")[2],Vn=window.tb.vfs.servers.get(Pn);if(Vn&&Vn.connected&&Vn.connection?.client){const Zn=Vn.connection.client,Yn=In.replace(`/mnt/${Pn}`,"")||"/",Xn=(await Zn.getDirectoryContents(Yn)).filter(rr=>rr.type==="directory").map(rr=>({entry:rr.basename,isDirectory:!0,type:"external",connected:!0}));gn(Xn),Nn(!0),vn(!1);return}}const Ln=await On.fs.promises.readdir(In),Fn=(await Promise.all(Ln.map(async Pn=>{const Vn=await On.fs.promises.stat(`${In}/${Pn}`);return{entry:Pn,isDirectory:Vn.isDirectory(),type:"internal"}}))).filter(Pn=>Pn.isDirectory);gn(Fn),Nn(!0),vn(!1)}catch(Ln){console.error(Ln),vn(!1)}};reactExports.useEffect(()=>{if(An==="storage devices"){navigator.storage.estimate().then(({usage:Ln,quota:Wn})=>{Hn({usage:Ln,quota:Wn})});const In=an?[{entry:"File System",type:"internal"}]:[{entry:"File System",type:"internal"},...Array.from(window.tb.vfs.servers.values()).map(Ln=>({entry:Ln.name,type:"external",connected:Ln.connected}))];gn(In),Nn(!1),vn(!1)}else Mn(An)},[An]);const Un=(In,Ln,Wn)=>{let Fn;if(An==="storage devices"){Wn==="internal"?Fn="//":(window.tb.vfs.setServer(In),Fn=`/mnt/${In}`),Cn(Fn);return}Ln?(An.endsWith("/")?Fn=`${An}${In}`:Fn=`${An}/${In}`,Cn(Fn),Bn.current&&(Bn.current.value=`${Fn}/${rn||"file.txt"}`)):(An.endsWith("/")?Fn=`${An}${In}`:Fn=`${An}/${In}`,mn(Fn),Bn.current&&(Bn.current.value=`${Fn}`))},Tn=()=>{const In=Bn.current?.value;removeFn(),In&&setTimeout(()=>{un&&un(In)},300)},zn=()=>{removeFn(),dn&&dn()},Dn=In=>{if(In.key==="Enter"){const Ln=In.target.value;Cn(Ln==="storage devices"?"storage devices":Ln)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),wn?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:`
						overflow-y-auto min-h-[100px] max-h-[300px]
						${xn.length===0?" flex justify-center items-center":"bg-[#ffffff10] shadow-tb-border-shadow rounded-lg"}
					`,children:xn.length===0?jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl select-none",children:"No directories found"}):xn.map(({entry:In,isDirectory:Ln,type:Wn,connected:Fn})=>jsxRuntimeExports.jsx("div",{"data-entry":In,className:"file-item flex gap-2 items-center select-none p-1.5 first:rounded-t-lg last:rounded-b-lg duration-150",onMouseDown:()=>Un(In,Ln,Wn),children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[An==="storage devices"?Wn==="external"?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"17.25",r:"3",fill:Fn?"#5DD881":"#FF4D4D"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{d:"M4.07982 5.227C4.25015 4.58826 4.6267 4.02366 5.15094 3.62094C5.67518 3.21822 6.31775 2.99993 6.97882 3H17.0198C17.6811 2.99971 18.3239 3.2179 18.8483 3.62063C19.3728 4.02337 19.7494 4.58809 19.9198 5.227L22.0328 13.153C21.1022 12.4051 19.9437 11.9982 18.7498 12H5.24982C4.05559 11.998 2.89667 12.4049 1.96582 13.153L4.07982 5.227Z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13.5C4.75754 13.5 4.26991 13.597 3.81494 13.7855C3.35997 13.9739 2.94657 14.2501 2.59835 14.5983C2.25013 14.9466 1.97391 15.36 1.78545 15.8149C1.597 16.2699 1.5 16.7575 1.5 17.25C1.5 17.7425 1.597 18.2301 1.78545 18.6851C1.97391 19.14 2.25013 19.5534 2.59835 19.9017C2.94657 20.2499 3.35997 20.5261 3.81494 20.7145C4.26991 20.903 4.75754 21 5.25 21H18.75C19.2425 21 19.7301 20.903 20.1851 20.7145C20.64 20.5261 21.0534 20.2499 21.4017 19.9017C21.7499 19.5534 22.0261 19.14 22.2145 18.6851C22.403 18.2301 22.5 17.7425 22.5 17.25C22.5 16.7575 22.403 16.2699 22.2145 15.8149C22.0261 15.36 21.7499 14.9466 21.4017 14.5983C21.0534 14.2501 20.64 13.9739 20.1851 13.7855C19.7301 13.597 19.2425 13.5 18.75 13.5H5.25ZM15.75 18C15.9489 18 16.1397 17.921 16.2803 17.7803C16.421 17.6397 16.5 17.4489 16.5 17.25C16.5 17.0511 16.421 16.8603 16.2803 16.7197C16.1397 16.579 15.9489 16.5 15.75 16.5C15.5511 16.5 15.3603 16.579 15.2197 16.7197C15.079 16.8603 15 17.0511 15 17.25C15 17.4489 15.079 17.6397 15.2197 17.7803C15.3603 17.921 15.5511 18 15.75 18ZM19.5 17.25C19.5 17.4489 19.421 17.6397 19.2803 17.7803C19.1397 17.921 18.9489 18 18.75 18C18.5511 18 18.3603 17.921 18.2197 17.7803C18.079 17.6397 18 17.4489 18 17.25C18 17.0511 18.079 16.8603 18.2197 16.7197C18.3603 16.579 18.5511 16.5 18.75 16.5C18.9489 16.5 19.1397 16.579 19.2803 16.7197C19.421 16.8603 19.5 17.0511 19.5 17.25Z"})]}):Ln?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:jsxRuntimeExports.jsx("path",{d:"M19.5 21a3 3 0 003-3v-4.5a3 3 0 00-3-3h-15a3 3 0 00-3 3V18a3 3 0 003 3h15zM1.5 10.146V6a3 3 0 013-3h5.379a2.25 2.25 0 011.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 013 3v1.146A4.483 4.483 0 0019.5 9h-15a4.483 4.483 0 00-3 1.146z"})}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10 pointer-events-none",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-lg",children:In}),An==="storage devices"&&In==="File System"&&jn?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:`${formatSize(jn.usage)} of ${formatSize(jn.quota)}`}):Wn==="external"&&An==="storage devices"?jsxRuntimeExports.jsx("div",{className:"text-xs text-[#ffffff88] ml-auto",children:"WebDav Device"}):null]})},In))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:zn,children:"Cancel"}),Sn&&jsxRuntimeExports.jsx("button",{className:"dialog-button goBack-button cursor-pointer",onMouseDown:()=>{if(An==="//"||An.startsWith("/mnt/")&&An.split("/").length<=3)Cn("storage devices");else{const In=An.split("/");In.pop();const Ln=In.join("/")||"storage devices";Cn(Ln)}},children:"Go Back"}),jsxRuntimeExports.jsx("input",{ref:Bn,type:"text",value:hn||`${An}/${rn||"file.txt"}`,placeholder:"Enter file name",className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150",onKeyDown:In=>{if(In.key==="Enter"){const Ln=Bn.current.value;Ln.endsWith("/")?Cn(Ln):Tn()}},onChange:In=>Dn(In)}),jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:Tn,children:"Select"})]})]})})}function Crop({title:sn,img:O,onOk:rn,onCancel:an}){const un=reactExports.useRef(null),dn=reactExports.useRef(null);reactExports.useEffect(()=>(un.current&&O&&(un.current.src=O,dn.current=new Cropper(un.current,{aspectRatio:1,viewMode:1,cropBoxResizable:!1,movable:!0,rotatable:!0,scalable:!0,responsive:!0})),()=>{dn.current&&dn.current.destroy()}),[O]);const hn=()=>{if(!dn.current)return;dn.current.getCroppedCanvas().toBlob(gn=>{new Compressor(gn,{quality:.5,success(wn){const vn=new FileReader;vn.readAsDataURL(wn),vn.onload=()=>{removeFn(),setTimeout(()=>{rn&&rn(vn.result)},300)}}})})},mn=()=>{removeFn(),an&&an()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("img",{ref:un,className:"w-full h-24"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:mn,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:hn,children:"Save"})]})]})})}function WebAuth({title:sn,defaultUsername:O,onOk:rn,onCancel:an}){if(!sn)throw new Error("title is required");const un=reactExports.useRef(null),dn=reactExports.useRef(null),hn=reactExports.useRef(null),mn=reactExports.useRef(null),xn=()=>{const vn=hn.current?.value,An=mn.current?.value;un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current&&removeFn(),rn&&vn&&An&&rn(vn,An)},200))},gn=()=>{un.current&&(un.current.classList.add("fade-out"),setTimeout(()=>{un.current&&removeFn(),an&&an()},200))},wn=vn=>{vn.key==="Enter"&&xn()};return reactExports.useEffect(()=>{document.addEventListener("mousedown",vn=>{un.current&&vn.target!==dn.current&&vn.target===un.current&&gn()})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-999999999 flex flex-col items-center justify-center bg-[#00000078] backdrop-blur-xs duration-150",ref:un,children:jsxRuntimeExports.jsxs("div",{ref:dn,className:"flex flex-col p-2.5 gap-2.5 backdrop-blur-md rounded-lg sm:min-w-[340px] md:min-w-[400px] lg:min-w-[600px] bg-[#ffffff18] text-white shadow-tb-border-shadow duration-150",children:[jsxRuntimeExports.jsx("div",{className:"font-extrabold text-xl leading-none select-none",children:sn}),jsxRuntimeExports.jsx("input",{type:"text",defaultValue:O,placeholder:"Username",className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150",style:{width:"100%"},ref:hn}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",className:"p-2 pl-4 rounded-lg bg-[#ffffff16] cursor-text outline-hidden shadow-tb-border-shadow duration-150",style:{width:"100%"},ref:mn,onKeyDown:wn}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-[#ffffff78] cursor-pointer hover:text-white duration-150",onMouseDown:gn,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"flex gap-1.5 w-max py-2 px-5 rounded-md cursor-pointer bg-[#86ff9085] shadow-[0px_0px_6px_0px_#00000052,_inset_0_0_0_0.5px_#ffffff38] hover:bg-[#8fff98a2] duration-150",onMouseDown:xn,children:"OK"})]})]})})}let setMusicFn,setVideoFn,hideFn,isExistingFn;function MediaIsland(){const[sn,O]=reactExports.useState(null),[rn,an]=reactExports.useState({}),un=()=>{O(null),an({})},dn=mn=>{O("music"),an(mn)},hn=mn=>{O("video"),an(mn)};return reactExports.useEffect(()=>{setMusicFn=dn,setVideoFn=hn,hideFn=un,isExistingFn=()=>{window.dispatchEvent(new CustomEvent("isExistingMP",{detail:sn!==null}))}},[]),jsxRuntimeExports.jsxs("div",{className:`island media_island w-[250px] h-[50px] rounded-lg ${sn?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${rn.background})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[sn==="music"&&jsxRuntimeExports.jsx(Music,{...rn,onRemove:un}),sn==="video"&&jsxRuntimeExports.jsx(Video,{...rn,onRemove:un})]})}function Music({track_name:sn,artist:O,endtime:rn,onRemove:an,onPausePlay:un,onNext:dn,onBack:hn}){const[mn,xn]=reactExports.useState(!1),[gn,wn]=reactExports.useState(0),[vn,An]=reactExports.useState(sn);reactExports.useEffect(()=>{let Hn=!1,Bn=null;const On=()=>{mn||Hn||(Bn=setTimeout(()=>{wn(Mn=>{const Un=Mn+1;return Un>=rn?(an(),Mn):Un}),!mn&&!Hn&&On()},1e3))};return mn||On(),()=>{Hn=!0,Bn&&clearTimeout(Bn)}},[mn]),reactExports.useEffect(()=>(window.addEventListener("tb-pause-isl",()=>Cn),()=>window.removeEventListener("tb-pause-isl",()=>Cn)));const Cn=()=>{xn(Hn=>!Hn),un&&un()},Sn=()=>{dn?dn():an()},Nn=()=>{hn?hn():an()},jn=Hn=>{const Bn=Math.floor(Hn/60),On=Hn%60;return`${Bn}:${On<10?"0":""}${On}`};return reactExports.useEffect(()=>{vn.length>21&&An(vn.slice(0,21)+"...")},[sn]),jsxRuntimeExports.jsxs("div",{className:"music-player w-[250px] h-[50px]",children:[jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("h1",{className:"track cursor-(--cursor-text)",children:vn}),jsxRuntimeExports.jsx("h2",{className:"artist cursor-(--cursor-text)",children:O})]}),jsxRuntimeExports.jsxs("div",{className:"playerctrl gap-2",children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"9",onClick:()=>{Sn()},className:"back cursor-pointer",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M6.25233 8.81131C7.22283 9.35152 8.43012 8.66736 8.43012 7.57709V5.80418L13.8222 8.81055C14.7927 9.35152 16 8.66811 16 7.57709V1.42267C16 0.331653 14.7927 -0.35175 13.8222 0.189215L8.43012 3.1971V1.42419C8.43012 0.333168 7.22283 -0.350992 6.25233 0.189972L0.733696 3.26756C-0.244565 3.81307 -0.244565 5.18897 0.733696 5.73448L6.25233 8.81131Z",fill:"#A4A4A4"})}),mn?jsxRuntimeExports.jsx("svg",{width:"14",height:"15",onClick:Cn,className:"pauseplay cursor-pointer",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.71209C0 0.411806 1.39998 -0.412497 2.5445 0.213937L13.1107 6.0023C14.2964 6.65153 14.2964 8.34847 13.1107 8.9977L2.54541 14.7861C1.40089 15.4125 0.00091555 14.5882 0.00091555 13.2879L0 1.71209Z",fill:"#DFDFDF"})}):jsxRuntimeExports.jsxs("svg",{width:"14",height:"15",onClick:Cn,className:"pauseplay cursor-pointer",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("rect",{width:"5.25",height:"15",rx:"2.625",fill:"#DFDFDF"}),jsxRuntimeExports.jsx("rect",{x:"8.75",width:"5.25",height:"15",rx:"2.625",fill:"#DFDFDF"})]}),jsxRuntimeExports.jsx("svg",{width:"16",height:"9",onClick:()=>{Nn()},className:"forward cursor-pointer",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M2.17779 0.189122C1.2073 -0.351863 0 0.332324 0 1.42263V7.57727C0 8.66834 1.2073 9.35176 2.17779 8.81078L7.56988 5.8043V7.57727C7.56988 8.66834 8.77717 9.35176 9.74767 8.81078L15.2663 5.73383C16.2446 5.1883 16.2446 3.81235 15.2663 3.26682L9.74767 0.189122C8.77717 -0.351863 7.56988 0.333081 7.56988 1.42263V3.1956L2.17779 0.189122Z",fill:"#A4A4A4"})})]}),jsxRuntimeExports.jsxs("div",{className:"seekbar",children:[jsxRuntimeExports.jsx("h4",{id:"currenttime",children:jn(gn)}),jsxRuntimeExports.jsx("div",{className:"bar"}),jsxRuntimeExports.jsx("h4",{id:"endtime",children:jn(rn)})]})]})}function Video({video_name:sn,creator:O,endtime:rn,onRemove:an,onPausePlay:un,onBack:dn,onNext:hn}){const[mn,xn]=reactExports.useState(!1),[gn,wn]=reactExports.useState(0),[vn,An]=reactExports.useState(sn);reactExports.useEffect(()=>{let Hn=!1,Bn=null;const On=()=>{mn||Hn||(Bn=setTimeout(()=>{wn(Mn=>{const Un=Mn+1;return Un>=rn?(an(),Mn):Un}),!mn&&!Hn&&On()},1e3))};return mn||On(),()=>{Hn=!0,Bn&&clearTimeout(Bn)}},[mn]),reactExports.useEffect(()=>(window.addEventListener("tb-pause-isl",()=>Cn),()=>window.removeEventListener("tb-pause-isl",()=>Cn)));const Cn=()=>{xn(Hn=>!Hn),un()},Sn=()=>{hn?hn():an()},Nn=()=>{dn?dn():an()},jn=Hn=>{const Bn=Math.floor(Hn/60),On=Hn%60;return`${Bn}:${On<10?"0":""}${On}`};return reactExports.useEffect(()=>{vn.length>21&&An(vn.slice(0,21)+"...")},[sn]),jsxRuntimeExports.jsxs("div",{className:"music-player w-[250px] h-[50px]",children:[jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("h1",{className:"track cursor-(--cursor-text)",children:vn}),jsxRuntimeExports.jsx("h2",{className:"artist cursor-(--cursor-text)",children:O})]}),jsxRuntimeExports.jsxs("div",{className:"playerctrl gap-2",children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"9",onClick:()=>{Sn()},className:"back cursor-pointer",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M6.25233 8.81131C7.22283 9.35152 8.43012 8.66736 8.43012 7.57709V5.80418L13.8222 8.81055C14.7927 9.35152 16 8.66811 16 7.57709V1.42267C16 0.331653 14.7927 -0.35175 13.8222 0.189215L8.43012 3.1971V1.42419C8.43012 0.333168 7.22283 -0.350992 6.25233 0.189972L0.733696 3.26756C-0.244565 3.81307 -0.244565 5.18897 0.733696 5.73448L6.25233 8.81131Z",fill:"#A4A4A4"})}),mn?jsxRuntimeExports.jsx("svg",{width:"14",height:"15",onClick:Cn,className:"pauseplay cursor-pointer",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.71209C0 0.411806 1.39998 -0.412497 2.5445 0.213937L13.1107 6.0023C14.2964 6.65153 14.2964 8.34847 13.1107 8.9977L2.54541 14.7861C1.40089 15.4125 0.00091555 14.5882 0.00091555 13.2879L0 1.71209Z",fill:"#DFDFDF"})}):jsxRuntimeExports.jsxs("svg",{width:"14",height:"15",onClick:Cn,className:"pauseplay cursor-pointer",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("rect",{width:"5.25",height:"15",rx:"2.625",fill:"#DFDFDF"}),jsxRuntimeExports.jsx("rect",{x:"8.75",width:"5.25",height:"15",rx:"2.625",fill:"#DFDFDF"})]}),jsxRuntimeExports.jsx("svg",{width:"16",height:"9",onClick:()=>{Nn()},className:"forward cursor-pointer",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M2.17779 0.189122C1.2073 -0.351863 0 0.332324 0 1.42263V7.57727C0 8.66834 1.2073 9.35176 2.17779 8.81078L7.56988 5.8043V7.57727C7.56988 8.66834 8.77717 9.35176 9.74767 8.81078L15.2663 5.73383C16.2446 5.1883 16.2446 3.81235 15.2663 3.26682L9.74767 0.189122C8.77717 -0.351863 7.56988 0.333081 7.56988 1.42263V3.1956L2.17779 0.189122Z",fill:"#A4A4A4"})})]}),jsxRuntimeExports.jsxs("div",{className:"seekbar",children:[jsxRuntimeExports.jsx("h4",{id:"currenttime",children:jn(gn)}),jsxRuntimeExports.jsx("div",{className:"bar"}),jsxRuntimeExports.jsx("h4",{id:"endtime",children:jn(rn)})]})]})}let setNotifFn,notificationId=0,notificationCount=0;function NotificationContainer(){const[sn,O]=reactExports.useState([]),rn=un=>{O(dn=>dn.filter(hn=>hn.id!==un))},an=(un,dn)=>{const hn={id:notificationId++,type:un,props:dn};O(mn=>[...mn,hn])};return reactExports.useEffect(()=>{setNotifFn=an},[]),jsxRuntimeExports.jsx("div",{className:"absolute grid grid-cols-1 h-max max-h-[calc(100%-calc(60px+1.5rem))] w-[380px] top-[60px] right-1.5 z-9999 gap-2",children:sn.map(({id:un,type:dn,props:hn})=>{if(dn==="message")return jsxRuntimeExports.jsx(Message,{...hn,remove:()=>rn(un)},un);if(dn==="toast")return jsxRuntimeExports.jsx(Toast,{...hn,remove:()=>rn(un)},un);if(dn==="installing")return jsxRuntimeExports.jsx(Installing,{...hn,remove:()=>rn(un)},un)})})}function Message({iconSrc:sn,application:O,message:rn,txt:an,onOk:un,onCancel:dn,time:hn,remove:mn}){if(!rn)throw new Error("message is required");const[xn,gn]=reactExports.useState(an||""),[wn,vn]=reactExports.useState("Now");reactExports.useEffect(()=>{const Nn=Date.now(),jn=setInterval(()=>{const Bn=Math.floor((Date.now()-Nn)/6e4);Bn>0?vn(`${Bn}min ago`):Bn>60?vn(`${Math.floor(Bn/60)}h ago`):Bn>1440?vn(`${Math.floor(Bn/1440)}d ago`):Bn>10080&&vn(`${Math.floor(Bn/10080)}w ago`)},6e4),Hn=setTimeout(()=>{Cn()},hn||1e4);return()=>{clearInterval(jn),clearTimeout(Hn)}},[hn]);const An=()=>{setTimeout(()=>{mn(),un&&un(xn)},200)},Cn=()=>{setTimeout(()=>{mn(),notificationCount+=1,window.dispatchEvent(new CustomEvent("notification-count",{detail:{count:notificationCount}})),SaveNotification({iconSrc:sn,application:O,message:rn,onOk:un}),dn&&dn()},200)},Sn=Nn=>{Nn.key==="Enter"&&An()};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col shadow-tb-border-shadow bg-[#00000088] rounded-lg backdrop-blur-lg fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 bg-[#ffffff20] rounded-t-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("img",{className:"size-6",src:sn||"/assets/img/logo.png",alt:O}),jsxRuntimeExports.jsx("div",{children:O||"Unknown App"})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-[#ffffffa0] text-sm",children:wn})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 p-2.5",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:rn}),jsxRuntimeExports.jsx("input",{type:"text",value:xn,onChange:Nn=>gn(Nn.target.value),onKeyDown:Sn,className:"w-full p-2 rounded-md leading-none text-lg bg-[#ffffff20] shadow-tb-border-shadow cursor-[var(--cursor-text)] focus-within:outline-hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-between",children:[jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 px-4 bg-[#ffffff20] shadow-tb-border rounded-md hover:bg-[#ffffff30] duration-150 cursor-pointer",onClick:Cn,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 px-4 bg-[#53f67463] shadow-tb-border rounded-md hover:bg-[#53f67473] duration-150 cursor-pointer",onClick:An,children:"OK"})]})]})]})}function Toast({iconSrc:sn,application:O,message:rn,time:an,onOk:un,onCancel:dn,remove:hn}){const[mn,xn]=reactExports.useState("Now");reactExports.useEffect(()=>{const vn=Date.now(),An=setInterval(()=>{const Sn=Math.floor((Date.now()-vn)/6e4);Sn>0?xn(`${Sn}min ago`):Sn>60?xn(`${Math.floor(Sn/60)}h ago`):Sn>1440?xn(`${Math.floor(Sn/1440)}d ago`):Sn>10080&&xn(`${Math.floor(Sn/10080)}w ago`)},6e4),Cn=setTimeout(()=>{gn()},an||1e4);return()=>{clearInterval(An),clearTimeout(Cn)}},[an]);const gn=()=>{setTimeout(()=>{hn(),notificationCount+=1,window.dispatchEvent(new CustomEvent("notification-count",{detail:{count:notificationCount}})),SaveNotification({iconSrc:sn,application:O,message:rn,onOk:un}),dn&&dn()},200)},wn=()=>{setTimeout(()=>{hn(),un&&un()},200)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col shadow-tb-border-shadow bg-[#00000088] rounded-lg backdrop-blur-lg fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 bg-[#ffffff20] rounded-t-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("img",{className:"size-6",src:sn||"/assets/img/logo.png",alt:O}),jsxRuntimeExports.jsx("div",{children:O||"Unkown App"})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-[#ffffffa0] text-sm",children:mn})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 p-2.5",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:rn}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-between",children:[jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 px-4 bg-[#ffffff20] shadow-tb-border rounded-md hover:bg-[#ffffff30] duration-150 cursor-pointer",onClick:gn,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 px-4 bg-[#53f67463] shadow-tb-border rounded-md hover:bg-[#53f67473] duration-150 cursor-pointer",onClick:wn,children:"OK"})]})]})]})}function Installing({iconSrc:sn,application:O,message:rn,time:an,onOk:un,remove:dn}){const[hn,mn]=reactExports.useState(0);reactExports.useEffect(()=>{const vn=setTimeout(()=>{wn()},an||1e4);return()=>{clearTimeout(vn)}},[an]);const xn="anim0 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite",gn="anim1 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite";reactExports.useEffect(()=>{const vn=setInterval(()=>{mn(An=>An===0?1:0)},2100);return()=>clearInterval(vn)},[]);const wn=()=>{setTimeout(()=>{dn(),un&&un()},200)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col shadow-tb-border-shadow bg-[#00000088] rounded-lg backdrop-blur-lg fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-[#ffffff20] rounded-t-lg",children:[jsxRuntimeExports.jsx("img",{src:sn||"/assets/img/logo.png",alt:"Icon",style:{width:"25px",height:"25px"}}),jsxRuntimeExports.jsx("div",{className:"notification-application",children:O||"com.tb.genericapp"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 p-2.5",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:rn}),jsxRuntimeExports.jsx("div",{className:"relative flex w-full h-3 rounded-full bg-[#00000020] overflow-hidden",children:hn===0?jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#50bf66] rounded-full",style:{animation:xn}}):jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#50bf66] rounded-full",style:{animation:gn}})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 justify-between",children:jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 px-4 bg-[#53f67463] shadow-tb-border rounded-md hover:bg-[#53f67473] duration-150 cursor-pointer",style:{position:"sticky",left:"100%"},onClick:wn,children:"OK"})})]})]})}async function SaveNotification({iconSrc:sn,application:O,message:rn,onOk:an}){const un=JSON.parse(sessionStorage.getItem("notifications")||"[]");if(an){const dn={message:rn,icon:sn||"/assets/img/logo.png",application:O||"com.tb.genericapp",time:new Date().toISOString(),onOk:{code:await an.toString()}};console.log(dn),un.push(dn),sessionStorage.setItem("notifications",JSON.stringify(un)),window.dispatchEvent(new CustomEvent("notification-update"))}else{const dn={message:rn,icon:sn||"/assets/img/logo.png",application:O||"com.tb.genericapp",time:new Date().toISOString()};un.push(dn),sessionStorage.setItem("notifications",JSON.stringify(un)),window.dispatchEvent(new CustomEvent("notification-update"))}}const registry={cache:{state:"unready"},async get(sn){return this.cache.state=="unready"?(console.log("Unable to get data, retrying in 2 seconds"),await new Promise(O=>setTimeout(O,2e3)),await this.get(sn)):this.cache[sn.path]},async set(sn){this.cache.state=="unready"&&(console.log("Unable to get data, retrying in 2 seconds"),await new Promise(O=>setTimeout(O,2e3)),await this.set(sn)),this.cache[sn.path]=sn.content,await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(this.cache))},exists(sn){return!!this.cache[sn]}},version="2.2.3";class System{version(O){if(O==="string")return version.toString();if(O==="number")return Number(version)}instance={repo:repository,hash:hash$1}}const XOR={encode(sn){let O="",rn=sn.length;for(let an=0;an<rn;an++){const un=sn[an];O+=an%2?String.fromCharCode(un.charCodeAt(0)^2):un}return encodeURIComponent(O)},decode(sn){if(!sn)return sn;sn=decodeURIComponent(sn);let O="",rn=sn.length;for(let an=0;an<rn;an++){const un=sn[an];O+=an%2?String.fromCharCode(un.charCodeAt(0)^2):un}return O}},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(sn,O=!1){return O?{h:Number(sn&U32_MASK64),l:Number(sn>>_32n&U32_MASK64)}:{h:Number(sn>>_32n&U32_MASK64)|0,l:Number(sn&U32_MASK64)|0}}function split(sn,O=!1){const rn=sn.length;let an=new Uint32Array(rn),un=new Uint32Array(rn);for(let dn=0;dn<rn;dn++){const{h:hn,l:mn}=fromBig(sn[dn],O);[an[dn],un[dn]]=[hn,mn]}return[an,un]}const rotlSH=(sn,O,rn)=>sn<<rn|O>>>32-rn,rotlSL=(sn,O,rn)=>O<<rn|sn>>>32-rn,rotlBH=(sn,O,rn)=>O<<rn-32|sn>>>64-rn,rotlBL=(sn,O,rn)=>sn<<rn-32|O>>>64-rn;function isBytes(sn){return sn instanceof Uint8Array||ArrayBuffer.isView(sn)&&sn.constructor.name==="Uint8Array"}function anumber(sn,O=""){if(!Number.isSafeInteger(sn)||sn<0){const rn=O&&`"${O}" `;throw new Error(`${rn}expected integer >= 0, got ${sn}`)}}function abytes(sn,O,rn=""){const an=isBytes(sn),un=sn?.length;if(!an||O!==void 0){const hn=rn&&`"${rn}" `,mn="",xn=an?`length=${un}`:`type=${typeof sn}`;throw new Error(hn+"expected Uint8Array"+mn+", got "+xn)}return sn}function aexists(sn,O=!0){if(sn.destroyed)throw new Error("Hash instance has been destroyed");if(O&&sn.finished)throw new Error("Hash#digest() has already been called")}function aoutput(sn,O){abytes(sn,void 0,"digestInto() output");const rn=O.outputLen;if(sn.length<rn)throw new Error('"digestInto() output" expected to be of length >='+rn)}function u32(sn){return new Uint32Array(sn.buffer,sn.byteOffset,Math.floor(sn.byteLength/4))}function clean(...sn){for(let O=0;O<sn.length;O++)sn[O].fill(0)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(sn){return sn<<24&4278190080|sn<<8&16711680|sn>>>8&65280|sn>>>24&255}function byteSwap32(sn){for(let O=0;O<sn.length;O++)sn[O]=byteSwap(sn[O]);return sn}const swap32IfBE=isLE?sn=>sn:byteSwap32;function createHasher(sn,O={}){const rn=(un,dn)=>sn(dn).update(un).digest(),an=sn(void 0);return rn.outputLen=an.outputLen,rn.blockLen=an.blockLen,rn.create=un=>sn(un),Object.assign(rn,O),Object.freeze(rn)}const oidNist=sn=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,sn])}),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113),SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[];for(let sn=0,O=_1n,rn=1,an=0;sn<24;sn++){[rn,an]=[an,(2*rn+3*an)%5],SHA3_PI.push(2*(5*an+rn)),SHA3_ROTL.push((sn+1)*(sn+2)/2%64);let un=_0n;for(let dn=0;dn<7;dn++)O=(O<<_1n^(O>>_7n)*_0x71n)%_256n,O&_2n&&(un^=_1n<<(_1n<<BigInt(dn))-_1n);_SHA3_IOTA.push(un)}const IOTAS=split(_SHA3_IOTA,!0),SHA3_IOTA_H=IOTAS[0],SHA3_IOTA_L=IOTAS[1],rotlH=(sn,O,rn)=>rn>32?rotlBH(sn,O,rn):rotlSH(sn,O,rn),rotlL=(sn,O,rn)=>rn>32?rotlBL(sn,O,rn):rotlSL(sn,O,rn);function keccakP(sn,O=24){const rn=new Uint32Array(10);for(let an=24-O;an<24;an++){for(let hn=0;hn<10;hn++)rn[hn]=sn[hn]^sn[hn+10]^sn[hn+20]^sn[hn+30]^sn[hn+40];for(let hn=0;hn<10;hn+=2){const mn=(hn+8)%10,xn=(hn+2)%10,gn=rn[xn],wn=rn[xn+1],vn=rotlH(gn,wn,1)^rn[mn],An=rotlL(gn,wn,1)^rn[mn+1];for(let Cn=0;Cn<50;Cn+=10)sn[hn+Cn]^=vn,sn[hn+Cn+1]^=An}let un=sn[2],dn=sn[3];for(let hn=0;hn<24;hn++){const mn=SHA3_ROTL[hn],xn=rotlH(un,dn,mn),gn=rotlL(un,dn,mn),wn=SHA3_PI[hn];un=sn[wn],dn=sn[wn+1],sn[wn]=xn,sn[wn+1]=gn}for(let hn=0;hn<50;hn+=10){for(let mn=0;mn<10;mn++)rn[mn]=sn[hn+mn];for(let mn=0;mn<10;mn++)sn[hn+mn]^=~rn[(mn+2)%10]&rn[(mn+4)%10]}sn[0]^=SHA3_IOTA_H[an],sn[1]^=SHA3_IOTA_L[an]}clean(rn)}class Keccak{state;pos=0;posOut=0;finished=!1;state32;destroyed=!1;blockLen;suffix;outputLen;enableXOF=!1;rounds;constructor(O,rn,an,un=!1,dn=24){if(this.blockLen=O,this.suffix=rn,this.outputLen=an,this.enableXOF=un,this.rounds=dn,anumber(an,"outputLen"),!(0<O&&O<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=u32(this.state)}clone(){return this._cloneInto()}keccak(){swap32IfBE(this.state32),keccakP(this.state32,this.rounds),swap32IfBE(this.state32),this.posOut=0,this.pos=0}update(O){aexists(this),abytes(O);const{blockLen:rn,state:an}=this,un=O.length;for(let dn=0;dn<un;){const hn=Math.min(rn-this.pos,un-dn);for(let mn=0;mn<hn;mn++)an[this.pos++]^=O[dn++];this.pos===rn&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:O,suffix:rn,pos:an,blockLen:un}=this;O[an]^=rn,(rn&128)!==0&&an===un-1&&this.keccak(),O[un-1]^=128,this.keccak()}writeInto(O){aexists(this,!1),abytes(O),this.finish();const rn=this.state,{blockLen:an}=this;for(let un=0,dn=O.length;un<dn;){this.posOut>=an&&this.keccak();const hn=Math.min(an-this.posOut,dn-un);O.set(rn.subarray(this.posOut,this.posOut+hn),un),this.posOut+=hn,un+=hn}return O}xofInto(O){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(O)}xof(O){return anumber(O),this.xofInto(new Uint8Array(O))}digestInto(O){if(aoutput(O,this),this.finished)throw new Error("digest() was already called");return this.writeInto(O),this.destroy(),O}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,clean(this.state)}_cloneInto(O){const{blockLen:rn,suffix:an,outputLen:un,rounds:dn,enableXOF:hn}=this;return O||=new Keccak(rn,an,un,hn,dn),O.state32.set(this.state32),O.pos=this.pos,O.posOut=this.posOut,O.finished=this.finished,O.rounds=dn,O.suffix=an,O.outputLen=un,O.enableXOF=hn,O.destroyed=this.destroyed,O}}const genKeccak=(sn,O,rn,an={})=>createHasher(()=>new Keccak(O,sn,rn),an),sha3_512=genKeccak(6,72,64,oidNist(10));var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(sn){var O,rn,an,un=Bn.prototype={constructor:Bn,toString:null,valueOf:null},dn=new Bn(1),hn=20,mn=4,xn=-7,gn=21,wn=-1e7,vn=1e7,An=!1,Cn=1,Sn=0,Nn={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},jn="0123456789abcdefghijklmnopqrstuvwxyz",Hn=!0;function Bn(Dn,In){var Ln,Wn,Fn,Pn,Vn,Zn,Yn,Qn,Xn=this;if(!(Xn instanceof Bn))return new Bn(Dn,In);if(In==null){if(Dn&&Dn._isBigNumber===!0){Xn.s=Dn.s,!Dn.c||Dn.e>vn?Xn.c=Xn.e=null:Dn.e<wn?Xn.c=[Xn.e=0]:(Xn.e=Dn.e,Xn.c=Dn.c.slice());return}if((Zn=typeof Dn=="number")&&Dn*0==0){if(Xn.s=1/Dn<0?(Dn=-Dn,-1):1,Dn===~~Dn){for(Pn=0,Vn=Dn;Vn>=10;Vn/=10,Pn++);Pn>vn?Xn.c=Xn.e=null:(Xn.e=Pn,Xn.c=[Dn]);return}Qn=String(Dn)}else{if(!isNumeric.test(Qn=String(Dn)))return an(Xn,Qn,Zn);Xn.s=Qn.charCodeAt(0)==45?(Qn=Qn.slice(1),-1):1}(Pn=Qn.indexOf("."))>-1&&(Qn=Qn.replace(".","")),(Vn=Qn.search(/e/i))>0?(Pn<0&&(Pn=Vn),Pn+=+Qn.slice(Vn+1),Qn=Qn.substring(0,Vn)):Pn<0&&(Pn=Qn.length)}else{if(intCheck(In,2,jn.length,"Base"),In==10&&Hn)return Xn=new Bn(Dn),Tn(Xn,hn+Xn.e+1,mn);if(Qn=String(Dn),Zn=typeof Dn=="number"){if(Dn*0!=0)return an(Xn,Qn,Zn,In);if(Xn.s=1/Dn<0?(Qn=Qn.slice(1),-1):1,Bn.DEBUG&&Qn.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+Dn)}else Xn.s=Qn.charCodeAt(0)===45?(Qn=Qn.slice(1),-1):1;for(Ln=jn.slice(0,In),Pn=Vn=0,Yn=Qn.length;Vn<Yn;Vn++)if(Ln.indexOf(Wn=Qn.charAt(Vn))<0){if(Wn=="."){if(Vn>Pn){Pn=Yn;continue}}else if(!Fn&&(Qn==Qn.toUpperCase()&&(Qn=Qn.toLowerCase())||Qn==Qn.toLowerCase()&&(Qn=Qn.toUpperCase()))){Fn=!0,Vn=-1,Pn=0;continue}return an(Xn,String(Dn),Zn,In)}Zn=!1,Qn=rn(Qn,In,10,Xn.s),(Pn=Qn.indexOf("."))>-1?Qn=Qn.replace(".",""):Pn=Qn.length}for(Vn=0;Qn.charCodeAt(Vn)===48;Vn++);for(Yn=Qn.length;Qn.charCodeAt(--Yn)===48;);if(Qn=Qn.slice(Vn,++Yn)){if(Yn-=Vn,Zn&&Bn.DEBUG&&Yn>15&&(Dn>MAX_SAFE_INTEGER||Dn!==mathfloor(Dn)))throw Error(tooManyDigits+Xn.s*Dn);if((Pn=Pn-Vn-1)>vn)Xn.c=Xn.e=null;else if(Pn<wn)Xn.c=[Xn.e=0];else{if(Xn.e=Pn,Xn.c=[],Vn=(Pn+1)%LOG_BASE,Pn<0&&(Vn+=LOG_BASE),Vn<Yn){for(Vn&&Xn.c.push(+Qn.slice(0,Vn)),Yn-=LOG_BASE;Vn<Yn;)Xn.c.push(+Qn.slice(Vn,Vn+=LOG_BASE));Vn=LOG_BASE-(Qn=Qn.slice(Vn)).length}else Vn-=Yn;for(;Vn--;Qn+="0");Xn.c.push(+Qn)}}else Xn.c=[Xn.e=0]}Bn.clone=clone,Bn.ROUND_UP=0,Bn.ROUND_DOWN=1,Bn.ROUND_CEIL=2,Bn.ROUND_FLOOR=3,Bn.ROUND_HALF_UP=4,Bn.ROUND_HALF_DOWN=5,Bn.ROUND_HALF_EVEN=6,Bn.ROUND_HALF_CEIL=7,Bn.ROUND_HALF_FLOOR=8,Bn.EUCLID=9,Bn.config=Bn.set=function(Dn){var In,Ln;if(Dn!=null)if(typeof Dn=="object"){if(Dn.hasOwnProperty(In="DECIMAL_PLACES")&&(Ln=Dn[In],intCheck(Ln,0,MAX,In),hn=Ln),Dn.hasOwnProperty(In="ROUNDING_MODE")&&(Ln=Dn[In],intCheck(Ln,0,8,In),mn=Ln),Dn.hasOwnProperty(In="EXPONENTIAL_AT")&&(Ln=Dn[In],Ln&&Ln.pop?(intCheck(Ln[0],-MAX,0,In),intCheck(Ln[1],0,MAX,In),xn=Ln[0],gn=Ln[1]):(intCheck(Ln,-MAX,MAX,In),xn=-(gn=Ln<0?-Ln:Ln))),Dn.hasOwnProperty(In="RANGE"))if(Ln=Dn[In],Ln&&Ln.pop)intCheck(Ln[0],-MAX,-1,In),intCheck(Ln[1],1,MAX,In),wn=Ln[0],vn=Ln[1];else if(intCheck(Ln,-MAX,MAX,In),Ln)wn=-(vn=Ln<0?-Ln:Ln);else throw Error(bignumberError+In+" cannot be zero: "+Ln);if(Dn.hasOwnProperty(In="CRYPTO"))if(Ln=Dn[In],Ln===!!Ln)if(Ln)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))An=Ln;else throw An=!Ln,Error(bignumberError+"crypto unavailable");else An=Ln;else throw Error(bignumberError+In+" not true or false: "+Ln);if(Dn.hasOwnProperty(In="MODULO_MODE")&&(Ln=Dn[In],intCheck(Ln,0,9,In),Cn=Ln),Dn.hasOwnProperty(In="POW_PRECISION")&&(Ln=Dn[In],intCheck(Ln,0,MAX,In),Sn=Ln),Dn.hasOwnProperty(In="FORMAT"))if(Ln=Dn[In],typeof Ln=="object")Nn=Ln;else throw Error(bignumberError+In+" not an object: "+Ln);if(Dn.hasOwnProperty(In="ALPHABET"))if(Ln=Dn[In],typeof Ln=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Ln))Hn=Ln.slice(0,10)=="0123456789",jn=Ln;else throw Error(bignumberError+In+" invalid: "+Ln)}else throw Error(bignumberError+"Object expected: "+Dn);return{DECIMAL_PLACES:hn,ROUNDING_MODE:mn,EXPONENTIAL_AT:[xn,gn],RANGE:[wn,vn],CRYPTO:An,MODULO_MODE:Cn,POW_PRECISION:Sn,FORMAT:Nn,ALPHABET:jn}},Bn.isBigNumber=function(Dn){if(!Dn||Dn._isBigNumber!==!0)return!1;if(!Bn.DEBUG)return!0;var In,Ln,Wn=Dn.c,Fn=Dn.e,Pn=Dn.s;e:if({}.toString.call(Wn)=="[object Array]"){if((Pn===1||Pn===-1)&&Fn>=-MAX&&Fn<=MAX&&Fn===mathfloor(Fn)){if(Wn[0]===0){if(Fn===0&&Wn.length===1)return!0;break e}if(In=(Fn+1)%LOG_BASE,In<1&&(In+=LOG_BASE),String(Wn[0]).length==In){for(In=0;In<Wn.length;In++)if(Ln=Wn[In],Ln<0||Ln>=BASE||Ln!==mathfloor(Ln))break e;if(Ln!==0)return!0}}}else if(Wn===null&&Fn===null&&(Pn===null||Pn===1||Pn===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+Dn)},Bn.maximum=Bn.max=function(){return Mn(arguments,-1)},Bn.minimum=Bn.min=function(){return Mn(arguments,1)},Bn.random=(function(){var Dn=9007199254740992,In=Math.random()*Dn&2097151?function(){return mathfloor(Math.random()*Dn)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Ln){var Wn,Fn,Pn,Vn,Zn,Yn=0,Qn=[],Xn=new Bn(dn);if(Ln==null?Ln=hn:intCheck(Ln,0,MAX),Vn=mathceil(Ln/LOG_BASE),An)if(crypto.getRandomValues){for(Wn=crypto.getRandomValues(new Uint32Array(Vn*=2));Yn<Vn;)Zn=Wn[Yn]*131072+(Wn[Yn+1]>>>11),Zn>=9e15?(Fn=crypto.getRandomValues(new Uint32Array(2)),Wn[Yn]=Fn[0],Wn[Yn+1]=Fn[1]):(Qn.push(Zn%1e14),Yn+=2);Yn=Vn/2}else if(crypto.randomBytes){for(Wn=crypto.randomBytes(Vn*=7);Yn<Vn;)Zn=(Wn[Yn]&31)*281474976710656+Wn[Yn+1]*1099511627776+Wn[Yn+2]*4294967296+Wn[Yn+3]*16777216+(Wn[Yn+4]<<16)+(Wn[Yn+5]<<8)+Wn[Yn+6],Zn>=9e15?crypto.randomBytes(7).copy(Wn,Yn):(Qn.push(Zn%1e14),Yn+=7);Yn=Vn/7}else throw An=!1,Error(bignumberError+"crypto unavailable");if(!An)for(;Yn<Vn;)Zn=In(),Zn<9e15&&(Qn[Yn++]=Zn%1e14);for(Vn=Qn[--Yn],Ln%=LOG_BASE,Vn&&Ln&&(Zn=POWS_TEN[LOG_BASE-Ln],Qn[Yn]=mathfloor(Vn/Zn)*Zn);Qn[Yn]===0;Qn.pop(),Yn--);if(Yn<0)Qn=[Pn=0];else{for(Pn=-1;Qn[0]===0;Qn.splice(0,1),Pn-=LOG_BASE);for(Yn=1,Zn=Qn[0];Zn>=10;Zn/=10,Yn++);Yn<LOG_BASE&&(Pn-=LOG_BASE-Yn)}return Xn.e=Pn,Xn.c=Qn,Xn}})(),Bn.sum=function(){for(var Dn=1,In=arguments,Ln=new Bn(In[0]);Dn<In.length;)Ln=Ln.plus(In[Dn++]);return Ln},rn=(function(){var Dn="0123456789";function In(Ln,Wn,Fn,Pn){for(var Vn,Zn=[0],Yn,Qn=0,Xn=Ln.length;Qn<Xn;){for(Yn=Zn.length;Yn--;Zn[Yn]*=Wn);for(Zn[0]+=Pn.indexOf(Ln.charAt(Qn++)),Vn=0;Vn<Zn.length;Vn++)Zn[Vn]>Fn-1&&(Zn[Vn+1]==null&&(Zn[Vn+1]=0),Zn[Vn+1]+=Zn[Vn]/Fn|0,Zn[Vn]%=Fn)}return Zn.reverse()}return function(Ln,Wn,Fn,Pn,Vn){var Zn,Yn,Qn,Xn,rr,sr,Jn,nr,ar=Ln.indexOf("."),or=hn,dr=mn;for(ar>=0&&(Xn=Sn,Sn=0,Ln=Ln.replace(".",""),nr=new Bn(Wn),sr=nr.pow(Ln.length-ar),Sn=Xn,nr.c=In(toFixedPoint(coeffToString(sr.c),sr.e,"0"),10,Fn,Dn),nr.e=nr.c.length),Jn=In(Ln,Wn,Fn,Vn?(Zn=jn,Dn):(Zn=Dn,jn)),Qn=Xn=Jn.length;Jn[--Xn]==0;Jn.pop());if(!Jn[0])return Zn.charAt(0);if(ar<0?--Qn:(sr.c=Jn,sr.e=Qn,sr.s=Pn,sr=O(sr,nr,or,dr,Fn),Jn=sr.c,rr=sr.r,Qn=sr.e),Yn=Qn+or+1,ar=Jn[Yn],Xn=Fn/2,rr=rr||Yn<0||Jn[Yn+1]!=null,rr=dr<4?(ar!=null||rr)&&(dr==0||dr==(sr.s<0?3:2)):ar>Xn||ar==Xn&&(dr==4||rr||dr==6&&Jn[Yn-1]&1||dr==(sr.s<0?8:7)),Yn<1||!Jn[0])Ln=rr?toFixedPoint(Zn.charAt(1),-or,Zn.charAt(0)):Zn.charAt(0);else{if(Jn.length=Yn,rr)for(--Fn;++Jn[--Yn]>Fn;)Jn[Yn]=0,Yn||(++Qn,Jn=[1].concat(Jn));for(Xn=Jn.length;!Jn[--Xn];);for(ar=0,Ln="";ar<=Xn;Ln+=Zn.charAt(Jn[ar++]));Ln=toFixedPoint(Ln,Qn,Zn.charAt(0))}return Ln}})(),O=(function(){function Dn(Wn,Fn,Pn){var Vn,Zn,Yn,Qn,Xn=0,rr=Wn.length,sr=Fn%SQRT_BASE,Jn=Fn/SQRT_BASE|0;for(Wn=Wn.slice();rr--;)Yn=Wn[rr]%SQRT_BASE,Qn=Wn[rr]/SQRT_BASE|0,Vn=Jn*Yn+Qn*sr,Zn=sr*Yn+Vn%SQRT_BASE*SQRT_BASE+Xn,Xn=(Zn/Pn|0)+(Vn/SQRT_BASE|0)+Jn*Qn,Wn[rr]=Zn%Pn;return Xn&&(Wn=[Xn].concat(Wn)),Wn}function In(Wn,Fn,Pn,Vn){var Zn,Yn;if(Pn!=Vn)Yn=Pn>Vn?1:-1;else for(Zn=Yn=0;Zn<Pn;Zn++)if(Wn[Zn]!=Fn[Zn]){Yn=Wn[Zn]>Fn[Zn]?1:-1;break}return Yn}function Ln(Wn,Fn,Pn,Vn){for(var Zn=0;Pn--;)Wn[Pn]-=Zn,Zn=Wn[Pn]<Fn[Pn]?1:0,Wn[Pn]=Zn*Vn+Wn[Pn]-Fn[Pn];for(;!Wn[0]&&Wn.length>1;Wn.splice(0,1));}return function(Wn,Fn,Pn,Vn,Zn){var Yn,Qn,Xn,rr,sr,Jn,nr,ar,or,dr,xr,Dr,Nr,Ir,xs,es,vs,Kr=Wn.s==Fn.s?1:-1,Or=Wn.c,Gr=Fn.c;if(!Or||!Or[0]||!Gr||!Gr[0])return new Bn(!Wn.s||!Fn.s||(Or?Gr&&Or[0]==Gr[0]:!Gr)?NaN:Or&&Or[0]==0||!Gr?Kr*0:Kr/0);for(ar=new Bn(Kr),or=ar.c=[],Qn=Wn.e-Fn.e,Kr=Pn+Qn+1,Zn||(Zn=BASE,Qn=bitFloor(Wn.e/LOG_BASE)-bitFloor(Fn.e/LOG_BASE),Kr=Kr/LOG_BASE|0),Xn=0;Gr[Xn]==(Or[Xn]||0);Xn++);if(Gr[Xn]>(Or[Xn]||0)&&Qn--,Kr<0)or.push(1),rr=!0;else{for(Ir=Or.length,es=Gr.length,Xn=0,Kr+=2,sr=mathfloor(Zn/(Gr[0]+1)),sr>1&&(Gr=Dn(Gr,sr,Zn),Or=Dn(Or,sr,Zn),es=Gr.length,Ir=Or.length),Nr=es,dr=Or.slice(0,es),xr=dr.length;xr<es;dr[xr++]=0);vs=Gr.slice(),vs=[0].concat(vs),xs=Gr[0],Gr[1]>=Zn/2&&xs++;do{if(sr=0,Yn=In(Gr,dr,es,xr),Yn<0){if(Dr=dr[0],es!=xr&&(Dr=Dr*Zn+(dr[1]||0)),sr=mathfloor(Dr/xs),sr>1)for(sr>=Zn&&(sr=Zn-1),Jn=Dn(Gr,sr,Zn),nr=Jn.length,xr=dr.length;In(Jn,dr,nr,xr)==1;)sr--,Ln(Jn,es<nr?vs:Gr,nr,Zn),nr=Jn.length,Yn=1;else sr==0&&(Yn=sr=1),Jn=Gr.slice(),nr=Jn.length;if(nr<xr&&(Jn=[0].concat(Jn)),Ln(dr,Jn,xr,Zn),xr=dr.length,Yn==-1)for(;In(Gr,dr,es,xr)<1;)sr++,Ln(dr,es<xr?vs:Gr,xr,Zn),xr=dr.length}else Yn===0&&(sr++,dr=[0]);or[Xn++]=sr,dr[0]?dr[xr++]=Or[Nr]||0:(dr=[Or[Nr]],xr=1)}while((Nr++<Ir||dr[0]!=null)&&Kr--);rr=dr[0]!=null,or[0]||or.splice(0,1)}if(Zn==BASE){for(Xn=1,Kr=or[0];Kr>=10;Kr/=10,Xn++);Tn(ar,Pn+(ar.e=Xn+Qn*LOG_BASE-1)+1,Vn,rr)}else ar.e=Qn,ar.r=+rr;return ar}})();function On(Dn,In,Ln,Wn){var Fn,Pn,Vn,Zn,Yn;if(Ln==null?Ln=mn:intCheck(Ln,0,8),!Dn.c)return Dn.toString();if(Fn=Dn.c[0],Vn=Dn.e,In==null)Yn=coeffToString(Dn.c),Yn=Wn==1||Wn==2&&(Vn<=xn||Vn>=gn)?toExponential(Yn,Vn):toFixedPoint(Yn,Vn,"0");else if(Dn=Tn(new Bn(Dn),In,Ln),Pn=Dn.e,Yn=coeffToString(Dn.c),Zn=Yn.length,Wn==1||Wn==2&&(In<=Pn||Pn<=xn)){for(;Zn<In;Yn+="0",Zn++);Yn=toExponential(Yn,Pn)}else if(In-=Vn+(Wn===2&&Pn>Vn),Yn=toFixedPoint(Yn,Pn,"0"),Pn+1>Zn){if(--In>0)for(Yn+=".";In--;Yn+="0");}else if(In+=Pn-Zn,In>0)for(Pn+1==Zn&&(Yn+=".");In--;Yn+="0");return Dn.s<0&&Fn?"-"+Yn:Yn}function Mn(Dn,In){for(var Ln,Wn,Fn=1,Pn=new Bn(Dn[0]);Fn<Dn.length;Fn++)Wn=new Bn(Dn[Fn]),(!Wn.s||(Ln=compare(Pn,Wn))===In||Ln===0&&Pn.s===In)&&(Pn=Wn);return Pn}function Un(Dn,In,Ln){for(var Wn=1,Fn=In.length;!In[--Fn];In.pop());for(Fn=In[0];Fn>=10;Fn/=10,Wn++);return(Ln=Wn+Ln*LOG_BASE-1)>vn?Dn.c=Dn.e=null:Ln<wn?Dn.c=[Dn.e=0]:(Dn.e=Ln,Dn.c=In),Dn}an=(function(){var Dn=/^(-?)0([xbo])(?=\w[\w.]*$)/i,In=/^([^.]+)\.$/,Ln=/^\.([^.]+)$/,Wn=/^-?(Infinity|NaN)$/,Fn=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Pn,Vn,Zn,Yn){var Qn,Xn=Zn?Vn:Vn.replace(Fn,"");if(Wn.test(Xn))Pn.s=isNaN(Xn)?null:Xn<0?-1:1;else{if(!Zn&&(Xn=Xn.replace(Dn,function(rr,sr,Jn){return Qn=(Jn=Jn.toLowerCase())=="x"?16:Jn=="b"?2:8,!Yn||Yn==Qn?sr:rr}),Yn&&(Qn=Yn,Xn=Xn.replace(In,"$1").replace(Ln,"0.$1")),Vn!=Xn))return new Bn(Xn,Qn);if(Bn.DEBUG)throw Error(bignumberError+"Not a"+(Yn?" base "+Yn:"")+" number: "+Vn);Pn.s=null}Pn.c=Pn.e=null}})();function Tn(Dn,In,Ln,Wn){var Fn,Pn,Vn,Zn,Yn,Qn,Xn,rr=Dn.c,sr=POWS_TEN;if(rr){e:{for(Fn=1,Zn=rr[0];Zn>=10;Zn/=10,Fn++);if(Pn=In-Fn,Pn<0)Pn+=LOG_BASE,Vn=In,Yn=rr[Qn=0],Xn=mathfloor(Yn/sr[Fn-Vn-1]%10);else if(Qn=mathceil((Pn+1)/LOG_BASE),Qn>=rr.length)if(Wn){for(;rr.length<=Qn;rr.push(0));Yn=Xn=0,Fn=1,Pn%=LOG_BASE,Vn=Pn-LOG_BASE+1}else break e;else{for(Yn=Zn=rr[Qn],Fn=1;Zn>=10;Zn/=10,Fn++);Pn%=LOG_BASE,Vn=Pn-LOG_BASE+Fn,Xn=Vn<0?0:mathfloor(Yn/sr[Fn-Vn-1]%10)}if(Wn=Wn||In<0||rr[Qn+1]!=null||(Vn<0?Yn:Yn%sr[Fn-Vn-1]),Wn=Ln<4?(Xn||Wn)&&(Ln==0||Ln==(Dn.s<0?3:2)):Xn>5||Xn==5&&(Ln==4||Wn||Ln==6&&(Pn>0?Vn>0?Yn/sr[Fn-Vn]:0:rr[Qn-1])%10&1||Ln==(Dn.s<0?8:7)),In<1||!rr[0])return rr.length=0,Wn?(In-=Dn.e+1,rr[0]=sr[(LOG_BASE-In%LOG_BASE)%LOG_BASE],Dn.e=-In||0):rr[0]=Dn.e=0,Dn;if(Pn==0?(rr.length=Qn,Zn=1,Qn--):(rr.length=Qn+1,Zn=sr[LOG_BASE-Pn],rr[Qn]=Vn>0?mathfloor(Yn/sr[Fn-Vn]%sr[Vn])*Zn:0),Wn)for(;;)if(Qn==0){for(Pn=1,Vn=rr[0];Vn>=10;Vn/=10,Pn++);for(Vn=rr[0]+=Zn,Zn=1;Vn>=10;Vn/=10,Zn++);Pn!=Zn&&(Dn.e++,rr[0]==BASE&&(rr[0]=1));break}else{if(rr[Qn]+=Zn,rr[Qn]!=BASE)break;rr[Qn--]=0,Zn=1}for(Pn=rr.length;rr[--Pn]===0;rr.pop());}Dn.e>vn?Dn.c=Dn.e=null:Dn.e<wn&&(Dn.c=[Dn.e=0])}return Dn}function zn(Dn){var In,Ln=Dn.e;return Ln===null?Dn.toString():(In=coeffToString(Dn.c),In=Ln<=xn||Ln>=gn?toExponential(In,Ln):toFixedPoint(In,Ln,"0"),Dn.s<0?"-"+In:In)}return un.absoluteValue=un.abs=function(){var Dn=new Bn(this);return Dn.s<0&&(Dn.s=1),Dn},un.comparedTo=function(Dn,In){return compare(this,new Bn(Dn,In))},un.decimalPlaces=un.dp=function(Dn,In){var Ln,Wn,Fn,Pn=this;if(Dn!=null)return intCheck(Dn,0,MAX),In==null?In=mn:intCheck(In,0,8),Tn(new Bn(Pn),Dn+Pn.e+1,In);if(!(Ln=Pn.c))return null;if(Wn=((Fn=Ln.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,Fn=Ln[Fn])for(;Fn%10==0;Fn/=10,Wn--);return Wn<0&&(Wn=0),Wn},un.dividedBy=un.div=function(Dn,In){return O(this,new Bn(Dn,In),hn,mn)},un.dividedToIntegerBy=un.idiv=function(Dn,In){return O(this,new Bn(Dn,In),0,1)},un.exponentiatedBy=un.pow=function(Dn,In){var Ln,Wn,Fn,Pn,Vn,Zn,Yn,Qn,Xn,rr=this;if(Dn=new Bn(Dn),Dn.c&&!Dn.isInteger())throw Error(bignumberError+"Exponent not an integer: "+zn(Dn));if(In!=null&&(In=new Bn(In)),Zn=Dn.e>14,!rr.c||!rr.c[0]||rr.c[0]==1&&!rr.e&&rr.c.length==1||!Dn.c||!Dn.c[0])return Xn=new Bn(Math.pow(+zn(rr),Zn?Dn.s*(2-isOdd(Dn)):+zn(Dn))),In?Xn.mod(In):Xn;if(Yn=Dn.s<0,In){if(In.c?!In.c[0]:!In.s)return new Bn(NaN);Wn=!Yn&&rr.isInteger()&&In.isInteger(),Wn&&(rr=rr.mod(In))}else{if(Dn.e>9&&(rr.e>0||rr.e<-1||(rr.e==0?rr.c[0]>1||Zn&&rr.c[1]>=24e7:rr.c[0]<8e13||Zn&&rr.c[0]<=9999975e7)))return Pn=rr.s<0&&isOdd(Dn)?-0:0,rr.e>-1&&(Pn=1/Pn),new Bn(Yn?1/Pn:Pn);Sn&&(Pn=mathceil(Sn/LOG_BASE+2))}for(Zn?(Ln=new Bn(.5),Yn&&(Dn.s=1),Qn=isOdd(Dn)):(Fn=Math.abs(+zn(Dn)),Qn=Fn%2),Xn=new Bn(dn);;){if(Qn){if(Xn=Xn.times(rr),!Xn.c)break;Pn?Xn.c.length>Pn&&(Xn.c.length=Pn):Wn&&(Xn=Xn.mod(In))}if(Fn){if(Fn=mathfloor(Fn/2),Fn===0)break;Qn=Fn%2}else if(Dn=Dn.times(Ln),Tn(Dn,Dn.e+1,1),Dn.e>14)Qn=isOdd(Dn);else{if(Fn=+zn(Dn),Fn===0)break;Qn=Fn%2}rr=rr.times(rr),Pn?rr.c&&rr.c.length>Pn&&(rr.c.length=Pn):Wn&&(rr=rr.mod(In))}return Wn?Xn:(Yn&&(Xn=dn.div(Xn)),In?Xn.mod(In):Pn?Tn(Xn,Sn,mn,Vn):Xn)},un.integerValue=function(Dn){var In=new Bn(this);return Dn==null?Dn=mn:intCheck(Dn,0,8),Tn(In,In.e+1,Dn)},un.isEqualTo=un.eq=function(Dn,In){return compare(this,new Bn(Dn,In))===0},un.isFinite=function(){return!!this.c},un.isGreaterThan=un.gt=function(Dn,In){return compare(this,new Bn(Dn,In))>0},un.isGreaterThanOrEqualTo=un.gte=function(Dn,In){return(In=compare(this,new Bn(Dn,In)))===1||In===0},un.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},un.isLessThan=un.lt=function(Dn,In){return compare(this,new Bn(Dn,In))<0},un.isLessThanOrEqualTo=un.lte=function(Dn,In){return(In=compare(this,new Bn(Dn,In)))===-1||In===0},un.isNaN=function(){return!this.s},un.isNegative=function(){return this.s<0},un.isPositive=function(){return this.s>0},un.isZero=function(){return!!this.c&&this.c[0]==0},un.minus=function(Dn,In){var Ln,Wn,Fn,Pn,Vn=this,Zn=Vn.s;if(Dn=new Bn(Dn,In),In=Dn.s,!Zn||!In)return new Bn(NaN);if(Zn!=In)return Dn.s=-In,Vn.plus(Dn);var Yn=Vn.e/LOG_BASE,Qn=Dn.e/LOG_BASE,Xn=Vn.c,rr=Dn.c;if(!Yn||!Qn){if(!Xn||!rr)return Xn?(Dn.s=-In,Dn):new Bn(rr?Vn:NaN);if(!Xn[0]||!rr[0])return rr[0]?(Dn.s=-In,Dn):new Bn(Xn[0]?Vn:mn==3?-0:0)}if(Yn=bitFloor(Yn),Qn=bitFloor(Qn),Xn=Xn.slice(),Zn=Yn-Qn){for((Pn=Zn<0)?(Zn=-Zn,Fn=Xn):(Qn=Yn,Fn=rr),Fn.reverse(),In=Zn;In--;Fn.push(0));Fn.reverse()}else for(Wn=(Pn=(Zn=Xn.length)<(In=rr.length))?Zn:In,Zn=In=0;In<Wn;In++)if(Xn[In]!=rr[In]){Pn=Xn[In]<rr[In];break}if(Pn&&(Fn=Xn,Xn=rr,rr=Fn,Dn.s=-Dn.s),In=(Wn=rr.length)-(Ln=Xn.length),In>0)for(;In--;Xn[Ln++]=0);for(In=BASE-1;Wn>Zn;){if(Xn[--Wn]<rr[Wn]){for(Ln=Wn;Ln&&!Xn[--Ln];Xn[Ln]=In);--Xn[Ln],Xn[Wn]+=BASE}Xn[Wn]-=rr[Wn]}for(;Xn[0]==0;Xn.splice(0,1),--Qn);return Xn[0]?Un(Dn,Xn,Qn):(Dn.s=mn==3?-1:1,Dn.c=[Dn.e=0],Dn)},un.modulo=un.mod=function(Dn,In){var Ln,Wn,Fn=this;return Dn=new Bn(Dn,In),!Fn.c||!Dn.s||Dn.c&&!Dn.c[0]?new Bn(NaN):!Dn.c||Fn.c&&!Fn.c[0]?new Bn(Fn):(Cn==9?(Wn=Dn.s,Dn.s=1,Ln=O(Fn,Dn,0,3),Dn.s=Wn,Ln.s*=Wn):Ln=O(Fn,Dn,0,Cn),Dn=Fn.minus(Ln.times(Dn)),!Dn.c[0]&&Cn==1&&(Dn.s=Fn.s),Dn)},un.multipliedBy=un.times=function(Dn,In){var Ln,Wn,Fn,Pn,Vn,Zn,Yn,Qn,Xn,rr,sr,Jn,nr,ar,or,dr=this,xr=dr.c,Dr=(Dn=new Bn(Dn,In)).c;if(!xr||!Dr||!xr[0]||!Dr[0])return!dr.s||!Dn.s||xr&&!xr[0]&&!Dr||Dr&&!Dr[0]&&!xr?Dn.c=Dn.e=Dn.s=null:(Dn.s*=dr.s,!xr||!Dr?Dn.c=Dn.e=null:(Dn.c=[0],Dn.e=0)),Dn;for(Wn=bitFloor(dr.e/LOG_BASE)+bitFloor(Dn.e/LOG_BASE),Dn.s*=dr.s,Yn=xr.length,rr=Dr.length,Yn<rr&&(nr=xr,xr=Dr,Dr=nr,Fn=Yn,Yn=rr,rr=Fn),Fn=Yn+rr,nr=[];Fn--;nr.push(0));for(ar=BASE,or=SQRT_BASE,Fn=rr;--Fn>=0;){for(Ln=0,sr=Dr[Fn]%or,Jn=Dr[Fn]/or|0,Vn=Yn,Pn=Fn+Vn;Pn>Fn;)Qn=xr[--Vn]%or,Xn=xr[Vn]/or|0,Zn=Jn*Qn+Xn*sr,Qn=sr*Qn+Zn%or*or+nr[Pn]+Ln,Ln=(Qn/ar|0)+(Zn/or|0)+Jn*Xn,nr[Pn--]=Qn%ar;nr[Pn]=Ln}return Ln?++Wn:nr.splice(0,1),Un(Dn,nr,Wn)},un.negated=function(){var Dn=new Bn(this);return Dn.s=-Dn.s||null,Dn},un.plus=function(Dn,In){var Ln,Wn=this,Fn=Wn.s;if(Dn=new Bn(Dn,In),In=Dn.s,!Fn||!In)return new Bn(NaN);if(Fn!=In)return Dn.s=-In,Wn.minus(Dn);var Pn=Wn.e/LOG_BASE,Vn=Dn.e/LOG_BASE,Zn=Wn.c,Yn=Dn.c;if(!Pn||!Vn){if(!Zn||!Yn)return new Bn(Fn/0);if(!Zn[0]||!Yn[0])return Yn[0]?Dn:new Bn(Zn[0]?Wn:Fn*0)}if(Pn=bitFloor(Pn),Vn=bitFloor(Vn),Zn=Zn.slice(),Fn=Pn-Vn){for(Fn>0?(Vn=Pn,Ln=Yn):(Fn=-Fn,Ln=Zn),Ln.reverse();Fn--;Ln.push(0));Ln.reverse()}for(Fn=Zn.length,In=Yn.length,Fn-In<0&&(Ln=Yn,Yn=Zn,Zn=Ln,In=Fn),Fn=0;In;)Fn=(Zn[--In]=Zn[In]+Yn[In]+Fn)/BASE|0,Zn[In]=BASE===Zn[In]?0:Zn[In]%BASE;return Fn&&(Zn=[Fn].concat(Zn),++Vn),Un(Dn,Zn,Vn)},un.precision=un.sd=function(Dn,In){var Ln,Wn,Fn,Pn=this;if(Dn!=null&&Dn!==!!Dn)return intCheck(Dn,1,MAX),In==null?In=mn:intCheck(In,0,8),Tn(new Bn(Pn),Dn,In);if(!(Ln=Pn.c))return null;if(Fn=Ln.length-1,Wn=Fn*LOG_BASE+1,Fn=Ln[Fn]){for(;Fn%10==0;Fn/=10,Wn--);for(Fn=Ln[0];Fn>=10;Fn/=10,Wn++);}return Dn&&Pn.e+1>Wn&&(Wn=Pn.e+1),Wn},un.shiftedBy=function(Dn){return intCheck(Dn,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times("1e"+Dn)},un.squareRoot=un.sqrt=function(){var Dn,In,Ln,Wn,Fn,Pn=this,Vn=Pn.c,Zn=Pn.s,Yn=Pn.e,Qn=hn+4,Xn=new Bn("0.5");if(Zn!==1||!Vn||!Vn[0])return new Bn(!Zn||Zn<0&&(!Vn||Vn[0])?NaN:Vn?Pn:1/0);if(Zn=Math.sqrt(+zn(Pn)),Zn==0||Zn==1/0?(In=coeffToString(Vn),(In.length+Yn)%2==0&&(In+="0"),Zn=Math.sqrt(+In),Yn=bitFloor((Yn+1)/2)-(Yn<0||Yn%2),Zn==1/0?In="5e"+Yn:(In=Zn.toExponential(),In=In.slice(0,In.indexOf("e")+1)+Yn),Ln=new Bn(In)):Ln=new Bn(Zn+""),Ln.c[0]){for(Yn=Ln.e,Zn=Yn+Qn,Zn<3&&(Zn=0);;)if(Fn=Ln,Ln=Xn.times(Fn.plus(O(Pn,Fn,Qn,1))),coeffToString(Fn.c).slice(0,Zn)===(In=coeffToString(Ln.c)).slice(0,Zn))if(Ln.e<Yn&&--Zn,In=In.slice(Zn-3,Zn+1),In=="9999"||!Wn&&In=="4999"){if(!Wn&&(Tn(Fn,Fn.e+hn+2,0),Fn.times(Fn).eq(Pn))){Ln=Fn;break}Qn+=4,Zn+=4,Wn=1}else{(!+In||!+In.slice(1)&&In.charAt(0)=="5")&&(Tn(Ln,Ln.e+hn+2,1),Dn=!Ln.times(Ln).eq(Pn));break}}return Tn(Ln,Ln.e+hn+1,mn,Dn)},un.toExponential=function(Dn,In){return Dn!=null&&(intCheck(Dn,0,MAX),Dn++),On(this,Dn,In,1)},un.toFixed=function(Dn,In){return Dn!=null&&(intCheck(Dn,0,MAX),Dn=Dn+this.e+1),On(this,Dn,In)},un.toFormat=function(Dn,In,Ln){var Wn,Fn=this;if(Ln==null)Dn!=null&&In&&typeof In=="object"?(Ln=In,In=null):Dn&&typeof Dn=="object"?(Ln=Dn,Dn=In=null):Ln=Nn;else if(typeof Ln!="object")throw Error(bignumberError+"Argument not an object: "+Ln);if(Wn=Fn.toFixed(Dn,In),Fn.c){var Pn,Vn=Wn.split("."),Zn=+Ln.groupSize,Yn=+Ln.secondaryGroupSize,Qn=Ln.groupSeparator||"",Xn=Vn[0],rr=Vn[1],sr=Fn.s<0,Jn=sr?Xn.slice(1):Xn,nr=Jn.length;if(Yn&&(Pn=Zn,Zn=Yn,Yn=Pn,nr-=Pn),Zn>0&&nr>0){for(Pn=nr%Zn||Zn,Xn=Jn.substr(0,Pn);Pn<nr;Pn+=Zn)Xn+=Qn+Jn.substr(Pn,Zn);Yn>0&&(Xn+=Qn+Jn.slice(Pn)),sr&&(Xn="-"+Xn)}Wn=rr?Xn+(Ln.decimalSeparator||"")+((Yn=+Ln.fractionGroupSize)?rr.replace(new RegExp("\\d{"+Yn+"}\\B","g"),"$&"+(Ln.fractionGroupSeparator||"")):rr):Xn}return(Ln.prefix||"")+Wn+(Ln.suffix||"")},un.toFraction=function(Dn){var In,Ln,Wn,Fn,Pn,Vn,Zn,Yn,Qn,Xn,rr,sr,Jn=this,nr=Jn.c;if(Dn!=null&&(Zn=new Bn(Dn),!Zn.isInteger()&&(Zn.c||Zn.s!==1)||Zn.lt(dn)))throw Error(bignumberError+"Argument "+(Zn.isInteger()?"out of range: ":"not an integer: ")+zn(Zn));if(!nr)return new Bn(Jn);for(In=new Bn(dn),Qn=Ln=new Bn(dn),Wn=Yn=new Bn(dn),sr=coeffToString(nr),Pn=In.e=sr.length-Jn.e-1,In.c[0]=POWS_TEN[(Vn=Pn%LOG_BASE)<0?LOG_BASE+Vn:Vn],Dn=!Dn||Zn.comparedTo(In)>0?Pn>0?In:Qn:Zn,Vn=vn,vn=1/0,Zn=new Bn(sr),Yn.c[0]=0;Xn=O(Zn,In,0,1),Fn=Ln.plus(Xn.times(Wn)),Fn.comparedTo(Dn)!=1;)Ln=Wn,Wn=Fn,Qn=Yn.plus(Xn.times(Fn=Qn)),Yn=Fn,In=Zn.minus(Xn.times(Fn=In)),Zn=Fn;return Fn=O(Dn.minus(Ln),Wn,0,1),Yn=Yn.plus(Fn.times(Qn)),Ln=Ln.plus(Fn.times(Wn)),Yn.s=Qn.s=Jn.s,Pn=Pn*2,rr=O(Qn,Wn,Pn,mn).minus(Jn).abs().comparedTo(O(Yn,Ln,Pn,mn).minus(Jn).abs())<1?[Qn,Wn]:[Yn,Ln],vn=Vn,rr},un.toNumber=function(){return+zn(this)},un.toPrecision=function(Dn,In){return Dn!=null&&intCheck(Dn,1,MAX),On(this,Dn,In,2)},un.toString=function(Dn){var In,Ln=this,Wn=Ln.s,Fn=Ln.e;return Fn===null?Wn?(In="Infinity",Wn<0&&(In="-"+In)):In="NaN":(Dn==null?In=Fn<=xn||Fn>=gn?toExponential(coeffToString(Ln.c),Fn):toFixedPoint(coeffToString(Ln.c),Fn,"0"):Dn===10&&Hn?(Ln=Tn(new Bn(Ln),hn+Fn+1,mn),In=toFixedPoint(coeffToString(Ln.c),Ln.e,"0")):(intCheck(Dn,2,jn.length,"Base"),In=rn(toFixedPoint(coeffToString(Ln.c),Fn,"0"),10,Dn,Wn,!0)),Wn<0&&Ln.c[0]&&(In="-"+In)),In},un.valueOf=un.toJSON=function(){return zn(this)},un._isBigNumber=!0,un[Symbol.toStringTag]="BigNumber",un[Symbol.for("nodejs.util.inspect.custom")]=un.valueOf,sn!=null&&Bn.set(sn),Bn}function bitFloor(sn){var O=sn|0;return sn>0||sn===O?O:O-1}function coeffToString(sn){for(var O,rn,an=1,un=sn.length,dn=sn[0]+"";an<un;){for(O=sn[an++]+"",rn=LOG_BASE-O.length;rn--;O="0"+O);dn+=O}for(un=dn.length;dn.charCodeAt(--un)===48;);return dn.slice(0,un+1||1)}function compare(sn,O){var rn,an,un=sn.c,dn=O.c,hn=sn.s,mn=O.s,xn=sn.e,gn=O.e;if(!hn||!mn)return null;if(rn=un&&!un[0],an=dn&&!dn[0],rn||an)return rn?an?0:-mn:hn;if(hn!=mn)return hn;if(rn=hn<0,an=xn==gn,!un||!dn)return an?0:!un^rn?1:-1;if(!an)return xn>gn^rn?1:-1;for(mn=(xn=un.length)<(gn=dn.length)?xn:gn,hn=0;hn<mn;hn++)if(un[hn]!=dn[hn])return un[hn]>dn[hn]^rn?1:-1;return xn==gn?0:xn>gn^rn?1:-1}function intCheck(sn,O,rn,an){if(sn<O||sn>rn||sn!==mathfloor(sn))throw Error(bignumberError+(an||"Argument")+(typeof sn=="number"?sn<O||sn>rn?" out of range: ":" not an integer: ":" not a primitive number: ")+String(sn))}function isOdd(sn){var O=sn.c.length-1;return bitFloor(sn.e/LOG_BASE)==O&&sn.c[O]%2!=0}function toExponential(sn,O){return(sn.length>1?sn.charAt(0)+"."+sn.slice(1):sn)+(O<0?"e":"e+")+O}function toFixedPoint(sn,O,rn){var an,un;if(O<0){for(un=rn+".";++O;un+=rn);sn=un+sn}else if(an=sn.length,++O>an){for(un=rn,O-=an;--O;un+=rn);sn+=un}else O<an&&(sn=sn.slice(0,O)+"."+sn.slice(O));return sn}var BigNumber=clone();const defaultLength=24,bigLength=32,createRandom=()=>typeof globalThis<"u"&&globalThis.crypto&&typeof globalThis.crypto.getRandomValues=="function"?()=>{const sn=new Uint32Array(1);return globalThis.crypto.getRandomValues(sn),sn[0]/4294967296}:Math.random,random=createRandom(),createEntropy=(sn=4,O=random)=>{let rn="";for(;rn.length<sn;)rn=rn+Math.floor(O()*36).toString(36);return rn};function bufToBigInt(sn){let O=new BigNumber(0);for(const rn of sn.values())O=O.multipliedBy(256).plus(rn);return O}const hash=(sn="")=>{const O=new TextEncoder;return bufToBigInt(sha3_512(O.encode(sn))).toString(36).slice(1)},alphabet=Array.from({length:26},(sn,O)=>String.fromCharCode(O+97)),randomLetter=sn=>alphabet[Math.floor(sn()*alphabet.length)],createFingerprint=({globalObj:sn=typeof global<"u"?global:typeof window<"u"?window:{},random:O=random}={})=>{const rn=Object.keys(sn).toString(),an=rn.length?rn+createEntropy(bigLength,O):createEntropy(bigLength,O);return hash(an).substring(0,bigLength)},createCounter=sn=>()=>sn++,initialCountMax=476782367,init$1=({random:sn=random,counter:O=createCounter(Math.floor(sn()*initialCountMax)),length:rn=defaultLength,fingerprint:an=createFingerprint({random:sn})}={})=>{if(rn>bigLength)throw new Error(`Length must be between 2 and ${bigLength}. Received: ${rn}`);return function(){const dn=randomLetter(sn),hn=Date.now().toString(36),mn=O().toString(36),xn=createEntropy(rn,sn),gn=`${hn+xn+mn+an}`;return`${dn+hash(gn).substring(1,rn)}`}},createId=lazy(init$1);function lazy(sn){let O;return()=>(O||(O=sn()),O())}let updateInfo,updateControls,clearInfo,clearControls;function AppIsland(){const[sn,O]=reactExports.useState({}),[rn,an]=reactExports.useState(null),un=xn=>{xn.appname&&(O(gn=>({...gn,[xn.appname]:{...gn[xn.appname]||{props:null,controls:[]},props:{...gn[xn.appname]?.props,...xn}}})),an(xn.appname),window.dispatchEvent(new CustomEvent("selwin-upd",{detail:xn.appname})))},dn=xn=>{if(!xn.appname)return;const gn=xn.appname,wn=xn.id||createId(),vn=xn.click?xn.click:()=>{};O(An=>{const Cn=An[gn]?.controls||[];if(Cn.some(Nn=>Nn.key===wn))return An;const Sn=jsxRuntimeExports.jsx("button",{className:"cursor-pointer hover:text-[#ffffffe3] leading-none duration-150","control-id":wn,onClick:vn,children:xn.text},wn);return{...An,[gn]:{props:An[gn]?.props||null,controls:[...Cn,Sn]}}}),window.dispatchEvent(new CustomEvent("selwin-upd",{detail:gn}))},hn=xn=>{O(gn=>({...gn,[xn]:{...gn[xn],controls:[]}}))},mn=()=>{an(null)};return reactExports.useEffect(()=>{updateInfo=un,updateControls=dn,clearInfo=mn,clearControls=hn}),jsxRuntimeExports.jsx("div",{className:"island-container",children:jsxRuntimeExports.jsx("div",{className:`island app_island relative p-3 py-2 flex gap-2 items-center rounded-xl h-min ${rn?"opacity-100":"opacity-0"}`,children:Object.entries(sn).map(([xn,gn])=>jsxRuntimeExports.jsxs("div",{className:`flex gap-3 ${rn===xn?"opacity-100 z-1":"opacity-0 absolute pointer-events-none"} duration-150`,id:gn.props?.id,"data-app-name":xn,children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-white text-2xl cursor-(--cursor-text)",children:xn}),gn.controls.length>0&&jsxRuntimeExports.jsx("div",{className:"font-medium text-[#ffffff88] text-sm flex gap-2",children:gn.controls})]},xn))})})}const isURL=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,dirExists=async sn=>new Promise(O=>{if(!window.tb.fs)return O(!1);window.tb.fs.exists(sn,rn=>{O(rn)})}),fileExists=async sn=>new Promise(O=>{if(!window.tb.fs)return O(!1);window.tb.fs.exists(sn,rn=>{O(rn)})});async function unzip(sn,O){const an=await(await fetch("/fs/"+sn)).arrayBuffer();await dirExists(O)||await window.tb.fs.promises.mkdir(O,{recursive:!0});const un=unzipSync(new Uint8Array(an));for(const[dn,hn]of Object.entries(un)){const mn=`${O}/${dn}`,xn=mn.split("/");let gn="";for(let wn=0;wn<xn.length;wn++)gn+=xn[wn]+"/",wn===xn.length-1&&!dn.endsWith("/")?await window.tb.fs.promises.writeFile(gn.slice(0,-1),window.tb.buffer.from(hn),"arraybuffer"):await dirExists(gn)||await window.tb.fs.promises.mkdir(gn);dn.endsWith("/")&&await window.tb.fs.promises.mkdir(mn)}return"Done!"}const createStoreImpl=sn=>{let O;const rn=new Set,an=(gn,wn)=>{const vn=typeof gn=="function"?gn(O):gn;if(!Object.is(vn,O)){const An=O;O=wn??(typeof vn!="object"||vn===null)?vn:Object.assign({},O,vn),rn.forEach(Cn=>Cn(O,An))}},un=()=>O,mn={setState:an,getState:un,getInitialState:()=>xn,subscribe:gn=>(rn.add(gn),()=>rn.delete(gn))},xn=O=sn(an,un,mn);return mn},createStore=(sn=>sn?createStoreImpl(sn):createStoreImpl),identity=sn=>sn;function useStore(sn,O=identity){const rn=React.useSyncExternalStore(sn.subscribe,React.useCallback(()=>O(sn.getState()),[sn,O]),React.useCallback(()=>O(sn.getInitialState()),[sn,O]));return React.useDebugValue(rn),rn}const createImpl=sn=>{const O=createStore(sn),rn=an=>useStore(O,an);return Object.assign(rn,O),rn},create=(sn=>createImpl);let lastPID=1;const createPID=()=>(lastPID++).toString(),createWID=()=>"w-"+init$1({length:10})(),useWindowStore=create()(sn=>({windows:[],matchedWindows:[],addWindow:async O=>{const rn=await fileExists("/system/var/terbium/recent.json")?JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/recent.json","utf8")):(await window.tb.fs.promises.writeFile("/system/var/terbium/recent.json",JSON.stringify([],null,2),"utf8").catch(dn=>console.error(dn)),[]),un=await(async dn=>{const hn=dn.windows.map(vn=>vn.zIndex??0);O.zIndex=Math.max(...hn)+1,O.focused=!0,O.zIndex===-1/0&&(O.zIndex=2),dn.windows.forEach(vn=>{vn.wid!==O.wid&&(vn.focused=!1,vn.zIndex!==void 0&&Math.max(0,vn.zIndex-1))});const mn=dn.matchedWindows.findIndex(vn=>vn.some(An=>(typeof An.title=="string"?An.title:An.title?.text)===(typeof O.title=="string"?O.title:O.title?.text)));mn!==-1?dn.matchedWindows[mn].push(O):dn.matchedWindows.push([O]),O.wid=createWID(),O.pid=createPID();const xn=typeof O.title=="string"?O.title:O.title?.text;let gn=null;try{gn={...JSON.parse(await window.tb.fs.promises.readFile(`/apps/system/${xn.toLowerCase()}.tapp/index.json`,"utf8")).config,weight:1}}catch{gn={title:xn,icon:O.icon,src:O.src,size:O.size,proxy:O.proxy,weight:1}}if(rn.length>10){const vn=Math.min(...rn.map(Cn=>Cn.weight)),An=rn.findIndex(Cn=>Cn.weight===vn);rn.splice(An,1)}const wn=rn.findIndex(vn=>(typeof vn.title=="string"?vn.title.toLowerCase():vn.title?.text.toLowerCase())===(typeof gn.title=="string"?gn.title.toLowerCase():gn.title?.text.toLowerCase()));return wn===-1?rn.push(gn):rn[wn].weight+=1,await window.tb.fs.promises.writeFile("/system/var/terbium/recent.json",JSON.stringify(rn,null,2),"utf8").catch(vn=>{console.error("Error writing recent apps file:",vn)}),window.dispatchEvent(new CustomEvent("selwin-upd",{detail:typeof O.title=="string"?O.title:O.title?.text})),{windows:[...dn.windows,O],matchedWindows:[...dn.matchedWindows],currentPID:O.pid}})(useWindowStore.getState());sn(un)},killWindow:O=>sn(rn=>{const an=rn.windows.filter(xn=>xn.pid!==O),un=rn.matchedWindows.map(xn=>{const gn=xn.filter(wn=>wn.pid!==O);return gn.length>0?gn:null}).filter(xn=>xn!==null),dn=an.map(xn=>xn.zIndex??0),hn=Math.max(...dn),mn=an.find(xn=>xn.zIndex===hn);return mn&&(mn.focused=!0,updateInfo({appname:typeof mn.title=="string"?mn.title:mn.title?.text}),window.dispatchEvent(new CustomEvent("selwin-upd",{detail:typeof mn.title=="string"?mn.title:mn.title?.text}))),{windows:an,matchedWindows:un}}),removeWindow:O=>{sn(rn=>{const an=rn.windows.filter(xn=>xn.wid!==O),un=rn.matchedWindows.map(xn=>{const gn=xn.filter(wn=>wn.wid!==O);return gn.length>0?gn:null}).filter(xn=>xn!==null),dn=an.map(xn=>xn.zIndex??0),hn=Math.max(...dn),mn=an.find(xn=>xn.zIndex===hn);return mn&&(mn.focused=!0,updateInfo({appname:typeof mn.title=="string"?mn.title:mn.title?.text}),window.dispatchEvent(new CustomEvent("selwin-upd",{detail:typeof mn.title=="string"?mn.title:mn.title?.text}))),{windows:an,matchedWindows:un}})},arrange:O=>sn(rn=>{const an=rn.windows.find(hn=>hn.wid===O);if(!an)return rn;const un=rn.windows.map(hn=>hn.zIndex??0),dn=Math.max(...un);return an.focused&&an.zIndex===dn?rn:(sn({currentPID:an.pid}),an.zIndex=dn+1,an.focused=!0,rn.windows.forEach(hn=>{hn.wid!==O&&(hn.focused=!1)}),{windows:[...rn.windows]})}),minimize:O=>sn(rn=>{const an=rn.windows.find(un=>un.wid===O);return an?(an.focused=!1,{windows:rn.windows}):rn}),getWindow:O=>useWindowStore.getState().windows.find(an=>an.wid===O)})),useContextMenuStore=create()(sn=>({menu:{x:0,y:0,options:[]},setContextMenu:O=>sn({menu:O}),clearContextMenu:()=>sn({menu:{x:0,y:0,options:[]}})})),useSearchMenuStore=create()(sn=>({open:!1,setOpen:O=>sn({open:O}),searchRef:React.createRef(),searchMenuRef:React.createRef()})),WindowElement=({className:sn,config:O,onSnapDone:rn,onSnapPreview:an})=>{const un=useWindowStore(),[dn,hn]=reactExports.useState(!0),mn=reactExports.useRef(null),xn=reactExports.useRef(null),gn=reactExports.useRef(null),wn=reactExports.useRef(null),vn=reactExports.useRef(null),An=reactExports.useRef(null),Cn=reactExports.useRef(null),Sn=reactExports.useRef(null),Nn=reactExports.useRef(null),jn=reactExports.useRef(null),[Hn,Bn]=reactExports.useState(O.zIndex),[On,Mn]=reactExports.useState(!1),[Un,Tn]=reactExports.useState(!1),[zn,Dn]=reactExports.useState("center"),[In,Ln]=reactExports.useState("center"),[Wn,Fn]=reactExports.useState(O.size?.width||400),[Pn,Vn]=reactExports.useState(O.size?.height||400),[Zn]=reactExports.useState(typeof O.title=="object"?O.title?.html:void 0),[Yn,Qn]=reactExports.useState(!1),[Xn,rr]=reactExports.useState(!1),[sr]=reactExports.useState(typeof O.title=="string"?O.title:O.title?.text),[Jn,nr]=reactExports.useState(null),[ar,or]=reactExports.useState(!1),[dr,xr]=reactExports.useState(O.controls),[Dr,Nr]=reactExports.useState(O.src),Ir=reactExports.useRef(null),[xs,es]=reactExports.useState(!1),[vs,Kr]=reactExports.useState("#ffffff18"),[Or,Gr]=reactExports.useState(!1);(async()=>{const Fr=await window.tb.platform.getPlatform(),Mr=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));(Fr==="mobile"||Mr.window.alwaysMaximized===!0)&&Qn(!0)})(),reactExports.useEffect(()=>{(async()=>{try{const Mr=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));hn(Mr.windowOptimizations??!0)}catch(Mr){console.error("Failed to load optimization settings:",Mr),hn(!0)}})()},[]),reactExports.useEffect(()=>{updateInfo({appname:typeof O.title=="string"?O.title:O.title?.text})},[O]),reactExports.useEffect(()=>{mn.current&&(zn==="center"&&Dn(window.innerWidth/2-mn.current.offsetWidth/2),In==="center"&&Ln(window.innerHeight/2-mn.current.offsetHeight/2),mn.current.classList.remove("opacity-0","translate-y-3"),setTimeout(()=>{mn.current?.classList.remove("duration-150")},150)),jn.current&&Zn&&(jn.current.innerHTML=Zn),(async()=>{if(O.proxy===!0){const Mr=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));Nr("about:blank"),console.log(Mr.proxy),Mr.proxy==="Ultraviolet"?Nr(`${window.location.origin}/uv/service/${await window.tb.proxy.encode(O.src,"XOR")}`):Nr(`${window.location.origin}/service/${await window.tb.proxy.encode(O.src,"XOR")}`);const ts=await window.anura.wm.getWeakRef(Number(O.pid))||{};Object.assign(wn.current?.contentWindow,{tb:window.parent.tb,anura:window.parent.anura,AliceWM:window.parent.AliceWM,LocalFS:window.parent.LocalFS,ExternalApp:window.parent.ExternalApp,ExternalLib:window.parent.ExternalLib,Filer:window.parent.Filer,instanceWindow:ts})}else{console.log(await window.anura.wm.getWeakRef(Number(O.pid)));const Mr=await window.anura.wm.getWeakRef(Number(O.pid))||{};Object.assign(wn.current?.contentWindow,{tb:window.parent.tb,anura:window.parent.anura,AliceWM:window.parent.AliceWM,LocalFS:window.parent.LocalFS,ExternalApp:window.parent.ExternalApp,ExternalLib:window.parent.ExternalLib,Filer:window.parent.Filer,instanceWindow:Mr})}})()},[wn,Dr]),reactExports.useEffect(()=>{const Fr=ds=>{ds.detail===O.pid&&wn.current?.contentWindow&&(wn.current.contentWindow.location.reload(),wn.current.onload=()=>{Object.assign(wn.current?.contentWindow,{tb:window.parent.tb,anura:window.parent.anura,AliceWM:window.parent.AliceWM,LocalFS:window.parent.LocalFS,ExternalApp:window.parent.ExternalApp,ExternalLib:window.parent.ExternalLib,Filer:window.parent.Filer,instanceWindow:window.anura.wm.getWeakRef(Number(O.pid))||{}})})},Mr=ds=>{ds.detail===O.pid&&(Qn(!0),un.arrange(O.wid))},ts=ds=>{ds.detail===O.pid&&rr(!0)},ns=ds=>{ds.detail===O.pid&&window.dispatchEvent(new CustomEvent("curr-win-content",{detail:Sn.current}))},ss=ds=>{const _s=JSON.parse(ds.detail);_s.currWin===O.pid&&Sn.current&&(Sn.current.innerHTML=_s.content)},Yr=ds=>{const _s=JSON.parse(ds.detail);_s.currWin===O.pid&&Nn.current&&(Nn.current.style.color=_s.color)},ls=ds=>{const _s=JSON.parse(ds.detail);_s.currWin===O.pid&&Nn.current&&(Nn.current.style.backgroundColor=_s.color)},Jr=ds=>{const _s=JSON.parse(ds.detail);_s.currWin===O.pid&&Nn.current&&(Nn.current.innerText=_s.txt)},Hr=ds=>{ds.detail===O.wid&&(un.arrange(O.wid),Bn(un.getWindow(O.wid)?.zIndex),rr(!1),setTimeout(()=>{mn.current?.classList.remove("duration-150")},150),gn.current&&gn.current.click(),updateInfo({appname:typeof O.title=="string"?O.title:O.title?.text}))},is=ds=>{const _s=ds.target.getBoundingClientRect();window.tb.contextmenu.create({x:_s.left+100,y:_s.top+40,options:[{text:"Minimize",click:()=>{rr(!0)}},{text:"Maximize",click:()=>{Qn(!0)}},{text:"Reload",click:()=>{wn.current?.contentWindow&&(wn.current.contentWindow.location.reload(),Object.assign(wn.current?.contentWindow,{tb:window.parent.tb,anura:window.parent.anura,AliceWM:window.parent.AliceWM,LocalFS:window.parent.LocalFS,ExternalApp:window.parent.ExternalApp,ExternalLib:window.parent.ExternalLib,Filer:window.parent.Filer,instanceWindow:window.anura.wm.getWeakRef(Number(O.pid))||{}}))}},{text:"Close",click:()=>{un.removeWindow(O.wid),clearInfo()}}]})},ii=ds=>{const _s=JSON.parse(ds.detail);_s.pid===O.pid&&wn.current?.contentWindow&&(Nr(_s.url),wn.current.onload=()=>{Object.assign(wn.current?.contentWindow,{tb:window.parent.tb,anura:window.parent.anura,AliceWM:window.parent.AliceWM,LocalFS:window.parent.LocalFS,ExternalApp:window.parent.ExternalApp,ExternalLib:window.parent.ExternalLib,Filer:window.parent.Filer,instanceWindow:window.anura.wm.getWeakRef(Number(O.pid))||{}})})},Ji=()=>{Xn||rr(!0)},fi=async()=>{const ds=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));Kr(`${ds.window.winAccent}${ds.window.blurlevel}`),Gr(ds.window.alwaysFullscreen)};return fi(),window.addEventListener("reload-win",Fr),window.addEventListener("max-win",Mr),window.addEventListener("min-win",ts),window.addEventListener("get-content",ns),window.addEventListener("upd-wincont",ss),window.addEventListener("upd-winbarcol",Yr),window.addEventListener("upd-winbartxt",Jr),window.addEventListener("upd-winbarbg",ls),window.addEventListener("upd-src",ii),window.addEventListener("sel-win",Hr),window.addEventListener("min-wins",Ji),window.addEventListener("upd-accent",fi),xn.current&&xn.current.addEventListener("contextmenu",is),()=>{window.removeEventListener("reload-win",Fr),window.removeEventListener("max-win",Mr),window.removeEventListener("min-win",ts),window.removeEventListener("get-content",ns),window.removeEventListener("upd-wincont",ss),window.removeEventListener("upd-winbarcol",Yr),window.removeEventListener("upd-winbartxt",Jr),window.removeEventListener("upd-winbarbg",ls),window.removeEventListener("upd-src",ii),window.removeEventListener("sel-win",Hr),window.removeEventListener("min-wins",Ji),window.removeEventListener("upd-accent",fi),xn.current&&xn.current.removeEventListener("contextmenu",is)}},[]);const Ks=(Fr,Mr)=>{if(O.snapable!==!1){if(!mn.current)return;Ir.current={width:Wn,height:Pn};const ts=mn.current.offsetWidth,ns=mn.current.offsetHeight,ss=7,Yr=40,ls=Fr<=ss,Jr=Fr+ts>=window.innerWidth-ss,Hr=Mr<=ss,is=Mr+ns>=window.innerHeight-ss;ls&&Hr&&Fr<=Yr&&Mr<=Yr?(Dn(0),Ln(0),nr("top-left"),an?.("top-left")):Jr&&Hr&&Fr+ts>=window.innerWidth-Yr&&Mr<=Yr?(Dn(window.innerWidth-ts),Ln(0),nr("top-right"),an?.("top-right")):ls&&is&&Fr<=Yr&&Mr+ns>=window.innerHeight-Yr?(Dn(0),Ln(window.innerHeight-ns),nr("bottom-left"),an?.("bottom-left")):Jr&&is&&Fr+ts>=window.innerWidth-Yr&&Mr+ns>=window.innerHeight-Yr?(Dn(window.innerWidth-ts),Ln(window.innerHeight-ns),nr("bottom-right"),an?.("bottom-right")):ls?(Dn(0),nr("left"),an?.("left")):Jr?(Dn(window.innerWidth-ts),nr("right"),an?.("right")):Hr?(Ln(0),nr("top"),an?.("top")):(Jn&&Ir.current&&(Fn(Ir.current.width),Vn(Ir.current.height)),nr(null),rn?.())}};reactExports.useEffect(()=>{Un&&xs&&Ir.current&&mn.current&&(mn.current.style.width=`${Ir.current.width}px`,mn.current.style.height=`${Ir.current.height}px`,es(!1),nr(null),rn?.())},[Un,xs]),reactExports.useEffect(()=>{Un||ar?document.querySelectorAll("iframe").forEach(Mr=>{Mr.style.pointerEvents="none"}):document.querySelectorAll("iframe").forEach(Mr=>{Mr.style.pointerEvents="auto"})},[Un,ar]),reactExports.useEffect(()=>{const Fr=()=>{Mn(!1),Tn(!1),mn.current&&(Jn==="left"?(mn.current.style.left="0",mn.current.style.width="50%",mn.current.style.height="100%",mn.current.style.top="0",es(!0)):Jn==="right"?(mn.current.style.left="50%",mn.current.style.width="50%",mn.current.style.height="100%",mn.current.style.top="0",es(!0)):Jn==="top"?(Qn(!0),es(!0)):Jn==="top-left"?(mn.current.style.left="0",mn.current.style.top="0",mn.current.style.width="50%",mn.current.style.height="50%",es(!0)):Jn==="top-right"?(mn.current.style.left="50%",mn.current.style.top="0",mn.current.style.width="50%",mn.current.style.height="50%",es(!0)):Jn==="bottom-left"?(mn.current.style.left="0",mn.current.style.top="50%",mn.current.style.width="50%",mn.current.style.height="50%",es(!0)):Jn==="bottom-right"&&(mn.current.style.left="50%",mn.current.style.top="50%",mn.current.style.width="50%",mn.current.style.height="50%",es(!0))),nr(null),rn?.()};return window.addEventListener("mouseup",Fr),()=>window.removeEventListener("mouseup",Fr)},[Jn,Un,Yn,ar]);const gr=Fr=>{let Mr=null,ts=null;const ns=Yr=>{if(!dn){if(or(!0),Qn(!1),mn.current.style.transform="",Fr.includes("top")){const ls=Yr.clientY-65,Jr=Math.max(ls,0),Hr=Pn+(typeof In=="number"?In-Jr:0);Hr>=(O.size?.minHeight??224)&&(Vn(Hr),Ln(Jr))}if(Fr.includes("left")){const ls=Yr.clientX-10,Jr=Math.max(ls,0),Hr=Wn+(typeof zn=="number"?zn-Jr:0);Hr>=(O.size?.minWidth??224)&&(Fn(Hr),Dn(Jr))}if(Fr.includes("right")){const ls=Yr.clientX-5,Jr=typeof zn=="number"?zn:0,Hr=ls-Jr;Hr>=(O.size?.minWidth??224)&&(Fn(Hr),Dn(Jr))}if(Fr.includes("bottom")){const ls=Yr.clientY-55,Jr=typeof In=="number"?In:0,Hr=ls-Jr;Hr>=(O.size?.minHeight??224)&&(Vn(Hr),Ln(Jr))}return}ts=Yr,Mr||(Mr=requestAnimationFrame(()=>{if(!ts)return;const ls=ts;if(or(!0),Qn(!1),mn.current.style.transform="",Fr.includes("top")){const Jr=ls.clientY-65,Hr=Math.max(Jr,0),is=Pn+(typeof In=="number"?In-Hr:0);is>=(O.size?.minHeight??224)&&(Vn(is),Ln(Hr))}if(Fr.includes("left")){const Jr=ls.clientX-10,Hr=Math.max(Jr,0),is=Wn+(typeof zn=="number"?zn-Hr:0);is>=(O.size?.minWidth??224)&&(Fn(is),Dn(Hr))}if(Fr.includes("right")){const Jr=ls.clientX-5,Hr=typeof zn=="number"?zn:0,is=Jr-Hr;is>=(O.size?.minWidth??224)&&(Fn(is),Dn(Hr))}if(Fr.includes("bottom")){const Jr=ls.clientY-55,Hr=typeof In=="number"?In:0,is=Jr-Hr;is>=(O.size?.minHeight??224)&&(Vn(is),Ln(Hr))}Mr=null})),Ir.current={width:Wn,height:Pn}},ss=()=>{Mr&&(cancelAnimationFrame(Mr),Mr=null),window.removeEventListener("mousemove",ns),window.removeEventListener("mouseup",ss),window.removeEventListener("blur",ss),Mn(!1),or(!1)};window.onmouseleave=()=>{Tn(!1),Mn(!1),window.removeEventListener("mousemove",ns),window.removeEventListener("mouseup",ss),window.removeEventListener("blur",ss)},window.addEventListener("mousemove",ns),window.addEventListener("mouseup",ss),window.addEventListener("blur",ss),Mn(!0)};return jsxRuntimeExports.jsxs("div",{ref:mn,id:O.wid,pid:O.pid,className:`
            ${sn||""}
            absolute
            bg-[${vs}]
            rounded-lg shadow-window-shadow overflow-hidden
            ${Xn?"translate-y-3 opacity-0 duration-150 hidden":" translate-y-0 opacity-100"}
            ${Yn?`left-0 right-0 top-0 bottom-0 opacity-100 w-full ${Or?"h-[106%]":"h-full"}`:`w-[${Wn}px] h-[${Pn}px]`}
        `,style:{left:Yn?"":zn,top:Yn?"":In,height:Yn?void 0:Pn,width:Yn?void 0:Wn,zIndex:Xn?2:Hn,...dn&&{contain:"layout style paint",willChange:Un||ar?"transform, left, top":"auto"},backgroundColor:vs},onMouseDown:()=>{updateInfo({appname:typeof O.title=="string"?O.title:O.title?.text})},children:[jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 size-full rounded-lg backdrop-blur-[20px] pointer-events-none shadow-tb-border -z-1 bg-[#00000048]",style:{backgroundImage:"url(/assets/img/grain.png)"}}),xs?jsxRuntimeExports.jsx("div",{ref:gn,className:`absolute rounded-lg ${O.focused?"inset-x-2 top-[calc(40px+0.5rem)] bottom-2 pointer-events-none opacity-0":"inset-x-[1px] top-[40px] bottom-[1px] opacity-100"} duration-150`,onMouseDown:()=>{un.arrange(O.wid),Bn(un.getWindow(O.wid)?.zIndex)}}):jsxRuntimeExports.jsx("div",{ref:gn,className:`absolute rounded-lg ${O.focused?"inset-x-2 top-[calc(40px+0.5rem)] bottom-2 pointer-events-none opacity-0":"inset-x-[1px] top-[40px] bottom-[1px] backdrop-blur-[4px] opacity-100"} duration-150`,onMouseDown:()=>{un.arrange(O.wid),Bn(un.getWindow(O.wid)?.zIndex)}}),jsxRuntimeExports.jsx("div",{className:"absolute left-0 right-0 h-[6px] cursor-n-resize z-10","data-resizer":"top",onMouseDown:()=>gr("top")}),jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-[6px] bottom-[6px] w-[6px] cursor-w-resize z-10","data-resizer":"left",onMouseDown:()=>gr("left")}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-[6px] bottom-[6px] w-[6px] cursor-e-resize z-10","data-resizer":"right",onMouseDown:()=>gr("right")}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[6px] cursor-s-resize z-10","data-resizer":"bottom",onMouseDown:()=>gr("bottom")}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 size-4 cursor-nw-resize z-20","data-resizer":"top-left",onMouseDown:()=>gr("top-left")}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 size-4 cursor-ne-resize z-20","data-resizer":"top-right",onMouseDown:()=>gr("top-right")}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 size-4 cursor-sw-resize z-20","data-resizer":"bottom-left",onMouseDown:()=>gr("bottom-left")}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 size-4 cursor-se-resize z-20","data-resizer":"bottom-right",onMouseDown:()=>gr("bottom-right")}),jsxRuntimeExports.jsxs("div",{ref:xn,className:"region flex justify-between items-center bg-[#ffffff10] p-2 min-w-[224px] select-none",onMouseDown:Fr=>{if(un.arrange(O.wid),Bn(un.getWindow(O.wid)?.zIndex),Fr.target.classList.contains("no-drag"))return;const Mr=Fr.clientX-mn.current.offsetLeft,ts=Fr.clientY-mn.current.offsetTop;let ns=null,ss=null;const Yr=Jr=>{if(!dn){mn.current&&(mn.current.style.transform=""),Tn(!0),Qn(!1);const Hr=Jr.clientX-Mr,is=Jr.clientY-ts;Ks(Hr,is),is>0&&is<window.innerHeight-mn.current.offsetHeight&&Ln(is),Hr>0&&Hr<window.innerWidth-mn.current.offsetWidth&&Dn(Hr);return}ss=Jr,ns||(ns=requestAnimationFrame(()=>{if(!ss)return;const Hr=ss;mn.current&&(mn.current.style.transform=""),Tn(!0),Qn(!1);const is=Hr.clientX-Mr,ii=Hr.clientY-ts;Ks(is,ii),ii>0&&ii<window.innerHeight-mn.current.offsetHeight&&Ln(ii),is>0&&is<window.innerWidth-mn.current.offsetWidth&&Dn(is),ns=null}))},ls=()=>{ns&&(cancelAnimationFrame(ns),ns=null),window.removeEventListener("mousemove",Yr),window.removeEventListener("mouseup",ls),window.removeEventListener("blur",ls),Mn(!1),Tn(!1)};window.addEventListener("mousemove",Yr),window.addEventListener("mouseup",ls),window.addEventListener("blur",ls),window.onmouseleave=()=>{Tn(!1),Mn(!1),window.removeEventListener("mousemove",Yr),window.removeEventListener("mouseup",ls),window.removeEventListener("blur",ls)},Mn(!0)},onMouseUp:()=>{Mn(!1),Tn(!1)},onMouseLeave:()=>{On&&Tn(!1)},onMouseEnter:()=>{On&&Tn(!0)},onDoubleClick:()=>{O.maximizable!==!1&&mn.current&&(mn.current.style.transitionProperty="width, height, left, top",mn.current.style.transitionDuration="150ms"),setTimeout(()=>{mn.current&&(mn.current.style.transitionProperty="",mn.current.style.transitionDuration="")},150),Qn(!Yn)},children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center flex-row w-full",children:[jsxRuntimeExports.jsx("img",{src:O.icon,alt:"icon",className:"w-5 h-5 pointer-events-none select-none",draggable:!1}),jsxRuntimeExports.jsx("span",{ref:Nn,className:"font-[680] pointer-events-none select-none",children:sr}),Zn&&jsxRuntimeExports.jsx("div",{className:"w-[80%]",ref:jn})]}),dr?jsxRuntimeExports.jsx("div",{className:"controls flex gap-1",children:dr?.map((Fr,Mr)=>{if(Fr==="minimize")return jsxRuntimeExports.jsx("svg",{ref:vn,className:`group size-4 ${O.minimizable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.minimizable!==!1&&(mn.current&&(mn.current.style.transitionProperty="transform, opacity",mn.current.style.transitionDuration="150ms"),setTimeout(()=>{mn.current&&(mn.current.style.transitionProperty="",mn.current.style.transitionDuration="")},150),rr(!0))},children:jsxRuntimeExports.jsx("rect",{className:`
                                                    ${O.minimizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                                `,x:"4",y:"10",width:"16",height:"3",rx:"2"})},Mr);if(Fr==="maximize")return jsxRuntimeExports.jsx("svg",{ref:An,className:`group size-4 ${O.maximizable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.maximizable!==!1&&(mn.current&&(mn.current.style.transitionProperty="width, height, left, top",mn.current.style.transitionDuration="150ms"),setTimeout(()=>{mn.current&&(mn.current.style.transitionProperty="",mn.current.style.transitionDuration="")},150),Qn(!Yn))},children:Yn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{className:`
                                                                    ${O.maximizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                                                `,d:"M6 6C6 3.79086 7.79086 2 10 2H18C20.2091 2 22 3.79086 22 6V14C22 16.2091 20.2091 18 18 18H16V16H18C19.1046 16 20 15.1046 20 14V6C20 4.89543 19.1046 4 18 4H10C8.89543 4 8 4.89543 8 6V8H6V6Z"}),jsxRuntimeExports.jsx("path",{className:"fill-[#ffffffbb] group-hover:fill-white duration-150 pointer-events-none",fillRule:"evenodd",clipRule:"evenodd",d:"M6 6C3.79086 6 2 7.79086 2 10V18C2 20.2091 3.79086 22 6 22H14C16.2091 22 18 20.2091 18 18V10C18 7.79086 16.2091 6 14 6H6ZM6 8C4.89543 8 4 8.89543 4 10V18C4 19.1046 4.89543 20 6 20H14C15.1046 20 16 19.1046 16 18V10C16 8.89543 15.1046 8 14 8H6Z"})]}):jsxRuntimeExports.jsx("path",{className:`
                                                                ${O.maximizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                                            `,fillRule:"evenodd",clipRule:"evenodd",d:"M8 4C5.79086 4 4 5.79086 4 8V16C4 18.2091 5.79086 20 8 20H16C18.2091 20 20 18.2091 20 16V8C20 5.79086 18.2091 4 16 4H8ZM8 6C6.89543 6 6 6.89543 6 8V16C6 17.1046 6.89543 18 8 18H16C17.1046 18 18 17.1046 18 16V8C18 6.89543 17.1046 6 16 6H8Z"})},Mr);if(Fr==="close")return jsxRuntimeExports.jsx("svg",{ref:Cn,className:`group size-4 ${O.closable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.closable!==!1&&(mn.current&&(mn.current.style.transitionProperty="transform, opacity",mn.current.style.transitionDuration="150ms",mn.current.classList.add("translate-y-3","opacity-0")),setTimeout(()=>{clearInfo(),un.removeWindow(O.wid)},150))},children:jsxRuntimeExports.jsx("path",{className:`
                                                    ${O.closable===!1?"stroke-[#ffffff60]":"stroke-[#ffffffbb] group-hover:stroke-white"} duration-150 pointer-events-none
                                                `,d:"M6 18L18 6M6 6L18 18",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})},Mr)})}):jsxRuntimeExports.jsxs("div",{className:"controls flex gap-1",children:[jsxRuntimeExports.jsx("svg",{ref:vn,className:`group size-4 ${O.minimizable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.minimizable!==!1&&(mn.current&&(mn.current.style.transitionProperty="transform, opacity",mn.current.style.transitionDuration="150ms"),setTimeout(()=>{mn.current&&(mn.current.style.transitionProperty="",mn.current.style.transitionDuration="")},150),un.minimize(O.wid),window.dispatchEvent(new CustomEvent("min-win",{detail:O.pid})),rr(!0))},children:jsxRuntimeExports.jsx("rect",{className:`
                                    ${O.minimizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                `,x:"4",y:"10",width:"16",height:"3",rx:"2"})}),jsxRuntimeExports.jsx("svg",{ref:An,className:`group size-4 ${O.maximizable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.maximizable!==!1&&(mn.current&&(mn.current.style.transitionProperty="width, height, left, top",mn.current.style.transitionDuration="150ms"),setTimeout(()=>{mn.current&&(mn.current.style.transitionProperty="",mn.current.style.transitionDuration="")},150),Qn(!Yn))},children:Yn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{className:`
                                                ${O.maximizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                            `,d:"M6 6C6 3.79086 7.79086 2 10 2H18C20.2091 2 22 3.79086 22 6V14C22 16.2091 20.2091 18 18 18H16V16H18C19.1046 16 20 15.1046 20 14V6C20 4.89543 19.1046 4 18 4H10C8.89543 4 8 4.89543 8 6V8H6V6Z"}),jsxRuntimeExports.jsx("path",{className:"fill-[#ffffffbb] group-hover:fill-white duration-150 pointer-events-none",fillRule:"evenodd",clipRule:"evenodd",d:"M6 6C3.79086 6 2 7.79086 2 10V18C2 20.2091 3.79086 22 6 22H14C16.2091 22 18 20.2091 18 18V10C18 7.79086 16.2091 6 14 6H6ZM6 8C4.89543 8 4 8.89543 4 10V18C4 19.1046 4.89543 20 6 20H14C15.1046 20 16 19.1046 16 18V10C16 8.89543 15.1046 8 14 8H6Z"})]}):jsxRuntimeExports.jsx("path",{className:`
                                            ${O.maximizable===!1?"fill-[#ffffff60]":"fill-[#ffffffbb] group-hover:fill-white"} duration-150 pointer-events-none
                                        `,fillRule:"evenodd",clipRule:"evenodd",d:"M8 4C5.79086 4 4 5.79086 4 8V16C4 18.2091 5.79086 20 8 20H16C18.2091 20 20 18.2091 20 16V8C20 5.79086 18.2091 4 16 4H8ZM8 6C6.89543 6 6 6.89543 6 8V16C6 17.1046 6.89543 18 8 18H16C17.1046 18 18 17.1046 18 16V8C18 6.89543 17.1046 6 16 6H8Z"})}),jsxRuntimeExports.jsx("svg",{ref:Cn,className:`group size-4 ${O.closable===!1?"cursor-default":"cursor-pointer"} no-drag`,viewBox:"0 0 24 24",fill:"none",onMouseDown:()=>{O.closable!==!1&&(mn.current&&(mn.current.style.transitionProperty="transform, opacity",mn.current.style.transitionDuration="150ms",mn.current.classList.add("translate-y-3","opacity-0")),setTimeout(()=>{clearInfo(),un.removeWindow(O.wid)},150))},children:jsxRuntimeExports.jsx("path",{className:`
                                    ${O.closable===!1?"stroke-[#ffffff60]":"stroke-[#ffffffbb] group-hover:stroke-white"} duration-150 pointer-events-none
                                `,d:"M6 18L18 6M6 6L18 18",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),jsxRuntimeExports.jsx("div",{ref:Sn,className:"w-full h-full",style:dn?{contain:"strict"}:{},children:jsxRuntimeExports.jsx("iframe",{ref:wn,src:Dr,loading:dn&&Xn?"lazy":"eager",onLoad:()=>{O.message&&wn.current?.contentWindow.postMessage(O.message,"*");const Fr=document.createElement("script"),Mr=document.createElement("script");Fr.src="/cursor_changer.js",Mr.src="/media_interactions.js",wn.current?.contentDocument?.head.appendChild(Fr),wn.current?.contentDocument?.head.appendChild(Mr)},referrerPolicy:"no-referrer",style:{border:"none",all:"initial",width:"100%",height:"calc(100% - 40px)",pointerEvents:On?"none":"auto",userSelect:"none",...dn&&{contain:"strict"}}},O.src)})]})},MemoizedWindowElement=reactExports.memo(WindowElement,(sn,O)=>sn.config.wid===O.config.wid&&sn.config.zIndex===O.config.zIndex&&sn.config.focused===O.config.focused&&sn.className===O.className),DesktopItems=()=>{const[sn,O]=reactExports.useState([]),[rn,an]=reactExports.useState(!1),un=reactExports.useRef(null),[dn,hn]=reactExports.useState({x:0,y:0}),[mn,xn]=reactExports.useState(!1),[gn,wn]=reactExports.useState(null),vn=reactExports.useRef(null),An=sessionStorage.getItem("currAcc");reactExports.useEffect(()=>{(async()=>{let Hn=await window.tb.fs.promises.readdir(`/home/${An}/desktop`);(async()=>{try{const Mn=await window.tb.fs.promises.readdir(`/home/${An}/desktop`),Un=Mn.filter(zn=>!Hn.includes(zn)),Tn=Hn.filter(zn=>!Mn.includes(zn));var On=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8"));if(Un.length>0){const Dn=(()=>{for(let Fn=On.length-1;Fn>=0;Fn--)if(!On[Fn].position.custom)return On[Fn];return null})(),In=Math.max(...On.map(Fn=>Fn.position.left));let Ln=0,Wn=0;Dn&&Dn.position.top<11?(Ln=Math.floor(Dn.position.top+1),Wn=Dn.position.left):Wn=Math.floor(In+1);for(const Fn of Un)if(!On.some(Vn=>Vn.item===`/home/${An}/desktop/${Fn}`)){const Vn=(await window.tb.fs.promises.stat(`/home/${An}/desktop/${Fn}`)).type.toLowerCase();if(Vn==="symlink"){const Zn=(await window.tb.fs.promises.readFile(await window.tb.fs.promises.readlink(`/home/${An}/desktop/${Fn}`))).includes("config");On.push({name:Zn?JSON.parse(await window.tb.fs.promises.readFile(await window.tb.fs.promises.readlink(`/home/${An}/desktop/${Fn}`))).config.title:Fn,item:`/home/${An}/desktop/${Fn}`,position:{custom:!1,top:Ln,left:Wn}})}else if(Vn==="file"){const Zn=Fn.split(".").pop(),Yn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/file-icons.json")),Qn=Zn?Yn["ext-to-name"][Zn]:"Unknown",Xn=Qn?Yn["name-to-path"][Qn]:"/system/etc/terbium/file-icons/Unknown.svg",rr=await window.tb.fs.promises.readFile(Xn,"utf8");On.push({name:Fn,item:`/home/${An}/desktop/${Fn}`,position:{custom:!1,top:Ln,left:Wn},icon:rr})}}}if(Tn.length>0)for(const zn of Tn){const Dn=On.findIndex(In=>In.item===`/home/${An}/desktop/${zn}`);On.splice(Dn,1)}Hn=Mn,await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(On,null,4))}catch(Mn){console.error("Error while reading directory:",Mn)}window.dispatchEvent(new Event("upd-desktop"))})()})()},[]),reactExports.useEffect(()=>{const jn=async()=>{var Hn=[];const Bn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8"));for(const On of Bn){const Mn=(await window.tb.fs.promises.stat(On.item)).type.toLowerCase(),Un=On.position;if(Mn==="symlink")Hn.push({name:On.name,type:"symlink",item:On.item,position:{custom:Un.custom,top:Un.top,left:Un.left},config:JSON.parse(await window.tb.fs.promises.readFile(await window.tb.fs.promises.readlink(On.item))).config});else if(Mn==="file"){const Tn=On.name.split(".").pop(),zn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/file-icons.json")),Dn=Tn?zn["ext-to-name"][Tn]:"Unknown",In=Dn?zn["name-to-path"][Dn]:"/system/etc/terbium/file-icons/Unknown.svg",Ln=await window.tb.fs.promises.readFile(In,"utf8");Hn.push({name:On.name,type:"file",item:On.item,position:{custom:Un.custom,top:Un.top,left:Un.left},icon:Ln})}else Mn==="directory"&&Hn.push({name:On.name,type:"directory",item:On.item,position:{custom:Un.custom,top:Un.top,left:Un.left},icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"><path d="M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z" /></svg>'})}O(Hn)};return jn(),window.addEventListener("upd-desktop",jn),()=>window.removeEventListener("upd-desktop",jn)},[]);const Cn=(jn,Hn)=>{let Bn=null,On=null;const Mn=()=>{xn(!0),an(!0),un.current=Hn},Un=async()=>{if(vn.current&&On!==null){const zn=vn.current.querySelector("span");if(zn){const Dn=zn.innerText,In=sn[On].name,Ln=sn[On].item,Wn=Ln.replace(In,Dn);if(vn.current?.dataset.type==="shortcut"){const Fn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8")),Pn=Fn.findIndex(Vn=>Vn.item===Ln);Pn!==-1&&(Fn[Pn].name=Dn,Fn[Pn].item=Wn,await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Fn,null,4)),window.dispatchEvent(new Event("upd-desktop")))}else{await window.tb.fs.promises.rename(Ln,Wn);const Fn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8")),Pn=Fn.findIndex(Vn=>Vn.item===Ln);Pn!==-1&&(Fn[Pn].name=Dn,Fn[Pn].item=Wn,await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Fn,null,4)),window.dispatchEvent(new Event("upd-desktop")),vn.current=null)}}}On=null};if(vn.current&&vn.current===jn.currentTarget){if(vn.current&&vn.current!==null){const zn=vn.current.querySelector("span");if(zn){zn.contentEditable="true";const In=document.createRange(),Ln=window.getSelection();In.selectNodeContents(zn),In.collapse(!1),Ln?.removeAllRanges(),Ln?.addRange(In),zn.addEventListener("keydown",async Wn=>{Wn.key==="Enter"&&(Wn.preventDefault(),await Un())}),zn.focus(),On=Hn}const Dn=async In=>{if(vn.current&&!vn.current.contains(In.target)){wn(null);const Ln=vn.current.querySelector("span");Ln&&(await Un(),Ln.contentEditable="false",Ln.blur(),vn.current=null)}};document.addEventListener("mousedown",Dn,{once:!0})}}else vn.current=jn.currentTarget,On=Hn;Bn=setTimeout(Mn,300);const Tn=()=>{Bn&&(clearTimeout(Bn),Bn=null)};window.onmouseup=async zn=>{if(an(!1),window.removeEventListener("mousemove",Sn),un.current!==null&&!Bn){const Dn=sn[un.current],In={...Dn,leftPos:zn.clientX-44,topPos:zn.clientY-80};await Nn(Dn.item,In.leftPos,In.topPos)}un.current=null,Tn(),xn(!1)},window.onmouseleave=async()=>{if(Tn(),an(!1),window.removeEventListener("mousemove",Sn),un.current!==null&&rn){const zn=sn[un.current],Dn={...zn,leftPos:zn.position.left,topPos:zn.position.top};await Nn(zn.item,Dn.leftPos,Dn.topPos)}un.current=null},jn.preventDefault(),jn.target.addEventListener("mouseup",Tn,{once:!0})},Sn=jn=>{if(rn&&un!==null){let Hn=jn.clientX-dn.x-44,Bn=jn.clientY-dn.y-80;O(On=>On.map((Mn,Un)=>Un===un.current?{...Mn,position:{...Mn.position,left:Hn,top:Bn,custom:!0}}:Mn))}},Nn=async(jn,Hn,Bn)=>{try{const On=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8")),Mn=On.findIndex(Un=>Un.item===jn);if(Mn!==-1){const Un=On[Mn].position.left,Tn=On[Mn].position.top;(Math.abs(Math.round(Un)-Math.round(Hn))>67||Math.abs(Math.round(Tn)-Math.round(Bn))>67)&&(Math.round(Un)!==Math.round(Hn)||Math.round(Tn)!==Math.round(Bn))&&(On[Mn].position.left=Math.round(Hn),On[Mn].position.top=Math.round(Bn),On[Mn].position.custom=!0,await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(On,null,4)),console.log("Saved app position"))}}catch(On){console.error("Error saving app position:",On)}};return reactExports.useEffect(()=>(document.addEventListener("mousemove",Sn),()=>{document.removeEventListener("mousemove",Sn)}),[rn]),jsxRuntimeExports.jsx("div",{className:"flex gap-1 flex-wrap h-full",children:sn.map((jn,Hn)=>jn.type==="file"?jsxRuntimeExports.jsxs("div",{title:jn.name,id:"desktop-item",className:"group relative size-max min-w-16 min-h-16 flex flex-col items-center justify-center p-2 text-sm font-medium text-wrap select-none",onDoubleClick:async()=>{let Bn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).fileAssociatedApps;Bn=Object.entries(Bn).filter(([Mn,Un])=>!(Mn==="text"&&Un==="text-editor")&&!(Mn==="image"&&Un==="media-viewer")&&!(Mn==="video"&&Un==="media-viewer")&&!(Mn==="audio"&&Un==="media-viewer"));let On=[];for(const[Mn,Un]of Bn)On.push({text:Un,value:Mn});await window.tb.dialog.Select({title:`Select a application to open: ${jn.item.split("/").pop()}`,options:[{text:"Text Editor",value:"text"},{text:"Media Viewer",value:"media"},{text:"Webview",value:"webview"},...On,{text:"Other",value:"other"}],onOk:async Mn=>{const Un=await fetch("/fs//system/etc/terbium/file-icons.json").then(zn=>zn.json()),Tn=jn.name.split(".").pop();switch(Mn){case"text":parent.window.tb.file.handler.openFile(jn.item,"text");break;case"media":Un.image.includes(Tn)?parent.window.tb.file.handler.openFile(jn.item,"image"):Un.video.includes(Tn)?parent.window.tb.file.handler.openFile(jn.item,"video"):Un.audio.includes(Tn)&&parent.window.tb.file.handler.openFile(jn.item,"audio");break;case"webview":parent.window.tb.file.handler.openFile(jn.item,"webpage");break;case"other":window.tb.dialog.DirectoryBrowser({title:"Select a application",filter:".tapp",onOk:async zn=>{const Dn=JSON.parse(await window.tb.fs.promises.readFile(`${zn}/.tbconfig`,"utf8"));createWindow({...Dn,message:{type:"process",path:jn.item}})}});break;default:On.length===0?parent.window.tb.file.handler.openFile(jn.item,"text"):parent.window.tb.file.handler.openFile(jn.item,Mn);break}}})},onMouseDown:Bn=>Cn(Bn,Hn),onContextMenuCapture:Bn=>{an(!1),un.current=null,xn(!1),Bn.preventDefault();const{clientX:On,clientY:Mn}=Bn;window.tb.contextmenu.create({x:On,y:Mn,options:[{text:"Open",click:()=>{sessionStorage.setItem("ldir",jn.item),createWindow({title:"Files",icon:"/fs/apps/system/files.tapp/icon.svg",src:"/fs/apps/system/files.tapp/index.html",size:{width:600,height:500}})}},{text:"Delete Shortcut",click:async()=>{let Un=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8"));Un=Un.filter(Tn=>Tn.name!==jn.name),await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Un,null,4)),window.dispatchEvent(new Event("upd-desktop"))}}]})},style:{position:"absolute",left:jn.position.custom===!0?jn.position.left:Math.floor(Number(jn.position.left)*80),top:jn.position.custom===!0?jn.position.top:Math.floor(Number(jn.position.top)*66)},children:[jsxRuntimeExports.jsx("div",{className:"absolute z-1 size-full rounded-md bg-[#ffffff10] backdrop-blur-xl opacity-0 shadow-tb-border-shadow group-hover:opacity-100 focus:opacity-100 duration-150 ease-in pointer-events-none select-none"}),jsxRuntimeExports.jsxs("div",{className:"flex z-2 size-full flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"size-6 pointer-events-none select-none",dangerouslySetInnerHTML:{__html:jn.icon}}),jsxRuntimeExports.jsx("span",{className:"leading-none bg-transparent text-white text-center select-none w-16",style:{textShadow:"0 0 4px #00000052"},children:jn.name.length>12?`${jn.name.slice(0,10)}...`:jn.name})]})]},`${jn.name}`):jn.type==="directory"?jsxRuntimeExports.jsxs("div",{title:jn.name,id:"desktop-item",className:"group relative size-max min-w-16 min-h-16 flex flex-col items-center justify-center p-2 text-sm font-medium text-wrap select-none",onDoubleClick:()=>{sessionStorage.setItem("ldir",jn.item),createWindow({title:"Files",icon:"/fs/apps/system/files.tapp/icon.svg",src:"/fs/apps/system/files.tapp/index.html",size:{width:600,height:500}})},onMouseDown:Bn=>Cn(Bn,Hn),onContextMenuCapture:Bn=>{an(!1),un.current=null,xn(!1),Bn.preventDefault();const{clientX:On,clientY:Mn}=Bn;window.tb.contextmenu.create({x:On,y:Mn,options:[{text:"Open",click:()=>{sessionStorage.setItem("ldir",jn.item),createWindow({title:"Files",icon:"/fs/apps/system/files.tapp/icon.svg",src:"/fs/apps/system/files.tapp/index.html",size:{width:600,height:500}})}},{text:"Delete Shortcut",click:async()=>{let Un=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8"));Un=Un.filter(Tn=>Tn.name!==jn.name),await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Un,null,4)),window.dispatchEvent(new Event("upd-desktop"))}}]})},style:{position:"absolute",left:jn.position.custom===!0?jn.position.left:Math.floor(Number(jn.position.left)*80),top:jn.position.custom===!0?jn.position.top:Math.floor(Number(jn.position.top)*66)},children:[jsxRuntimeExports.jsx("div",{className:"absolute z-[1] size-full rounded-md bg-[#ffffff10] backdrop-blur-xl opacity-0 shadow-tb-border-shadow group-hover:opacity-100 focus:opacity-100 duration-150 ease-in pointer-events-none select-none"}),jsxRuntimeExports.jsxs("div",{className:"flex z-[2] size-full flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 pointer-events-none select-none",children:jsxRuntimeExports.jsx("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"})}),jsxRuntimeExports.jsx("span",{className:"leading-none bg-transparent text-white text-center select-none w-16",style:{textShadow:"0 0 4px #00000052"},children:jn.name.length>12?`${jn.name.slice(0,10)}...`:jn.name})]})]},`${jn.name}`):jsxRuntimeExports.jsxs("div",{"data-type":"shortcut",title:jn.name,id:"desktop-item",className:"group relative size-max min-w-16 min-h-16 flex flex-col items-center justify-center p-2 text-sm font-medium text-wrap select-none",onDoubleClick:()=>{createWindow({...jn.config,wid:void 0})},style:{position:"absolute",left:jn.position.custom===!0?jn.position.left:Math.floor(Number(jn.position.left)*80),top:jn.position.custom===!0?jn.position.top:Math.floor(Number(jn.position.top)*66)},onMouseDown:Bn=>Cn(Bn,Hn),onContextMenuCapture:Bn=>{an(!1),un.current=null,xn(!1),Bn.preventDefault(),window.tb.contextmenu.create({x:Bn.clientX-50,y:Bn.clientY,options:[{text:"Open",click:()=>{createWindow(jn.config)}},{text:"Pin to Dock",click:()=>{window.tb.desktop.dock.pin(jn.config)}},{text:"Delete Shortcut",click:async()=>{(await window.tb.fs.promises.stat(`/home/${An}/desktop/${jn.item}`)).isDirectory()?await new window.tb.fs.Shell().promises.rm(`/home/${An}/desktop/${jn.item}`,{recursive:!0}):await window.tb.fs.promises.unlink(`/home/${An}/desktop/${jn.item}`),window.dispatchEvent(new Event("upd-desktop"))}}]})},children:[jsxRuntimeExports.jsx("div",{className:"absolute z-1 size-full rounded-md bg-[#ffffff10] backdrop-blur-xl opacity-0 shadow-tb-border-shadow group-hover:opacity-100 focus:opacity-100 duration-150 ease-in pointer-events-none select-none"}),jsxRuntimeExports.jsxs("div",{className:"flex z-2 size-full flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("img",{src:jn.config.icon,alt:jn.name,className:"size-6 pointer-events-none select-none"}),jsxRuntimeExports.jsx("span",{className:"leading-none bg-transparent text-white text-center select-none w-16",style:{textShadow:"0 0 4px #00000052"},children:jn.name.length>12?`${jn.name.slice(0,10)}...`:jn.name})]})]},`${jn.name}`))})},WindowArea=({className:sn})=>{const O=useWindowStore(),[rn,an]=reactExports.useState(!1),[un,dn]=reactExports.useState(null),hn=gn=>{an(!0),dn(gn)},mn=()=>{an(!1)},xn=()=>{switch(un){case"left":return`
					left-0 w-6/12 h-full
					${rn?"translate-x-0":"-translate-x-4"}
				`;case"right":return`
					right-0 w-6/12 h-full
					${rn?"translate-x-0":"translate-x-4"}
				`;case"top":return`
					left-0 right-0 w-full h-full
					${rn?"translate-y-0":"-translate-y-4"}
				`;case"top-left":return`
					left-0 top-0 w-6/12 h-6/12
					${rn?"translate-x-0 translate-y-0":"-translate-x-4 -translate-y-4"}
				`;case"top-right":return`
					right-0 top-0 w-6/12 h-6/12
					${rn?"translate-x-0 translate-y-0":"translate-x-4 -translate-y-4"}
				`;case"bottom-left":return`
					left-0 top-[50%] w-6/12 h-6/12
					${rn?"translate-x-0 translate-y-0":"-translate-x-4 translate-y-4"}
				`;case"bottom-right":return`
					right-0 top-[50%] w-6/12 h-6/12
					${rn?"translate-x-0 translate-y-0":"translate-x-4 translate-y-4"}
				`}};return jsxRuntimeExports.jsxs("window-area",{class:`${sn??sn} relative`,onContextMenuCapture:gn=>{const wn={x:gn.clientX,y:gn.clientY};window.tb.contextmenu.create({options:[{text:"Change Wallpaper",click:()=>{window.tb.window.create({title:"Settings",icon:"/fs/apps/system/settings.tapp/icon.svg",src:"/fs/apps/system/settings.tapp/index.html"})}},{text:"New Folder",click:()=>{window.tb.dialog.Message({title:"Enter the new name of the folder",onOk:async vn=>{const An=sessionStorage.getItem("currAcc");await window.tb.fs.promises.mkdir(`/home/${An}/desktop/${vn}`);const Cn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8")),Nn=(()=>{for(let On=Cn.length-1;On>=0;On--)if(!Cn[On].position.custom)return Cn[On];return null})(),jn=Math.max(...Cn.map(On=>On.position.left));let Hn=0,Bn=0;Nn&&Nn.position.top<11?(Hn=Math.floor(Nn.position.top+1),Bn=Nn.position.left):Bn=Math.floor(jn+1),Cn.push({name:vn,item:`/home/${An}/desktop/${vn}`,position:{custom:!1,top:Hn,left:Bn}}),await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Cn,null,4)),window.dispatchEvent(new Event("upd-desktop"))}})}},{text:"New File",click:()=>{window.tb.dialog.Message({title:"Enter the new name of the file",onOk:async vn=>{const An=sessionStorage.getItem("currAcc");await window.tb.fs.promises.writeFile(`/home/${An}/desktop/${vn}`,"","utf8");const Cn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/desktop/.desktop.json`,"utf8")),Nn=(()=>{for(let On=Cn.length-1;On>=0;On--)if(!Cn[On].position.custom)return Cn[On];return null})(),jn=Math.max(...Cn.map(On=>On.position.left));let Hn=0,Bn=0;Nn&&Nn.position.top<11?(Hn=Math.floor(Nn.position.top+1),Bn=Nn.position.left):Bn=Math.floor(jn+1),Cn.push({name:vn,item:`/home/${An}/desktop/${vn}`,position:{custom:!1,top:Hn,left:Bn}}),await window.tb.fs.promises.writeFile(`/home/${An}/desktop/.desktop.json`,JSON.stringify(Cn,null,4)),window.dispatchEvent(new Event("upd-desktop"))}})}},{text:"New Shortcut",click:async()=>{const vn=async An=>{const Cn=sessionStorage.getItem("currAcc"),Sn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${Cn}/desktop/.desktop.json`,"utf8")),jn=(()=>{for(let Un=Sn.length-1;Un>=0;Un--)if(!Sn[Un].position.custom)return Sn[Un];return null})(),Hn=Math.max(...Sn.map(Un=>Un.position.left));let Bn=0,On=0;jn&&jn.position.top<11?(Bn=Math.floor(jn.position.top+1),On=jn.position.left):On=Math.floor(Hn+1),Bn*66>window.innerHeight-130&&(On=1.3,Bn=0);const Mn=An.split("/").pop();if(Mn.includes(".tapp")){let Un;await fileExists(`${An}/.tbconfig`)?Un=JSON.parse(await window.tb.fs.promises.readFile(`${An}/.tbconfig`,"utf8")):Un=JSON.parse(await window.tb.fs.promises.readFile(`${An}/index.json`,"utf8")),await window.tb.fs.promises.writeFile(`${An}/desktopcfg.json`,JSON.stringify({name:Mn.replace(".tapp",""),config:{...Un.wmArgs?Un.wmArgs:Un.config,icon:`/fs/${An}/${Un.wmArgs?Un.wmArgs.icon:Un.config.icon}`,src:`/fs/${An}/${Un.wmArgs?Un.wmArgs.src:Un.config.src}`},icon:`/fs/${An}/${Un.icon}`})),await window.tb.fs.promises.symlink(`${An}/desktopcfg.json`,`/home/${Cn}/desktop/${Mn.replace(".tapp","")}.lnk`,"file"),Sn.push({name:Mn.replace(".tapp",""),item:`/home/${Cn}/desktop/${Mn.replace(".tapp","")}.lnk`,position:{custom:!1,top:Bn,left:On}})}else Sn.push({name:Mn.replace(".tapp",""),item:An,position:{custom:!1,top:Bn,left:On}});await window.tb.fs.promises.writeFile(`/home/${Cn}/desktop/.desktop.json`,JSON.stringify(Sn,null,4)),window.dispatchEvent(new Event("upd-desktop"))};await window.tb.dialog.Select({title:"Select the type of Shortcut",options:[{text:"Application",value:"app"},{text:"Folder",value:"dir"},{text:"File",value:"file"}],onOk:async An=>{switch(An){case"app":window.tb.dialog.DirectoryBrowser({title:"Select a application",filter:".tapp",onOk:async Cn=>{vn(Cn)}});break;case"dir":window.tb.dialog.DirectoryBrowser({title:"Select a application",onOk:async Cn=>{vn(Cn)}});break;case"file":window.tb.dialog.FileBrowser({title:"Select a application",onOk:async Cn=>{vn(Cn)}});break}}})}}],x:wn.x,y:wn.y})},children:[jsxRuntimeExports.jsx(DesktopItems,{}),O.windows.map(gn=>jsxRuntimeExports.jsx(MemoizedWindowElement,{config:gn,onSnapPreview:hn,onSnapDone:mn},gn.wid)),jsxRuntimeExports.jsx("div",{className:`
                    absolute top-0 bottom-0 rounded-lg backdrop-blur bg-slate-700 bg-opacity-50 duration-150 bg-[url(/assets/img/grain.png)] pointer-events-none
                    ${rn?"opacity-100 duration-200":"opacity-0"}
                 `+xn()})]})},createWindow=async sn=>{const O=useWindowStore.getState();if(sn.single&&O.windows.find(un=>un.src===sn.src)){sn.message&&window.postMessage(sn.message,"*");return}const rn=useWindowStore.getState().addWindow;return rn(sn),!0};class Notification{eventHandlers={};static isSupported(){return!0}constructor(O){window.tb.notification.Toast({message:O.body,iconSrc:O.icon||"/assets/img/logo.png",application:O.title||"Lemonade Communicator",onOk:(...rn)=>{this.emit("click",...rn)}})}on(O,rn){this.eventHandlers[O]||(this.eventHandlers[O]=[]),this.eventHandlers[O].push(rn)}off(O,rn){const an=this.eventHandlers[O];an&&(this.eventHandlers[O]=an.filter(un=>un!==rn))}emit(O,...rn){const an=this.eventHandlers[O];an&&an.forEach(un=>un(...rn))}show(){return"API Stub"}close(){return"API Stub"}}class BrowserWindow{constructor(O){window.tb.window.create({title:O.title||"Lemonade Instance",size:{width:O.width||500,height:O.height||500,minWidth:O.minWidth||300,minHeight:O.minHeight||300},icon:O.icon||"/assets/img/logo.png",resizable:O.resizable||!0,maximizable:O.maximizable||!0,minimizable:O.minimizable||!0,src:"about:blank"})}loadFile(O){window.tb.window.changeSrc(`/fs/${O}`)}async loadURL(O){const rn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));window.tb.window.changeSrc(rn.proxy==="Ultraviolet"?`/uv/service/${await window.tb.proxy.encode(O,"XOR")}`:`/service/${await window.tb.proxy.encode(O,"XOR")}`)}destroy(){window.tb.window.close()}close(){window.tb.window.close()}show(){return"API Stub"}blur(){return"API Stub"}hide(){window.tb.window.minimize()}}let Dialog$1=class{showOpenDialogSync(O,rn){return console.log(`property: ${O} wont be used sorry`),new Promise((an,un)=>{window.tb.dialog.FileBrowser({title:rn.title||"Open File",defualtDir:rn.defaultPath||"/",onOk:dn=>{an(dn),console.log(dn)},onCancel:()=>un("canceled")})})}showOpenDialog(O,rn){return this.showOpenDialogSync(O,rn)}showSaveDialogSync(O,rn){return console.log(`property: ${O} wont be used sorry`),new Promise((an,un)=>{window.tb.dialog.SaveFile({title:rn.title||"Save File",defualtDir:rn.defaultPath||"/",onOk:dn=>{an(dn),console.log(dn)},onCancel:()=>un("canceled")})})}showSaveDialog(O,rn){return this.showSaveDialogSync(O,rn)}showMessageBoxSync(O,rn){return console.log(`property: ${O} wont be used sorry`),new Promise(an=>{window.tb.dialog.Message({title:rn.title,defaultValue:rn.message,onOk:un=>{an(un)}})})}showMessageBox(O,rn){return this.showMessageBoxSync(O,rn)}showErrorBox(O,rn){window.tb.dialog.Alert({title:O,message:rn,onOk:()=>{}})}};class Net{async request(O,rn={}){return await window.tb.libcurl.fetch(O,{method:rn.method||"GET",headers:rn.headers||{},body:rn.body?JSON.stringify(rn.body):void 0})}fetch(O,rn={}){return this.request(O,rn)}isOnline(){return navigator.onLine}}class Lemonade{get version(){return"1.0.0"}Notification=Notification;BrowserWindow=BrowserWindow;dialog=new Dialog$1;net=new Net}let App$1=class{icon;package;name;hidden=!1;windows=[];open(O=[]){}};const scriptRel="modulepreload",assetsURL=function(sn){return"/"+sn},seen={},__vitePreload=function(O,rn,an){let un=Promise.resolve();if(rn&&rn.length>0){let gn=function(wn){return Promise.all(wn.map(vn=>Promise.resolve(vn).then(An=>({status:"fulfilled",value:An}),An=>({status:"rejected",reason:An}))))};var hn=gn;document.getElementsByTagName("link");const mn=document.querySelector("meta[property=csp-nonce]"),xn=mn?.nonce||mn?.getAttribute("nonce");un=gn(rn.map(wn=>{if(wn=assetsURL(wn),wn in seen)return;seen[wn]=!0;const vn=wn.endsWith(".css"),An=vn?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${wn}"]${An}`))return;const Cn=document.createElement("link");if(Cn.rel=vn?"stylesheet":scriptRel,vn||(Cn.as="script"),Cn.crossOrigin="",Cn.href=wn,xn&&Cn.setAttribute("nonce",xn),document.head.appendChild(Cn),vn)return new Promise((Sn,Nn)=>{Cn.addEventListener("load",Sn),Cn.addEventListener("error",()=>Nn(new Error(`Unable to preload CSS for ${wn}`)))})}))}function dn(mn){const xn=new Event("vite:preloadError",{cancelable:!0});if(xn.payload=mn,window.dispatchEvent(xn),!xn.defaultPrevented)throw mn}return un.then(mn=>{for(const xn of mn||[])xn.status==="rejected"&&dn(xn.reason);return O().catch(dn)})},AnuraFDSymbol$2=Symbol.for("AnuraFD"),Filer$2=window.Filer,anura=window.Anura;class AnuraFSOperations{}class AFSProvider extends AnuraFSOperations{}class AFSShell{env=new Proxy({},{get:(O,rn)=>{if(rn==="set")return(an,un)=>{O[an]=un};if(rn==="get")return an=>O[an];if(rn in O)return O[rn]},set:(O,rn,an)=>rn==="set"||rn==="get"?!1:(O[rn]=an,!0)});#e(O){return O.startsWith("/")?O:(this.env.PWD+"/"+O).replace(/\/+/g,"/")}cat(O,rn){let an="",un=O.length;O.forEach(dn=>{anura.fs.readFile(this.#e(dn),(hn,mn)=>{if(hn){rn(hn,an);return}an+=mn.toString()+`
`,un--,un===0&&rn(null,an.replace(/\n$/,""))})})}exec(O){anura.files.open(this.#e(O))}find(O,rn,an){typeof rn=="function"&&(an=rn,rn={}),an||=()=>{},rn||={};function un(dn,hn){const mn=[];anura.fs.readdir(dn,(xn,gn)=>{if(xn){hn(xn,mn);return}let wn=gn.length;if(!wn){hn(null,mn);return}gn.forEach(vn=>{vn=dn+"/"+vn,anura.fs.stat(vn,(An,Cn)=>{if(An){hn(An,mn);return}Cn.isDirectory()?un(vn,(Sn,Nn)=>{mn.push(...Nn),wn--,wn||hn(null,mn)}):(mn.push(vn),wn--,wn||hn(null,mn))})})})}un(this.#e(O),(dn,hn)=>{if(dn){an(dn,[]);return}rn.regex&&(hn=hn.filter(mn=>rn.regex.test(mn))),rn.name&&(hn=hn.filter(mn=>mn.includes(rn.name))),rn.path&&(hn=hn.filter(mn=>mn.includes(rn.path))),rn.exec?hn.forEach(mn=>rn.exec(mn)):an(null,hn)})}ls(O,rn,an){typeof rn=="function"&&(an=rn,rn={}),an||=()=>{},rn||={};const un=[];rn.recursive?this.find(O,(dn,hn)=>{if(dn){an(dn,[]);return}an(null,hn)}):anura.fs.readdir(this.#e(O),(dn,hn)=>{if(dn){an(dn,[]);return}if(hn.length===0){an(null,[]);return}let mn=hn.length;hn.forEach(xn=>{anura.fs.stat(this.#e(O)+"/"+xn,(gn,wn)=>{if(gn){an(gn,[]);return}un.push(wn),mn--,mn||an(null,un)})})})}mkdirp(O,rn){this.promises.mkdirp(O).then(()=>rn(null)).catch(an=>{rn(an)})}rm(O,rn,an){O=this.#e(O),typeof rn=="function"&&(an=rn,rn={}),an||=()=>{},rn||={};function un(dn,hn){anura.fs.readdir(dn,(mn,xn)=>{if(mn){hn(mn);return}let gn=xn.length;if(!gn){anura.fs.rmdir(dn,hn);return}xn.forEach(wn=>{wn=dn+"/"+wn,anura.fs.stat(wn,(vn,An)=>{if(vn){hn(vn);return}An.isDirectory()?un(wn,Cn=>{if(Cn){hn(Cn);return}gn--,gn||anura.fs.rmdir(dn,hn)}):anura.fs.unlink(wn,Cn=>{if(Cn){hn(Cn);return}gn--,gn||anura.fs.rmdir(dn,hn)})})})})}anura.fs.stat(O,(dn,hn)=>{if(dn){an(dn);return}if(!hn.isDirectory()){anura.fs.unlink(O,an);return}rn.recursive?un(O,an):anura.fs.readdir(O,(mn,xn)=>{if(mn){an(mn);return}if(xn.length>0){an(new Error("Directory not empty! Pass { recursive: true } instead to remove it and all its contents."));return}})})}tempDir(O){O||=()=>{};const rn=this.env.TMP;anura.fs.mkdir(rn,()=>{O(null,rn)})}touch(O,rn,an){O=this.#e(O),typeof rn=="function"&&(an=rn,rn={updateOnly:!1,date:Date.now()}),an||=()=>{},rn||={updateOnly:!1,date:Date.now()};function un(){anura.fs.writeFile(O,"",an)}function dn(){anura.fs.utimes(O,rn.date,rn.date,an)}anura.fs.stat(O,hn=>{if(hn)if(rn.updateOnly){an(new Error("File does not exist and updateOnly is true"));return}else un();else dn()})}cd(O){this.env.PWD=this.#e(O)}pwd(){return this.env.PWD}promises={cat:async O=>{let rn="";for(const an of O)rn+=(await anura.fs.promises.readFile(this.#e(an))).toString();return rn},exec:async O=>{anura.files.open(this.#e(O))},find:(O,rn)=>new Promise((an,un)=>{this.find(O,rn,(dn,hn)=>{if(dn){un(dn);return}an(hn)})}),ls:(O,rn)=>new Promise((an,un)=>{this.ls(O,rn,(dn,hn)=>{if(dn){un(dn);return}an(hn)})}),cpr:async(O,rn,an)=>{try{const un=await anura.fs.promises.stat(O);if(an?.createInnerFolder===!0)try{(await anura.fs.promises.stat(rn)).type==="DIRECTORY"&&(rn=Filer$2.Path.join(rn,Filer$2.Path.basename(O)))}catch{}if(un.type==="FILE"){const dn=Filer$2.Path.dirname(rn);await this.promises.mkdirp(dn),await anura.fs.promises.writeFile(rn,await anura.fs.promises.readFile(O))}else if(un.type==="DIRECTORY"){await this.promises.mkdirp(rn);const dn=await anura.fs.promises.readdir(O);for(const hn of dn){const mn=Filer$2.Path.join(O,hn),xn=Filer$2.Path.join(rn,hn);await this.promises.cpr(mn,xn)}}else throw new Error(`Unsupported file type at path: ${O}`)}catch(un){throw console.error(`Error copying from ${O} to ${rn}:`,un),un}},mkdirp:async O=>{const rn=this.#e(O).split("/");let an="";for(const un of rn)if(un!==""){an+="/"+un;try{await anura.fs.promises.mkdir(an)}catch(dn){if(dn.code!=="EEXIST")throw dn}}},rm:(O,rn)=>new Promise((an,un)=>{this.rm(O,rn,dn=>{if(dn){un(dn);return}an()})}),touch:(O,rn)=>new Promise((an,un)=>{this.touch(O,rn,dn=>{if(dn){un(dn);return}an()})})};constructor(O){O||={env:{PWD:"/",TMP:"/tmp"}},O?.env&&Object.entries(O.env).forEach(([rn,an])=>{this.env.set(rn,an)})}}class AnuraFilesystem{providers=new Map;providerCache={};whatwgfs={fs:void 0,getFolder:async()=>(await __vitePreload(()=>import("./nfsadapter-CyzQtg14.js"),[]),await this.whatwgfs.fs.getOriginPrivateDirectory(__vitePreload(()=>import("./anuraadapter-BiX4HoPl.js"),[]))),fileOrDirectoryFromPath:async O=>{try{return await this.whatwgfs.directoryHandleFromPath(O)}catch(rn){try{return await this.whatwgfs.fileHandleFromPath(O)}catch(an){throw rn+an}}},directoryHandleFromPath:async O=>{const an=(await(await window.anura.import("anura.filepicker")).selectFolder()).split("/");let un=await window.anura.fs.whatwgfs.getFolder();for(const dn of an)dn!==""&&(un=await un.getDirectoryHandle(dn));return un},fileHandleFromPath:async O=>{let rn=O.split("/");const an=rn.pop();return rn=rn.join("/"),await(await anura.fs.whatwgfs.directoryHandleFromPath(rn)).getFileHandle(an)},async showDirectoryPicker(O){const an=(await(await window.anura.import("anura.filepicker")).selectFolder()).split("/");let un=await window.anura.fs.whatwgfs.getFolder();for(const dn of an)dn!==""&&(un=await un.getDirectoryHandle(dn));return un},async showOpenFilePicker(O){const an=(await(await window.anura.import("anura.filepicker")).selectFile()).split("/");let un=await window.anura.fs.whatwgfs.getFolder();for(const dn of an)dn!==""&&(un=await un.getFileHandle(dn));return un}};static Shell=AFSShell;Shell=AFSShell;constructor(O){O.forEach(rn=>{this.providers.set(rn.domain,rn)}),(async()=>{const rn=await __vitePreload(()=>import("./nfsadapter-CyzQtg14.js"),[]);this.whatwgfs.FileSystemDirectoryHandle=rn.FileSystemDirectoryHandle,this.whatwgfs.FileSystemFileHandle=rn.FileSystemFileHandle,this.whatwgfs.FileSystemHandle=rn.FileSystemHandle,this.whatwgfs.fs=rn})()}clearCache(){this.providerCache={}}installProvider(O){this.providers.set(O.domain,O),this.clearCache()}processPath(O){if(!O.startsWith("/"))throw new Error("Path must be absolute");O=O.replace(/^\/+/,"/");let rn=this.providerCache[O];if(rn)return rn;this.providers.has(O)&&(O+="/");const an=O.split("/");for(an.shift(),an.pop();!rn&&an.length>0;){const un="/"+an.join("/");rn=this.providers.get(un),an.pop()}return rn||(rn=this.providers.get("/")),this.providerCache[O]=rn,rn}processFD(O){return this.processPath(O[AnuraFDSymbol$2])}rename(O,rn,an){this.processPath(O).rename(O,rn,an)}ftruncate(O,rn,an){this.processFD(O).ftruncate(O,rn,an)}truncate(O,rn,an){this.processPath(O).truncate(O,rn,an)}stat(O,rn){this.processPath(O).stat(O,rn)}fstat(O,rn){this.processFD(O).fstat(O,rn)}lstat(O,rn){this.processPath(O).lstat(O,rn)}exists(O,rn){this.processPath(O).exists(O,rn)}link(O,rn,an){this.processPath(O).link(O,rn,an)}symlink(O,...rn){this.processPath(rn[0]).symlink(O,...rn)}readlink(O,rn){this.processPath(O).readlink(O,rn)}unlink(O,rn){this.processPath(O).unlink(O,rn)}rmdir(O,rn){this.processPath(O).rmdir(O,rn)}mkdir(O,...rn){this.processPath(O).mkdir(O,...rn)}access(O,...rn){this.processPath(O).access(O,...rn)}mkdtemp(...O){this.processPath(path).mkdtemp(...O)}readdir(O,...rn){this.processPath(O).readdir(O,...rn)}close(O,rn){this.processFD(O).close(O,rn)}open(O,rn,an,un){typeof an=="number"?this.processPath(O).open(O,rn,an,un):this.processPath(O).open(O,rn,an)}utimes(O,rn,an,un){this.processPath(O).utimes(O,rn,an,un)}futimes(O,...rn){this.processFD(O).futimes(O,...rn)}chown(O,rn,an,un){this.processPath(O).chown(O,rn,an,un)}fchown(O,...rn){this.processFD(O).fchown(O,...rn)}chmod(O,rn,an){this.processPath(O).chmod(O,rn,an)}fchmod(O,...rn){this.processFD(O).fchmod(O,...rn)}fsync(O,...rn){this.processFD(O).fsync(O,...rn)}write(O,...rn){this.processFD(O).write(O,...rn)}read(O,...rn){this.processFD(O).read(O,...rn)}readFile(O,rn){this.processPath(O).readFile(O,rn)}writeFile(O,rn,...an){rn instanceof Uint8Array&&!(rn instanceof Filer$2.Buffer)&&(rn=Filer$2.Buffer.from(rn)),this.processPath(O).writeFile(O,rn,...an)}appendFile(O,rn,an){rn instanceof Uint8Array&&!(rn instanceof Filer$2.Buffer)&&(rn=Filer$2.Buffer.from(rn)),this.processPath(O).appendFile(O,rn,an)}promises={appendFile:(O,rn,an)=>(rn instanceof Uint8Array&&!(rn instanceof Filer$2.Buffer)&&(rn=Filer$2.Buffer.from(rn)),this.processPath(O).promises.appendFile(O,rn,an)),access:(O,rn)=>this.processPath(O).promises.access(O,rn),chown:(O,rn,an)=>this.processPath(O).promises.chown(O,rn,an),chmod:(O,rn)=>this.processPath(O).promises.chmod(O,rn),link:(O,rn)=>this.processPath(O).promises.link(O,rn),lstat:O=>this.processPath(O).promises.lstat(O),mkdir:(O,rn)=>this.processPath(O).promises.mkdir(O,rn),mkdtemp:(O,rn)=>this.processPath(O).promises.mkdtemp(O,rn),open:async(O,rn,an)=>this.processPath(O).promises.open(O,rn,an),readdir:(O,rn)=>this.processPath(O).promises.readdir(O,rn),readFile:O=>this.processPath(O).promises.readFile(O),readlink:O=>this.processPath(O).promises.readlink(O),rename:(O,rn)=>this.processPath(O).promises.rename(O,rn),rmdir:O=>this.processPath(O).promises.rmdir(O),stat:O=>this.processPath(O).promises.stat(O),symlink:(O,rn,an)=>this.processPath(rn).promises.symlink(O,rn,an),truncate:(O,rn)=>this.processPath(O).promises.truncate(O,rn),unlink:O=>this.processPath(O).promises.unlink(O),utimes:(O,rn,an)=>this.processPath(O).promises.utimes(O,rn,an),writeFile:(O,rn,an)=>(rn instanceof Uint8Array&&!(rn instanceof Filer$2.Buffer)&&(rn=Filer$2.Buffer.from(rn)),this.processPath(O).promises.writeFile(O,rn,an))}}const AnuraFDSymbol$1=Symbol.for("AnuraFD"),Filer$1=window.Filer;class LocalFSStats{name;size;atime;mtime;ctime;atimeMs;mtimeMs;ctimeMs;node;nlinks;mode;type;uid;gid;dev;isFile(){return this.type==="FILE"}isDirectory(){return this.type==="DIRECTORY"}isSymbolicLink(){return(this.mode&61440)===40960}constructor(O){this.name=O.name,this.size=O.size||0,this.atimeMs=O.atimeMs||Date.now(),this.mtimeMs=O.mtimeMs||Date.now(),this.ctimeMs=O.ctimeMs||Date.now(),this.atime=new Date(this.atimeMs),this.mtime=new Date(this.mtimeMs),this.ctime=new Date(this.ctimeMs),this.node=O.node||crypto.randomUUID(),this.nlinks=O.nlinks||1,this.mode=O.mode||33279,this.type=O.type||"FILE",this.uid=O.uid||0,this.gid=O.gid||0,this.dev=O.dev||"localfs"}}class LocalFS extends AFSProvider{dirHandle;domain;name="LocalFS";version="1.0.0";path=Filer$1.Path;stats=new Map;fds=[];cursors=[];constructor(O,rn){super(),this.dirHandle=O,this.domain=rn,this.name+=` (${rn})`}relativizePath(O){return O.replace(this.domain,"").replace(/^\/+/,"")}async getChildDirHandle(O,rn=0){if(rn>20)throw{name:"ELOOP",code:"ELOOP",errno:-40,message:"no such file or directory",path:(this.domain+"/"+O).replace("//","/")};if(O==="")return[this.dirHandle,O];O.endsWith("/")&&(O=O.substring(0,O.length-1));let an=this.dirHandle,un="";for await(const dn of O.split("/"))if(!(dn===""||dn===".")){if(un+="/"+dn,(this.stats.get(un)?.mode&61440)===40960){const hn=await(await(await an.getFileHandle(O)).getFile()).text();return hn.startsWith("/")?this.getChildDirHandle(hn,rn+1):this.getChildDirHandle(this.path.resolve(un,hn),rn+1)}an=await an.getDirectoryHandle(dn)}return[an,un]}async getFileHandle(O,rn,an=0){O.includes("/")||(O="/"+O);const un=this.path.dirname(O);let[dn,hn]=await this.getChildDirHandle(un);const mn=this.path.basename(O);if(hn[0]==="/"&&(hn=hn.slice(1)),this.stats.has(hn+"/"+mn)&&(this.stats.get(hn+"/"+mn).mode&61440)===40960){let xn=await(await(await dn.getFileHandle(mn)).getFile()).text();if(xn.startsWith("/")){if(xn.startsWith(this.domain))return xn=this.relativizePath(xn),this.getFileHandle(xn,rn,an+1);{let gn=await window.anura.fs.whatwgfs.getFolder();for(const wn in xn.split("/").slice(1,-1))gn=await gn.getDirectoryHandle(wn);return[await gn.getFileHandle(this.path.basename(xn)),"foreign:"+xn]}}else return this.getFileHandle(this.path.resolve(un,xn),rn,an+1)}return[await dn.getFileHandle(mn,rn),O]}static async newOPFS(O){const rn=await navigator.storage.getDirectory();try{await window.anura.fs.promises.mkdir(O)}catch{}const an=new LocalFS(rn,O);window.anura.fs.installProvider(an);const un=new TextDecoder;try{an.stats=new Map(JSON.parse(un.decode(await an.promises.readFile(O+"/.anura_stats"))))}catch(dn){console.log("Error on mount, probably first mount ",dn)}return an}static async newSwOPFS(){const rn=await navigator.storage.getDirectory(),an=new LocalFS(rn,"/"),un=new TextDecoder;try{an.stats=new Map(JSON.parse(un.decode(await an.promises.readFile("//.anura_stats"))))}catch(dn){console.log("Error on mount, probably first mount ",dn)}return an}static async new(O){let rn;try{rn=await window.showDirectoryPicker({id:`anura-${O.replace(/\/|\s|\./g,"-")}`})}catch(un){if(un.name!=="TypeError")throw un;rn=await window.showDirectoryPicker({id:"anura-localfs"})}rn.requestPermission({mode:"readwrite"});try{await window.anura.fs.promises.mkdir(O)}catch{}const an=new LocalFS(rn,O);return window.anura.fs.installProvider(an),an}readdir(O,rn,an){typeof rn=="function"&&(an=rn),an||=()=>{},this.promises.readdir(O).then(un=>an(null,un)).catch(un=>an(un,[]))}stat(O,rn){rn||=()=>{},this.promises.stat(O).then(an=>rn(null,an)).catch(an=>rn(an,null))}readFile(O,rn){rn||=()=>{},this.promises.readFile(O).then(an=>rn(null,an)).catch(an=>rn(an,new Filer$1.Buffer(0)))}writeFile(O,rn,an,un){typeof rn=="string"&&(rn=new TextEncoder().encode(rn)),typeof an=="function"&&(un=an),un||=()=>{},this.promises.writeFile(O,rn).then(()=>un(null)).catch(un)}appendFile(O,rn,an){this.promises.appendFile(O,rn).then(()=>an(null)).catch(an)}unlink(O,rn){rn||=()=>{},this.promises.unlink(O).then(()=>rn(null)).catch(rn)}mkdir(O,rn,an){typeof rn=="function"&&(an=rn),an||=()=>{},this.promises.mkdir(O).then(()=>an(null)).catch(an)}rmdir(O,rn){rn||=()=>{},this.promises.rmdir(O).then(()=>rn(null)).catch(rn)}rename(O,rn,an){an||=()=>{},this.promises.rename(O,rn).then(()=>an(null)).catch(an)}truncate(O,rn,an){this.promises.truncate(O,rn).then(()=>an(null)).catch(an)}exists(O,rn){this.stat(O,(an,un)=>{if(an){rn(!1);return}rn(!0)})}promises={saveStats:async()=>{const O=JSON.stringify(Array.from(this.stats.entries()));await this.promises.writeFile(this.domain+"/.anura_stats",O)},writeFile:async(O,rn,an)=>{typeof rn=="string"&&(rn=new TextEncoder().encode(rn)),O=this.relativizePath(O);let[un,dn]=await this.getFileHandle(O,{create:!0});const hn=await un.createWritable();dn.startsWith("/")&&(dn=dn.slice(1));const mn=this.stats.get(dn)||{};mn&&!dn.startsWith("foreign:")&&(mn.mtimeMs=Date.now(),mn.ctimeMs=Date.now(),this.stats.set(dn,mn)),hn.write(rn),hn.close()},readFile:async O=>{O=this.relativizePath(O);const[rn,an]=await this.getFileHandle(O),un=this.stats.get(an)||{};return un&&!an.startsWith("foreign:")&&(un.atimeMs=Date.now(),this.stats.set(O,un)),new Filer$1.Buffer(await(await rn.getFile()).arrayBuffer())},readdir:async O=>{let rn,an;try{[rn,an]=await this.getChildDirHandle(this.relativizePath(O))}catch(dn){throw{name:"ENOENT",code:"ENOENT",errno:34,message:"no such file or directory",path:(this.domain+"/"+O).replace("//","/"),stack:dn}}const un=[];for await(const dn of rn.values())dn.name!==".anura_stats"&&un.push(dn.name);return un},appendFile:async(O,rn)=>{const an=await this.promises.readFile(O);await this.promises.writeFile(O,new Uint8Array([...an,...rn]))},unlink:async O=>{let rn=this.dirHandle;if(O=this.relativizePath(O),O.includes("/")){const an=O.split("/"),un=an.pop();rn=(await this.getChildDirHandle(an.join("/")))[0],O=un}await rn.removeEntry(O)},mkdir:async O=>{O.endsWith("/")&&(O=O.slice(0,-1));let rn=this.dirHandle,an="";if(O=this.relativizePath(O),O.includes("/")){const hn=O.split("/"),mn=hn.pop();[rn,an]=await this.getChildDirHandle(hn.join("/")),O=mn}an.startsWith("/")&&(an=an.slice(1));const un=an+"/"+O,dn=this.stats.get(un)||{};dn&&(dn.ctimeMs=Date.now(),this.stats.set(un,dn)),await rn.getDirectoryHandle(O,{create:!0})},rmdir:async O=>{let rn=this.dirHandle;if(O=this.relativizePath(O),O.includes("/")){const an=O.split("/"),un=an.pop();rn=(await this.getChildDirHandle(an.join("/")))[0],O=un}await rn.removeEntry(O)},rename:async(O,rn)=>{const an=await this.promises.readFile(O);await this.promises.writeFile(rn,an),await this.promises.unlink(O)},stat:async O=>{O=this.relativizePath(O);const rn=O;let an=O;an.endsWith("/")&&(an=an.slice(0,-1));const un=this.stats.get(an)||{};let dn;try{O===""?dn=await this.dirHandle.getFileHandle(O):[dn,O]=await this.getFileHandle(O)}catch{try{const xn=await this.getChildDirHandle(O),gn=xn[0];O=xn[1];let wn;return O||(wn=this.domain.split("/").pop()),new LocalFSStats({name:wn||gn.name,mode:un.mode||16895,type:"DIRECTORY",atimeMs:un.atimeMs||Date.now(),mtimeMs:un.mtimeMs||Date.now(),ctimeMs:un.ctimeMs||Date.now(),uid:un.uid||0,gid:un.gid||0})}catch(xn){throw{name:"ENOENT",code:"ENOENT",errno:34,message:"no such file or directory",path:(this.domain+"/"+O).replace("//","/"),stack:xn}}}const hn=await dn.getFile();return new LocalFSStats({name:this.path.basename(rn),size:hn.size,type:"FILE",mode:un.mode||33279,atimeMs:un.atimeMs||Date.now(),mtimeMs:un.mtimeMs||Date.now(),ctimeMs:un.ctimeMs||Date.now(),uid:un.uid||0,gid:un.gid||0})},truncate:async(O,rn)=>{const an=await this.promises.readFile(O);await this.promises.writeFile(O,an.slice(0,rn))},access(O,rn){return O=this.relativizePath(O),new Promise((an,un)=>{this.promises.stat(O).then(()=>an()).catch(()=>un({name:"ENOENT",code:"ENOENT",errno:34,message:"No such file or directory",path:O,stack:"Error: No such file or directory"}))})},chown(O,rn,an){return O=this.relativizePath(O),new Promise(async(un,dn)=>{const hn=(await this.promises.lstat(O)).type,mn=this.stats.get(O);if(!mn)return dn({name:"ENOENT",code:"ENOENT",errno:34,message:"No such file or directory",path:O,stack:"Error: No such file or directory"});O.endsWith("/")&&(O=O.slice(0,-1)),hn==="DIRECTORY"?O=(await this.getChildDirHandle(O))[1]:O=(await this.getChildDirHandle(this.path.dirname(O)))[1]+"/"+this.path.basename(O),O.startsWith("/")&&(O=O.slice(1)),mn.uid=rn,mn.gid=an,this.stats.set(O,mn),this.promises.saveStats().then(()=>un()).catch(dn)})},chmod:async(O,rn)=>{const an=await this.promises.lstat(O),un=an.type,dn=(an.mode&61440)===40960;let hn=this.relativizePath(O);hn.endsWith("/")&&(hn=hn.slice(0,-1)),un==="DIRECTORY"?hn=(await this.getChildDirHandle(hn))[1]:hn=(await this.getChildDirHandle(this.path.dirname(hn)))[1]+"/"+this.path.basename(hn),hn.startsWith("/")&&(hn=hn.slice(1));const mn=this.stats.get(hn)||{};rn>511&&(rn-=rn&61440),dn?mn.mode=40960+rn:(un==="FILE"&&(mn.mode=32768+rn),un==="DIRECTORY"&&(mn.mode=16384+rn)),this.stats.set(hn,mn),await this.promises.saveStats()},link:(O,rn)=>this.promises.symlink(O,rn),lstat:async O=>{O=this.relativizePath(O);let rn=O;rn.endsWith("/")&&(rn=rn.slice(0,-1));const an=this.stats.get(rn)||{};let un;try{if(O==="")un=await this.dirHandle.getFileHandle(O);else{const hn=await this.getChildDirHandle(this.path.dirname(O));un=hn[0];const mn=hn[1];un=await un.getFileHandle(this.path.basename(O)),O+=O.lastIndexOf("/"),O=mn+this.path.basename(O)}}catch{try{const mn=await this.getChildDirHandle(O),xn=mn[0];O=mn[1];let gn;return O||(gn=this.domain.split("/").pop()),new LocalFSStats({name:gn||xn.name,mode:an.mode||16895,type:"DIRECTORY",atimeMs:an.atimeMs||Date.now(),mtimeMs:an.mtimeMs||Date.now(),ctimeMs:an.ctimeMs||Date.now(),uid:an.uid||0,gid:an.gid||0})}catch(mn){throw{name:"ENOENT",code:"ENOENT",errno:34,message:"no such file or directory",path:(this.domain+"/"+O).replace("//","/"),stack:mn}}}const dn=await un.getFile();return new LocalFSStats({name:dn.name,size:dn.size,type:"FILE",mode:an.mode||33279,atimeMs:an.atimeMs||Date.now(),mtimeMs:an.mtimeMs||Date.now(),ctimeMs:an.ctimeMs||Date.now(),uid:an.uid||0,gid:an.gid||0})},mkdtemp:O=>new Promise((rn,an)=>{if(!O.includes("XXXXXX"))return an({name:"EINVAL",code:"EINVAL",errno:342,message:"Invalid template, must contain 'XXXXXX'.",stack:"Error: Invalid template"});const un=Math.random().toString(36).slice(2,8),dn=O.replace("XXXXXX",un);this.promises.mkdir(dn),this.promises.saveStats().then(()=>rn(dn)).catch(an)}),open:async(O,rn,an)=>{O=this.relativizePath(O),this.stats.get(O),this.dirHandle;const[un]=await this.getFileHandle(O,{create:!0});return un.path=O,this.fds.push(un),{fd:this.fds.length-1,[AnuraFDSymbol$1]:this.domain}},readlink:async O=>{O=this.relativizePath(O);const rn=this.path.basename(O);let[an,un]=await this.getChildDirHandle(this.path.dirname(O));un.startsWith("/")&&(un=un.slice(1));const dn=this.stats.get(un+"/"+rn);if(!dn)throw{name:"ENOENT",code:"ENOENT",errno:34,message:"No such file or directory",path:O,stack:"Error: No such file"};if((dn.mode&61440)!==40960)throw{name:"EINVAL",code:"EINVAL",errno:342,message:`Is not a symbolic link: ${O}`,stack:"Error: Is not a symbolic link"};return await(await(await an.getFileHandle(rn)).getFile()).text()},symlink:async(O,rn)=>{rn=this.relativizePath(rn);const an=this.path.basename(rn);let[un,dn]=await this.getChildDirHandle(this.path.dirname(rn));const hn=await(await un.getFileHandle(an,{create:!0})).createWritable();hn.write(O),hn.close(),dn.startsWith("/")&&(dn=dn.slice(1));const mn=dn+"/"+an,xn=this.stats.get(mn)||{};mn&&(xn.mode=41380,xn.ctimeMs=Date.now(),xn.mtimeMs=Date.now(),this.stats.set(mn,xn)),await this.promises.saveStats()},utimes:async(O,rn,an)=>{const un=(await this.promises.lstat(O)).type;O=this.relativizePath(O);const dn=typeof rn=="number"?new Date(rn):rn,hn=typeof an=="number"?new Date(an):an;un==="DIRECTORY"?O=(await this.getChildDirHandle(O))[1]:O=(await this.getChildDirHandle(this.path.dirname(O)))[1]+"/"+this.path.basename(O),O.startsWith("/")&&(O=O.slice(1));let mn=this.stats.get(O);mn||(mn=await this.promises.stat(O)),mn.atimeMs=dn.getTime(),mn.mtimeMs=hn.getTime(),this.stats.set(O,mn),await this.promises.saveStats()}};ftruncate(O,rn,an){an||=()=>{};const un=this.fds[O.fd];if(!un){an({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"},O);return}const dn=un.path;this.promises.truncate(dn,rn).then(()=>an(null,O)).catch(hn=>{an(hn,O)})}fstat(O,rn){rn||=()=>{};const an=this.fds[O.fd];if(an===void 0){rn({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"},null);return}an.kind==="file"?an.getFile().then(un=>{rn(null,new LocalFSStats({name:un.name,size:un.size}))}):rn({name:"EISDIR",code:"EISDIR",errno:28,message:"Is a directory",stack:"Error: Is a directory"},null)}lstat(O,rn){rn||=()=>{},this.promises.lstat(O).then(an=>rn(null,an)).catch(an=>rn(an,null))}link(O,rn,an){an||=()=>{},this.promises.link(O,rn).then(()=>an(null)).catch(an)}symlink(O,rn,an,un){un||=()=>{},this.promises.symlink(O,rn).then(()=>un(null)).catch(un)}readlink(O,rn){rn||=()=>{},this.promises.readlink(O).then(an=>rn(null,an)).catch(rn)}access(O,rn,an){an||=()=>{},this.promises.access(O,rn).then(()=>an(null)).catch(an)}mkdtemp(O,rn,an){an||=()=>{},this.promises.mkdtemp(O).then(un=>an(null,un)).catch(un=>{an(un,null)})}fchown(O,rn,an,un){un||=()=>{};const dn=this.fds[O.fd];if(!dn){un({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"});return}const hn=dn.path;this.chown(hn,rn,an,un)}chmod(O,rn,an){this.promises.chmod(O,rn).then(()=>an(null)).catch(an)}fchmod(O,rn,an){an||=()=>{};const un=this.fds[O.fd];if(!un){an({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"});return}const dn=un.path;this.promises.chmod(dn,rn).then(()=>an(null)).catch(an)}fsync(O,rn){if(rn||=()=>{},!this.fds[O.fd]){rn({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"});return}rn(null)}write(O,rn,an,un,dn,hn){hn||=()=>{};const mn=this.fds[O.fd];if(dn!==null?dn+=this.cursors[O.fd]||0:dn=this.cursors[O.fd]||0,mn===void 0){hn({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"},0);return}if(mn.kind==="directory"){hn({name:"EISDIR",code:"EISDIR",errno:28,message:"Is a directory",stack:"Error: Is a directory"},0);return}const xn=rn.slice(an,an+un);mn.createWritable().then(gn=>{gn.seek(dn||0),gn.write(xn),gn.close(),this.cursors[O.fd]=(dn||0)+xn.length,hn(null,xn.length)})}read(O,rn,an,un,dn,hn){hn||=()=>{};const mn=this.fds[O.fd];if(mn===void 0){hn({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"},0,null);return}if(mn.kind==="directory"){hn({name:"EISDIR",code:"EISDIR",errno:28,message:"Is a directory",stack:"Error: Is a directory"},0,null);return}mn.getFile().then(gn=>{const wn=new FileReader;wn.onload=()=>{const vn=new Uint8Array(wn.result);rn.set(vn.slice(an,an+un)),hn(null,vn.length,rn)},wn.onerror=vn=>{hn(new Error("Failed to read file"),0,null)},wn.readAsArrayBuffer(gn.slice(dn||0,(dn||0)+un))})}utimes(O,rn,an,un){un||=()=>{},this.promises.utimes(O,rn,an).then(()=>un(null)).catch(un)}futimes(O,rn,an,un){un||=()=>{};const dn=this.fds[O.fd];if(!dn){un({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"});return}const hn=dn.path;this.utimes(hn,rn,an,un)}chown(O,rn,an,un){un||=()=>{},this.promises.chown(O,rn,an).then(()=>un(null)).catch(un)}close(O,rn){if(rn||=()=>{},this.fds[O.fd]===void 0){rn({name:"EBADF",code:"EBADF",errno:9,message:"bad file descriptor",stack:"Error: bad file descriptor"});return}delete this.fds[O.fd],rn(null)}open(O,rn,an,un){typeof an=="function"&&(un=an),un||=()=>{},this.promises.open(O,rn,an).then(dn=>{un(null,dn)}).catch(dn=>un(dn,{fd:-1,[AnuraFDSymbol$1]:this.domain}))}}let ExternalApp$1=class Sd extends App$1{manifest;source;icon="/assets/icons/generic.png";constructor(O,rn){super(),this.manifest=O,this.name=O.name,O.icon&&(this.icon=rn+"/"+O.icon),this.source=rn,this.package=O.package,this.hidden=O.hidden||!1}static serializeArgs(O){const rn=new TextEncoder,an=O.map(un=>{const dn=rn.encode(un),hn=String.fromCodePoint(...dn);return btoa(hn)});return encodeURIComponent(an.join(","))}static deserializeArgs(O){const rn=new TextDecoder("utf-8");return decodeURIComponent(O).split(",").map(an=>{const un=atob(an);return rn.decode(Uint8Array.from(un,dn=>dn.charCodeAt(0)))})}async open(O=[]){if(this.manifest.type==="auto"){const rn=window.anura,an=rn.wm.create(this,this.manifest.wininfo),un=document.createElement("iframe"),dn=this.manifest.background||"#202124";if(un.setAttribute("style",`top:0; left:0; bottom:0; right:0; width:100%; height:100%; border: none; margin: 0; padding: 0; background-color: ${dn};`),un.setAttribute("src",`${this.source}/${this.manifest.index}${this.manifest.index?.includes("?")?"&":"?"}args=${Sd.serializeArgs(O)}`),an.content.appendChild(un),this.manifest.useIdbWrapper){const mn=new Proxy(un.contentWindow.indexedDB,{get:(xn,gn,wn)=>{switch(gn){case"databases":return async()=>(await xn.databases()).filter(An=>An.name.startsWith(this.package+"-")).map(An=>(An.name=An.name.slice(this.package.length+1),An));case"open":return(vn,An)=>xn.open(vn.startsWith(this.package+"-")?vn:`${this.package}-${vn}`,An);case"deleteDatabase":return vn=>xn.deleteDatabase(vn.startsWith(this.package+"-")?vn:`${this.package}-${vn}`);default:return Reflect.get(xn,gn,wn)}}});Object.defineProperty(un.contentWindow,"indexedDB",{value:mn,writable:!1})}Object.assign(un.contentWindow,{anura:rn,AliceWM,ExternalApp:Sd,LocalFS,instance:this,instanceWindow:an,print:mn=>{un.contentWindow.window.postMessage({type:"stdout",message:mn})},println:mn=>{un.contentWindow.postMessage({type:"stdout",message:mn+`
`})},printerr:mn=>{un.contentWindow.postMessage({type:"stderr",message:mn})},printlnerr:mn=>{un.contentWindow.postMessage({type:"stderr",message:mn+`
`})},read:()=>new Promise(mn=>{un.contentWindow.addEventListener("message",xn=>{xn.data.type==="stdin"&&mn(xn.data.message)},{once:!0})}),readln:()=>new Promise(mn=>{let xn="";const gn=wn=>{wn.data.type==="stdin"&&(xn+=wn.data.message,xn.includes(`
`)&&(mn(xn),un.contentWindow.removeEventListener("message",gn)))};un.contentWindow.addEventListener("message",gn)}),env:{process:an},open:async mn=>{(await rn.import("anura.libbrowser")).openTab(mn)}}),an.stdin=new WritableStream({write:mn=>{un.contentWindow.postMessage({type:"stdin",message:mn})}}),an.stderr=new ReadableStream({start:mn=>{un.contentWindow.addEventListener("error",xn=>{mn.enqueue(xn.error)}),un.contentWindow.addEventListener("message",xn=>{xn.data.type==="stderr"&&mn.enqueue(xn.data.message)})}}),an.stdout=new ReadableStream({start:mn=>{un.contentWindow.addEventListener("message",xn=>{xn.data.type==="stdout"&&mn.enqueue(xn.data.message)})}});const hn=document.createElement("link");return hn.setAttribute("rel","stylesheet"),hn.setAttribute("href","/assets/matter.css"),un.contentWindow.addEventListener("load",()=>{un.contentDocument.head.appendChild(hn)}),an}else if(this.manifest.type==="manual"){const an=await(await fetch(`${this.source}/${this.manifest.handler}`)).text();top.window.eval(an),loadingScript(this.source,this);return}else if(this.manifest.type==="webview"){const an=window.anura.wm.create(this,this.manifest.wininfo),un=document.createElement("iframe"),dn=this.manifest.background||"var(--theme-bg)";un.setAttribute("style",`top:0; left:0; bottom:0; right:0; width:100%; height:100%; border: none; margin: 0; padding: 0; background-color: ${dn};`);let hn="";for(let mn=0;mn<this.manifest.src.length;mn++)mn%2===0?hn+=this.manifest.src[mn]:hn+=String.fromCharCode(this.manifest.src.charCodeAt(mn)^2);return un.setAttribute("src",`${"/service/"+encodeURIComponent(hn)}`),an.content.appendChild(un),an}}};const AliceWM={create:function(sn){console.trace();let O={title:"Generic Window",minheight:40,minwidth:40,width:"1000px",height:"500px",allowMultipleInstance:!1};typeof sn=="object"&&(O=sn),typeof sn=="string"&&(O.title=sn),console.log(sn),console.log(O),console.log(O);const rn=mn=>{if(typeof mn=="number")return mn;const xn=parseFloat(String(mn).replace(/[^0-9.\-]/g,""));return Number.isFinite(xn)?xn:0};let an=()=>{},un=()=>{};const dn=new Promise((mn,xn)=>{an=mn,un=xn}),hn={element:null,content:null,app:new ExternalApp$1(O),dragForceX:0,dragForceY:0,dragging:!1,height:O.height,width:O.width,pid:null,state:null,maximized:!1,minimizing:!1,mouseLeft:null,mouseTop:null,onclose:()=>null,onfocus:()=>null,onresize:(mn,xn)=>null,onsnap:mn=>null,onunmaximize:()=>null,restoreSvg:null,kill:()=>{hn.pid!=null&&window.tb.process.kill(hn.pid)},get alive(){return window.tb.window.getId()===hn.pid},maximizeImg:null,maximizeSvg:null,wininfo:O,title:O.title};return hn.then=(mn,xn)=>dn.then(mn,xn),hn.catch=mn=>dn.catch(mn),hn.finally=mn=>dn.finally(mn),createWindow({title:O.title,icon:O.icon||"/assets/img/logo.png",src:O.src||"about:blank",size:{width:rn(O.width),height:rn(O.height)},single:!1,resizable:!0,message:O.msg}).then(mn=>{setTimeout(()=>{try{console.log(`created ${mn}`);const xn=window.tb.window.getId(),gn=document.querySelector(`div[pid="${xn}"]`),wn=gn?.querySelectorAll(".controls.flex.gap-1")??[];window.tb.window.content.set("<div></div>"),hn.element=gn,hn.content=gn?.querySelector(".w-full.h-full"),hn.app=new ExternalApp$1(O),hn.dragForceX=0,hn.dragForceY=0,hn.dragging=!1,hn.height=O.height,hn.width=O.width,hn.pid=xn,hn.state=null,hn.maximized=!1,hn.minimizing=!1,hn.mouseLeft=null,hn.mouseTop=null,hn.onclose=()=>null,hn.onfocus=()=>null,hn.onresize=(vn,An)=>null,hn.onsnap=vn=>null,hn.onunmaximize=()=>null,hn.restoreSvg=wn[0]?.childNodes[1]||null,hn.maximizeImg=wn[0]?.childNodes[1]||null,hn.maximizeSvg=wn[0]?.childNodes[1]||null,hn.wininfo=O,hn.title=O.title,an(hn)}catch(xn){un(xn)}},500)}).catch(mn=>{un(mn)}),hn}};class WMAPI{windows=[];constructor(){setInterval(()=>{for(const O of Object.values(window.tb.process.list()))this.convertProc(O.pid)},1)}async create(O,rn,an=null,un=null){const dn=await AliceWM.create(O);return this.windows.push(new WeakRef(dn)),dn}async createGeneric(O,rn){rn||(rn={title:"Generic Window",icon:"/assets/img/logo.png",minheight:40,minwidth:40,width:"1000px",height:"500px",allowMultipleInstance:!1});const an=await AliceWM.create(rn);return this.windows.push(new WeakRef(an)),an}convertProc(O){const rn=window.tb.process.list()[O];if(!rn)return;for(const mn of this.windows){const xn=mn?.deref?.()??null;if(xn&&(xn.pid===O||typeof xn.title=="string"&&xn.title===rn.name))return}const an={title:rn.name,icon:rn.icon,minheight:40,minwidth:40,width:rn.size.width,height:rn.size.height,allowMultipleInstance:!1},un=document.querySelector(`div[pid="${O}"]`),dn=un?.querySelectorAll(".controls.flex.gap-1")??[],hn={element:un,content:un?.querySelector(".w-full.h-full"),app:new ExternalApp(rn),dragForceX:0,dragForceY:0,dragging:!1,height:rn.size.height,width:rn.size.width,pid:O,state:null,maximized:!1,minimizing:!1,mouseLeft:null,mouseTop:null,onclose:()=>null,onfocus:()=>null,onresize:(mn,xn)=>null,onsnap:mn=>null,onunmaximize:()=>null,restoreSvg:dn[0]?.childNodes[1]||null,kill(){hn.pid!=null&&window.tb.process.kill(hn.pid)},get alive(){return window.tb.process.list()[O]!=null},maximizeImg:dn[0]?.childNodes[1]||null,maximizeSvg:dn[0]?.childNodes[1]||null,wininfo:an,title:rn.name};this.windows.push(new WeakRef(hn))}getWeakRef(O){for(const rn of this.windows){const an=rn.deref();if(an&&Number(an.pid)===O)return an}}}class ContextMenuAPI{element;item(O,rn){const an=document.createElement("div");return an.className="custom-menu-item",an.onclick=()=>{rn()},an.innerText=O,an}isShown=!1;constructor(){this.element=document.createElement("div"),this.element.className="custom-menu",setTimeout(()=>document.addEventListener("click",O=>{O.composedPath().includes(this.element)||this.element.remove()}),100)}removeAllItems(){this.element.innerHTML=""}addItem(O,rn){this.element.appendChild(this.item(O,()=>{this.hide(),rn()}))}show(O,rn){return this.element.style.top=rn.toString()+"px",this.element.style.left=O.toString()+"px",document.body.appendChild(this.element),this.isShown=!0,this.element.focus(),this.element}hide(){this.isShown&&(document.body.removeChild(this.element),this.isShown=!1)}}class FilesAPI{fallbackIcon="/assets/img/missing_icon.svg";folderIcon="/assets/img/folder.svg";open=async function(path){const ext=path.split("/").pop().split(".").pop(),extHandlers=window.anura.settings.get("FileExts")||{};if(extHandlers[ext]){const handler=extHandlers[ext];if(console.log(`Opening ${path} with ${handler}`),handler.handler_type==="module"){const sn=await window.anura.import(handler.id);if(!sn){console.log(`Failed to load handler ${handler}`),await this.defaultOpen(path);return}if(!sn.openFile){console.log(`Handler ${handler} does not have an openFile function`),await this.defaultOpen(path);return}return sn.openFile(path)}if(handler.handler_type==="cjs"){eval(await(await fetch(handler.path)).text()+`openFile(${JSON.stringify(path)})`);return}}await this.defaultOpen(path)};async defaultOpen(path){const extHandlers=window.anura.settings.get("FileExts")||{};if(extHandlers.default){const handler=extHandlers.default;if(console.log(`Opening ${path} with ${handler}`),handler.handler_type==="module"){const sn=await window.anura.import(handler.id);if(!sn){console.log(`Failed to load handler ${handler}`);return}if(!sn.openFile){console.log(`Handler ${handler} does not have an openFile function`);return}sn.openFile(path);return}if(handler.handler_type==="cjs"){eval(await(await fetch(handler.path)).text()+`openFile(${JSON.stringify(path)})`);return}}}getIcon=async path=>{const ext=path.split("/").pop().split(".").pop(),extHandlers=window.anura.settings.get("FileExts")||{};if(extHandlers[ext]){const handler=extHandlers[ext];if(handler.handler_type==="module"){const sn=await window.anura.import(handler.id);return sn?sn.getIcon?sn.getIcon(path):(console.log(`Handler ${handler} does not have an getIcon function`),await this.defaultIcon(path)):(console.log(`Failed to load handler ${handler}`),await this.defaultIcon(path))}if(handler.handler_type==="cjs")return eval(await(await fetch(handler.path)).text()+`if (getIcon) {
                            getIcon(${JSON.stringify(path)})
                        } else {
                            ${JSON.stringify(await this.defaultIcon(path))}
                        }`)}return await this.defaultIcon(path)};async defaultIcon(path){const extHandlers=window.anura.settings.get("FileExts")||{};if(extHandlers.default){const handler=extHandlers.default;if(handler.handler_type==="module"){const sn=await window.anura.import(handler.id);return sn?sn.getIcon?sn.getIcon(path):(console.log(`Handler ${handler} does not have an getIcon function`),this.fallbackIcon):(console.log(`Failed to load handler ${handler}`),this.fallbackIcon)}if(handler.handler_type==="cjs")return eval(await(await fetch(handler.path)).text()+`if (getIcon) {
                            getIcon(${JSON.stringify(path)})
                        } else {
                            ${JSON.stringify(this.fallbackIcon)}
                        }`)}return this.fallbackIcon}async getFileType(path){const ext=path.split("/").pop().split(".").pop(),extHandlers=window.anura.settings.get("FileExts")||{};if(extHandlers[ext]){const handler=extHandlers[ext];if(console.log(handler),handler.handler_type==="module"){const sn=await window.anura.import(handler.id);return sn?sn.getFileType?sn.getFileType(path):(console.log(`Handler ${handler} does not have an getFileType function`),"Anura File"):(console.log(`Failed to load handler ${handler}`),"Anura File")}if(handler.handler_type==="cjs")return eval(await(await fetch(handler.path)).text()+`if (getFileType) {
                            getFileType(${JSON.stringify(path)})
                        } else {
                            "Anura File"
                        }`)}return"Anura File"}setFolderIcon(sn){this.folderIcon=sn}set(sn,O){const rn=window.anura.settings.get("FileExts")||{};rn[O]={handler_type:"cjs",path:sn},window.anura.settings.set("FileExts",rn)}setModule(sn,O){const rn=window.anura.settings.get("FileExts")||{};rn[O]={handler_type:"module",id:sn},window.anura.settings.set("FileExts",rn)}}class NotificationService{element=null;constructor(){console.log("Loading notifications API")}add(O){console.log(O),window.parent.tb.notification.Toast({application:O.title,iconSrc:"/assets/img/logo.png",message:O.description,time:O.timeout?O.timeout:1e4,onOk:O.callback})}remove(O){}}class Settings{cache={};fs;constructor(O,rn){this.fs=O,this.cache=rn,navigator.serviceWorker.ready.then(an=>{an.active.postMessage({anura_target:"anura.cache",value:this.cache["use-sw-cache"]}),an.active.postMessage({anura_target:"anura.bareurl",value:this.cache["bare-url"]}),console.debug("ANURA-SW: For this boot, cache will be "+(this.cache["use-sw-cache"]?"enabled":"disabled")),this.cache.FileExts={txt:{handler_type:"module",id:"anura.fileviewer"},mp3:{handler_type:"module",id:"anura.fileviewer"},flac:{handler_type:"module",id:"anura.fileviewer"},wav:{handler_type:"module",id:"anura.fileviewer"},ogg:{handler_type:"module",id:"anura.fileviewer"},mp4:{handler_type:"module",id:"anura.fileviewer"},mov:{handler_type:"module",id:"anura.fileviewer"},webm:{handler_type:"module",id:"anura.fileviewer"},gif:{handler_type:"module",id:"anura.fileviewer"},png:{handler_type:"module",id:"anura.fileviewer"},jpg:{handler_type:"module",id:"anura.fileviewer"},jpeg:{handler_type:"module",id:"anura.fileviewer"},svg:{handler_type:"module",id:"anura.fileviewer"},pdf:{handler_type:"module",id:"anura.fileviewer"},py:{handler_type:"module",id:"anura.fileviewer"},js:{handler_type:"module",id:"anura.fileviewer"},mjs:{handler_type:"module",id:"anura.fileviewer"},cjs:{handler_type:"module",id:"anura.fileviewer"},json:{handler_type:"module",id:"anura.fileviewer"},html:{handler_type:"module",id:"anura.fileviewer"},css:{handler_type:"module",id:"anura.fileviewer"},default:{handler_type:"module",id:"anura.fileviewer"}}})}static async new(O,rn){const an=rn;if(!an["wisp-url"]){let un="";location.protocol=="https:"?un+="wss://":un+="ws://",un+=window.location.origin.split("://")[1],un+="/",an["wisp-url"]=un}try{const un=await O.promises.readFile("/system/etc/anura/anura_settings.json");Object.assign(an,JSON.parse(un))}catch{O.mkdir("/system/etc/anura/"),O.mkdir("/system/etc/anura/configs/"),O.mkdir("/system/etc/anura/init/"),O.mkdir("/system/bin/anura/"),O.writeFile("/system/etc/anura/theme.json",JSON.stringify({foreground:"#ffffff",secondaryForeground:"#ffffff38",border:"#ffffff28",darkBorder:"#333333",background:"#0e0e0e",secondaryBackground:"#383838",darkBackground:"#161616",accent:"#32ae62"})),O.writeFile("/system/etc/anura/anura_settings.json",JSON.stringify(an))}return new Settings(O,an)}get(O){return this.cache[O]}has(O){return O in this.cache}async set(O,rn,an){console.debug("Setting "+O+" to "+rn),an?this.cache[O][an]=rn:this.cache[O]=rn,this.save()}async save(){console.debug("Saving settings to fs",this.cache),await this.fs.promises.writeFile("/system/etc/anura/anura_settings.json",JSON.stringify(this.cache))}async remove(O,rn){console.warn("anura.settings.remove() is a debug feature, and should not be used outside of development."),rn?delete this.cache[O][rn]:delete this.cache[O],this.save()}}class Networking{libcurl;WebSocket;Socket;TLSSocket;external={fetch:window.fetch};constructor(){window.tb.libcurl?(this.libcurl=window.tb.libcurl,this.initLibcurl()):console.warn("Anura Networking failed to connect to the TB instance")}initLibcurl=async()=>{try{this.WebSocket=this.libcurl.WebSocket,this.external.fetch=(...rn)=>this.libcurl.fetch(...rn),this.Socket=this.libcurl.WispConnection,this.TLSSocket=this.libcurl.TLSSocket;const O=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8")).wispServer;this.setWispServer(O),console.log("libcurl.js ready!")}catch(O){console.warn("Anura Networking Error:",O)}};loopback={addressMap:new Map,call:async(O,rn)=>await this.loopback.addressMap.get(O)(rn),set:async(O,rn)=>{this.loopback.addressMap.set(O,rn)},deregister:async O=>{this.loopback.addressMap.delete(O)}};fetch=async(O,rn)=>{console.log(this.libcurl.ready);let an;O instanceof Request?an=O:rn?an=new Request(O,rn):an=new Request(O);const un=new URL(an.url);if(un.hostname==="localhost"){const dn=Number(un.port)||80;return this.loopback.addressMap.has(dn)?this.loopback.call(dn,an):(window.anura.notifications.add({title:"Anura Networking Error",description:"fetch requested to non binded localhost port",timeout:5e3}),new Response)}else return this.external.fetch(O,rn)};setWispServer=O=>{this.libcurl.set_websocket(O)}}class URIHandlerAPI{async handle(O){const[rn,...an]=O.split(":"),un=an.join(":"),hn=(window.anura.settings.get("URIHandlers")||{})[rn];if(!hn)throw new Error(`No handler for URI protocol ${rn}`);if(hn.handler.tag==="lib"){let mn;hn.handler.version?mn=await window.anura.import(hn.handler.pkg+"@"+hn.handler.version):mn=await window.anura.import(hn.handler.pkg),await mn[hn.handler.import]((hn.prefix||"")+un)}else if(hn.handler.tag==="app"){const mn=hn.handler;if(mn.method&&mn.method.tag!==void 0&&mn.method.tag==="split"){const xn=un.split(mn.method.separator);await window.anura.apps[mn.pkg].open(hn.prefix?[hn.prefix,...xn]:xn)}else window.tb.window.create({title:"Terbium Webview",src:hn.prefix,size:{width:460,height:460,minWidth:160,minHeight:160},icon:"/apps/browser.tapp/icon.svg"})}}set(O,rn){const an=window.anura.settings.get("URIHandlers")||{};an[O]=rn,window.anura.settings.set("URIHandlers",an)}remove(O){const rn=window.anura.settings.get("URIHandlers")||{};delete rn[O],window.anura.settings.set("URIHandlers",rn)}has(O){return!!(window.anura.settings.get("URIHandlers")||{})[O]}}class Lib{icon;package;name;versions={};latestVersion;async getImport(O){}}class ExternalLib extends Lib{source;manifest;cache={};installedLibs=[];constructor(O,rn){super(),this.manifest=O,this.name=O.name,this.icon=rn+"/"+O.icon,this.source=rn,this.package=O.package,this.latestVersion=O.currentVersion,Object.keys(O.versions).forEach(an=>{this.versions[an]=rn+"/"+O.versions[an],console.log(this.versions[an])}),O.installHook&&import(rn+"/"+O.installHook).then(an=>{try{an.default(window.anura,this)}catch(un){console.warn(un)}})}async getImport(O){if(O||(O=this.latestVersion),this.manifest.cache&&this.cache[O]&&this.installedLibs==Object.keys(window.anura.libs))return this.cache[O];if(this.versions[O]){const rn=await import(this.versions[O]);return this.manifest.cache&&(this.cache[O]=rn,this.installedLibs=Object.keys(window.anura.libs)),rn}else throw new Error(`Library ${this.name} does not supply version ${O}`)}}class Processes{processesDiv;constructor(){this.processesDiv=document.querySelector("window-area")}get procs(){const rn=window.anura.wm.windows.reduce((dn,hn)=>(hn&&dn.push(typeof hn?.deref=="function"?hn:new WeakRef(hn)),dn),[]),an=Symbol(),un=Symbol();return rn[an]=[],rn[un]=Array.from(rn),new Proxy(rn,{})}set procs(O){console.log(`API Stub, ${O} will not be used`),window.tb.process.create()}remove(O){window.tb.process.kill(String(O))}register(O){console.log(`API Stub, ${O} will not be used`),window.tb.process.create()}create(O){console.log(`API Stub, ${O} will not be used`),window.tb.process.create()}}class Platform{type;touchInput;constructor(){this.type="desktop",this.touchInput=!1;const O=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,rn=/CrOS/,an=/android|ipad|playbook|silk/i,un=navigator.userAgent;typeof un=="string"&&(O.test(un)&&!rn.test(un)?(console.log("Mobile detected"),this.type="mobile",this.touchInput=!0):an.test(un)&&(console.log("Tablet detected"),this.type="tablet",this.touchInput=!0),!O.test(un)&&navigator&&navigator.maxTouchPoints>1&&un.indexOf("Macintosh")!==-1&&un.indexOf("Safari")!==-1&&(console.log("Mobile detected"),this.type="mobile",this.touchInput=!0))}}class Dialog{alert(O,rn="Alert"){setDialogFn("alert",{message:O,title:rn})}async confirm(O,rn="Confirmation"){return new Promise(an=>{setDialogFn("permissions",{message:O,title:rn,onOk:()=>{an(!0)},onCancel:()=>{an(!1)}})})}async prompt(O,rn){return new Promise(an=>{setDialogFn("message",{title:O,message:rn,onOk:un=>{an(un)}})})}}class Systray{icon=[];create=O=>{const rn=useWindowStore().windows.find(un=>un.pid===window.tb.window.getId()),an=rn?rn.title:"Anura File Manager";window.tb.window.island.addControl({text:`${O.tooltip}`,click:()=>this.icon.onclick,appname:an,id:"com.anura.genericsystray"})}}const AnuraFDSymbol=Symbol.for("AnuraFD");class TFSProvider extends AFSProvider{domain="/";name="TFS Anura Provider";version=window.tfs.version;fs;constructor(O){super(),this.fs=O}rename(O,rn,an){window.tb.vfs.whatFS(O).rename(O,rn,an)}ftruncate(O,rn,an){throw new Error("Method not implemented.")}truncate(O,rn,an){throw new Error("Method not implemented.")}stat(O,rn){window.tb.vfs.whatFS(O).stat(O,rn)}fstat(O,rn){throw new Error("Method not implemented.")}lstat(O,rn){window.tb.vfs.whatFS(O).lstat(O,rn)}exists(O,rn){window.tb.vfs.whatFS(O),this.fs.exists(O,rn)}link(O,rn,an){const un=window.tb.vfs.whatFS(O);if(!un.link)throw new Error("Linking not supported on this filesystem.");un.link(O,rn,an)}symlink(O,rn,...an){const un=window.tb.vfs.whatFS(O);if(!un.symlink)throw new Error("Symlinking not supported on this filesystem.");un.symlink(O,rn,...an)}readlink(O,rn){const an=window.tb.vfs.whatFS(O);if(!an.readlink)throw new Error("Reading links not supported on this filesystem.");an.readlink(O,rn)}unlink(O,rn){const an=window.tb.vfs.whatFS(O);if(!an.unlink)throw new Error("Unlinking not supported on this filesystem.");an.unlink(O,rn)}mknod(O,rn,an){throw new Error("Method not implemented.")}rmdir(O,rn){window.tb.vfs.whatFS(O).rmdir(O,rn)}mkdir(O,rn,...an){window.tb.vfs.whatFS(O).mkdir(O,rn,...an)}access(O,rn,...an){window.tb.vfs.whatFS(O).access(O,rn,...an)}mkdtemp(...O){window.tfs.shell.tempDir(...O)}readdir(O,rn,...an){window.tb.vfs.whatFS(O).readdir(O,rn,...an)}close(O,rn){throw new Error("Method not implemented.")}open(O,rn,an,un){throw new Error("Method not implemented.")}utimes(O,rn,an,un){throw new Error("Method not implemented.")}futimes(O,...rn){throw new Error("Method not implemented.")}chown(O,rn,an,un){const dn=window.tb.vfs.whatFS(O);if(!dn.chown)throw new Error("Chowning not supported on this filesystem.");dn.chown(O,rn,an,un)}fchown(O,...rn){throw new Error("Method not implemented.")}chmod(O,rn,an){const un=window.tb.vfs.whatFS(O);if(!un.chmod)throw new Error("Chmod not supported on this filesystem.");un.chmod(O,rn,an)}fchmod(O,...rn){throw new Error("Method not implemented.")}fsync(O,...rn){this.fs.fsync(O.fd,...rn)}write(O,...rn){this.fs.write(O.fd,...rn)}read(O,...rn){this.fs.read(O.fd,...rn)}readFile(O,rn){window.tb.vfs.whatFS(O).readFile(O,rn)}writeFile(O,...rn){window.tb.vfs.whatFS(O).writeFile(O,...rn)}appendFile(O,rn,an){window.tb.vfs.whatFS(O).appendFile(O,rn,an)}setxattr(O,...rn){const an=window.tb.vfs.whatFS(O);if(!an.setxattr)throw new Error("Extended attributes not supported on this filesystem.");an.setxattr(O,...rn)}fsetxattr(O,...rn){throw new Error("Method not implemented.")}getxattr(O,rn,an){const un=window.tb.vfs.whatFS(O);if(!un.getxattr)throw new Error("Extended attributes not supported on this filesystem.");un.getxattr(O,rn,an)}fgetxattr(O,rn,an){throw new Error("Method not implemented.")}removexattr(O,rn,an){throw new Error("Method not implemented.")}fremovexattr(O,...rn){throw new Error("Method not implemented.")}promises={appendFile:(O,rn,an)=>new Promise((un,dn)=>{this.appendFile(O,rn,hn=>{hn?dn(hn):un()})}),access:(O,rn)=>new Promise((an,un)=>{this.access(O,rn,dn=>{dn?un(dn):an()})}),chown:(O,rn,an)=>new Promise((un,dn)=>{this.chown(O,rn,an,hn=>{hn?dn(hn):un()})}),chmod:(O,rn)=>new Promise((an,un)=>{this.chmod(O,rn,dn=>{dn?un(dn):an()})}),getxattr:(O,rn)=>new Promise((an,un)=>{this.getxattr(O,rn,(dn,hn)=>{dn?un(dn):an(hn)})}),link:(O,rn)=>new Promise((an,un)=>{this.link(O,rn,dn=>{dn?un(dn):an()})}),lstat:O=>new Promise((rn,an)=>{this.lstat(O,(un,dn)=>{un?an(un):rn(dn)})}),mkdir:(O,rn)=>new Promise((an,un)=>{this.mkdir(O,rn,dn=>{dn?un(dn):an()})}),mkdtemp:(O,rn)=>new Promise((an,un)=>{this.mkdtemp(O,rn,(dn,hn)=>{dn?un(dn):an(hn)})}),mknod:(O,rn)=>new Promise((an,un)=>{this.mknod(O,rn,dn=>{dn?un(dn):an()})}),open:async(O,rn,an)=>({fd:await new Promise((un,dn)=>{this.open(O,rn,an,(hn,mn)=>{hn?dn(hn):un(mn.fd)})}),[AnuraFDSymbol]:this.domain}),readdir:(O,rn)=>new Promise((an,un)=>{this.readdir(O,(dn,hn)=>{dn?un(dn):an(hn)})}),readFile:O=>new Promise((rn,an)=>{this.readFile(O,(un,dn)=>{un?an(un):rn(dn)})}),readlink:O=>new Promise((rn,an)=>{this.readlink(O,(un,dn)=>{un?an(un):rn(dn)})}),removexattr:(O,rn)=>new Promise((an,un)=>{this.removexattr(O,rn,dn=>{dn?un(dn):an()})}),rename:(O,rn)=>new Promise((an,un)=>{this.rename(O,rn,dn=>{dn?un(dn):an()})}),rmdir:O=>new Promise((rn,an)=>{this.rmdir(O,un=>{un?an(un):rn()})}),setxattr:(O,rn,an,un)=>new Promise((dn,hn)=>{this.setxattr(O,rn,an,un,mn=>{mn?hn(mn):dn()})}),stat:O=>new Promise((rn,an)=>{this.stat(O,(un,dn)=>{un?an(un):rn(dn)})}),symlink:(O,rn,an)=>new Promise((un,dn)=>{this.symlink(O,rn,an,hn=>{hn?dn(hn):un()})}),truncate:(O,rn)=>new Promise((an,un)=>{this.truncate(O,rn,dn=>{dn?un(dn):an()})}),unlink:O=>new Promise((rn,an)=>{this.unlink(O,un=>{un?an(un):rn()})}),utimes:(O,rn,an)=>new Promise((un,dn)=>{this.utimes(O,rn,an,hn=>{hn?dn(hn):un()})}),writeFile:(O,rn,an)=>new Promise((un,dn)=>{this.writeFile(O,rn,an,hn=>{hn?dn(hn):un()})})}}class Theme{settings={};constructor(){window.tb.fs.promises.readFile("/system/etc/anura/theme.json","utf8").then(O=>{this.settings=JSON.parse(O)}).catch(O=>{localStorage.getItem("setup")&&console.warn("Error reading theme settings:",O)})}get foreground(){return this.settings.foreground}set foreground(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.foreground=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get secondaryForeground(){return this.settings.secondaryForeground}set secondaryForeground(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.secondaryForeground=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get border(){return this.settings.border}set border(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.border=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get darkBorder(){return this.settings.darkBorder}set darkBorder(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.darkBorder=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get background(){return this.settings.background}set background(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.background=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get secondaryBackground(){return this.settings.secondaryBackground}set secondaryBackground(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.secondaryBackground=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get darkBackground(){return this.settings.darkBackground}set darkBackground(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.darkBackground=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}get accent(){return this.settings.accent}set accent(O){window.tb.fs.readFile("/system/etc/anura/theme.json",(rn,an)=>{if(rn){console.error(rn);return}const un=JSON.parse(an.toString());un.accent=O,window.tb.fs.writeFile("/system/etc/anura/theme.json",JSON.stringify(un))})}cssPropMap={background:["--theme-bg","--material-bg"],border:["--theme-border","--material-border"],darkBorder:["--theme-dark-border"],foreground:["--theme-fg"],secondaryBackground:["--theme-secondary-bg"],secondaryForeground:["--theme-secondary-fg"],darkBackground:["--theme-dark-bg"],accent:["--theme-accent","--matter-helper-theme"]};state=this.settings;css(){const O=[];O.push(":root {");for(const rn in this.state)for(const an of this.cssPropMap[rn])O.push(`  ${an}: ${this.state[rn]};`);return O.push("}"),O.join(`
`)}reset(){this.foreground="#ffffff",this.secondaryForeground="#ffffff38",this.border="#ffffff28",this.darkBorder="#333333",this.background="#0e0e0e",this.secondaryBackground="#383838",this.darkBackground="#161616",this.accent="#32ae62"}}class AnuraUI{builtins=new Map;components=new Map;theme=new Theme;async registerComponent(O,rn){this.builtins.set(O,rn)}async registerExternalComponent(O,rn,an){an&&(O+="@"+an),this.components.set(rn,{lib:O,name:rn}),window.anura.settings.set("anura.ui.components",Array.from(this.components.entries()))}async get(O){const rn=this.components.get(O);if(!rn){if(this.builtins.has(O))return this.builtins.get(O);throw new Error("Component not registered")}const[an,un]=[rn.lib,rn.name];return(await window.anura.import(an))[un]}exists(O){return this.components.has(O)||this.builtins.has(O)}async use(O=[]){const rn={};O==="*"&&(O=Array.from(this.components.keys()).concat(Array.from(this.builtins.keys()))),typeof O=="string"&&(O=[O]);for(const an of O)rn[an]=await this.get(an);return rn}init(){const O=window.anura.settings.get("anura.ui.components");if(O)try{this.components=new Map(O)}catch{this.components=new Map}}}class Anura{version={semantic:{major:"2",minor:"1",patch:"0"},buildstate:"Stable",codename:'Liquor "Starboy" Stable',get pretty(){const sn=this.semantic;return`${sn.major}.${sn.minor}.${sn.patch} ${this.buildstate}`}};initComplete=!1;settings;fs;config;net;notifications;processes;ui=new AnuraUI;dialog;platform;systray;constructor(fs,settings,config){this.fs=fs,this.settings=settings,this.config=config,this.net=new Networking,this.notifications=new NotificationService,this.processes=new Processes,this.ui=new AnuraUI,this.platform=new Platform,this.dialog=new Dialog,this.systray=new Systray,this.fs.readdir("/apps/anura",(sn,O)=>{O?.forEach(rn=>{try{this.registerExternalApp("/fs/apps/anura/"+rn)}catch(an){this.logger.error("Anura failed to load an app "+an)}})});try{this.fs.readdir("/system/lib/anura/",(err,files)=>{files?.forEach(file=>{try{this.fs.readFile("/system/lib/anura//"+file,function(err,data){if(err)throw"Failed to read file";try{eval(new TextDecoder("utf-8").decode(data))}catch(sn){console.error(sn)}})}catch(sn){this.logger.error("Anura failed to load an app "+sn)}})})}catch(sn){this.logger.error(sn)}this.registerExternalApp("/apps/fsapp.app"),this.registerExternalLib("/apps/libfileview.lib"),this.registerExternalLib("/apps/libfilepicker.lib"),this.registerExternalLib("/apps/libpersist.lib")}static async new(sn){const O=new TFSProvider(window.tb.fs),rn=new AnuraFilesystem([O]),an=await Settings.new(rn,sn.defaultsettings),un=new Anura(rn,an,sn);return window.tb.liquor=un,un}wm=new WMAPI;apps={};libs={};logger={log:console.log.bind(console,"anuraOS:"),debug:console.debug.bind(console,"anuraOS:"),warn:console.warn.bind(console,"anuraOS:"),error:console.error.bind(console,"anuraOS:")};async registerApp(sn){if(sn.package in this.apps)throw"Application already installed";const O=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));if(O.system_apps.some(rn=>rn.title===sn.name))console.log("Application already installed");else{console.log(sn),O.system_apps.push({title:sn.name,icon:sn.icon,src:`${sn.source}/${sn.manifest.index}`}),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(O,null,2)),window.dispatchEvent(new Event("updApps")),await window.tb.fs.promises.writeFile(`/system/etc/anura/configs/${sn.name}.json`,JSON.stringify(sn,null,2));const rn=JSON.parse(await window.tb.fs.promises.readFile("/apps/installed.json","utf8"));rn.push({name:sn.name,config:`/system/etc/anura/configs/${sn.name}.json`,user:"System"}),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify(rn))}return this.apps[sn.package]={title:sn.name,icon:sn.icon,id:sn.package},sn}async registerExternalApp(sn){const rn=await(await fetch(`${sn}/manifest.json`)).json();if(rn.type==="auto"||rn.type==="manual"){const mn=new ExternalApp$1(rn,sn);return await this.registerApp(mn),mn}const an=this.settings.get("ExternalAppHandlers");if(!an||!an[rn.type]){const mn=`Could not register external app from source: "${sn}" because no external handlers are registered for type "${rn.type}"`;throw this.notifications.add({title:"AnuraOS",description:mn}),mn}const un=an[rn.type],dn=await this.import(un);if(!dn){const mn=`Failed to load external app handler ${un}`;throw this.notifications.add({title:"AnuraOS",description:mn}),mn}if(!dn.createApp){const mn=`Handler ${un} does not have a createApp function`;throw this.notifications.add({title:"AnuraOS",description:mn}),mn}const hn=dn.createApp(rn,sn);return await this.registerApp(hn),hn}registerExternalAppHandler(sn,O){const rn=this.settings.get("ExternalAppHandlers")||{};rn[O]=sn,this.settings.set("ExternalAppHandlers",rn)}async registerLib(sn){if(sn.package in this.libs)throw"Library already installed";return this.libs[sn.package]=sn,sn}async registerExternalLib(sn){const rn=await(await fetch(`${sn}/manifest.json`)).json(),an=new ExternalLib(rn,sn);return await this.registerLib(an),an}ContextMenu=ContextMenuAPI;removeStaleApps(){for(const sn in this.apps){const O=this.apps[sn];O.windows.forEach(rn=>{rn.element.parentElement||O.windows.splice(O.windows.indexOf(rn))})}}async import(sn,O){if(O){let dn,hn,mn;if(sn.startsWith("@")){const[vn,An,...Cn]=sn.split("/");dn=vn,hn=An,mn=Cn.join("/")}else{const[vn,...An]=sn.split("/");dn=null,hn=vn,mn=An.join("/")}if(!mn||mn===""){const vn=await this.fs.promises.readFile(`${O}/${dn}/${hn}/package.json`),An=JSON.parse(vn);console.log("pkg",An),An.main?mn=An.main:mn="index.js"}const xn=await this.fs.promises.readFile(`${O}/${dn}/${hn}/${mn}`),gn=new Blob([xn],{type:"application/javascript"});return await import(URL.createObjectURL(gn))}const rn=sn.split("@"),an=rn[0],un=rn[1]||null;if(this.libs[an])return await this.libs[an].getImport(un)}uri=new URIHandlerAPI;files=new FilesAPI;get wsproxyURL(){return this.settings.get("wisp-url")}}class AnuraBareClient{ready=!0;constructor(){}async init(){this.ready=!0}async meta(){}async request(O,rn,an,un,dn){const hn=await window.anura.net.fetch(O.href,{method:rn,headers:un,body:an,redirect:"manual",duplex:"half"}),mn={};if(hn.raw_headers)for(const[xn,gn]of hn.raw_headers)mn[xn]?mn[xn].push(gn):mn[xn]=[gn];return{body:hn.body,headers:mn,status:hn.status,statusText:hn.statusText}}connect(O,rn,an,un,dn,hn,mn,xn){const gn=new window.anura.net.WebSocket(O.toString(),an,{headers:un});return gn.binaryType="arraybuffer",gn.onopen=wn=>{dn("")},gn.onclose=wn=>{mn(wn.code,wn.reason)},gn.onerror=wn=>{xn("")},gn.onmessage=wn=>{hn(wn.data)},[wn=>{gn.send(wn)},(wn,vn)=>{gn.close(wn,vn)}]}}const DEFAULT_EDITOR_ORIGIN="https://stackblitz.com",IGNORED_ERROR=new Error;IGNORED_ERROR.stack="";const params={};let editorOrigin=null;const iframeSettings={get editorOrigin(){return editorOrigin==null&&(editorOrigin=new URL(globalThis.WEBCONTAINER_API_IFRAME_URL??DEFAULT_EDITOR_ORIGIN).origin),editorOrigin},set editorOrigin(sn){editorOrigin=new URL(sn).origin},setQueryParam(sn,O){params[sn]=O},get url(){const sn=new URL(this.editorOrigin);sn.pathname="/headless";for(const O in params)sn.searchParams.set(O,params[O]);return sn.searchParams.set("version","1.6.1"),sn}};function resettablePromise(){let sn,O;function rn(){O=new Promise(an=>sn=an)}return rn(),{get promise(){return O},resolve(an){return sn(an)},reset:rn}}resettablePromise();var PreviewMessageType;(function(sn){sn.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",sn.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",sn.ConsoleError="PREVIEW_CONSOLE_ERROR"})(PreviewMessageType||(PreviewMessageType={}));var __defProp$1=Object.defineProperty,__export=(sn,O)=>{for(var rn in O)__defProp$1(sn,rn,{get:O[rn],enumerable:!0})},comlink_exports={};__export(comlink_exports,{createEndpoint:()=>createEndpoint,expose:()=>expose,proxy:()=>proxy,proxyMarker:()=>proxyMarker,releaseProxy:()=>releaseProxy,transfer:()=>transfer,transferHandlers:()=>transferHandlers,windowEndpoint:()=>windowEndpoint,wrap:()=>wrap});var proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),throwMarker=Symbol("Comlink.thrown"),isObject=sn=>typeof sn=="object"&&sn!==null||typeof sn=="function",proxyTransferHandler={canHandle:sn=>isObject(sn)&&sn[proxyMarker],serialize(sn){const{port1:O,port2:rn}=new MessageChannel;return expose(sn,O),[rn,[rn]]},deserialize(sn){return sn.start(),wrap(sn)}},throwTransferHandler={canHandle:sn=>isObject(sn)&&throwMarker in sn,serialize({value:sn}){let O;return sn instanceof Error?O={isError:!0,value:{message:sn.message,name:sn.name,stack:sn.stack}}:O={isError:!1,value:sn},[O,[]]},deserialize(sn){throw sn.isError?Object.assign(new Error(sn.value.message),sn.value):sn.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function expose(sn,O=self){O.addEventListener("message",function rn(an){if(!an||!an.data)return;const{id:un,type:dn,path:hn}=Object.assign({path:[]},an.data),mn=(an.data.argumentList||[]).map(fromWireValue);let xn;try{const gn=hn.slice(0,-1).reduce((vn,An)=>vn[An],sn),wn=hn.reduce((vn,An)=>vn[An],sn);switch(dn){case 0:xn=wn;break;case 1:gn[hn.slice(-1)[0]]=fromWireValue(an.data.value),xn=!0;break;case 2:xn=wn.apply(gn,mn);break;case 3:{const vn=new wn(...mn);xn=proxy(vn)}break;case 4:{const{port1:vn,port2:An}=new MessageChannel;expose(sn,An),xn=transfer(vn,[vn])}break;case 5:xn=void 0;break}}catch(gn){xn={value:gn,[throwMarker]:0}}Promise.resolve(xn).catch(gn=>({value:gn,[throwMarker]:0})).then(gn=>{const[wn,vn]=toWireValue(gn);O.postMessage(Object.assign(Object.assign({},wn),{id:un}),vn),dn===5&&(O.removeEventListener("message",rn),closeEndPoint(O))})}),O.start&&O.start()}function isMessagePort(sn){return sn.constructor.name==="MessagePort"}function closeEndPoint(sn){isMessagePort(sn)&&sn.close()}function wrap(sn,O){return createProxy(sn,[],O)}function throwIfProxyReleased(sn){if(sn)throw new Error("Proxy has been released and is not useable")}function createProxy(sn,O=[],rn=function(){}){let an=!1;const un=new Proxy(rn,{get(dn,hn){if(throwIfProxyReleased(an),hn===releaseProxy)return()=>requestResponseMessage(sn,{type:5,path:O.map(mn=>mn.toString())}).then(()=>{closeEndPoint(sn),an=!0});if(hn==="then"){if(O.length===0)return{then:()=>un};const mn=requestResponseMessage(sn,{type:0,path:O.map(xn=>xn.toString())}).then(fromWireValue);return mn.then.bind(mn)}return createProxy(sn,[...O,hn])},set(dn,hn,mn){throwIfProxyReleased(an);const[xn,gn]=toWireValue(mn);return requestResponseMessage(sn,{type:1,path:[...O,hn].map(wn=>wn.toString()),value:xn},gn).then(fromWireValue)},apply(dn,hn,mn){throwIfProxyReleased(an);const xn=O[O.length-1];if(xn===createEndpoint)return requestResponseMessage(sn,{type:4}).then(fromWireValue);if(xn==="bind")return createProxy(sn,O.slice(0,-1));const[gn,wn]=processArguments(mn);return requestResponseMessage(sn,{type:2,path:O.map(vn=>vn.toString()),argumentList:gn},wn).then(fromWireValue)},construct(dn,hn){throwIfProxyReleased(an);const[mn,xn]=processArguments(hn);return requestResponseMessage(sn,{type:3,path:O.map(gn=>gn.toString()),argumentList:mn},xn).then(fromWireValue)}});return un}function myFlat(sn){return Array.prototype.concat.apply([],sn)}function processArguments(sn){const O=sn.map(toWireValue);return[O.map(rn=>rn[0]),myFlat(O.map(rn=>rn[1]))]}var transferCache=new WeakMap;function transfer(sn,O){return transferCache.set(sn,O),sn}function proxy(sn){return Object.assign(sn,{[proxyMarker]:!0})}function windowEndpoint(sn,O=self,rn="*"){return{postMessage:(an,un)=>sn.postMessage(an,rn,un),addEventListener:O.addEventListener.bind(O),removeEventListener:O.removeEventListener.bind(O)}}function toWireValue(sn){for(const[O,rn]of transferHandlers)if(rn.canHandle(sn)){const[an,un]=rn.serialize(sn);return[{type:3,name:O,value:an},un]}return[{type:0,value:sn},transferCache.get(sn)||[]]}function fromWireValue(sn){switch(sn.type){case 3:return transferHandlers.get(sn.name).deserialize(sn.value);case 0:return sn.value}}function requestResponseMessage(sn,O,rn){return new Promise(an=>{const un=generateUUID();sn.addEventListener("message",function dn(hn){!hn.data||!hn.data.id||hn.data.id!==un||(sn.removeEventListener("message",dn),an(hn.data))}),sn.start&&sn.start(),sn.postMessage(Object.assign({id:un},O),rn)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const PREVIEW_MESSAGE_TYPES=[PreviewMessageType.ConsoleError,PreviewMessageType.UncaughtException,PreviewMessageType.UnhandledRejection];function isPreviewMessage(sn){return!(sn==null||typeof sn!="object"||!("type"in sn)||!PREVIEW_MESSAGE_TYPES.includes(sn.type))}function nullPrototype(sn){const O=Object.create(null);return sn?Object.assign(O,sn):O}const binaryDecoder=new TextDecoder("latin1");function toInternalFileSystemTree(sn){const O={d:{}};for(const rn of Object.keys(sn)){const an=sn[rn];if("file"in an){if("symlink"in an.file){O.d[rn]={f:{l:an.file.symlink}};continue}const dn=an.file.contents,hn=typeof dn=="string"?dn:binaryDecoder.decode(dn),mn=typeof dn=="string"?{}:{b:!0};O.d[rn]={f:{c:hn,...mn}};continue}const un=toInternalFileSystemTree(an.directory);O.d[rn]=un}return O}function toExternalFileSystemTree(sn){const O=nullPrototype();if("f"in sn)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in sn)for(const rn of Object.keys(sn.d)){const an=sn.d[rn];"d"in an?O[rn]=nullPrototype({directory:toExternalFileSystemTree(an)}):"f"in an&&("c"in an.f?O[rn]=nullPrototype({file:nullPrototype({contents:an.f.b?fromBinaryString(an.f.c):an.f.c})}):"l"in an.f&&(O[rn]=nullPrototype({file:nullPrototype({symlink:an.f.l})})))}return O}function fromBinaryString(sn){const O=new Uint8Array(sn.length);for(let rn=0;rn<sn.length;rn++)O[rn]=sn[rn].charCodeAt(0);return O}let bootPromise=null,cachedServerPromise=null,cachedBootOptions={};const decoder=new TextDecoder,encoder=new TextEncoder;class WebContainer{_instance;_runtimeInfo;fs;static _instance=null;static _teardownPromise=null;_tornDown=!1;_unsubscribeFromTokenChangedListener=()=>{};constructor(O,rn,an,un){this._instance=O,this._runtimeInfo=un,this.fs=new FileSystemAPIClient(rn)}async spawn(O,rn,an){let un=[];Array.isArray(rn)?un=rn:an=rn;let dn,hn=new ReadableStream;if(an?.output!==!1){const Nn=streamWithPush();dn=Nn.push,hn=Nn.stream}let mn,xn,gn,wn;const vn=proxyListener(binaryListener(dn)),An=proxyListener(binaryListener(mn)),Cn=proxyListener(binaryListener(gn)),Sn=await this._instance.run({command:O,args:un,cwd:an?.cwd,env:an?.env,terminal:an?.terminal},An,Cn,vn);return new WebContainerProcessImpl(Sn,hn,xn,wn)}async export(O,rn){const an={format:rn?.format??"json",includes:rn?.includes,excludes:rn?.excludes,external:!0},un=await this._instance.serialize(O,an);if(an.format==="json"){const dn=JSON.parse(decoder.decode(un));return toExternalFileSystemTree(dn)}return un}on(O,rn){if(O==="preview-message"){const dn=rn;rn=(hn=>{isPreviewMessage(hn)&&dn(hn)})}const{listener:an,subscribe:un}=syncSubscription(rn);return un(this._instance.on(O,comlink_exports.proxy(an)))}mount(O,rn){const an=O instanceof Uint8Array?O:O instanceof ArrayBuffer?new Uint8Array(O):encoder.encode(JSON.stringify(toInternalFileSystemTree(O)));return this._instance.loadFiles(comlink_exports.transfer(an,[an.buffer]),{mountPoints:rn?.mountPoint})}setPreviewScript(O,rn){return this._instance.setPreviewScript(O,rn)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener();const O=async()=>{try{await this.fs._teardown(),await this._instance.teardown()}finally{this._instance[comlink_exports.releaseProxy](),WebContainer._instance===this&&(WebContainer._instance=null)}};WebContainer._teardownPromise=O()}static async boot(O={}){await this._teardownPromise,WebContainer._teardownPromise=null;const{workdirName:rn}=O;if(window.crossOriginIsolated&&O.coep==="none"&&console.warn(`A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.
Set the 'coep' option to 'require-corp'.`),rn?.includes("/")||rn===".."||rn===".")throw new Error("workdirName should be a valid folder name");for(;bootPromise;)await bootPromise;if(WebContainer._instance)throw new Error("Only a single WebContainer instance can be booted");const an=unsynchronizedBoot(O);bootPromise=an.catch(()=>{});try{const un=await an;return WebContainer._instance=un,un}finally{bootPromise=null}}}const DIR_ENTRY_TYPE_FILE=1,DIR_ENTRY_TYPE_DIR=2;class DirEntImpl{name;_type;constructor(O,rn){this.name=O,this._type=rn}isFile(){return this._type===DIR_ENTRY_TYPE_FILE}isDirectory(){return this._type===DIR_ENTRY_TYPE_DIR}}class FSWatcher{_apiClient;_path;_options;_listener;_wrappedListener;_watcher;_closed=!1;constructor(O,rn,an,un){this._apiClient=O,this._path=rn,this._options=an,this._listener=un,this._apiClient._watchers.add(this),this._wrappedListener=(dn,hn)=>{this._listener&&!this._closed&&this._listener(dn,hn)},this._apiClient._fs.watch(this._path,this._options,proxyListener(this._wrappedListener)).then(dn=>{if(this._watcher=dn,this._closed)return this._teardown()}).catch(console.error)}async close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),await this._teardown())}async _teardown(){await this._watcher?.close().finally(()=>{this._watcher?.[comlink_exports.releaseProxy]()})}}class WebContainerProcessImpl{output;input;exit;_process;stdout;stderr;constructor(O,rn,an,un){this.output=rn,this._process=O,this.input=new WritableStream({write:dn=>{this._getProcess()?.write(dn).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=an,this.stderr=un}kill(){this._process?.kill()}resize(O){this._getProcess()?.resize(O)}async _onExit(){try{return await this._process.onExit}finally{this._process?.[comlink_exports.releaseProxy](),this._process=null}}_getProcess(){return this._process==null&&console.warn("This process already exited"),this._process}}class FileSystemAPIClient{_fs;_watchers=new Set([]);constructor(O){this._fs=O}rm(...O){return this._fs.rm(...O)}async readFile(O,rn){return await this._fs.readFile(O,rn)}async rename(O,rn){return await this._fs.rename(O,rn)}async writeFile(O,rn,an){if(rn instanceof Uint8Array){const un=rn.buffer.slice(rn.byteOffset,rn.byteOffset+rn.byteLength);rn=comlink_exports.transfer(new Uint8Array(un),[un])}await this._fs.writeFile(O,rn,an)}async readdir(O,rn){const an=await this._fs.readdir(O,rn);return isStringArray(an)||isTypedArrayCollection(an)?an:an.map(dn=>new DirEntImpl(dn.name,dn["Symbol(type)"]))}async mkdir(O,rn){return await this._fs.mkdir(O,rn)}watch(O,rn,an){return typeof rn=="function"&&(an=rn,rn=null),new FSWatcher(this,O,rn,an)}async _teardown(){this._fs[comlink_exports.releaseProxy](),await Promise.all([...this._watchers].map(O=>O.close()))}}async function unsynchronizedBoot(sn){const{serverPromise:O}=serverFactory(sn),an=await(await O).build({host:window.location.host,version:"1.6.1",workdirName:sn.workdirName,forwardPreviewErrors:sn.forwardPreviewErrors}),[un,dn,hn]=await Promise.all([an.fs(),an.previewScript(),an.runtimeInfo()]);return new WebContainer(an,un,dn,hn)}function binaryListener(sn){if(sn!=null)return O=>{O instanceof Uint8Array?sn(decoder.decode(O)):O==null&&sn(null)}}function proxyListener(sn){if(sn!=null)return comlink_exports.proxy(sn)}function serverFactory(sn){if(cachedServerPromise!=null)return sn.coep!==cachedBootOptions.coep&&(console.warn(`Attempting to boot WebContainer with 'coep: ${sn.coep}'`),console.warn(`First boot had 'coep: ${cachedBootOptions.coep}', new settings will not take effect!`)),{serverPromise:cachedServerPromise};sn.coep&&iframeSettings.setQueryParam("coep",sn.coep),sn.experimentalNode&&iframeSettings.setQueryParam("experimental_node","1");const O=document.createElement("iframe");O.style.display="none",O.setAttribute("allow","cross-origin-isolated");const rn=iframeSettings.url;O.src=rn.toString();const{origin:an}=rn;return cachedBootOptions={...sn},cachedServerPromise=new Promise(un=>{const dn=hn=>{if(hn.origin!==an)return;const{data:mn}=hn;if(mn.type==="init"){un(comlink_exports.wrap(hn.ports[0]));return}if(mn.type==="warning"){console[mn.level].call(console,mn.message);return}};window.addEventListener("message",dn)}),document.body.insertBefore(O,null),{serverPromise:cachedServerPromise}}function isStringArray(sn){return typeof sn[0]=="string"}function isTypedArrayCollection(sn){return sn[0]instanceof Uint8Array}function streamWithPush(){let sn=null;return{stream:new ReadableStream({start(an){sn=an}}),push:an=>{an!=null?sn?.enqueue(an):(sn?.close(),sn=null)}}}function syncSubscription(sn){let O=!1,rn=()=>{};return{subscribe(un){return un.then(dn=>{rn=dn,O&&rn()}),()=>{O=!0,rn()}},listener:((...un)=>{O||sn(...un)})}}async function getFileTree$1(sn="/"){const O={};async function rn(an){const un=await window.parent.tb.fs.promises.stat(an);if(un.isDirectory()){const dn=await window.parent.tb.fs.promises.readdir(an);for(const hn of dn){if(hn==="."||hn==="..")continue;const mn=an.endsWith("/")?`${an}${hn}`:`${an}/${hn}`;await rn(mn)}}else if(un.isFile()){const dn=await window.parent.tb.fs.promises.readFile(an,"utf8");O[an]=dn}}return await rn(sn),O}function convertToWebContainerTree(sn){const O={};for(const[rn,an]of Object.entries(sn)){const un=rn.replace(/^\//,"").split("/").filter(Boolean);if(un.length===0)continue;let dn=O;for(let mn=0;mn<un.length-1;mn++){const xn=un[mn];dn[xn]||(dn[xn]={directory:{}}),dn=dn[xn].directory}const hn=un[un.length-1];dn[hn]={file:{contents:an}}}return O}async function getFileTree(sn="/"){const O=await getFileTree$1(sn),rn=convertToWebContainerTree(O);if(sn!=="/"&&sn!==""){const an=sn.replace(/^\//,"").split("/").filter(Boolean);let un=rn;for(const dn of an)if(un[dn]&&"directory"in un[dn])un=un[dn].directory;else return{};return un}return rn}async function initializeWebContainer(){const sn=await WebContainer.boot(),O=await getFileTree();return await sn.mount(O),window.tb.node.servers||(window.tb.node.servers=new Map),sn.on("server-ready",(rn,an)=>{window.tb.node.servers.set(rn,an),console.info(`[Node.js Subsystem] Server ready on port ${rn}: ${an}`)}),console.info("[Node.js Subsystem] WebContainer has been initialized!"),window.tb.node.isReady=!0,sn}var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:(sn=>{let O="";return sn>65535&&(sn-=65536,O+=String.fromCharCode(sn>>>10&1023|55296),sn=56320|sn&1023),O+=String.fromCharCode(sn),O});function replaceCodePoint(sn){var O;return sn>=55296&&sn<=57343||sn>1114111?65533:(O=decodeMap.get(sn))!==null&&O!==void 0?O:sn}function decodeBase64(sn){const O=typeof atob=="function"?atob(sn):typeof Buffer.from=="function"?Buffer.from(sn,"base64").toString("binary"):new Buffer(sn,"base64").toString("binary"),rn=O.length&-2,an=new Uint16Array(rn/2);for(let un=0,dn=0;un<rn;un+=2){const hn=O.charCodeAt(un),mn=O.charCodeAt(un+1);an[dn++]=hn|mn<<8}return an}const htmlDecodeTree=decodeBase64("QR08ALkAAgH6AYsDNQR2BO0EPgXZBQEGLAbdBxMISQrvCmQLfQurDKQNLw4fD4YPpA+6D/IPAAAAAAAAAAAAAAAAKhBMEY8TmxUWF2EYLBkxGuAa3RsJHDscWR8YIC8jSCSIJcMl6ie3Ku8rEC0CLjoupS7kLgAIRU1hYmNmZ2xtbm9wcnN0dVQAWgBeAGUAaQBzAHcAfgCBAIQAhwCSAJoAoACsALMAbABpAGcAO4DGAMZAUAA7gCYAJkBjAHUAdABlADuAwQDBQHIiZXZlAAJhAAFpeW0AcgByAGMAO4DCAMJAEGRyAADgNdgE3XIAYQB2AGUAO4DAAMBA8CFoYZFj4SFjcgBhZAAAoFMqAAFncIsAjgBvAG4ABGFmAADgNdg43fAlbHlGdW5jdGlvbgCgYSBpAG4AZwA7gMUAxUAAAWNzpACoAHIAAOA12Jzc6SFnbgCgVCJpAGwAZABlADuAwwDDQG0AbAA7gMQAxEAABGFjZWZvcnN1xQDYANoA7QDxAPYA+QD8AAABY3LJAM8AayNzbGFzaAAAoBYidgHTANUAAKDnKmUAZAAAoAYjeQARZIABY3J0AOAA5QDrAGEidXNlAACgNSLuI291bGxpcwCgLCFhAJJjcgAA4DXYBd1wAGYAAOA12Dnd5SF2ZdhiYwDyAOoAbSJwZXEAAKBOIgAHSE9hY2RlZmhpbG9yc3UXARoBHwE6AVIBVQFiAWQBZgGCAakB6QHtAfIBYwB5ACdkUABZADuAqQCpQIABY3B5ACUBKAE1AfUhdGUGYWmg0iJ0KGFsRGlmZmVyZW50aWFsRAAAoEUhbCJleXMAAKAtIQACYWVpb0EBRAFKAU0B8iFvbgxhZABpAGwAO4DHAMdAcgBjAAhhbiJpbnQAAKAwIm8AdAAKYQABZG5ZAV0BaSJsbGEAuGB0I2VyRG90ALdg8gA5AWkAp2NyImNsZQAAAkRNUFRwAXQBeQF9AW8AdAAAoJkiaSJudXMAAKCWIuwhdXMAoJUiaSJtZXMAAKCXIm8AAAFjc4cBlAFrKndpc2VDb250b3VySW50ZWdyYWwAAKAyImUjQ3VybHkAAAFEUZwBpAFvJXVibGVRdW90ZQAAoB0gdSJvdGUAAKAZIAACbG5wdbABtgHNAdgBbwBuAGWgNyIAoHQqgAFnaXQAvAHBAcUB8iJ1ZW50AKBhIm4AdAAAoC8i7yV1ckludGVncmFsAKAuIgABZnLRAdMBAKACIe8iZHVjdACgECJuLnRlckNsb2Nrd2lzZUNvbnRvdXJJbnRlZ3JhbAAAoDMi7yFzcwCgLypjAHIAAOA12J7ccABDoNMiYQBwAACgTSKABURKU1phY2VmaW9zAAsCEgIVAhgCGwIsAjQCOQI9AnMCfwNvoEUh9CJyYWhkAKARKWMAeQACZGMAeQAFZGMAeQAPZIABZ3JzACECJQIoAuchZXIAoCEgcgAAoKEhaAB2AACg5CoAAWF5MAIzAvIhb24OYRRkbAB0oAciYQCUY3IAAOA12AfdAAFhZkECawIAAWNtRQJnAvIjaXRpY2FsAAJBREdUUAJUAl8CYwJjInV0ZQC0YG8AdAFZAloC2WJiJGxlQWN1dGUA3WJyImF2ZQBgYGkibGRlANxi7yFuZACgxCJmJWVyZW50aWFsRAAAoEYhcAR9AgAAAAAAAIECjgIAABoDZgAA4DXYO91EoagAhQKJAm8AdAAAoNwgcSJ1YWwAAKBQIuIhbGUAA0NETFJVVpkCqAK1Au8C/wIRA28AbgB0AG8AdQByAEkAbgB0AGUAZwByAGEA7ADEAW8AdAKvAgAAAACwAqhgbiNBcnJvdwAAoNMhAAFlb7kC0AJmAHQAgAFBUlQAwQLGAs0CciJyb3cAAKDQIekkZ2h0QXJyb3cAoNQhZQDlACsCbgBnAAABTFLWAugC5SFmdAABQVLcAuECciJyb3cAAKD4J+kkZ2h0QXJyb3cAoPon6SRnaHRBcnJvdwCg+SdpImdodAAAAUFU9gL7AnIicm93AACg0iFlAGUAAKCoInAAQQIGAwAAAAALA3Iicm93AACg0SFvJHduQXJyb3cAAKDVIWUlcnRpY2FsQmFyAACgJSJuAAADQUJMUlRhJAM2AzoDWgNxA3oDciJyb3cAAKGTIUJVLAMwA2EAcgAAoBMpcCNBcnJvdwAAoPUhciJldmUAEWPlIWZ00gJDAwAASwMAAFIDaSVnaHRWZWN0b3IAAKBQKWUkZVZlY3RvcgAAoF4p5SJjdG9yQqC9IWEAcgAAoFYpaSJnaHQA1AFiAwAAaQNlJGVWZWN0b3IAAKBfKeUiY3RvckKgwSFhAHIAAKBXKWUAZQBBoKQiciJyb3cAAKCnIXIAcgBvAPcAtAIAAWN0gwOHA3IAAOA12J/c8iFvaxBhAAhOVGFjZGZnbG1vcHFzdHV4owOlA6kDsAO/A8IDxgPNA9ID8gP9AwEEFAQeBCAEJQRHAEphSAA7gNAA0EBjAHUAdABlADuAyQDJQIABYWl5ALYDuQO+A/Ihb24aYXIAYwA7gMoAykAtZG8AdAAWYXIAAOA12AjdcgBhAHYAZQA7gMgAyEDlIm1lbnQAoAgiAAFhcNYD2QNjAHIAEmF0AHkAUwLhAwAAAADpA20lYWxsU3F1YXJlAACg+yVlJ3J5U21hbGxTcXVhcmUAAKCrJQABZ3D2A/kDbwBuABhhZgAA4DXYPN3zImlsb26VY3UAAAFhaQYEDgRsAFSgdSppImxkZQAAoEIi7CNpYnJpdW0AoMwhAAFjaRgEGwRyAACgMCFtAACgcyphAJdjbQBsADuAywDLQAABaXApBC0E8yF0cwCgAyLvJG5lbnRpYWxFAKBHIYACY2Zpb3MAPQQ/BEMEXQRyBHkAJGRyAADgNdgJ3WwibGVkAFMCTAQAAAAAVARtJWFsbFNxdWFyZQAAoPwlZSdyeVNtYWxsU3F1YXJlAACgqiVwA2UEAABpBAAAAABtBGYAAOA12D3dwSFsbACgACLyI2llcnRyZgCgMSFjAPIAcQQABkpUYWJjZGZnb3JzdIgEiwSOBJMElwSkBKcEqwStBLIE5QTqBGMAeQADZDuAPgA+QO0hbWFkoJMD3GNyImV2ZQAeYYABZWl5AJ0EoASjBOQhaWwiYXIAYwAcYRNkbwB0ACBhcgAA4DXYCt0AoNkicABmAADgNdg+3eUiYXRlcgADRUZHTFNUvwTIBM8E1QTZBOAEcSJ1YWwATKBlIuUhc3MAoNsidSRsbEVxdWFsAACgZyJyI2VhdGVyAACgoirlIXNzAKB3IuwkYW50RXF1YWwAoH4qaSJsZGUAAKBzImMAcgAA4DXYotwAoGsiAARBYWNmaW9zdfkE/QQFBQgFCwUTBSIFKwVSIkRjeQAqZAABY3QBBQQFZQBrAMdiXmDpIXJjJGFyAACgDCFsJWJlcnRTcGFjZQAAoAsh8AEYBQAAGwVmAACgDSHpJXpvbnRhbExpbmUAoAAlAAFjdCYFKAXyABIF8iFvayZhbQBwAEQBMQU5BW8AdwBuAEgAdQBtAPAAAAFxInVhbAAAoE8iAAdFSk9hY2RmZ21ub3N0dVMFVgVZBVwFYwVtBXAFcwV6BZAFtgXFBckFzQVjAHkAFWTsIWlnMmFjAHkAAWRjAHUAdABlADuAzQDNQAABaXlnBWwFcgBjADuAzgDOQBhkbwB0ADBhcgAAoBEhcgBhAHYAZQA7gMwAzEAAoREhYXB/BYsFAAFjZ4MFhQVyACphaSNuYXJ5SQAAoEghbABpAGUA8wD6AvQBlQUAAKUFZaAsIgABZ3KaBZ4F8iFhbACgKyLzI2VjdGlvbgCgwiJpI3NpYmxlAAABQ1SsBbEFbyJtbWEAAKBjIGkibWVzAACgYiCAAWdwdAC8Bb8FwwVvAG4ALmFmAADgNdhA3WEAmWNjAHIAAKAQIWkibGRlAChh6wHSBQAA1QVjAHkABmRsADuAzwDPQIACY2Zvc3UA4QXpBe0F8gX9BQABaXnlBegFcgBjADRhGWRyAADgNdgN3XAAZgAA4DXYQd3jAfcFAAD7BXIAAOA12KXc8iFjeQhk6yFjeQRkgANISmFjZm9zAAwGDwYSBhUGHQYhBiYGYwB5ACVkYwB5AAxk8CFwYZpjAAFleRkGHAbkIWlsNmEaZHIAAOA12A7dcABmAADgNdhC3WMAcgAA4DXYptyABUpUYWNlZmxtb3N0AD0GQAZDBl4GawZkB2gHcAd0B80H2gdjAHkACWQ7gDwAPECAAmNtbnByAEwGTwZSBlUGWwb1IXRlOWHiIWRhm2NnAACg6ifsI2FjZXRyZgCgEiFyAACgniGAAWFleQBkBmcGagbyIW9uPWHkIWlsO2EbZAABZnNvBjQHdAAABUFDREZSVFVWYXKABp4GpAbGBssG3AYDByEHwQIqBwABbnKEBowGZyVsZUJyYWNrZXQAAKDoJ/Ihb3cAoZAhQlKTBpcGYQByAACg5CHpJGdodEFycm93AKDGIWUjaWxpbmcAAKAII28A9QGqBgAAsgZiJWxlQnJhY2tldAAAoOYnbgDUAbcGAAC+BmUkZVZlY3RvcgAAoGEp5SJjdG9yQqDDIWEAcgAAoFkpbCJvb3IAAKAKI2kiZ2h0AAABQVbSBtcGciJyb3cAAKCUIeUiY3RvcgCgTikAAWVy4AbwBmUAAKGjIkFW5gbrBnIicm93AACgpCHlImN0b3IAoFopaSNhbmdsZQBCorIi+wYAAAAA/wZhAHIAAKDPKXEidWFsAACgtCJwAIABRFRWAAoHEQcYB+8kd25WZWN0b3IAoFEpZSRlVmVjdG9yAACgYCnlImN0b3JCoL8hYQByAACgWCnlImN0b3JCoLwhYQByAACgUilpAGcAaAB0AGEAcgByAG8A9wDMAnMAAANFRkdMU1Q/B0cHTgdUB1gHXwfxJXVhbEdyZWF0ZXIAoNoidSRsbEVxdWFsAACgZiJyI2VhdGVyAACgdiLlIXNzAKChKuwkYW50RXF1YWwAoH0qaSJsZGUAAKByInIAAOA12A/dZaDYIuYjdGFycm93AKDaIWkiZG90AD9hgAFucHcAege1B7kHZwAAAkxSbHKCB5QHmwerB+UhZnQAAUFSiAeNB3Iicm93AACg9SfpJGdodEFycm93AKD3J+kkZ2h0QXJyb3cAoPYn5SFmdAABYXLcAqEHaQBnAGgAdABhAHIAcgBvAPcA5wJpAGcAaAB0AGEAcgByAG8A9wDuAmYAAOA12EPdZQByAAABTFK/B8YHZSRmdEFycm93AACgmSHpJGdodEFycm93AKCYIYABY2h0ANMH1QfXB/IAWgYAoLAh8iFva0FhAKBqIgAEYWNlZmlvc3XpB+wH7gf/BwMICQgOCBEIcAAAoAUpeQAcZAABZGzyB/kHaSR1bVNwYWNlAACgXyBsI2ludHJmAACgMyFyAADgNdgQ3e4jdXNQbHVzAKATInAAZgAA4DXYRN1jAPIA/gecY4AESmFjZWZvc3R1ACEIJAgoCDUIgQiFCDsKQApHCmMAeQAKZGMidXRlAENhgAFhZXkALggxCDQI8iFvbkdh5CFpbEVhHWSAAWdzdwA7CGEIfQjhInRpdmWAAU1UVgBECEwIWQhlJWRpdW1TcGFjZQAAoAsgaABpAAABY25SCFMIawBTAHAAYQBjAOUASwhlAHIAeQBUAGgAaQDuAFQI9CFlZAABR0xnCHUIcgBlAGEAdABlAHIARwByAGUAYQB0AGUA8gDrBGUAcwBzAEwAZQBzAPMA2wdMImluZQAKYHIAAOA12BHdAAJCbnB0jAiRCJkInAhyImVhawAAoGAgwiZyZWFraW5nU3BhY2WgYGYAAKAVIUOq7CqzCMIIzQgAAOcIGwkAAAAAAAAtCQAAbwkAAIcJAACdCcAJGQoAADQKAAFvdbYIvAjuI2dydWVudACgYiJwIkNhcAAAoG0ibyh1YmxlVmVydGljYWxCYXIAAKAmIoABbHF4ANII1wjhCOUibWVudACgCSL1IWFsVKBgImkibGRlAADgQiI4A2kic3RzAACgBCJyI2VhdGVyAACjbyJFRkdMU1T1CPoIAgkJCQ0JFQlxInVhbAAAoHEidSRsbEVxdWFsAADgZyI4A3IjZWF0ZXIAAOBrIjgD5SFzcwCgeSLsJGFudEVxdWFsAOB+KjgDaSJsZGUAAKB1IvUhbXBEASAJJwnvI3duSHVtcADgTiI4A3EidWFsAADgTyI4A2UAAAFmczEJRgn0JFRyaWFuZ2xlQqLqIj0JAAAAAEIJYQByAADgzyk4A3EidWFsAACg7CJzAICibiJFR0xTVABRCVYJXAlhCWkJcSJ1YWwAAKBwInIjZWF0ZXIAAKB4IuUhc3MA4GoiOAPsJGFudEVxdWFsAOB9KjgDaSJsZGUAAKB0IuUic3RlZAABR0x1CX8J8iZlYXRlckdyZWF0ZXIA4KIqOAPlI3NzTGVzcwDgoSo4A/IjZWNlZGVzAKGAIkVTjwmVCXEidWFsAADgryo4A+wkYW50RXF1YWwAoOAiAAFlaaAJqQl2JmVyc2VFbGVtZW50AACgDCLnJWh0VHJpYW5nbGVCousitgkAAAAAuwlhAHIAAODQKTgDcSJ1YWwAAKDtIgABcXXDCeAJdSNhcmVTdQAAAWJwywnVCfMhZXRF4I8iOANxInVhbAAAoOIi5SJyc2V0ReCQIjgDcSJ1YWwAAKDjIoABYmNwAOYJ8AkNCvMhZXRF4IIi0iBxInVhbAAAoIgi4yJlZWRzgKGBIkVTVAD6CQAKBwpxInVhbAAA4LAqOAPsJGFudEVxdWFsAKDhImkibGRlAADgfyI4A+UicnNldEXggyLSIHEidWFsAACgiSJpImxkZQCAoUEiRUZUACIKJwouCnEidWFsAACgRCJ1JGxsRXF1YWwAAKBHImkibGRlAACgSSJlJXJ0aWNhbEJhcgAAoCQiYwByAADgNdip3GkAbABkAGUAO4DRANFAnWMAB0VhY2RmZ21vcHJzdHV2XgphCmgKcgp2CnoKgQqRCpYKqwqtCrsKyArNCuwhaWdSYWMAdQB0AGUAO4DTANNAAAFpeWwKcQpyAGMAO4DUANRAHmRiImxhYwBQYXIAAOA12BLdcgBhAHYAZQA7gNIA0kCAAWFlaQCHCooKjQpjAHIATGFnAGEAqWNjInJvbgCfY3AAZgAA4DXYRt3lI25DdXJseQABRFGeCqYKbyV1YmxlUXVvdGUAAKAcIHUib3RlAACgGCAAoFQqAAFjbLEKtQpyAADgNdiq3GEAcwBoADuA2ADYQGkAbAHACsUKZABlADuA1QDVQGUAcwAAoDcqbQBsADuA1gDWQGUAcgAAAUJQ0wrmCgABYXLXCtoKcgAAoD4gYQBjAAABZWvgCuIKAKDeI2UAdAAAoLQjYSVyZW50aGVzaXMAAKDcI4AEYWNmaGlsb3JzAP0KAwsFCwkLCwsMCxELIwtaC3IjdGlhbEQAAKACInkAH2RyAADgNdgT3WkApmOgY/Ujc01pbnVzsWAAAWlwFQsgC24AYwBhAHIAZQBwAGwAYQBuAOUACgVmAACgGSGAobsqZWlvACoLRQtJC+MiZWRlc4CheiJFU1QANAs5C0ALcSJ1YWwAAKCvKuwkYW50RXF1YWwAoHwiaSJsZGUAAKB+Im0AZQAAoDMgAAFkcE0LUQv1IWN0AKAPIm8jcnRpb24AYaA3ImwAAKAdIgABY2leC2ILcgAA4DXYq9yoYwACVWZvc2oLbwtzC3cLTwBUADuAIgAiQHIAAOA12BTdcABmAACgGiFjAHIAAOA12KzcAAZCRWFjZWZoaW9yc3WPC5MLlwupC7YL2AvbC90LhQyTDJoMowzhIXJyAKAQKUcAO4CuAK5AgAFjbnIAnQugC6ML9SF0ZVRhZwAAoOsncgB0oKAhbAAAoBYpgAFhZXkArwuyC7UL8iFvblhh5CFpbFZhIGR2oBwhZSJyc2UAAAFFVb8LzwsAAWxxwwvIC+UibWVudACgCyL1JGlsaWJyaXVtAKDLIXAmRXF1aWxpYnJpdW0AAKBvKXIAAKAcIW8AoWPnIWh0AARBQ0RGVFVWYewLCgwQDDIMNwxeDHwM9gIAAW5y8Av4C2clbGVCcmFja2V0AACg6SfyIW93AKGSIUJM/wsDDGEAcgAAoOUhZSRmdEFycm93AACgxCFlI2lsaW5nAACgCSNvAPUBFgwAAB4MYiVsZUJyYWNrZXQAAKDnJ24A1AEjDAAAKgxlJGVWZWN0b3IAAKBdKeUiY3RvckKgwiFhAHIAAKBVKWwib29yAACgCyMAAWVyOwxLDGUAAKGiIkFWQQxGDHIicm93AACgpiHlImN0b3IAoFspaSNhbmdsZQBCorMiVgwAAAAAWgxhAHIAAKDQKXEidWFsAACgtSJwAIABRFRWAGUMbAxzDO8kd25WZWN0b3IAoE8pZSRlVmVjdG9yAACgXCnlImN0b3JCoL4hYQByAACgVCnlImN0b3JCoMAhYQByAACgUykAAXB1iQyMDGYAAKAdIe4kZEltcGxpZXMAoHAp6SRnaHRhcnJvdwCg2yEAAWNongyhDHIAAKAbIQCgsSHsJGVEZWxheWVkAKD0KYAGSE9hY2ZoaW1vcXN0dQC/DMgMzAzQDOIM5gwKDQ0NFA0ZDU8NVA1YDQABQ2PDDMYMyCFjeSlkeQAoZEYiVGN5ACxkYyJ1dGUAWmEAorwqYWVpedgM2wzeDOEM8iFvbmBh5CFpbF5hcgBjAFxhIWRyAADgNdgW3e8hcnQAAkRMUlXvDPYM/QwEDW8kd25BcnJvdwAAoJMhZSRmdEFycm93AACgkCHpJGdodEFycm93AKCSIXAjQXJyb3cAAKCRIechbWGjY+EkbGxDaXJjbGUAoBgicABmAADgNdhK3XICHw0AAAAAIg10AACgGiLhIXJlgKGhJUlTVQAqDTINSg3uJXRlcnNlY3Rpb24AoJMidQAAAWJwNw1ADfMhZXRFoI8icSJ1YWwAAKCRIuUicnNldEWgkCJxInVhbAAAoJIibiJpb24AAKCUImMAcgAA4DXYrtxhAHIAAKDGIgACYmNtcF8Nag2ODZANc6DQImUAdABFoNAicSJ1YWwAAKCGIgABY2huDYkNZSJlZHMAgKF7IkVTVAB4DX0NhA1xInVhbAAAoLAq7CRhbnRFcXVhbACgfSJpImxkZQAAoH8iVABoAGEA9ADHCwCgESIAodEiZXOVDZ8NciJzZXQARaCDInEidWFsAACghyJlAHQAAKDRIoAFSFJTYWNmaGlvcnMAtQ27Db8NyA3ODdsN3w3+DRgOHQ4jDk8AUgBOADuA3gDeQMEhREUAoCIhAAFIY8MNxg1jAHkAC2R5ACZkAAFidcwNzQ0JYKRjgAFhZXkA1A3XDdoN8iFvbmRh5CFpbGJhImRyAADgNdgX3QABZWnjDe4N8gHoDQAA7Q3lImZvcmUAoDQiYQCYYwABY27yDfkNayNTcGFjZQAA4F8gCiDTInBhY2UAoAkg7CFkZYChPCJFRlQABw4MDhMOcSJ1YWwAAKBDInUkbGxFcXVhbAAAoEUiaSJsZGUAAKBIInAAZgAA4DXYS93pI3BsZURvdACg2yAAAWN0Jw4rDnIAAOA12K/c8iFva2Zh4QpFDlYOYA5qDgAAbg5yDgAAAAAAAAAAAAB5DnwOqA6zDgAADg8RDxYPGg8AAWNySA5ODnUAdABlADuA2gDaQHIAb6CfIeMhaXIAoEkpcgDjAVsOAABdDnkADmR2AGUAbGEAAWl5Yw5oDnIAYwA7gNsA20AjZGIibGFjAHBhcgAA4DXYGN1yAGEAdgBlADuA2QDZQOEhY3JqYQABZGl/Dp8OZQByAAABQlCFDpcOAAFhcokOiw5yAF9gYQBjAAABZWuRDpMOAKDfI2UAdAAAoLUjYSVyZW50aGVzaXMAAKDdI28AbgBQoMMi7CF1cwCgjiIAAWdwqw6uDm8AbgByYWYAAOA12EzdAARBREVUYWRwc78O0g7ZDuEOBQPqDvMOBw9yInJvdwDCoZEhyA4AAMwOYQByAACgEilvJHduQXJyb3cAAKDFIW8kd25BcnJvdwAAoJUhcSV1aWxpYnJpdW0AAKBuKWUAZQBBoKUiciJyb3cAAKClIW8AdwBuAGEAcgByAG8A9wAQA2UAcgAAAUxS+Q4AD2UkZnRBcnJvdwAAoJYh6SRnaHRBcnJvdwCglyFpAGyg0gNvAG4ApWPpIW5nbmFjAHIAAOA12LDcaSJsZGUAaGFtAGwAO4DcANxAgAREYmNkZWZvc3YALQ8xDzUPNw89D3IPdg97D4AP4SFzaACgqyJhAHIAAKDrKnkAEmThIXNobKCpIgCg5ioAAWVyQQ9DDwCgwSKAAWJ0eQBJD00Paw9hAHIAAKAWIGmgFiDjIWFsAAJCTFNUWA9cD18PZg9hAHIAAKAjIukhbmV8YGUkcGFyYXRvcgAAoFgnaSJsZGUAAKBAItQkaGluU3BhY2UAoAogcgAA4DXYGd1wAGYAAOA12E3dYwByAADgNdix3GQiYXNoAACgqiKAAmNlZm9zAI4PkQ+VD5kPng/pIXJjdGHkIWdlAKDAInIAAOA12BrdcABmAADgNdhO3WMAcgAA4DXYstwAAmZpb3OqD64Prw+0D3IAAOA12BvdnmNwAGYAAOA12E/dYwByAADgNdiz3IAEQUlVYWNmb3N1AMgPyw/OD9EP2A/gD+QP6Q/uD2MAeQAvZGMAeQAHZGMAeQAuZGMAdQB0AGUAO4DdAN1AAAFpedwP3w9yAGMAdmErZHIAAOA12BzdcABmAADgNdhQ3WMAcgAA4DXYtNxtAGwAeGEABEhhY2RlZm9z/g8BEAUQDRAQEB0QIBAkEGMAeQAWZGMidXRlAHlhAAFheQkQDBDyIW9ufWEXZG8AdAB7YfIBFRAAABwQbwBXAGkAZAB0AOgAVAhhAJZjcgAAoCghcABmAACgJCFjAHIAAOA12LXc4QtCEEkQTRAAAGcQbRByEAAAAAAAAAAAeRCKEJcQ8hD9EAAAGxEhETIROREAAD4RYwB1AHQAZQA7gOEA4UByImV2ZQADYYCiPiJFZGl1eQBWEFkQWxBgEGUQAOA+IjMDAKA/InIAYwA7gOIA4kB0AGUAO4C0ALRAMGRsAGkAZwA7gOYA5kByoGEgAOA12B7dcgBhAHYAZQA7gOAA4EAAAWVwfBCGEAABZnCAEIQQ8yF5bQCgNSHoAIMQaABhALFjAAFhcI0QWwAAAWNskRCTEHIAAWFnAACgPypkApwQAAAAALEQAKInImFkc3ajEKcQqRCuEG4AZAAAoFUqAKBcKmwib3BlAACgWCoAoFoqAKMgImVsbXJzersQvRDAEN0Q5RDtEACgpCllAACgICJzAGQAYaAhImEEzhDQENIQ1BDWENgQ2hDcEACgqCkAoKkpAKCqKQCgqykAoKwpAKCtKQCgrikAoK8pdAB2oB8iYgBkoL4iAKCdKQABcHTpEOwQaAAAoCIixWDhIXJyAKB8IwABZ3D1EPgQbwBuAAVhZgAA4DXYUt0Ao0giRWFlaW9wBxEJEQ0RDxESERQRAKBwKuMhaXIAoG8qAKBKImQAAKBLInMAJ2DyIW94ZaBIIvEADhFpAG4AZwA7gOUA5UCAAWN0eQAmESoRKxFyAADgNdi23CpgbQBwAGWgSCLxAPgBaQBsAGQAZQA7gOMA40BtAGwAO4DkAORAAAFjaUERRxFvAG4AaQBuAPQA6AFuAHQAAKARKgAITmFiY2RlZmlrbG5vcHJzdWQRaBGXEZ8RpxGrEdIR1hErEjASexKKEn0RThNbE3oTbwB0AACg7SoAAWNybBGJEWsAAAJjZXBzdBF4EX0RghHvIW5nAKBMInAjc2lsb24A9mNyImltZQAAoDUgaQBtAGWgPSJxAACgzSJ2AY0RkRFlAGUAAKC9ImUAZABnoAUjZQAAoAUjcgBrAHSgtSPiIXJrAKC2IwABb3mjEaYRbgDnAHcRMWTxIXVvAKAeIIACY21wcnQAtBG5Eb4RwRHFEeEhdXPloDUi5ABwInR5dgAAoLApcwDpAH0RbgBvAPUA6gCAAWFodwDLEcwRzhGyYwCgNiHlIWVuAKBsInIAAOA12B/dZwCAA2Nvc3R1dncA4xHyEQUSEhIhEiYSKRKAAWFpdQDpEesR7xHwAKMFcgBjAACg7yVwAACgwyKAAWRwdAD4EfwRABJvAHQAAKAAKuwhdXMAoAEqaSJtZXMAAKACKnECCxIAAAAADxLjIXVwAKAGKmEAcgAAoAUm8iNpYW5nbGUAAWR1GhIeEu8hd24AoL0lcAAAoLMlcCJsdXMAAKAEKmUA5QBCD+UAkg9hInJvdwAAoA0pgAFha28ANhJoEncSAAFjbjoSZRJrAIABbHN0AEESRxJNEm8jemVuZ2UAAKDrKXEAdQBhAHIA5QBcBPIjaWFuZ2xlgKG0JWRscgBYElwSYBLvIXduAKC+JeUhZnQAoMIlaSJnaHQAAKC4JWsAAKAjJLEBbRIAAHUSsgFxEgAAcxIAoJIlAKCRJTQAAKCTJWMAawAAoIglAAFlb38ShxJx4D0A5SD1IWl2AOBhIuUgdAAAoBAjAAJwdHd4kRKVEpsSnxJmAADgNdhT3XSgpSJvAG0AAKClIvQhaWUAoMgiAAZESFVWYmRobXB0dXayEsES0RLgEvcS+xIKExoTHxMjEygTNxMAAkxSbHK5ErsSvRK/EgCgVyUAoFQlAKBWJQCgUyUAolAlRFVkdckSyxLNEs8SAKBmJQCgaSUAoGQlAKBnJQACTFJsctgS2hLcEt4SAKBdJQCgWiUAoFwlAKBZJQCjUSVITFJobHLrEu0S7xLxEvMS9RIAoGwlAKBjJQCgYCUAoGslAKBiJQCgXyVvAHgAAKDJKQACTFJscgITBBMGEwgTAKBVJQCgUiUAoBAlAKAMJQCiACVEVWR1EhMUExYTGBMAoGUlAKBoJQCgLCUAoDQlaSJudXMAAKCfIuwhdXMAoJ4iaSJtZXMAAKCgIgACTFJsci8TMRMzEzUTAKBbJQCgWCUAoBglAKAUJQCjAiVITFJobHJCE0QTRhNIE0oTTBMAoGolAKBhJQCgXiUAoDwlAKAkJQCgHCUAAWV2UhNVE3YA5QD5AGIAYQByADuApgCmQAACY2Vpb2ITZhNqE24TcgAA4DXYt9xtAGkAAKBPIG0A5aA9IogRbAAAoVwAYmh0E3YTAKDFKfMhdWIAoMgnbAF+E4QTbABloCIgdAAAoCIgcAAAoU4iRWWJE4sTAKCuKvGgTyI8BeEMqRMAAN8TABQDFB8UAAAjFDQUAAAAAIUUAAAAAI0UAAAAANcU4xT3FPsUAACIFQAAlhWAAWNwcgCuE7ET1RP1IXRlB2GAoikiYWJjZHMAuxO/E8QTzhPSE24AZAAAoEQqciJjdXAAAKBJKgABYXXIE8sTcAAAoEsqcAAAoEcqbwB0AACgQCoA4CkiAP4AAWVv2RPcE3QAAKBBIO4ABAUAAmFlaXXlE+8T9RP4E/AB6hMAAO0TcwAAoE0qbwBuAA1hZABpAGwAO4DnAOdAcgBjAAlhcABzAHOgTCptAACgUCpvAHQAC2GAAWRtbgAIFA0UEhRpAGwAO4C4ALhAcCJ0eXYAAKCyKXQAAIGiADtlGBQZFKJAcgBkAG8A9ABiAXIAAOA12CDdgAFjZWkAKBQqFDIUeQBHZGMAawBtoBMn4SFyawCgEyfHY3IAAKPLJUVjZWZtcz8UQRRHFHcUfBSAFACgwykAocYCZWxGFEkUcQAAoFciZQBhAlAUAAAAAGAUciJyb3cAAAFsclYUWhTlIWZ0AKC6IWkiZ2h0AACguyGAAlJTYWNkAGgUaRRrFG8UcxSuYACgyCRzAHQAAKCbIukhcmMAoJoi4SFzaACgnSJuImludAAAoBAqaQBkAACg7yrjIWlyAKDCKfUhYnN1oGMmaQB0AACgYybsApMUmhS2FAAAwxRvAG4AZaA6APGgVCKrAG0CnxQAAAAAoxRhAHSgLABAYAChASJmbKcUqRTuABMNZQAAAW14rhSyFOUhbnQAoAEiZQDzANIB5wG6FAAAwBRkoEUibwB0AACgbSpuAPQAzAGAAWZyeQDIFMsUzhQA4DXYVN1vAOQA1wEAgakAO3MeAdMUcgAAoBchAAFhb9oU3hRyAHIAAKC1IXMAcwAAoBcnAAFjdeYU6hRyAADgNdi43AABYnDuFPIUZaDPKgCg0SploNAqAKDSKuQhb3QAoO8igANkZWxwcnZ3AAYVEBUbFSEVRBVlFYQV4SFycgABbHIMFQ4VAKA4KQCgNSlwAhYVAAAAABkVcgAAoN4iYwAAoN8i4SFycnCgtiEAoD0pgKIqImJjZG9zACsVMBU6FT4VQRVyImNhcAAAoEgqAAFhdTQVNxVwAACgRipwAACgSipvAHQAAKCNInIAAKBFKgDgKiIA/gACYWxydksVURVuFXMVcgByAG2gtyEAoDwpeQCAAWV2dwBYFWUVaRVxAHACXxUAAAAAYxVyAGUA4wAXFXUA4wAZFWUAZQAAoM4iZSJkZ2UAAKDPImUAbgA7gKQApEBlI2Fycm93AAABbHJ7FX8V5SFmdACgtiFpImdodAAAoLchZQDkAG0VAAFjaYsVkRVvAG4AaQBuAPQAkwFuAHQAAKAxImwiY3R5AACgLSOACUFIYWJjZGVmaGlqbG9yc3R1d3oAuBW7Fb8V1RXgFegV+RUKFhUWHxZUFlcWZRbFFtsW7xb7FgUXChdyAPIAtAJhAHIAAKBlKQACZ2xyc8YVyhXOFdAV5yFlcgCgICDlIXRoAKA4IfIA9QxoAHagECAAoKMiawHZFd4VYSJyb3cAAKAPKWEA4wBfAgABYXnkFecV8iFvbg9hNGQAoUYhYW/tFfQVAAFnciEC8RVyAACgyiF0InNlcQAAoHcqgAFnbG0A/xUCFgUWO4CwALBAdABhALRjcCJ0eXYAAKCxKQABaXIOFhIW8yFodACgfykA4DXYId1hAHIAAAFschsWHRYAoMMhAKDCIYACYWVnc3YAKBauAjYWOhY+Fm0AAKHEIm9zLhY0Fm4AZABzoMQi9SFpdACgZiZhIm1tYQDdY2kAbgAAoPIiAKH3AGlvQxZRFmQAZQAAgfcAO29KFksW90BuI3RpbWVzAACgxyJuAPgAUBZjAHkAUmRjAG8CXhYAAAAAYhZyAG4AAKAeI28AcAAAoA0jgAJscHR1dwBuFnEWdRaSFp4W7CFhciRgZgAA4DXYVd0AotkCZW1wc30WhBaJFo0WcQBkoFAibwB0AACgUSJpIm51cwAAoDgi7CF1cwCgFCLxInVhcmUAoKEiYgBsAGUAYgBhAHIAdwBlAGQAZwDlANcAbgCAAWFkaAClFqoWtBZyAHIAbwD3APUMbwB3AG4AYQByAHIAbwB3APMA8xVhI3Jwb29uAAABbHK8FsAWZQBmAPQAHBZpAGcAaAD0AB4WYgHJFs8WawBhAHIAbwD3AJILbwLUFgAAAADYFnIAbgAAoB8jbwBwAACgDCOAAWNvdADhFukW7BYAAXJ55RboFgDgNdi53FVkbAAAoPYp8iFvaxFhAAFkcvMW9xZvAHQAAKDxImkA5qC/JVsSAAFhaP8WAhdyAPIANQNhAPIA1wvhIm5nbGUAoKYpAAFjaQ4XEBd5AF9k5yJyYXJyAKD/JwAJRGFjZGVmZ2xtbm9wcXJzdHV4MRc4F0YXWxcyBF4XaRd5F40XrBe0F78X2RcVGCEYLRg1GEAYAAFEbzUXgRZvAPQA+BUAAWNzPBdCF3UAdABlADuA6QDpQPQhZXIAoG4qAAJhaW95TRdQF1YXWhfyIW9uG2FyAGOgViI7gOoA6kDsIW9uAKBVIk1kbwB0ABdhAAFEcmIXZhdvAHQAAKBSIgDgNdgi3XKhmipuF3QXYQB2AGUAO4DoAOhAZKCWKm8AdAAAoJgqgKGZKmlscwCAF4UXhxfuInRlcnMAoOcjAKATIWSglSpvAHQAAKCXKoABYXBzAJMXlheiF2MAcgATYXQAeQBzogUinxcAAAAAoRdlAHQAAKAFInAAMaADIDMBqRerFwCgBCAAoAUgAAFnc7AXsRdLYXAAAKACIAABZ3C4F7sXbwBuABlhZgAA4DXYVt2AAWFscwDFF8sXzxdyAHOg1SJsAACg4yl1AHMAAKBxKmkAAKG1A2x21RfYF28AbgC1Y/VjAAJjc3V24BfoF/0XEBgAAWlv5BdWF3IAYwAAoFYiaQLuFwAAAADwF+0ADQThIW50AAFnbPUX+Rd0AHIAAKCWKuUhc3MAoJUqgAFhZWkAAxgGGAoYbABzAD1gcwB0AACgXyJ2AESgYSJEAACgeCrwImFyc2wAoOUpAAFEYRkYHRhvAHQAAKBTInIAcgAAoHEpgAFjZGkAJxgqGO0XcgAAoC8hbwD0AIwCAAFhaDEYMhi3YzuA8ADwQAABbXI5GD0YbAA7gOsA60BvAACgrCCAAWNpcABGGEgYSxhsACFgcwD0ACwEAAFlb08YVxhjAHQAYQB0AGkAbwDuABoEbgBlAG4AdABpAGEAbADlADME4Ql1GAAAgRgAAIMYiBgAAAAAoRilGAAAqhgAALsYvhjRGAAA1xgnGWwAbABpAG4AZwBkAG8AdABzAGUA8QBlF3kARGRtImFsZQAAoEAmgAFpbHIAjRiRGJ0Y7CFpZwCgA/tpApcYAAAAAJoYZwAAoAD7aQBnAACgBPsA4DXYI93sIWlnAKAB++whaWcA4GYAagCAAWFsdACvGLIYthh0AACgbSZpAGcAAKAC+24AcwAAoLElbwBmAJJh8AHCGAAAxhhmAADgNdhX3QABYWvJGMwYbADsAGsEdqDUIgCg2SphI3J0aW50AACgDSoAAWFv2hgiGQABY3PeGB8ZsQPnGP0YBRkSGRUZAAAdGbID7xjyGPQY9xj5GAAA+xg7gL0AvUAAoFMhO4C8ALxAAKBVIQCgWSEAoFshswEBGQAAAxkAoFQhAKBWIbQCCxkOGQAAAAAQGTuAvgC+QACgVyEAoFwhNQAAoFghtgEZGQAAGxkAoFohAKBdITgAAKBeIWwAAKBEIHcAbgAAoCIjYwByAADgNdi73IAIRWFiY2RlZmdpamxub3JzdHYARhlKGVoZXhlmGWkZkhmWGZkZnRmgGa0ZxhnLGc8Z4BkjGmygZyIAoIwqgAFjbXAAUBlTGVgZ9SF0ZfVhbQBhAOSgswM6FgCghipyImV2ZQAfYQABaXliGWUZcgBjAB1hM2RvAHQAIWGAoWUibHFzAMYEcBl6GfGhZSLOBAAAdhlsAGEAbgD0AN8EgKF+KmNkbACBGYQZjBljAACgqSpvAHQAb6CAKmyggioAoIQqZeDbIgD+cwAAoJQqcgAA4DXYJN3noGsirATtIWVsAKA3IWMAeQBTZIChdyJFYWoApxmpGasZAKCSKgCgpSoAoKQqAAJFYWVztBm2Gb0ZwhkAoGkicABwoIoq8iFveACgiipxoIgq8aCIKrUZaQBtAACg5yJwAGYAAOA12FjdYQB2AOUAYwIAAWNp0xnWGXIAAKAKIW0AAKFzImVs3BneGQCgjioAoJAqAIM+ADtjZGxxco0E6xn0GfgZ/BkBGgABY2nvGfEZAKCnKnIAAKB6Km8AdAAAoNci0CFhcgCglSl1ImVzdAAAoHwqgAJhZGVscwAKGvQZFhrVBCAa8AEPGgAAFBpwAHIAbwD4AFkZcgAAoHgpcQAAAWxxxAQbGmwAZQBzAPMASRlpAO0A5AQAAWVuJxouGnIjdG5lcXEAAOBpIgD+xQAsGgAFQWFiY2Vma29zeUAaQxpmGmoabRqDGocalhrCGtMacgDyAMwCAAJpbG1yShpOGlAaVBpyAHMA8ABxD2YAvWBpAGwA9AASBQABZHJYGlsaYwB5AEpkAKGUIWN3YBpkGmkAcgAAoEgpAKCtIWEAcgAAoA8h6SFyYyVhgAFhbHIAcxp7Gn8a8iF0c3WgZSZpAHQAAKBlJuwhaXAAoCYg4yFvbgCguSJyAADgNdgl3XMAAAFld4wakRphInJvdwAAoCUpYSJyb3cAAKAmKYACYW1vcHIAnxqjGqcauhq+GnIAcgAAoP8h9CFodACgOyJrAAABbHKsGrMaZSRmdGFycm93AACgqSHpJGdodGFycm93AKCqIWYAAOA12Fnd4iFhcgCgFSCAAWNsdADIGswa0BpyAADgNdi93GEAcwDoAGka8iFvaydhAAFicNca2xr1IWxsAKBDIOghZW4AoBAg4Qr2GgAA/RoAAAgbExsaGwAAIRs7GwAAAAA+G2IbmRuVG6sbAACyG80b0htjAHUAdABlADuA7QDtQAChYyBpeQEbBhtyAGMAO4DuAO5AOGQAAWN4CxsNG3kANWRjAGwAO4ChAKFAAAFmcssCFhsA4DXYJt1yAGEAdgBlADuA7ADsQIChSCFpbm8AJxsyGzYbAAFpbisbLxtuAHQAAKAMKnQAAKAtIuYhaW4AoNwpdABhAACgKSHsIWlnM2GAAWFvcABDG1sbXhuAAWNndABJG0sbWRtyACthgAFlbHAAcQVRG1UbaQBuAOUAyAVhAHIA9AByBWgAMWFmAACgtyJlAGQAtWEAoggiY2ZvdGkbbRt1G3kb4SFyZQCgBSFpAG4AdKAeImkAZQAAoN0pZABvAPQAWxsAoisiY2VscIEbhRuPG5QbYQBsAACguiIAAWdyiRuNG2UAcgDzACMQ4wCCG2EicmhrAACgFyryIW9kAKA8KgACY2dwdJ8boRukG6gbeQBRZG8AbgAvYWYAAOA12FrdYQC5Y3UAZQBzAHQAO4C/AL9AAAFjabUbuRtyAADgNdi+3G4AAKIIIkVkc3bCG8QbyBvQAwCg+SJvAHQAAKD1Inag9CIAoPMiaaBiIOwhZGUpYesB1hsAANkbYwB5AFZkbAA7gO8A70AAA2NmbW9zdeYb7hvyG/Ub+hsFHAABaXnqG+0bcgBjADVhOWRyAADgNdgn3eEhdGg3YnAAZgAA4DXYW93jAf8bAAADHHIAAOA12L/c8iFjeVhk6yFjeVRkAARhY2ZnaGpvcxUcGhwiHCYcKhwtHDAcNRzwIXBhdqC6A/BjAAFleR4cIRzkIWlsN2E6ZHIAAOA12CjdciJlZW4AOGFjAHkARWRjAHkAXGRwAGYAAOA12FzdYwByAADgNdjA3IALQUJFSGFiY2RlZmdoamxtbm9wcnN0dXYAXhxtHHEcdRx5HN8cBx0dHTwd3B3tHfEdAR4EHh0eLB5FHrwewx7hHgkfPR9LH4ABYXJ0AGQcZxxpHHIA8gBvB/IAxQLhIWlsAKAbKeEhcnIAoA4pZ6BmIgCgiyphAHIAAKBiKWMJjRwAAJAcAACVHAAAAAAAAAAAAACZHJwcAACmHKgcrRwAANIc9SF0ZTph7SJwdHl2AKC0KXIAYQDuAFoG4iFkYbtjZwAAoegnZGyhHKMcAKCRKeUAiwYAoIUqdQBvADuAqwCrQHIAgKOQIWJmaGxwc3QAuhy/HMIcxBzHHMoczhxmoOQhcwAAoB8pcwAAoB0p6wCyGnAAAKCrIWwAAKA5KWkAbQAAoHMpbAAAoKIhAKGrKmFl1hzaHGkAbAAAoBkpc6CtKgDgrSoA/oABYWJyAOUc6RztHHIAcgAAoAwpcgBrAACgcicAAWFr8Rz4HGMAAAFla/Yc9xx7YFtgAAFlc/wc/hwAoIspbAAAAWR1Ax0FHQCgjykAoI0pAAJhZXV5Dh0RHRodHB3yIW9uPmEAAWRpFR0YHWkAbAA8YewAowbiAPccO2QAAmNxcnMkHScdLB05HWEAAKA2KXUAbwDyoBwgqhEAAWR1MB00HeghYXIAoGcpcyJoYXIAAKBLKWgAAKCyIQCiZCJmZ3FzRB1FB5Qdnh10AIACYWhscnQATh1WHWUdbB2NHXIicm93AHSgkCFhAOkAzxxhI3Jwb29uAAABZHVeHWId7yF3bgCgvSFwAACgvCHlJGZ0YXJyb3dzAKDHIWkiZ2h0AIABYWhzAHUdex2DHXIicm93APOglCGdBmEAcgBwAG8AbwBuAPMAzgtxAHUAaQBnAGEAcgByAG8A9wBlGugkcmVldGltZXMAoMsi8aFkIk0HAACaHWwAYQBuAPQAXgcAon0qY2Rnc6YdqR2xHbcdYwAAoKgqbwB0AG+gfypyoIEqAKCDKmXg2iIA/nMAAKCTKoACYWRlZ3MAwB3GHcod1h3ZHXAAcAByAG8A+ACmHG8AdAAAoNYicQAAAWdxzx3SHXQA8gBGB2cAdADyAHQcdADyAFMHaQDtAGMHgAFpbHIA4h3mHeod8yFodACgfClvAG8A8gDKBgDgNdgp3UWgdiIAoJEqYQH1Hf4dcgAAAWR1YB35HWygvCEAoGopbABrAACghCVjAHkAWWQAomoiYWNodAweDx4VHhkecgDyAGsdbwByAG4AZQDyAGAW4SFyZACgaylyAGkAAKD6JQABaW8hHiQe5CFvdEBh9SFzdGGgsCPjIWhlAKCwIwACRWFlczMeNR48HkEeAKBoInAAcKCJKvIhb3gAoIkqcaCHKvGghyo0HmkAbQAAoOYiAARhYm5vcHR3elIeXB5fHoUelh6mHqsetB4AAW5yVh5ZHmcAAKDsJ3IAAKD9IXIA6wCwBmcAgAFsbXIAZh52Hnse5SFmdAABYXKIB2weaQBnAGgAdABhAHIAcgBvAPcAkwfhInBzdG8AoPwnaQBnAGgAdABhAHIAcgBvAPcAmgdwI2Fycm93AAABbHKNHpEeZQBmAPQAxhxpImdodAAAoKwhgAFhZmwAnB6fHqIecgAAoIUpAOA12F3ddQBzAACgLSppIm1lcwAAoDQqYQGvHrMecwB0AACgFyLhAIoOZaHKJbkeRhLuIWdlAKDKJWEAcgBsoCgAdAAAoJMpgAJhY2htdADMHs8e1R7bHt0ecgDyAJ0GbwByAG4AZQDyANYWYQByAGSgyyEAoG0pAKAOIHIAaQAAoL8iAANhY2hpcXTrHu8e1QfzHv0eBh/xIXVvAKA5IHIAAOA12MHcbQDloXIi+h4AAPweAKCNKgCgjyoAAWJ19xwBH28AcqAYIACgGiDyIW9rQmEAhDwAO2NkaGlscXJCBhcfxh0gHyQfKB8sHzEfAAFjaRsfHR8AoKYqcgAAoHkqcgBlAOUAkx3tIWVzAKDJIuEhcnIAoHYpdSJlc3QAAKB7KgABUGk1HzkfYQByAACglillocMlAgdfEnIAAAFkdUIfRx9zImhhcgAAoEop6CFhcgCgZikAAWVuTx9WH3IjdG5lcXEAAOBoIgD+xQBUHwAHRGFjZGVmaGlsbm9wc3VuH3Ifoh+rH68ftx+7H74f5h/uH/MfBwj/HwsgxCFvdACgOiIAAmNscHJ5H30fiR+eH3IAO4CvAK9AAAFldIEfgx8AoEImZaAgJ3MAZQAAoCAnc6CmIXQAbwCAoaYhZGx1AJQfmB+cH28AdwDuAHkDZQBmAPQA6gbwAOkO6yFlcgCgriUAAW95ph+qH+0hbWEAoCkqPGThIXNoAKAUIOElc3VyZWRhbmdsZQCgISJyAADgNdgq3W8AAKAnIYABY2RuAMQfyR/bH3IAbwA7gLUAtUBhoiMi0B8AANMf1x9zAPQAKxFpAHIAAKDwKm8AdAA7gLcAt0B1AHMA4qESIh4TAADjH3WgOCIAoCoqYwHqH+0fcAAAoNsq8gB+GnAAbAB1APMACAgAAWRw9x/7H+UhbHMAoKciZgAA4DXYXt0AAWN0AyAHIHIAAOA12MLc8CFvcwCgPiJsobwDECAVIPQiaW1hcACguCJhAPAAEyAADEdMUlZhYmNkZWZnaGlqbG1vcHJzdHV2dzwgRyBmIG0geSCqILgg2iDeIBEhFSEyIUMhTSFQIZwhnyHSIQAiIyKLIrEivyIUIwABZ3RAIEMgAODZIjgD9uBrItIgBwmAAWVsdABNIF8gYiBmAHQAAAFhclMgWCByInJvdwAAoM0h6SRnaHRhcnJvdwCgziEA4NgiOAP24Goi0iBfCekkZ2h0YXJyb3cAoM8hAAFEZHEgdSDhIXNoAKCvIuEhc2gAoK4igAJiY25wdACCIIYgiSCNIKIgbABhAACgByL1IXRlRGFnAADgICLSIACiSSJFaW9wlSCYIJwgniAA4HAqOANkAADgSyI4A3MASWFyAG8A+AAyCnUAcgBhoG4mbADzoG4mmwjzAa8gAACzIHAAO4CgAKBAbQBwAOXgTiI4AyoJgAJhZW91eQDBIMogzSDWINkg8AHGIAAAyCAAoEMqbwBuAEhh5CFpbEZhbgBnAGSgRyJvAHQAAOBtKjgDcAAAoEIqPWThIXNoAKATIACjYCJBYWRxc3jpIO0g+SD+IAIhDCFyAHIAAKDXIXIAAAFocvIg9SBrAACgJClvoJch9wAGD28AdAAA4FAiOAN1AGkA9gC7CAABZWkGIQohYQByAACgKCntAN8I6SFzdPOgBCLlCHIAAOA12CvdAAJFZXN0/wgcISshLiHxoXEiIiEAABMJ8aFxIgAJAAAnIWwAYQBuAPQAEwlpAO0AGQlyoG8iAKBvIoABQWFwADghOyE/IXIA8gBeIHIAcgAAoK4hYQByAACg8ipzogsiSiEAAAAAxwtkoPwiAKD6ImMAeQBaZIADQUVhZGVzdABcIV8hYiFmIWkhkyGWIXIA8gBXIADgZiI4A3IAcgAAoJohcgAAoCUggKFwImZxcwBwIYQhjiF0AAABYXJ1IXohcgByAG8A9wBlIWkAZwBoAHQAYQByAHIAbwD3AD4h8aFwImAhAACKIWwAYQBuAPQAZwlz4H0qOAMAoG4iaQDtAG0JcqBuImkA5aDqIkUJaQDkADoKAAFwdKMhpyFmAADgNdhf3YCBrAA7aW4AriGvIcchrEBuAIChCSJFZHYAtyG6Ib8hAOD5IjgDbwB0AADg9SI4A+EB1gjEIcYhAKD3IgCg9iJpAHagDCLhAagJzyHRIQCg/iIAoP0igAFhb3IA2CHsIfEhcgCAoSYiYXN0AOAh5SHpIWwAbABlAOwAywhsAADg/SrlIADgAiI4A2wiaW50AACgFCrjoYAi9yEAAPohdQDlAJsJY+CvKjgDZaCAIvEAkwkAAkFhaXQHIgoiFyIeInIA8gBsIHIAcgAAoZshY3cRIhQiAOAzKTgDAOCdITgDZyRodGFycm93AACgmyFyAGkA5aDrIr4JgANjaGltcHF1AC8iPCJHIpwhTSJQIloigKGBImNlcgA2Iv0JOSJ1AOUABgoA4DXYw9zvIXJ0bQKdIQAAAABEImEAcgDhAOEhbQBloEEi8aBEIiYKYQDyAMsIcwB1AAABYnBWIlgi5QDUCeUA3wmAAWJjcABgInMieCKAoYQiRWVzAGci7glqIgDgxSo4A2UAdABl4IIi0iBxAPGgiCJoImMAZaCBIvEA/gmAoYUiRWVzAH8iFgqCIgDgxio4A2UAdABl4IMi0iBxAPGgiSKAIgACZ2lscpIilCKaIpwi7AAMCWwAZABlADuA8QDxQOcAWwlpI2FuZ2xlAAABbHKkIqoi5SFmdGWg6iLxAEUJaSJnaHQAZaDrIvEAvgltoL0DAKEjAGVzuCK8InIAbwAAoBYhcAAAoAcggARESGFkZ2lscnMAziLSItYi2iLeIugi7SICIw8j4SFzaACgrSLhIXJyAKAEKXAAAOBNItIg4SFzaACgrCIAAWV04iLlIgDgZSLSIADgPgDSIG4iZmluAACg3imAAUFldADzIvci+iJyAHIAAKACKQDgZCLSIHLgPADSIGkAZQAA4LQi0iAAAUF0BiMKI3IAcgAAoAMp8iFpZQDgtSLSIGkAbQAA4Dwi0iCAAUFhbgAaIx4jKiNyAHIAAKDWIXIAAAFociMjJiNrAACgIylvoJYh9wD/DuUhYXIAoCcpUxJqFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVCMAAF4jaSN/I4IjjSOeI8AUAAAAAKYjwCMAANoj3yMAAO8jHiQvJD8kRCQAAWNzVyNsFHUAdABlADuA8wDzQAABaXlhI2cjcgBjoJoiO4D0APRAPmSAAmFiaW9zAHEjdCN3I3EBeiNzAOgAdhTsIWFjUWF2AACgOCrvIWxkAKC8KewhaWdTYQABY3KFI4kjaQByAACgvykA4DXYLN1vA5QjAAAAAJYjAACcI24A22JhAHYAZQA7gPIA8kAAoMEpAAFibaEjjAphAHIAAKC1KQACYWNpdKwjryO6I70jcgDyAFkUAAFpcrMjtiNyAACgvinvIXNzAKC7KW4A5QDZCgCgwCmAAWFlaQDFI8gjyyNjAHIATWFnAGEAyWOAAWNkbgDRI9Qj1iPyIW9uv2MAoLYpdQDzAHgBcABmAADgNdhg3YABYWVsAOQj5yPrI3IAAKC3KXIAcAAAoLkpdQDzAHwBAKMoImFkaW9zdvkj/CMPJBMkFiQbJHIA8gBeFIChXSplZm0AAyQJJAwkcgBvoDQhZgAAoDQhO4CqAKpAO4C6ALpA5yFvZgCgtiJyAACgVipsIm9wZQAAoFcqAKBbKoABY2xvACMkJSQrJPIACCRhAHMAaAA7gPgA+EBsAACgmCJpAGwBMyQ4JGQAZQA7gPUA9UBlAHMAYaCXInMAAKA2Km0AbAA7gPYA9kDiIWFyAKA9I+EKXiQAAHokAAB8JJQkAACYJKkkAAAAALUkEQsAAPAkAAAAAAQleiUAAIMlcgCAoSUiYXN0AGUkbyQBCwCBtgA7bGokayS2QGwAZQDsABgDaQJ1JAAAAAB4JG0AAKDzKgCg/Sp5AD9kcgCAAmNpbXB0AIUkiCSLJJkSjyRuAHQAJWBvAGQALmBpAGwAAKAwIOUhbmsAoDEgcgAA4DXYLd2AAWltbwCdJKAkpCR2oMYD1WNtAGEA9AD+B24AZQAAoA4m9KHAA64kAAC0JGMjaGZvcmsAAKDUItZjAAFhdbgkxCRuAAABY2u9JMIkawBooA8hAKAOIfYAaRpzAACkKwBhYmNkZW1zdNMkIRPXJNsk4STjJOck6yTjIWlyAKAjKmkAcgAAoCIqAAFvdYsW3yQAoCUqAKByKm4AO4CxALFAaQBtAACgJip3AG8AAKAnKoABaXB1APUk+iT+JO4idGludACgFSpmAADgNdhh3W4AZAA7gKMAo0CApHoiRWFjZWlub3N1ABMlFSUYJRslTCVRJVklSSV1JQCgsypwAACgtyp1AOUAPwtjoK8qgKJ6ImFjZW5zACclLSU0JTYlSSVwAHAAcgBvAPgAFyV1AHIAbAB5AGUA8QA/C/EAOAuAAWFlcwA8JUElRSXwInByb3gAoLkqcQBxAACgtSppAG0AAKDoImkA7QBEC20AZQDzoDIgIguAAUVhcwBDJVclRSXwAEAlgAFkZnAATwtfJXElgAFhbHMAZSVpJW0l7CFhcgCgLiPpIW5lAKASI/UhcmYAoBMjdKAdIu8AWQvyIWVsAKCwIgABY2l9JYElcgAA4DXYxdzIY24iY3NwAACgCCAAA2Zpb3BzdZElKxuVJZolnyWkJXIAAOA12C7dcABmAADgNdhi3XIiaW1lAACgVyBjAHIAAOA12MbcgAFhZW8AqiW6JcAldAAAAWVpryW2JXIAbgBpAG8AbgDzABkFbgB0AACgFipzAHQAZaA/APEACRj0AG0LgApBQkhhYmNkZWZoaWxtbm9wcnN0dXgA4yXyJfYl+iVpJpAmpia9JtUm5ib4JlonaCdxJ3UnnietJ7EnyCfiJ+cngAFhcnQA6SXsJe4lcgDyAJkM8gD6AuEhaWwAoBwpYQByAPIA3BVhAHIAAKBkKYADY2RlbnFydAAGJhAmEyYYJiYmKyZaJgABZXUKJg0mAOA9IjEDdABlAFVhaQDjACAN7SJwdHl2AKCzKWcAgKHpJ2RlbAAgJiImJCYAoJIpAKClKeUA9wt1AG8AO4C7ALtAcgAApZIhYWJjZmhscHN0dz0mQCZFJkcmSiZMJk4mUSZVJlgmcAAAoHUpZqDlIXMAAKAgKQCgMylzAACgHinrALka8ACVHmwAAKBFKWkAbQAAoHQpbAAAoKMhAKCdIQABYWleJmImaQBsAACgGilvAG6gNiJhAGwA8wB2C4ABYWJyAG8mciZ2JnIA8gAvEnIAawAAoHMnAAFha3omgSZjAAABZWt/JoAmfWBdYAABZXOFJocmAKCMKWwAAAFkdYwmjiYAoI4pAKCQKQACYWV1eZcmmiajJqUm8iFvbllhAAFkaZ4moSZpAGwAV2HsAA8M4gCAJkBkAAJjbHFzrSawJrUmuiZhAACgNylkImhhcgAAoGkpdQBvAPKgHSCjAWgAAKCzIYABYWNnAMMm0iaUC2wAgKEcIWlwcwDLJs4migxuAOUAoAxhAHIA9ADaC3QAAKCtJYABaWxyANsm3ybjJvMhaHQAoH0pbwBvAPIANgwA4DXYL90AAWFv6ib1JnIAAAFkde8m8SYAoMEhbKDAIQCgbCl2oMED8WOAAWducwD+Jk4nUCdoAHQAAANhaGxyc3QKJxInISc1Jz0nRydyInJvdwB0oJIhYQDpAFYmYSNycG9vbgAAAWR1GiceJ28AdwDuAPAmcAAAoMAh5SFmdAABYWgnJy0ncgByAG8AdwDzAAkMYQByAHAAbwBvAG4A8wATBGklZ2h0YXJyb3dzAACgySFxAHUAaQBnAGEAcgByAG8A9wBZJugkcmVldGltZXMAoMwiZwDaYmkAbgBnAGQAbwB0AHMAZQDxABwYgAFhaG0AYCdjJ2YncgDyAAkMYQDyABMEAKAPIG8idXN0AGGgsSPjIWhlAKCxI+0haWQAoO4qAAJhYnB0fCeGJ4knmScAAW5ygCeDJ2cAAKDtJ3IAAKD+IXIA6wAcDIABYWZsAI8nkieVJ3IAAKCGKQDgNdhj3XUAcwAAoC4qaSJtZXMAAKA1KgABYXCiJ6gncgBnoCkAdAAAoJQp7yJsaW50AKASKmEAcgDyADwnAAJhY2hxuCe8J6EMwCfxIXVvAKA6IHIAAOA12MfcAAFidYAmxCdvAPKgGSCoAYABaGlyAM4n0ifWJ3IAZQDlAE0n7SFlcwCgyiJpAIChuSVlZmwAXAxjEt4n9CFyaQCgzinsInVoYXIAoGgpAKAeIWENBSgJKA0oSyhVKIYoAACLKLAoAAAAAOMo5ygAABApJCkxKW0pcSmHKaYpAACYKgAAAACxKmMidXRlAFthcQB1AO8ABR+ApHsiRWFjZWlucHN5ABwoHignKCooLygyKEEoRihJKACgtCrwASMoAAAlKACguCpvAG4AYWF1AOUAgw1koLAqaQBsAF9hcgBjAF1hgAFFYXMAOCg6KD0oAKC2KnAAAKC6KmkAbQAAoOki7yJsaW50AKATKmkA7QCIDUFkbwB0AGKixSKRFgAAAABTKACgZiqAA0FhY21zdHgAYChkKG8ocyh1KHkogihyAHIAAKDYIXIAAAFocmkoayjrAJAab6CYIfcAzAd0ADuApwCnQGkAO2D3IWFyAKApKW0AAAFpbn4ozQBuAHUA8wDOAHQAAKA2J3IA7+A12DDdIxkAAmFjb3mRKJUonSisKHIAcAAAoG8mAAFoeZkonChjAHkASWRIZHIAdABtAqUoAAAAAKgoaQDkAFsPYQByAGEA7ABsJDuArQCtQAABZ22zKLsobQBhAAChwwNmdroouijCY4CjPCJkZWdsbnByAMgozCjPKNMo1yjaKN4obwB0AACgairxoEMiCw5FoJ4qAKCgKkWgnSoAoJ8qZQAAoEYi7CF1cwCgJCrhIXJyAKByKWEAcgDyAPwMAAJhZWl07Sj8KAEpCCkAAWxz8Sj4KGwAcwBlAHQAbQDpAH8oaABwAACgMyrwImFyc2wAoOQpAAFkbFoPBSllAACgIyNloKoqc6CsKgDgrCoA/oABZmxwABUpGCkfKfQhY3lMZGKgLwBhoMQpcgAAoD8jZgAA4DXYZN1hAAABZHIoKRcDZQBzAHWgYCZpAHQAAKBgJoABY3N1ADYpRilhKQABYXU6KUApcABzoJMiAOCTIgD+cABzoJQiAOCUIgD+dQAAAWJwSylWKQChjyJlcz4NUCllAHQAZaCPIvEAPw0AoZAiZXNIDVspZQB0AGWgkCLxAEkNAKGhJWFmZilbBHIAZQFrKVwEAKChJWEAcgDyAAMNAAJjZW10dyl7KX8pgilyAADgNdjI3HQAbQDuAM4AaQDsAAYpYQByAOYAVw0AAWFyiimOKXIA5qAGJhESAAFhbpIpoylpImdodAAAAWVwmSmgKXAAcwBpAGwAbwDuANkXaADpAKAkcwCvYIACYmNtbnAArin8KY4NJSooKgCkgiJFZGVtbnByc7wpvinCKcgpzCnUKdgp3CkAoMUqbwB0AACgvSpkoIYibwB0AACgwyr1IWx0AKDBKgABRWXQKdIpAKDLKgCgiiLsIXVzAKC/KuEhcnIAoHkpgAFlaXUA4inxKfQpdAAAoYIiZW7oKewpcQDxoIYivSllAHEA8aCKItEpbQAAoMcqAAFicPgp+ikAoNUqAKDTKmMAgKJ7ImFjZW5zAAcqDSoUKhYqRihwAHAAcgBvAPgAIyh1AHIAbAB5AGUA8QCDDfEAfA2AAWFlcwAcKiIqPShwAHAAcgBvAPgAPChxAPEAOShnAACgaiYApoMiMTIzRWRlaGxtbnBzPCo/KkIqRSpHKlIqWCpjKmcqaypzKncqO4C5ALlAO4CyALJAO4CzALNAAKDGKgABb3NLKk4qdAAAoL4qdQBiAACg2CpkoIcibwB0AACgxCpzAAABb3VdKmAqbAAAoMknYgAAoNcq4SFycgCgeyn1IWx0AKDCKgABRWVvKnEqAKDMKgCgiyLsIXVzAKDAKoABZWl1AH0qjCqPKnQAAKGDImVugyqHKnEA8aCHIkYqZQBxAPGgiyJwKm0AAKDIKgABYnCTKpUqAKDUKgCg1iqAAUFhbgCdKqEqrCpyAHIAAKDZIXIAAAFocqYqqCrrAJUab6CZIfcAxQf3IWFyAKAqKWwAaQBnADuA3wDfQOELzyrZKtwq6SrsKvEqAAD1KjQrAAAAAAAAAAAAAEwrbCsAAHErvSsAAAAAAADRK3IC1CoAAAAA2CrnIWV0AKAWI8RjcgDrAOUKgAFhZXkA4SrkKucq8iFvbmVh5CFpbGNhQmRvAPQAIg5sInJlYwAAoBUjcgAA4DXYMd0AAmVpa2/7KhIrKCsuK/IBACsAAAkrZQAAATRm6g0EK28AcgDlAOsNYQBzorgDECsAAAAAEit5AG0A0WMAAWNuFislK2sAAAFhcxsrIStwAHAAcgBvAPgAFw5pAG0AAKA8InMA8AD9DQABYXMsKyEr8AAXDnIAbgA7gP4A/kDsATgrOyswG2QA5QBnAmUAcwCAgdcAO2JkAEMrRCtJK9dAYaCgInIAAKAxKgCgMCqAAWVwcwBRK1MraSvhAAkh4qKkIlsrXysAAAAAYytvAHQAAKA2I2kAcgAAoPEqb+A12GXdcgBrAACg2irhAHgociJpbWUAAKA0IIABYWlwAHYreSu3K2QA5QC+DYADYWRlbXBzdACFK6MrmiunK6wrsCuzK24iZ2xlAACitSVkbHFykCuUK5ornCvvIXduAKC/JeUhZnRloMMl8QACBwCgXCJpImdodABloLkl8QBdDG8AdAAAoOwlaSJudXMAAKA6KuwhdXMAoDkqYgAAoM0p6SFtZQCgOyrlInppdW0AoOIjgAFjaHQAwivKK80rAAFyecYrySsA4DXYydxGZGMAeQBbZPIhb2tnYQABaW/UK9creAD0ANERaCJlYWQAAAFsct4r5ytlAGYAdABhAHIAcgBvAPcAXQbpJGdodGFycm93AKCgIQAJQUhhYmNkZmdobG1vcHJzdHV3CiwNLBEsHSwnLDEsQCxLLFIsYix6LIQsjyzLLOgs7Sz/LAotcgDyAAkDYQByAACgYykAAWNyFSwbLHUAdABlADuA+gD6QPIACQ1yAOMBIywAACUseQBeZHYAZQBtYQABaXkrLDAscgBjADuA+wD7QENkgAFhYmgANyw6LD0scgDyANEO7CFhY3FhYQDyAOAOAAFpckQsSCzzIWh0AKB+KQDgNdgy3XIAYQB2AGUAO4D5APlAYQFWLF8scgAAAWxyWixcLACgvyEAoL4hbABrAACggCUAAWN0Zix2LG8CbCwAAAAAcyxyAG4AZaAcI3IAAKAcI28AcAAAoA8jcgBpAACg+CUAAWFsfiyBLGMAcgBrYTuAqACoQAABZ3CILIssbwBuAHNhZgAA4DXYZt0AA2FkaGxzdZksniynLLgsuyzFLHIAcgBvAPcACQ1vAHcAbgBhAHIAcgBvAPcA2A5hI3Jwb29uAAABbHKvLLMsZQBmAPQAWyxpAGcAaAD0AF0sdQDzAKYOaQAAocUDaGzBLMIs0mNvAG4AxWPwI2Fycm93cwCgyCGAAWNpdADRLOEs5CxvAtcsAAAAAN4scgBuAGWgHSNyAACgHSNvAHAAAKAOI24AZwBvYXIAaQAAoPklYwByAADgNdjK3IABZGlyAPMs9yz6LG8AdAAAoPAi7CFkZWlhaQBmoLUlAKC0JQABYW0DLQYtcgDyAMosbAA7gPwA/EDhIm5nbGUAoKcpgAdBQkRhY2RlZmxub3Byc3oAJy0qLTAtNC2bLZ0toS2/LcMtxy3TLdgt3C3gLfwtcgDyABADYQByAHag6CoAoOkqYQBzAOgA/gIAAW5yOC08LechcnQAoJwpgANla25wcnN0AJkpSC1NLVQtXi1iLYItYQBwAHAA4QAaHG8AdABoAGkAbgDnAKEXgAFoaXIAoSmzJFotbwBwAPQAdCVooJUh7wD4JgABaXVmLWotZwBtAOEAuygAAWJwbi14LXMjZXRuZXEAceCKIgD+AODLKgD+cyNldG5lcQBx4IsiAP4A4MwqAP4AAWhyhi2KLWUAdADhABIraSNhbmdsZQAAAWxyki2WLeUhZnQAoLIiaSJnaHQAAKCzInkAMmThIXNoAKCiIoABZWxyAKcttC24LWKiKCKuLQAAAACyLWEAcgAAoLsicQAAoFoi7CFpcACg7iIAAWJ0vC1eD2EA8gBfD3IAAOA12DPddAByAOkAlS1zAHUAAAFicM0t0C0A4IIi0iAA4IMi0iBwAGYAAOA12GfdcgBvAPAAWQt0AHIA6QCaLQABY3XkLegtcgAA4DXYy9wAAWJw7C30LW4AAAFFZXUt8S0A4IoiAP5uAAABRWV/LfktAOCLIgD+6SJnemFnAKCaKYADY2Vmb3BycwANLhAuJS4pLiMuLi40LukhcmN1YQABZGkULiEuAAFiZxguHC5hAHIAAKBfKmUAcaAnIgCgWSLlIXJwAKAYIXIAAOA12DTdcABmAADgNdho3WWgQCJhAHQA6ABqD2MAcgAA4DXYzNzjCuQRUC4AAFQuAABYLmIuAAAAAGMubS5wLnQuAAAAAIguki4AAJouJxIqEnQAcgDpAB0ScgAA4DXYNd0AAUFhWy5eLnIA8gDnAnIA8gCTB75jAAFBYWYuaS5yAPIA4AJyAPIAjAdhAPAAeh5pAHMAAKD7IoABZHB0APgReS6DLgABZmx9LoAuAOA12GnddQDzAP8RaQBtAOUABBIAAUFhiy6OLnIA8gDuAnIA8gCaBwABY3GVLgoScgAA4DXYzdwAAXB0nS6hLmwAdQDzACUScgDpACASAARhY2VmaW9zdbEuvC7ELsguzC7PLtQu2S5jAAABdXm2LrsudABlADuA/QD9QE9kAAFpecAuwy5yAGMAd2FLZG4AO4ClAKVAcgAA4DXYNt1jAHkAV2RwAGYAAOA12GrdYwByAADgNdjO3AABY23dLt8ueQBOZGwAO4D/AP9AAAVhY2RlZmhpb3N38y73Lv8uAi8MLxAvEy8YLx0vIi9jInV0ZQB6YQABYXn7Lv4u8iFvbn5hN2RvAHQAfGEAAWV0Bi8KL3QAcgDmAB8QYQC2Y3IAAOA12DfdYwB5ADZk5yJyYXJyAKDdIXAAZgAA4DXYa91jAHIAAOA12M/cAAFqbiYvKC8AoA0gagAAoAwg"),xmlDecodeTree=decodeBase64("AAJhZ2xxBwARABMAFQBtAg0AAAAAAA8AcAAmYG8AcwAnYHQAPmB0ADxg9SFvdCJg");var BinTrieFlags;(function(sn){sn[sn.VALUE_LENGTH=49152]="VALUE_LENGTH",sn[sn.FLAG13=8192]="FLAG13",sn[sn.BRANCH_LENGTH=8064]="BRANCH_LENGTH",sn[sn.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));var CharCodes$1;(function(sn){sn[sn.NUM=35]="NUM",sn[sn.SEMI=59]="SEMI",sn[sn.EQUALS=61]="EQUALS",sn[sn.ZERO=48]="ZERO",sn[sn.NINE=57]="NINE",sn[sn.LOWER_A=97]="LOWER_A",sn[sn.LOWER_F=102]="LOWER_F",sn[sn.LOWER_X=120]="LOWER_X",sn[sn.LOWER_Z=122]="LOWER_Z",sn[sn.UPPER_A=65]="UPPER_A",sn[sn.UPPER_F=70]="UPPER_F",sn[sn.UPPER_Z=90]="UPPER_Z"})(CharCodes$1||(CharCodes$1={}));const TO_LOWER_BIT=32;function isNumber(sn){return sn>=CharCodes$1.ZERO&&sn<=CharCodes$1.NINE}function isHexadecimalCharacter(sn){return sn>=CharCodes$1.UPPER_A&&sn<=CharCodes$1.UPPER_F||sn>=CharCodes$1.LOWER_A&&sn<=CharCodes$1.LOWER_F}function isAsciiAlphaNumeric(sn){return sn>=CharCodes$1.UPPER_A&&sn<=CharCodes$1.UPPER_Z||sn>=CharCodes$1.LOWER_A&&sn<=CharCodes$1.LOWER_Z||isNumber(sn)}function isEntityInAttributeInvalidEnd(sn){return sn===CharCodes$1.EQUALS||isAsciiAlphaNumeric(sn)}var EntityDecoderState;(function(sn){sn[sn.EntityStart=0]="EntityStart",sn[sn.NumericStart=1]="NumericStart",sn[sn.NumericDecimal=2]="NumericDecimal",sn[sn.NumericHex=3]="NumericHex",sn[sn.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(sn){sn[sn.Legacy=0]="Legacy",sn[sn.Strict=1]="Strict",sn[sn.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(O,rn,an){this.decodeTree=O,this.emitCodePoint=rn,this.errors=an,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict,this.runConsumed=0}startEntity(O){this.decodeMode=O,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1,this.runConsumed=0}write(O,rn){switch(this.state){case EntityDecoderState.EntityStart:return O.charCodeAt(rn)===CharCodes$1.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(O,rn+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(O,rn));case EntityDecoderState.NumericStart:return this.stateNumericStart(O,rn);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(O,rn);case EntityDecoderState.NumericHex:return this.stateNumericHex(O,rn);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(O,rn)}}stateNumericStart(O,rn){return rn>=O.length?-1:(O.charCodeAt(rn)|TO_LOWER_BIT)===CharCodes$1.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(O,rn+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(O,rn))}stateNumericHex(O,rn){for(;rn<O.length;){const an=O.charCodeAt(rn);if(isNumber(an)||isHexadecimalCharacter(an)){const un=an<=CharCodes$1.NINE?an-CharCodes$1.ZERO:(an|TO_LOWER_BIT)-CharCodes$1.LOWER_A+10;this.result=this.result*16+un,this.consumed++,rn++}else return this.emitNumericEntity(an,3)}return-1}stateNumericDecimal(O,rn){for(;rn<O.length;){const an=O.charCodeAt(rn);if(isNumber(an))this.result=this.result*10+(an-CharCodes$1.ZERO),this.consumed++,rn++;else return this.emitNumericEntity(an,2)}return-1}emitNumericEntity(O,rn){var an;if(this.consumed<=rn)return(an=this.errors)===null||an===void 0||an.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(O===CharCodes$1.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(O!==CharCodes$1.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(O,rn){const{decodeTree:an}=this;let un=an[this.treeIndex],dn=(un&BinTrieFlags.VALUE_LENGTH)>>14;for(;rn<O.length;){if(dn===0&&(un&BinTrieFlags.FLAG13)!==0){const mn=(un&BinTrieFlags.BRANCH_LENGTH)>>7;if(this.runConsumed===0){const xn=un&BinTrieFlags.JUMP_TABLE;if(O.charCodeAt(rn)!==xn)return this.result===0?0:this.emitNotTerminatedNamedEntity();rn++,this.excess++,this.runConsumed++}for(;this.runConsumed<mn;){if(rn>=O.length)return-1;const xn=this.runConsumed-1,gn=an[this.treeIndex+1+(xn>>1)],wn=xn%2===0?gn&255:gn>>8&255;if(O.charCodeAt(rn)!==wn)return this.runConsumed=0,this.result===0?0:this.emitNotTerminatedNamedEntity();rn++,this.excess++,this.runConsumed++}this.runConsumed=0,this.treeIndex+=1+(mn>>1),un=an[this.treeIndex],dn=(un&BinTrieFlags.VALUE_LENGTH)>>14}if(rn>=O.length)break;const hn=O.charCodeAt(rn);if(hn===CharCodes$1.SEMI&&dn!==0&&(un&BinTrieFlags.FLAG13)!==0)return this.emitNamedEntityData(this.treeIndex,dn,this.consumed+this.excess);if(this.treeIndex=determineBranch(an,un,this.treeIndex+Math.max(1,dn),hn),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(dn===0||isEntityInAttributeInvalidEnd(hn))?0:this.emitNotTerminatedNamedEntity();if(un=an[this.treeIndex],dn=(un&BinTrieFlags.VALUE_LENGTH)>>14,dn!==0){if(hn===CharCodes$1.SEMI)return this.emitNamedEntityData(this.treeIndex,dn,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(un&BinTrieFlags.FLAG13)===0&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}rn++,this.excess++}return-1}emitNotTerminatedNamedEntity(){var O;const{result:rn,decodeTree:an}=this,un=(an[rn]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(rn,un,this.consumed),(O=this.errors)===null||O===void 0||O.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(O,rn,an){const{decodeTree:un}=this;return this.emitCodePoint(rn===1?un[O]&~(BinTrieFlags.VALUE_LENGTH|BinTrieFlags.FLAG13):un[O+1],an),rn===3&&this.emitCodePoint(un[O+2],an),an}end(){var O;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function determineBranch(sn,O,rn,an){const un=(O&BinTrieFlags.BRANCH_LENGTH)>>7,dn=O&BinTrieFlags.JUMP_TABLE;if(un===0)return dn!==0&&an===dn?rn:-1;if(dn){const gn=an-dn;return gn<0||gn>=un?-1:sn[rn+gn]-1}const hn=un+1>>1;let mn=0,xn=un-1;for(;mn<=xn;){const gn=mn+xn>>>1,wn=gn>>1,An=sn[rn+wn]>>(gn&1)*8&255;if(An<an)mn=gn+1;else if(An>an)xn=gn-1;else return sn[rn+hn+gn]}return-1}var CharCodes;(function(sn){sn[sn.Tab=9]="Tab",sn[sn.NewLine=10]="NewLine",sn[sn.FormFeed=12]="FormFeed",sn[sn.CarriageReturn=13]="CarriageReturn",sn[sn.Space=32]="Space",sn[sn.ExclamationMark=33]="ExclamationMark",sn[sn.Number=35]="Number",sn[sn.Amp=38]="Amp",sn[sn.SingleQuote=39]="SingleQuote",sn[sn.DoubleQuote=34]="DoubleQuote",sn[sn.Dash=45]="Dash",sn[sn.Slash=47]="Slash",sn[sn.Zero=48]="Zero",sn[sn.Nine=57]="Nine",sn[sn.Semi=59]="Semi",sn[sn.Lt=60]="Lt",sn[sn.Eq=61]="Eq",sn[sn.Gt=62]="Gt",sn[sn.Questionmark=63]="Questionmark",sn[sn.UpperA=65]="UpperA",sn[sn.LowerA=97]="LowerA",sn[sn.UpperF=70]="UpperF",sn[sn.LowerF=102]="LowerF",sn[sn.UpperZ=90]="UpperZ",sn[sn.LowerZ=122]="LowerZ",sn[sn.LowerX=120]="LowerX",sn[sn.OpeningSquareBracket=91]="OpeningSquareBracket"})(CharCodes||(CharCodes={}));var State;(function(sn){sn[sn.Text=1]="Text",sn[sn.BeforeTagName=2]="BeforeTagName",sn[sn.InTagName=3]="InTagName",sn[sn.InSelfClosingTag=4]="InSelfClosingTag",sn[sn.BeforeClosingTagName=5]="BeforeClosingTagName",sn[sn.InClosingTagName=6]="InClosingTagName",sn[sn.AfterClosingTagName=7]="AfterClosingTagName",sn[sn.BeforeAttributeName=8]="BeforeAttributeName",sn[sn.InAttributeName=9]="InAttributeName",sn[sn.AfterAttributeName=10]="AfterAttributeName",sn[sn.BeforeAttributeValue=11]="BeforeAttributeValue",sn[sn.InAttributeValueDq=12]="InAttributeValueDq",sn[sn.InAttributeValueSq=13]="InAttributeValueSq",sn[sn.InAttributeValueNq=14]="InAttributeValueNq",sn[sn.BeforeDeclaration=15]="BeforeDeclaration",sn[sn.InDeclaration=16]="InDeclaration",sn[sn.InProcessingInstruction=17]="InProcessingInstruction",sn[sn.BeforeComment=18]="BeforeComment",sn[sn.CDATASequence=19]="CDATASequence",sn[sn.InSpecialComment=20]="InSpecialComment",sn[sn.InCommentLike=21]="InCommentLike",sn[sn.BeforeSpecialS=22]="BeforeSpecialS",sn[sn.BeforeSpecialT=23]="BeforeSpecialT",sn[sn.SpecialStartSequence=24]="SpecialStartSequence",sn[sn.InSpecialTag=25]="InSpecialTag",sn[sn.InEntity=26]="InEntity"})(State||(State={}));function isWhitespace(sn){return sn===CharCodes.Space||sn===CharCodes.NewLine||sn===CharCodes.Tab||sn===CharCodes.FormFeed||sn===CharCodes.CarriageReturn}function isEndOfTagSection(sn){return sn===CharCodes.Slash||sn===CharCodes.Gt||isWhitespace(sn)}function isASCIIAlpha(sn){return sn>=CharCodes.LowerA&&sn<=CharCodes.LowerZ||sn>=CharCodes.UpperA&&sn<=CharCodes.UpperZ}var QuoteType;(function(sn){sn[sn.NoValue=0]="NoValue",sn[sn.Unquoted=1]="Unquoted",sn[sn.Single=2]="Single",sn[sn.Double=3]="Double"})(QuoteType||(QuoteType={}));const Sequences={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class Tokenizer{constructor({xmlMode:O=!1,decodeEntities:rn=!0},an){this.cbs=an,this.state=State.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=State.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=O,this.decodeEntities=rn,this.entityDecoder=new EntityDecoder(O?xmlDecodeTree:htmlDecodeTree,(un,dn)=>this.emitCodePoint(un,dn))}reset(){this.state=State.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=State.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(O){this.offset+=this.buffer.length,this.buffer=O,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(O){O===CharCodes.Lt||!this.decodeEntities&&this.fastForwardTo(CharCodes.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=State.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&O===CharCodes.Amp&&this.startEntity()}stateSpecialStartSequence(O){const rn=this.sequenceIndex===this.currentSequence.length;if(!(rn?isEndOfTagSection(O):(O|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!rn){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=State.InTagName,this.stateInTagName(O)}stateInSpecialTag(O){if(this.sequenceIndex===this.currentSequence.length){if(O===CharCodes.Gt||isWhitespace(O)){const rn=this.index-this.currentSequence.length;if(this.sectionStart<rn){const an=this.index;this.index=rn,this.cbs.ontext(this.sectionStart,rn),this.index=an}this.isSpecial=!1,this.sectionStart=rn+2,this.stateInClosingTagName(O);return}this.sequenceIndex=0}(O|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Sequences.TitleEnd?this.decodeEntities&&O===CharCodes.Amp&&this.startEntity():this.fastForwardTo(CharCodes.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(O===CharCodes.Lt)}stateCDATASequence(O){O===Sequences.Cdata[this.sequenceIndex]?++this.sequenceIndex===Sequences.Cdata.length&&(this.state=State.InCommentLike,this.currentSequence=Sequences.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=State.InDeclaration,this.stateInDeclaration(O))}fastForwardTo(O){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===O)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(O){O===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Sequences.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=State.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):O!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(O){return this.xmlMode?!isEndOfTagSection(O):isASCIIAlpha(O)}startSpecial(O,rn){this.isSpecial=!0,this.currentSequence=O,this.sequenceIndex=rn,this.state=State.SpecialStartSequence}stateBeforeTagName(O){if(O===CharCodes.ExclamationMark)this.state=State.BeforeDeclaration,this.sectionStart=this.index+1;else if(O===CharCodes.Questionmark)this.state=State.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(O)){const rn=O|32;this.sectionStart=this.index,this.xmlMode?this.state=State.InTagName:rn===Sequences.ScriptEnd[2]?this.state=State.BeforeSpecialS:rn===Sequences.TitleEnd[2]||rn===Sequences.XmpEnd[2]?this.state=State.BeforeSpecialT:this.state=State.InTagName}else O===CharCodes.Slash?this.state=State.BeforeClosingTagName:(this.state=State.Text,this.stateText(O))}stateInTagName(O){isEndOfTagSection(O)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=State.BeforeAttributeName,this.stateBeforeAttributeName(O))}stateBeforeClosingTagName(O){isWhitespace(O)||(O===CharCodes.Gt?this.state=State.Text:(this.state=this.isTagStartChar(O)?State.InClosingTagName:State.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(O){(O===CharCodes.Gt||isWhitespace(O))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=State.AfterClosingTagName,this.stateAfterClosingTagName(O))}stateAfterClosingTagName(O){(O===CharCodes.Gt||this.fastForwardTo(CharCodes.Gt))&&(this.state=State.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(O){O===CharCodes.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=State.InSpecialTag,this.sequenceIndex=0):this.state=State.Text,this.sectionStart=this.index+1):O===CharCodes.Slash?this.state=State.InSelfClosingTag:isWhitespace(O)||(this.state=State.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(O){O===CharCodes.Gt?(this.cbs.onselfclosingtag(this.index),this.state=State.Text,this.sectionStart=this.index+1,this.isSpecial=!1):isWhitespace(O)||(this.state=State.BeforeAttributeName,this.stateBeforeAttributeName(O))}stateInAttributeName(O){(O===CharCodes.Eq||isEndOfTagSection(O))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=State.AfterAttributeName,this.stateAfterAttributeName(O))}stateAfterAttributeName(O){O===CharCodes.Eq?this.state=State.BeforeAttributeValue:O===CharCodes.Slash||O===CharCodes.Gt?(this.cbs.onattribend(QuoteType.NoValue,this.sectionStart),this.sectionStart=-1,this.state=State.BeforeAttributeName,this.stateBeforeAttributeName(O)):isWhitespace(O)||(this.cbs.onattribend(QuoteType.NoValue,this.sectionStart),this.state=State.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(O){O===CharCodes.DoubleQuote?(this.state=State.InAttributeValueDq,this.sectionStart=this.index+1):O===CharCodes.SingleQuote?(this.state=State.InAttributeValueSq,this.sectionStart=this.index+1):isWhitespace(O)||(this.sectionStart=this.index,this.state=State.InAttributeValueNq,this.stateInAttributeValueNoQuotes(O))}handleInAttributeValue(O,rn){O===rn||!this.decodeEntities&&this.fastForwardTo(rn)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(rn===CharCodes.DoubleQuote?QuoteType.Double:QuoteType.Single,this.index+1),this.state=State.BeforeAttributeName):this.decodeEntities&&O===CharCodes.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(O){this.handleInAttributeValue(O,CharCodes.DoubleQuote)}stateInAttributeValueSingleQuotes(O){this.handleInAttributeValue(O,CharCodes.SingleQuote)}stateInAttributeValueNoQuotes(O){isWhitespace(O)||O===CharCodes.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(QuoteType.Unquoted,this.index),this.state=State.BeforeAttributeName,this.stateBeforeAttributeName(O)):this.decodeEntities&&O===CharCodes.Amp&&this.startEntity()}stateBeforeDeclaration(O){O===CharCodes.OpeningSquareBracket?(this.state=State.CDATASequence,this.sequenceIndex=0):this.state=O===CharCodes.Dash?State.BeforeComment:State.InDeclaration}stateInDeclaration(O){(O===CharCodes.Gt||this.fastForwardTo(CharCodes.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=State.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(O){(O===CharCodes.Gt||this.fastForwardTo(CharCodes.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=State.Text,this.sectionStart=this.index+1)}stateBeforeComment(O){O===CharCodes.Dash?(this.state=State.InCommentLike,this.currentSequence=Sequences.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=State.InDeclaration}stateInSpecialComment(O){(O===CharCodes.Gt||this.fastForwardTo(CharCodes.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=State.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(O){const rn=O|32;rn===Sequences.ScriptEnd[3]?this.startSpecial(Sequences.ScriptEnd,4):rn===Sequences.StyleEnd[3]?this.startSpecial(Sequences.StyleEnd,4):(this.state=State.InTagName,this.stateInTagName(O))}stateBeforeSpecialT(O){switch(O|32){case Sequences.TitleEnd[3]:{this.startSpecial(Sequences.TitleEnd,4);break}case Sequences.TextareaEnd[3]:{this.startSpecial(Sequences.TextareaEnd,4);break}case Sequences.XmpEnd[3]:{this.startSpecial(Sequences.XmpEnd,4);break}default:this.state=State.InTagName,this.stateInTagName(O)}}startEntity(){this.baseState=this.state,this.state=State.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?DecodingMode.Strict:this.baseState===State.Text||this.baseState===State.InSpecialTag?DecodingMode.Legacy:DecodingMode.Attribute)}stateInEntity(){const O=this.index-this.offset,rn=this.entityDecoder.write(this.buffer,O);if(rn>=0)this.state=this.baseState,rn===0&&(this.index-=1);else{if(O<this.buffer.length&&this.buffer.charCodeAt(O)===CharCodes.Amp){this.state=this.baseState,this.index-=1;return}this.index=this.offset+this.buffer.length-1}}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===State.Text||this.state===State.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===State.InAttributeValueDq||this.state===State.InAttributeValueSq||this.state===State.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const O=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case State.Text:{this.stateText(O);break}case State.SpecialStartSequence:{this.stateSpecialStartSequence(O);break}case State.InSpecialTag:{this.stateInSpecialTag(O);break}case State.CDATASequence:{this.stateCDATASequence(O);break}case State.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(O);break}case State.InAttributeName:{this.stateInAttributeName(O);break}case State.InCommentLike:{this.stateInCommentLike(O);break}case State.InSpecialComment:{this.stateInSpecialComment(O);break}case State.BeforeAttributeName:{this.stateBeforeAttributeName(O);break}case State.InTagName:{this.stateInTagName(O);break}case State.InClosingTagName:{this.stateInClosingTagName(O);break}case State.BeforeTagName:{this.stateBeforeTagName(O);break}case State.AfterAttributeName:{this.stateAfterAttributeName(O);break}case State.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(O);break}case State.BeforeAttributeValue:{this.stateBeforeAttributeValue(O);break}case State.BeforeClosingTagName:{this.stateBeforeClosingTagName(O);break}case State.AfterClosingTagName:{this.stateAfterClosingTagName(O);break}case State.BeforeSpecialS:{this.stateBeforeSpecialS(O);break}case State.BeforeSpecialT:{this.stateBeforeSpecialT(O);break}case State.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(O);break}case State.InSelfClosingTag:{this.stateInSelfClosingTag(O);break}case State.InDeclaration:{this.stateInDeclaration(O);break}case State.BeforeDeclaration:{this.stateBeforeDeclaration(O);break}case State.BeforeComment:{this.stateBeforeComment(O);break}case State.InProcessingInstruction:{this.stateInProcessingInstruction(O);break}case State.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===State.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const O=this.buffer.length+this.offset;this.sectionStart>=O||(this.state===State.InCommentLike?this.currentSequence===Sequences.CdataEnd?this.cbs.oncdata(this.sectionStart,O,0):this.cbs.oncomment(this.sectionStart,O,0):this.state===State.InTagName||this.state===State.BeforeAttributeName||this.state===State.BeforeAttributeValue||this.state===State.AfterAttributeName||this.state===State.InAttributeName||this.state===State.InAttributeValueSq||this.state===State.InAttributeValueDq||this.state===State.InAttributeValueNq||this.state===State.InClosingTagName||this.cbs.ontext(this.sectionStart,O))}emitCodePoint(O,rn){this.baseState!==State.Text&&this.baseState!==State.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+rn,this.index=this.sectionStart-1,this.cbs.onattribentity(O)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+rn,this.index=this.sectionStart-1,this.cbs.ontextentity(O,this.sectionStart))}}const formTags=new Set(["input","option","optgroup","select","button","datalist","textarea"]),pTag=new Set(["p"]),tableSectionTags=new Set(["thead","tbody"]),ddtTags=new Set(["dd","dt"]),rtpTags=new Set(["rt","rp"]),openImpliesClose=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",pTag],["h1",pTag],["h2",pTag],["h3",pTag],["h4",pTag],["h5",pTag],["h6",pTag],["select",formTags],["input",formTags],["output",formTags],["button",formTags],["datalist",formTags],["textarea",formTags],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ddtTags],["dt",ddtTags],["address",pTag],["article",pTag],["aside",pTag],["blockquote",pTag],["details",pTag],["div",pTag],["dl",pTag],["fieldset",pTag],["figcaption",pTag],["figure",pTag],["footer",pTag],["form",pTag],["header",pTag],["hr",pTag],["main",pTag],["nav",pTag],["ol",pTag],["pre",pTag],["section",pTag],["table",pTag],["ul",pTag],["rt",rtpTags],["rp",rtpTags],["tbody",tableSectionTags],["tfoot",tableSectionTags]]),voidElements=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),foreignContextElements=new Set(["math","svg"]),htmlIntegrationElements=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),reNameEnd=/\s|\//;class Parser{constructor(O,rn={}){var an,un,dn,hn,mn,xn;this.options=rn,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=O??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(an=rn.lowerCaseTags)!==null&&an!==void 0?an:this.htmlMode,this.lowerCaseAttributeNames=(un=rn.lowerCaseAttributeNames)!==null&&un!==void 0?un:this.htmlMode,this.recognizeSelfClosing=(dn=rn.recognizeSelfClosing)!==null&&dn!==void 0?dn:!this.htmlMode,this.tokenizer=new((hn=rn.Tokenizer)!==null&&hn!==void 0?hn:Tokenizer)(this.options,this),this.foreignContext=[!this.htmlMode],(xn=(mn=this.cbs).onparserinit)===null||xn===void 0||xn.call(mn,this)}ontext(O,rn){var an,un;const dn=this.getSlice(O,rn);this.endIndex=rn-1,(un=(an=this.cbs).ontext)===null||un===void 0||un.call(an,dn),this.startIndex=rn}ontextentity(O,rn){var an,un;this.endIndex=rn-1,(un=(an=this.cbs).ontext)===null||un===void 0||un.call(an,fromCodePoint(O)),this.startIndex=rn}isVoidElement(O){return this.htmlMode&&voidElements.has(O)}onopentagname(O,rn){this.endIndex=rn;let an=this.getSlice(O,rn);this.lowerCaseTagNames&&(an=an.toLowerCase()),this.emitOpenTag(an)}emitOpenTag(O){var rn,an,un,dn;this.openTagStart=this.startIndex,this.tagname=O;const hn=this.htmlMode&&openImpliesClose.get(O);if(hn)for(;this.stack.length>0&&hn.has(this.stack[0]);){const mn=this.stack.shift();(an=(rn=this.cbs).onclosetag)===null||an===void 0||an.call(rn,mn,!0)}this.isVoidElement(O)||(this.stack.unshift(O),this.htmlMode&&(foreignContextElements.has(O)?this.foreignContext.unshift(!0):htmlIntegrationElements.has(O)&&this.foreignContext.unshift(!1))),(dn=(un=this.cbs).onopentagname)===null||dn===void 0||dn.call(un,O),this.cbs.onopentag&&(this.attribs={})}endOpenTag(O){var rn,an;this.startIndex=this.openTagStart,this.attribs&&((an=(rn=this.cbs).onopentag)===null||an===void 0||an.call(rn,this.tagname,this.attribs,O),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(O){this.endIndex=O,this.endOpenTag(!1),this.startIndex=O+1}onclosetag(O,rn){var an,un,dn,hn,mn,xn,gn,wn;this.endIndex=rn;let vn=this.getSlice(O,rn);if(this.lowerCaseTagNames&&(vn=vn.toLowerCase()),this.htmlMode&&(foreignContextElements.has(vn)||htmlIntegrationElements.has(vn))&&this.foreignContext.shift(),this.isVoidElement(vn))this.htmlMode&&vn==="br"&&((hn=(dn=this.cbs).onopentagname)===null||hn===void 0||hn.call(dn,"br"),(xn=(mn=this.cbs).onopentag)===null||xn===void 0||xn.call(mn,"br",{},!0),(wn=(gn=this.cbs).onclosetag)===null||wn===void 0||wn.call(gn,"br",!1));else{const An=this.stack.indexOf(vn);if(An!==-1)for(let Cn=0;Cn<=An;Cn++){const Sn=this.stack.shift();(un=(an=this.cbs).onclosetag)===null||un===void 0||un.call(an,Sn,Cn!==An)}else this.htmlMode&&vn==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=rn+1}onselfclosingtag(O){this.endIndex=O,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=O+1):this.onopentagend(O)}closeCurrentTag(O){var rn,an;const un=this.tagname;this.endOpenTag(O),this.stack[0]===un&&((an=(rn=this.cbs).onclosetag)===null||an===void 0||an.call(rn,un,!O),this.stack.shift())}onattribname(O,rn){this.startIndex=O;const an=this.getSlice(O,rn);this.attribname=this.lowerCaseAttributeNames?an.toLowerCase():an}onattribdata(O,rn){this.attribvalue+=this.getSlice(O,rn)}onattribentity(O){this.attribvalue+=fromCodePoint(O)}onattribend(O,rn){var an,un;this.endIndex=rn,(un=(an=this.cbs).onattribute)===null||un===void 0||un.call(an,this.attribname,this.attribvalue,O===QuoteType.Double?'"':O===QuoteType.Single?"'":O===QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(O){const rn=O.search(reNameEnd);let an=rn<0?O:O.substr(0,rn);return this.lowerCaseTagNames&&(an=an.toLowerCase()),an}ondeclaration(O,rn){this.endIndex=rn;const an=this.getSlice(O,rn);if(this.cbs.onprocessinginstruction){const un=this.getInstructionName(an);this.cbs.onprocessinginstruction(`!${un}`,`!${an}`)}this.startIndex=rn+1}onprocessinginstruction(O,rn){this.endIndex=rn;const an=this.getSlice(O,rn);if(this.cbs.onprocessinginstruction){const un=this.getInstructionName(an);this.cbs.onprocessinginstruction(`?${un}`,`?${an}`)}this.startIndex=rn+1}oncomment(O,rn,an){var un,dn,hn,mn;this.endIndex=rn,(dn=(un=this.cbs).oncomment)===null||dn===void 0||dn.call(un,this.getSlice(O,rn-an)),(mn=(hn=this.cbs).oncommentend)===null||mn===void 0||mn.call(hn),this.startIndex=rn+1}oncdata(O,rn,an){var un,dn,hn,mn,xn,gn,wn,vn,An,Cn;this.endIndex=rn;const Sn=this.getSlice(O,rn-an);!this.htmlMode||this.options.recognizeCDATA?((dn=(un=this.cbs).oncdatastart)===null||dn===void 0||dn.call(un),(mn=(hn=this.cbs).ontext)===null||mn===void 0||mn.call(hn,Sn),(gn=(xn=this.cbs).oncdataend)===null||gn===void 0||gn.call(xn)):((vn=(wn=this.cbs).oncomment)===null||vn===void 0||vn.call(wn,`[CDATA[${Sn}]]`),(Cn=(An=this.cbs).oncommentend)===null||Cn===void 0||Cn.call(An)),this.startIndex=rn+1}onend(){var O,rn;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let an=0;an<this.stack.length;an++)this.cbs.onclosetag(this.stack[an],!0)}(rn=(O=this.cbs).onend)===null||rn===void 0||rn.call(O)}reset(){var O,rn,an,un;(rn=(O=this.cbs).onreset)===null||rn===void 0||rn.call(O),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(un=(an=this.cbs).onparserinit)===null||un===void 0||un.call(an,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(O){this.reset(),this.end(O)}getSlice(O,rn){for(;O-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let an=this.buffers[0].slice(O-this.bufferOffset,rn-this.bufferOffset);for(;rn-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),an+=this.buffers[0].slice(0,rn-this.bufferOffset);return an}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(O){var rn,an;if(this.ended){(an=(rn=this.cbs).onerror)===null||an===void 0||an.call(rn,new Error(".write() after done!"));return}this.buffers.push(O),this.tokenizer.running&&(this.tokenizer.write(O),this.writeIndex++)}end(O){var rn,an;if(this.ended){(an=(rn=this.cbs).onerror)===null||an===void 0||an.call(rn,new Error(".end() after done!"));return}O&&this.write(O),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(O){this.write(O)}done(O){this.end(O)}}var isNative=!1,region=null,tbWindow=null;const parse={build:async sn=>{const O=new URL(sn,window.location.href).href,rn=await window.tb.libcurl.fetch(O);if(!rn)throw new Error(`Failed to fetch the source from ${sn}`);const an=await rn.text();if((an.startsWith("@native")||sn.endsWith(".tml")&&!an.startsWith("<body/>"))&&(isNative=!0),!isNative)return;console.warn("This functionality is not refined and may not work as expected."),tbWindow=document.createElement("window-body");const un=tbWindow.attachShadow({mode:"open"}),dn=new Parser({onopentag:(hn,mn)=>{if(hn==="region"){region=document.createElement("region");for(const gn in mn)region.setAttribute(gn,mn[gn])}const xn=document.createElement(hn);for(const gn in mn)xn.setAttribute(gn,mn[gn]);un.appendChild(xn)}},{decodeEntities:!0});return dn.write(an),dn.end(),console.log(tbWindow),tbWindow}};var define_process_env_default$1={};var t={0:()=>{},80:(sn,O)=>{const rn=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",an="["+rn+"]["+rn+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",un=new RegExp("^"+an+"$");O.isExist=function(dn){return dn!==void 0},O.isEmptyObject=function(dn){return Object.keys(dn).length===0},O.merge=function(dn,hn,mn){if(hn){const xn=Object.keys(hn),gn=xn.length;for(let wn=0;wn<gn;wn++)dn[xn[wn]]=mn==="strict"?[hn[xn[wn]]]:hn[xn[wn]]}},O.getValue=function(dn){return O.isExist(dn)?dn:""},O.isName=function(dn){return un.exec(dn)!=null},O.getAllMatches=function(dn,hn){const mn=[];let xn=hn.exec(dn);for(;xn;){const gn=[];gn.startIndex=hn.lastIndex-xn[0].length;const wn=xn.length;for(let vn=0;vn<wn;vn++)gn.push(xn[vn]);mn.push(gn),xn=hn.exec(dn)}return mn},O.nameRegexp=an},156:(sn,O,rn)=>{const{buildOptions:an}=rn(785),un=rn(385),{prettify:dn}=rn(978),hn=rn(993);sn.exports=class{constructor(mn){this.externalEntities={},this.options=an(mn)}parse(mn,xn){if(typeof mn!="string"){if(!mn.toString)throw new Error("XML data is accepted in String or Bytes[] form.");mn=mn.toString()}if(xn){xn===!0&&(xn={});const vn=hn.validate(mn,xn);if(vn!==!0)throw Error(`${vn.err.msg}:${vn.err.line}:${vn.err.col}`)}const gn=new un(this.options);gn.addExternalEntities(this.externalEntities);const wn=gn.parseXml(mn);return this.options.preserveOrder||wn===void 0?wn:dn(wn,this.options)}addEntity(mn,xn){if(xn.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(mn.indexOf("&")!==-1||mn.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(xn==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[mn]=xn}}},173:(sn,O,rn)=>{const an=rn(993),un=rn(156),dn=rn(179);sn.exports={XMLParser:un,XMLValidator:an,XMLBuilder:dn}},179:(sn,O,rn)=>{const an=rn(829),un=rn(940),dn={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(wn,vn){return vn},attributeValueProcessor:function(wn,vn){return vn},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function hn(wn){this.options=Object.assign({},dn,wn),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=un(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=gn),this.processTextOrObjNode=mn,this.options.format?(this.indentate=xn,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function mn(wn,vn,An,Cn){const Sn=this.j2x(wn,An+1,Cn.concat(vn));return wn[this.options.textNodeName]!==void 0&&Object.keys(wn).length===1?this.buildTextValNode(wn[this.options.textNodeName],vn,Sn.attrStr,An):this.buildObjectNode(Sn.val,vn,Sn.attrStr,An)}function xn(wn){return this.options.indentBy.repeat(wn)}function gn(wn){return!(!wn.startsWith(this.options.attributeNamePrefix)||wn===this.options.textNodeName)&&wn.substr(this.attrPrefixLen)}hn.prototype.build=function(wn){return this.options.preserveOrder?an(wn,this.options):(Array.isArray(wn)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(wn={[this.options.arrayNodeName]:wn}),this.j2x(wn,0,[]).val)},hn.prototype.j2x=function(wn,vn,An){let Cn="",Sn="";const Nn=An.join(".");for(let jn in wn)if(Object.prototype.hasOwnProperty.call(wn,jn))if(wn[jn]===void 0)this.isAttribute(jn)&&(Sn+="");else if(wn[jn]===null)this.isAttribute(jn)||jn===this.options.cdataPropName?Sn+="":jn[0]==="?"?Sn+=this.indentate(vn)+"<"+jn+"?"+this.tagEndChar:Sn+=this.indentate(vn)+"<"+jn+"/"+this.tagEndChar;else if(wn[jn]instanceof Date)Sn+=this.buildTextValNode(wn[jn],jn,"",vn);else if(typeof wn[jn]!="object"){const Hn=this.isAttribute(jn);if(Hn&&!this.ignoreAttributesFn(Hn,Nn))Cn+=this.buildAttrPairStr(Hn,""+wn[jn]);else if(!Hn)if(jn===this.options.textNodeName){let Bn=this.options.tagValueProcessor(jn,""+wn[jn]);Sn+=this.replaceEntitiesValue(Bn)}else Sn+=this.buildTextValNode(wn[jn],jn,"",vn)}else if(Array.isArray(wn[jn])){const Hn=wn[jn].length;let Bn="",On="";for(let Mn=0;Mn<Hn;Mn++){const Un=wn[jn][Mn];if(Un!==void 0)if(Un===null)jn[0]==="?"?Sn+=this.indentate(vn)+"<"+jn+"?"+this.tagEndChar:Sn+=this.indentate(vn)+"<"+jn+"/"+this.tagEndChar;else if(typeof Un=="object")if(this.options.oneListGroup){const Tn=this.j2x(Un,vn+1,An.concat(jn));Bn+=Tn.val,this.options.attributesGroupName&&Un.hasOwnProperty(this.options.attributesGroupName)&&(On+=Tn.attrStr)}else Bn+=this.processTextOrObjNode(Un,jn,vn,An);else if(this.options.oneListGroup){let Tn=this.options.tagValueProcessor(jn,Un);Tn=this.replaceEntitiesValue(Tn),Bn+=Tn}else Bn+=this.buildTextValNode(Un,jn,"",vn)}this.options.oneListGroup&&(Bn=this.buildObjectNode(Bn,jn,On,vn)),Sn+=Bn}else if(this.options.attributesGroupName&&jn===this.options.attributesGroupName){const Hn=Object.keys(wn[jn]),Bn=Hn.length;for(let On=0;On<Bn;On++)Cn+=this.buildAttrPairStr(Hn[On],""+wn[jn][Hn[On]])}else Sn+=this.processTextOrObjNode(wn[jn],jn,vn,An);return{attrStr:Cn,val:Sn}},hn.prototype.buildAttrPairStr=function(wn,vn){return vn=this.options.attributeValueProcessor(wn,""+vn),vn=this.replaceEntitiesValue(vn),this.options.suppressBooleanAttributes&&vn==="true"?" "+wn:" "+wn+'="'+vn+'"'},hn.prototype.buildObjectNode=function(wn,vn,An,Cn){if(wn==="")return vn[0]==="?"?this.indentate(Cn)+"<"+vn+An+"?"+this.tagEndChar:this.indentate(Cn)+"<"+vn+An+this.closeTag(vn)+this.tagEndChar;{let Sn="</"+vn+this.tagEndChar,Nn="";return vn[0]==="?"&&(Nn="?",Sn=""),!An&&An!==""||wn.indexOf("<")!==-1?this.options.commentPropName!==!1&&vn===this.options.commentPropName&&Nn.length===0?this.indentate(Cn)+`<!--${wn}-->`+this.newLine:this.indentate(Cn)+"<"+vn+An+Nn+this.tagEndChar+wn+this.indentate(Cn)+Sn:this.indentate(Cn)+"<"+vn+An+Nn+">"+wn+Sn}},hn.prototype.closeTag=function(wn){let vn="";return this.options.unpairedTags.indexOf(wn)!==-1?this.options.suppressUnpairedNode||(vn="/"):vn=this.options.suppressEmptyNode?"/":`></${wn}`,vn},hn.prototype.buildTextValNode=function(wn,vn,An,Cn){if(this.options.cdataPropName!==!1&&vn===this.options.cdataPropName)return this.indentate(Cn)+`<![CDATA[${wn}]]>`+this.newLine;if(this.options.commentPropName!==!1&&vn===this.options.commentPropName)return this.indentate(Cn)+`<!--${wn}-->`+this.newLine;if(vn[0]==="?")return this.indentate(Cn)+"<"+vn+An+"?"+this.tagEndChar;{let Sn=this.options.tagValueProcessor(vn,wn);return Sn=this.replaceEntitiesValue(Sn),Sn===""?this.indentate(Cn)+"<"+vn+An+this.closeTag(vn)+this.tagEndChar:this.indentate(Cn)+"<"+vn+An+">"+Sn+"</"+vn+this.tagEndChar}},hn.prototype.replaceEntitiesValue=function(wn){if(wn&&wn.length>0&&this.options.processEntities)for(let vn=0;vn<this.options.entities.length;vn++){const An=this.options.entities[vn];wn=wn.replace(An.regex,An.val)}return wn},sn.exports=hn},180:sn=>{function O(gn){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wn){return typeof wn}:function(wn){return wn&&typeof Symbol=="function"&&wn.constructor===Symbol&&wn!==Symbol.prototype?"symbol":typeof wn},O(gn)}function rn(gn){var wn=typeof Map=="function"?new Map:void 0;return rn=function(vn){if(vn===null||(An=vn,Function.toString.call(An).indexOf("[native code]")===-1))return vn;var An;if(typeof vn!="function")throw new TypeError("Super expression must either be null or a function");if(wn!==void 0){if(wn.has(vn))return wn.get(vn);wn.set(vn,Cn)}function Cn(){return an(vn,arguments,dn(this).constructor)}return Cn.prototype=Object.create(vn.prototype,{constructor:{value:Cn,enumerable:!1,writable:!0,configurable:!0}}),un(Cn,vn)},rn(gn)}function an(gn,wn,vn){return an=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}})()?Reflect.construct:function(An,Cn,Sn){var Nn=[null];Nn.push.apply(Nn,Cn);var jn=new(Function.bind.apply(An,Nn));return Sn&&un(jn,Sn.prototype),jn},an.apply(null,arguments)}function un(gn,wn){return un=Object.setPrototypeOf||function(vn,An){return vn.__proto__=An,vn},un(gn,wn)}function dn(gn){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(wn){return wn.__proto__||Object.getPrototypeOf(wn)},dn(gn)}var hn=(function(gn){function wn(vn){var An;return(function(Cn,Sn){if(!(Cn instanceof Sn))throw new TypeError("Cannot call a class as a function")})(this,wn),(An=(function(Cn,Sn){return!Sn||O(Sn)!=="object"&&typeof Sn!="function"?(function(Nn){if(Nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn})(Cn):Sn})(this,dn(wn).call(this,vn))).name="ObjectPrototypeMutationError",An}return(function(vn,An){if(typeof An!="function"&&An!==null)throw new TypeError("Super expression must either be null or a function");vn.prototype=Object.create(An&&An.prototype,{constructor:{value:vn,writable:!0,configurable:!0}}),An&&un(vn,An)})(wn,gn),wn})(rn(Error));function mn(gn,wn){for(var vn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},An=wn.split("."),Cn=An.length,Sn=function(Hn){var Bn=An[Hn];if(!gn)return{v:void 0};if(Bn==="+"){if(Array.isArray(gn))return{v:gn.map(function(Mn,Un){var Tn=An.slice(Hn+1);return Tn.length>0?mn(Mn,Tn.join("."),vn):vn(gn,Un,An,Hn)})};var On=An.slice(0,Hn).join(".");throw new Error("Object at wildcard (".concat(On,") is not an array"))}gn=vn(gn,Bn,An,Hn)},Nn=0;Nn<Cn;Nn++){var jn=Sn(Nn);if(O(jn)==="object")return jn.v}return gn}function xn(gn,wn){return gn.length===wn+1}sn.exports={set:function(gn,wn,vn){if(O(gn)!="object"||gn===null||wn===void 0)return gn;if(typeof wn=="number")return gn[wn]=vn,gn[wn];try{return mn(gn,wn,function(An,Cn,Sn,Nn){if(An===Reflect.getPrototypeOf({}))throw new hn("Attempting to mutate Object.prototype");if(!An[Cn]){var jn=Number.isInteger(Number(Sn[Nn+1])),Hn=Sn[Nn+1]==="+";An[Cn]=jn||Hn?[]:{}}return xn(Sn,Nn)&&(An[Cn]=vn),An[Cn]})}catch(An){if(An instanceof hn)throw An;return gn}},get:function(gn,wn){if(O(gn)!="object"||gn===null||wn===void 0)return gn;if(typeof wn=="number")return gn[wn];try{return mn(gn,wn,function(vn,An){return vn[An]})}catch{return gn}},has:function(gn,wn){var vn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(O(gn)!="object"||gn===null||wn===void 0)return!1;if(typeof wn=="number")return wn in gn;try{var An=!1;return mn(gn,wn,function(Cn,Sn,Nn,jn){if(!xn(Nn,jn))return Cn&&Cn[Sn];An=vn.own?Cn.hasOwnProperty(Sn):Sn in Cn}),An}catch{return!1}},hasOwn:function(gn,wn,vn){return this.has(gn,wn,vn||{own:!0})},isIn:function(gn,wn,vn){var An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(O(gn)!="object"||gn===null||wn===void 0)return!1;try{var Cn=!1,Sn=!1;return mn(gn,wn,function(Nn,jn,Hn,Bn){return Cn=Cn||Nn===vn||!!Nn&&Nn[jn]===vn,Sn=xn(Hn,Bn)&&O(Nn)==="object"&&jn in Nn,Nn&&Nn[jn]}),An.validPath?Cn&&Sn:Cn}catch{return!1}},ObjectPrototypeMutationError:hn}},214:sn=>{var O,rn;O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn={rotl:function(an,un){return an<<un|an>>>32-un},rotr:function(an,un){return an<<32-un|an>>>un},endian:function(an){if(an.constructor==Number)return 16711935&rn.rotl(an,8)|4278255360&rn.rotl(an,24);for(var un=0;un<an.length;un++)an[un]=rn.endian(an[un]);return an},randomBytes:function(an){for(var un=[];an>0;an--)un.push(Math.floor(256*Math.random()));return un},bytesToWords:function(an){for(var un=[],dn=0,hn=0;dn<an.length;dn++,hn+=8)un[hn>>>5]|=an[dn]<<24-hn%32;return un},wordsToBytes:function(an){for(var un=[],dn=0;dn<32*an.length;dn+=8)un.push(an[dn>>>5]>>>24-dn%32&255);return un},bytesToHex:function(an){for(var un=[],dn=0;dn<an.length;dn++)un.push((an[dn]>>>4).toString(16)),un.push((15&an[dn]).toString(16));return un.join("")},hexToBytes:function(an){for(var un=[],dn=0;dn<an.length;dn+=2)un.push(parseInt(an.substr(dn,2),16));return un},bytesToBase64:function(an){for(var un=[],dn=0;dn<an.length;dn+=3)for(var hn=an[dn]<<16|an[dn+1]<<8|an[dn+2],mn=0;mn<4;mn++)8*dn+6*mn<=8*an.length?un.push(O.charAt(hn>>>6*(3-mn)&63)):un.push("=");return un.join("")},base64ToBytes:function(an){an=an.replace(/[^A-Z0-9+\/]/gi,"");for(var un=[],dn=0,hn=0;dn<an.length;hn=++dn%4)hn!=0&&un.push((O.indexOf(an.charAt(dn-1))&Math.pow(2,-2*hn+8)-1)<<2*hn|O.indexOf(an.charAt(dn))>>>6-2*hn);return un}},sn.exports=rn},221:(sn,O,rn)=>{(function(){var an=rn(214),un=rn(706).utf8,dn=rn(552),hn=rn(706).bin,mn=function(xn,gn){xn.constructor==String?xn=gn&&gn.encoding==="binary"?hn.stringToBytes(xn):un.stringToBytes(xn):dn(xn)?xn=Array.prototype.slice.call(xn,0):Array.isArray(xn)||xn.constructor===Uint8Array||(xn=xn.toString());for(var wn=an.bytesToWords(xn),vn=8*xn.length,An=1732584193,Cn=-271733879,Sn=-1732584194,Nn=271733878,jn=0;jn<wn.length;jn++)wn[jn]=16711935&(wn[jn]<<8|wn[jn]>>>24)|4278255360&(wn[jn]<<24|wn[jn]>>>8);wn[vn>>>5]|=128<<vn%32,wn[14+(vn+64>>>9<<4)]=vn;var Hn=mn._ff,Bn=mn._gg,On=mn._hh,Mn=mn._ii;for(jn=0;jn<wn.length;jn+=16){var Un=An,Tn=Cn,zn=Sn,Dn=Nn;An=Hn(An,Cn,Sn,Nn,wn[jn+0],7,-680876936),Nn=Hn(Nn,An,Cn,Sn,wn[jn+1],12,-389564586),Sn=Hn(Sn,Nn,An,Cn,wn[jn+2],17,606105819),Cn=Hn(Cn,Sn,Nn,An,wn[jn+3],22,-1044525330),An=Hn(An,Cn,Sn,Nn,wn[jn+4],7,-176418897),Nn=Hn(Nn,An,Cn,Sn,wn[jn+5],12,1200080426),Sn=Hn(Sn,Nn,An,Cn,wn[jn+6],17,-1473231341),Cn=Hn(Cn,Sn,Nn,An,wn[jn+7],22,-45705983),An=Hn(An,Cn,Sn,Nn,wn[jn+8],7,1770035416),Nn=Hn(Nn,An,Cn,Sn,wn[jn+9],12,-1958414417),Sn=Hn(Sn,Nn,An,Cn,wn[jn+10],17,-42063),Cn=Hn(Cn,Sn,Nn,An,wn[jn+11],22,-1990404162),An=Hn(An,Cn,Sn,Nn,wn[jn+12],7,1804603682),Nn=Hn(Nn,An,Cn,Sn,wn[jn+13],12,-40341101),Sn=Hn(Sn,Nn,An,Cn,wn[jn+14],17,-1502002290),An=Bn(An,Cn=Hn(Cn,Sn,Nn,An,wn[jn+15],22,1236535329),Sn,Nn,wn[jn+1],5,-165796510),Nn=Bn(Nn,An,Cn,Sn,wn[jn+6],9,-1069501632),Sn=Bn(Sn,Nn,An,Cn,wn[jn+11],14,643717713),Cn=Bn(Cn,Sn,Nn,An,wn[jn+0],20,-373897302),An=Bn(An,Cn,Sn,Nn,wn[jn+5],5,-701558691),Nn=Bn(Nn,An,Cn,Sn,wn[jn+10],9,38016083),Sn=Bn(Sn,Nn,An,Cn,wn[jn+15],14,-660478335),Cn=Bn(Cn,Sn,Nn,An,wn[jn+4],20,-405537848),An=Bn(An,Cn,Sn,Nn,wn[jn+9],5,568446438),Nn=Bn(Nn,An,Cn,Sn,wn[jn+14],9,-1019803690),Sn=Bn(Sn,Nn,An,Cn,wn[jn+3],14,-187363961),Cn=Bn(Cn,Sn,Nn,An,wn[jn+8],20,1163531501),An=Bn(An,Cn,Sn,Nn,wn[jn+13],5,-1444681467),Nn=Bn(Nn,An,Cn,Sn,wn[jn+2],9,-51403784),Sn=Bn(Sn,Nn,An,Cn,wn[jn+7],14,1735328473),An=On(An,Cn=Bn(Cn,Sn,Nn,An,wn[jn+12],20,-1926607734),Sn,Nn,wn[jn+5],4,-378558),Nn=On(Nn,An,Cn,Sn,wn[jn+8],11,-2022574463),Sn=On(Sn,Nn,An,Cn,wn[jn+11],16,1839030562),Cn=On(Cn,Sn,Nn,An,wn[jn+14],23,-35309556),An=On(An,Cn,Sn,Nn,wn[jn+1],4,-1530992060),Nn=On(Nn,An,Cn,Sn,wn[jn+4],11,1272893353),Sn=On(Sn,Nn,An,Cn,wn[jn+7],16,-155497632),Cn=On(Cn,Sn,Nn,An,wn[jn+10],23,-1094730640),An=On(An,Cn,Sn,Nn,wn[jn+13],4,681279174),Nn=On(Nn,An,Cn,Sn,wn[jn+0],11,-358537222),Sn=On(Sn,Nn,An,Cn,wn[jn+3],16,-722521979),Cn=On(Cn,Sn,Nn,An,wn[jn+6],23,76029189),An=On(An,Cn,Sn,Nn,wn[jn+9],4,-640364487),Nn=On(Nn,An,Cn,Sn,wn[jn+12],11,-421815835),Sn=On(Sn,Nn,An,Cn,wn[jn+15],16,530742520),An=Mn(An,Cn=On(Cn,Sn,Nn,An,wn[jn+2],23,-995338651),Sn,Nn,wn[jn+0],6,-198630844),Nn=Mn(Nn,An,Cn,Sn,wn[jn+7],10,1126891415),Sn=Mn(Sn,Nn,An,Cn,wn[jn+14],15,-1416354905),Cn=Mn(Cn,Sn,Nn,An,wn[jn+5],21,-57434055),An=Mn(An,Cn,Sn,Nn,wn[jn+12],6,1700485571),Nn=Mn(Nn,An,Cn,Sn,wn[jn+3],10,-1894986606),Sn=Mn(Sn,Nn,An,Cn,wn[jn+10],15,-1051523),Cn=Mn(Cn,Sn,Nn,An,wn[jn+1],21,-2054922799),An=Mn(An,Cn,Sn,Nn,wn[jn+8],6,1873313359),Nn=Mn(Nn,An,Cn,Sn,wn[jn+15],10,-30611744),Sn=Mn(Sn,Nn,An,Cn,wn[jn+6],15,-1560198380),Cn=Mn(Cn,Sn,Nn,An,wn[jn+13],21,1309151649),An=Mn(An,Cn,Sn,Nn,wn[jn+4],6,-145523070),Nn=Mn(Nn,An,Cn,Sn,wn[jn+11],10,-1120210379),Sn=Mn(Sn,Nn,An,Cn,wn[jn+2],15,718787259),Cn=Mn(Cn,Sn,Nn,An,wn[jn+9],21,-343485551),An=An+Un>>>0,Cn=Cn+Tn>>>0,Sn=Sn+zn>>>0,Nn=Nn+Dn>>>0}return an.endian([An,Cn,Sn,Nn])};mn._ff=function(xn,gn,wn,vn,An,Cn,Sn){var Nn=xn+(gn&wn|~gn&vn)+(An>>>0)+Sn;return(Nn<<Cn|Nn>>>32-Cn)+gn},mn._gg=function(xn,gn,wn,vn,An,Cn,Sn){var Nn=xn+(gn&vn|wn&~vn)+(An>>>0)+Sn;return(Nn<<Cn|Nn>>>32-Cn)+gn},mn._hh=function(xn,gn,wn,vn,An,Cn,Sn){var Nn=xn+(gn^wn^vn)+(An>>>0)+Sn;return(Nn<<Cn|Nn>>>32-Cn)+gn},mn._ii=function(xn,gn,wn,vn,An,Cn,Sn){var Nn=xn+(wn^(gn|~vn))+(An>>>0)+Sn;return(Nn<<Cn|Nn>>>32-Cn)+gn},mn._blocksize=16,mn._digestsize=16,sn.exports=function(xn,gn){if(xn==null)throw new Error("Illegal argument "+xn);var wn=an.wordsToBytes(mn(xn,gn));return gn&&gn.asBytes?wn:gn&&gn.asString?hn.bytesToString(wn):an.bytesToHex(wn)}})()},320:(sn,O)=>{var rn=Object.prototype.hasOwnProperty;function an(dn){try{return decodeURIComponent(dn.replace(/\+/g," "))}catch{return null}}function un(dn){try{return encodeURIComponent(dn)}catch{return null}}O.stringify=function(dn,hn){hn=hn||"";var mn,xn,gn=[];for(xn in typeof hn!="string"&&(hn="?"),dn)if(rn.call(dn,xn)){if((mn=dn[xn])||mn!=null&&!isNaN(mn)||(mn=""),xn=un(xn),mn=un(mn),xn===null||mn===null)continue;gn.push(xn+"="+mn)}return gn.length?hn+gn.join("&"):""},O.parse=function(dn){for(var hn,mn=/([^=?#&]+)=?([^&]*)/g,xn={};hn=mn.exec(dn);){var gn=an(hn[1]),wn=an(hn[2]);gn===null||wn===null||gn in xn||(xn[gn]=wn)}return xn}},345:()=>{},385:(sn,O,rn)=>{const an=rn(80),un=rn(611),dn=rn(519),hn=rn(701),mn=rn(940);function xn(Tn){const zn=Object.keys(Tn);for(let Dn=0;Dn<zn.length;Dn++){const In=zn[Dn];this.lastEntities[In]={regex:new RegExp("&"+In+";","g"),val:Tn[In]}}}function gn(Tn,zn,Dn,In,Ln,Wn,Fn){if(Tn!==void 0&&(this.options.trimValues&&!In&&(Tn=Tn.trim()),Tn.length>0)){Fn||(Tn=this.replaceEntitiesValue(Tn));const Pn=this.options.tagValueProcessor(zn,Tn,Dn,Ln,Wn);return Pn==null?Tn:typeof Pn!=typeof Tn||Pn!==Tn?Pn:this.options.trimValues||Tn.trim()===Tn?Un(Tn,this.options.parseTagValue,this.options.numberParseOptions):Tn}}function wn(Tn){if(this.options.removeNSPrefix){const zn=Tn.split(":"),Dn=Tn.charAt(0)==="/"?"/":"";if(zn[0]==="xmlns")return"";zn.length===2&&(Tn=Dn+zn[1])}return Tn}const vn=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function An(Tn,zn,Dn){if(this.options.ignoreAttributes!==!0&&typeof Tn=="string"){const In=an.getAllMatches(Tn,vn),Ln=In.length,Wn={};for(let Fn=0;Fn<Ln;Fn++){const Pn=this.resolveNameSpace(In[Fn][1]);if(this.ignoreAttributesFn(Pn,zn))continue;let Vn=In[Fn][4],Zn=this.options.attributeNamePrefix+Pn;if(Pn.length)if(this.options.transformAttributeName&&(Zn=this.options.transformAttributeName(Zn)),Zn==="__proto__"&&(Zn="#__proto__"),Vn!==void 0){this.options.trimValues&&(Vn=Vn.trim()),Vn=this.replaceEntitiesValue(Vn);const Yn=this.options.attributeValueProcessor(Pn,Vn,zn);Wn[Zn]=Yn==null?Vn:typeof Yn!=typeof Vn||Yn!==Vn?Yn:Un(Vn,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(Wn[Zn]=!0)}if(!Object.keys(Wn).length)return;if(this.options.attributesGroupName){const Fn={};return Fn[this.options.attributesGroupName]=Wn,Fn}return Wn}}const Cn=function(Tn){Tn=Tn.replace(/\r\n?/g,`
`);const zn=new un("!xml");let Dn=zn,In="",Ln="";for(let Wn=0;Wn<Tn.length;Wn++)if(Tn[Wn]==="<")if(Tn[Wn+1]==="/"){const Fn=Bn(Tn,">",Wn,"Closing Tag is not closed.");let Pn=Tn.substring(Wn+2,Fn).trim();if(this.options.removeNSPrefix){const Yn=Pn.indexOf(":");Yn!==-1&&(Pn=Pn.substr(Yn+1))}this.options.transformTagName&&(Pn=this.options.transformTagName(Pn)),Dn&&(In=this.saveTextToParentTag(In,Dn,Ln));const Vn=Ln.substring(Ln.lastIndexOf(".")+1);if(Pn&&this.options.unpairedTags.indexOf(Pn)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${Pn}>`);let Zn=0;Vn&&this.options.unpairedTags.indexOf(Vn)!==-1?(Zn=Ln.lastIndexOf(".",Ln.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Zn=Ln.lastIndexOf("."),Ln=Ln.substring(0,Zn),Dn=this.tagsNodeStack.pop(),In="",Wn=Fn}else if(Tn[Wn+1]==="?"){let Fn=On(Tn,Wn,!1,"?>");if(!Fn)throw new Error("Pi Tag is not closed.");if(In=this.saveTextToParentTag(In,Dn,Ln),!(this.options.ignoreDeclaration&&Fn.tagName==="?xml"||this.options.ignorePiTags)){const Pn=new un(Fn.tagName);Pn.add(this.options.textNodeName,""),Fn.tagName!==Fn.tagExp&&Fn.attrExpPresent&&(Pn[":@"]=this.buildAttributesMap(Fn.tagExp,Ln,Fn.tagName)),this.addChild(Dn,Pn,Ln)}Wn=Fn.closeIndex+1}else if(Tn.substr(Wn+1,3)==="!--"){const Fn=Bn(Tn,"-->",Wn+4,"Comment is not closed.");if(this.options.commentPropName){const Pn=Tn.substring(Wn+4,Fn-2);In=this.saveTextToParentTag(In,Dn,Ln),Dn.add(this.options.commentPropName,[{[this.options.textNodeName]:Pn}])}Wn=Fn}else if(Tn.substr(Wn+1,2)==="!D"){const Fn=dn(Tn,Wn);this.docTypeEntities=Fn.entities,Wn=Fn.i}else if(Tn.substr(Wn+1,2)==="!["){const Fn=Bn(Tn,"]]>",Wn,"CDATA is not closed.")-2,Pn=Tn.substring(Wn+9,Fn);In=this.saveTextToParentTag(In,Dn,Ln);let Vn=this.parseTextData(Pn,Dn.tagname,Ln,!0,!1,!0,!0);Vn==null&&(Vn=""),this.options.cdataPropName?Dn.add(this.options.cdataPropName,[{[this.options.textNodeName]:Pn}]):Dn.add(this.options.textNodeName,Vn),Wn=Fn+2}else{let Fn=On(Tn,Wn,this.options.removeNSPrefix),Pn=Fn.tagName;const Vn=Fn.rawTagName;let Zn=Fn.tagExp,Yn=Fn.attrExpPresent,Qn=Fn.closeIndex;this.options.transformTagName&&(Pn=this.options.transformTagName(Pn)),Dn&&In&&Dn.tagname!=="!xml"&&(In=this.saveTextToParentTag(In,Dn,Ln,!1));const Xn=Dn;if(Xn&&this.options.unpairedTags.indexOf(Xn.tagname)!==-1&&(Dn=this.tagsNodeStack.pop(),Ln=Ln.substring(0,Ln.lastIndexOf("."))),Pn!==zn.tagname&&(Ln+=Ln?"."+Pn:Pn),this.isItStopNode(this.options.stopNodes,Ln,Pn)){let rr="";if(Zn.length>0&&Zn.lastIndexOf("/")===Zn.length-1)Pn[Pn.length-1]==="/"?(Pn=Pn.substr(0,Pn.length-1),Ln=Ln.substr(0,Ln.length-1),Zn=Pn):Zn=Zn.substr(0,Zn.length-1),Wn=Fn.closeIndex;else if(this.options.unpairedTags.indexOf(Pn)!==-1)Wn=Fn.closeIndex;else{const Jn=this.readStopNodeData(Tn,Vn,Qn+1);if(!Jn)throw new Error(`Unexpected end of ${Vn}`);Wn=Jn.i,rr=Jn.tagContent}const sr=new un(Pn);Pn!==Zn&&Yn&&(sr[":@"]=this.buildAttributesMap(Zn,Ln,Pn)),rr&&(rr=this.parseTextData(rr,Pn,Ln,!0,Yn,!0,!0)),Ln=Ln.substr(0,Ln.lastIndexOf(".")),sr.add(this.options.textNodeName,rr),this.addChild(Dn,sr,Ln)}else{if(Zn.length>0&&Zn.lastIndexOf("/")===Zn.length-1){Pn[Pn.length-1]==="/"?(Pn=Pn.substr(0,Pn.length-1),Ln=Ln.substr(0,Ln.length-1),Zn=Pn):Zn=Zn.substr(0,Zn.length-1),this.options.transformTagName&&(Pn=this.options.transformTagName(Pn));const rr=new un(Pn);Pn!==Zn&&Yn&&(rr[":@"]=this.buildAttributesMap(Zn,Ln,Pn)),this.addChild(Dn,rr,Ln),Ln=Ln.substr(0,Ln.lastIndexOf("."))}else{const rr=new un(Pn);this.tagsNodeStack.push(Dn),Pn!==Zn&&Yn&&(rr[":@"]=this.buildAttributesMap(Zn,Ln,Pn)),this.addChild(Dn,rr,Ln),Dn=rr}In="",Wn=Qn}}else In+=Tn[Wn];return zn.child};function Sn(Tn,zn,Dn){const In=this.options.updateTag(zn.tagname,Dn,zn[":@"]);In===!1||(typeof In=="string"&&(zn.tagname=In),Tn.addChild(zn))}const Nn=function(Tn){if(this.options.processEntities){for(let zn in this.docTypeEntities){const Dn=this.docTypeEntities[zn];Tn=Tn.replace(Dn.regx,Dn.val)}for(let zn in this.lastEntities){const Dn=this.lastEntities[zn];Tn=Tn.replace(Dn.regex,Dn.val)}if(this.options.htmlEntities)for(let zn in this.htmlEntities){const Dn=this.htmlEntities[zn];Tn=Tn.replace(Dn.regex,Dn.val)}Tn=Tn.replace(this.ampEntity.regex,this.ampEntity.val)}return Tn};function jn(Tn,zn,Dn,In){return Tn&&(In===void 0&&(In=zn.child.length===0),(Tn=this.parseTextData(Tn,zn.tagname,Dn,!1,!!zn[":@"]&&Object.keys(zn[":@"]).length!==0,In))!==void 0&&Tn!==""&&zn.add(this.options.textNodeName,Tn),Tn=""),Tn}function Hn(Tn,zn,Dn){const In="*."+Dn;for(const Ln in Tn){const Wn=Tn[Ln];if(In===Wn||zn===Wn)return!0}return!1}function Bn(Tn,zn,Dn,In){const Ln=Tn.indexOf(zn,Dn);if(Ln===-1)throw new Error(In);return Ln+zn.length-1}function On(Tn,zn,Dn){const In=(function(Yn,Qn){let Xn,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",sr="";for(let Jn=Qn;Jn<Yn.length;Jn++){let nr=Yn[Jn];if(Xn)nr===Xn&&(Xn="");else if(nr==='"'||nr==="'")Xn=nr;else if(nr===rr[0]){if(!rr[1])return{data:sr,index:Jn};if(Yn[Jn+1]===rr[1])return{data:sr,index:Jn}}else nr==="	"&&(nr=" ");sr+=nr}})(Tn,zn+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!In)return;let Ln=In.data;const Wn=In.index,Fn=Ln.search(/\s/);let Pn=Ln,Vn=!0;Fn!==-1&&(Pn=Ln.substring(0,Fn),Ln=Ln.substring(Fn+1).trimStart());const Zn=Pn;if(Dn){const Yn=Pn.indexOf(":");Yn!==-1&&(Pn=Pn.substr(Yn+1),Vn=Pn!==In.data.substr(Yn+1))}return{tagName:Pn,tagExp:Ln,closeIndex:Wn,attrExpPresent:Vn,rawTagName:Zn}}function Mn(Tn,zn,Dn){const In=Dn;let Ln=1;for(;Dn<Tn.length;Dn++)if(Tn[Dn]==="<")if(Tn[Dn+1]==="/"){const Wn=Bn(Tn,">",Dn,`${zn} is not closed`);if(Tn.substring(Dn+2,Wn).trim()===zn&&(Ln--,Ln===0))return{tagContent:Tn.substring(In,Dn),i:Wn};Dn=Wn}else if(Tn[Dn+1]==="?")Dn=Bn(Tn,"?>",Dn+1,"StopNode is not closed.");else if(Tn.substr(Dn+1,3)==="!--")Dn=Bn(Tn,"-->",Dn+3,"StopNode is not closed.");else if(Tn.substr(Dn+1,2)==="![")Dn=Bn(Tn,"]]>",Dn,"StopNode is not closed.")-2;else{const Wn=On(Tn,Dn,">");Wn&&((Wn&&Wn.tagName)===zn&&Wn.tagExp[Wn.tagExp.length-1]!=="/"&&Ln++,Dn=Wn.closeIndex)}}function Un(Tn,zn,Dn){if(zn&&typeof Tn=="string"){const In=Tn.trim();return In==="true"||In!=="false"&&hn(Tn,Dn)}return an.isExist(Tn)?Tn:""}sn.exports=class{constructor(Tn){this.options=Tn,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(zn,Dn)=>String.fromCharCode(Number.parseInt(Dn,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(zn,Dn)=>String.fromCharCode(Number.parseInt(Dn,16))}},this.addExternalEntities=xn,this.parseXml=Cn,this.parseTextData=gn,this.resolveNameSpace=wn,this.buildAttributesMap=An,this.isItStopNode=Hn,this.replaceEntitiesValue=Nn,this.readStopNodeData=Mn,this.saveTextToParentTag=jn,this.addChild=Sn,this.ignoreAttributesFn=mn(this.options.ignoreAttributes)}}},388:()=>{},519:(sn,O,rn)=>{const an=rn(80);function un(vn,An){let Cn="";for(;An<vn.length&&vn[An]!=="'"&&vn[An]!=='"';An++)Cn+=vn[An];if(Cn=Cn.trim(),Cn.indexOf(" ")!==-1)throw new Error("External entites are not supported");const Sn=vn[An++];let Nn="";for(;An<vn.length&&vn[An]!==Sn;An++)Nn+=vn[An];return[Cn,Nn,An]}function dn(vn,An){return vn[An+1]==="!"&&vn[An+2]==="-"&&vn[An+3]==="-"}function hn(vn,An){return vn[An+1]==="!"&&vn[An+2]==="E"&&vn[An+3]==="N"&&vn[An+4]==="T"&&vn[An+5]==="I"&&vn[An+6]==="T"&&vn[An+7]==="Y"}function mn(vn,An){return vn[An+1]==="!"&&vn[An+2]==="E"&&vn[An+3]==="L"&&vn[An+4]==="E"&&vn[An+5]==="M"&&vn[An+6]==="E"&&vn[An+7]==="N"&&vn[An+8]==="T"}function xn(vn,An){return vn[An+1]==="!"&&vn[An+2]==="A"&&vn[An+3]==="T"&&vn[An+4]==="T"&&vn[An+5]==="L"&&vn[An+6]==="I"&&vn[An+7]==="S"&&vn[An+8]==="T"}function gn(vn,An){return vn[An+1]==="!"&&vn[An+2]==="N"&&vn[An+3]==="O"&&vn[An+4]==="T"&&vn[An+5]==="A"&&vn[An+6]==="T"&&vn[An+7]==="I"&&vn[An+8]==="O"&&vn[An+9]==="N"}function wn(vn){if(an.isName(vn))return vn;throw new Error(`Invalid entity name ${vn}`)}sn.exports=function(vn,An){const Cn={};if(vn[An+3]!=="O"||vn[An+4]!=="C"||vn[An+5]!=="T"||vn[An+6]!=="Y"||vn[An+7]!=="P"||vn[An+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{An+=9;let Sn=1,Nn=!1,jn=!1,Hn="";for(;An<vn.length;An++)if(vn[An]!=="<"||jn)if(vn[An]===">"){if(jn?vn[An-1]==="-"&&vn[An-2]==="-"&&(jn=!1,Sn--):Sn--,Sn===0)break}else vn[An]==="["?Nn=!0:Hn+=vn[An];else{if(Nn&&hn(vn,An)){let Bn,On;An+=7,[Bn,On,An]=un(vn,An+1),On.indexOf("&")===-1&&(Cn[wn(Bn)]={regx:RegExp(`&${Bn};`,"g"),val:On})}else if(Nn&&mn(vn,An))An+=8;else if(Nn&&xn(vn,An))An+=8;else if(Nn&&gn(vn,An))An+=9;else{if(!dn)throw new Error("Invalid DOCTYPE");jn=!0}Sn++,Hn=""}if(Sn!==0)throw new Error("Unclosed DOCTYPE")}return{entities:Cn,i:An}}},552:sn=>{function O(rn){return!!rn.constructor&&typeof rn.constructor.isBuffer=="function"&&rn.constructor.isBuffer(rn)}sn.exports=function(rn){return rn!=null&&(O(rn)||(function(an){return typeof an.readFloatLE=="function"&&typeof an.slice=="function"&&O(an.slice(0,0))})(rn)||!!rn._isBuffer)}},574:(sn,O,rn)=>{var an=rn(773);sn.exports=function(Hn){return Hn?(Hn.substr(0,2)==="{}"&&(Hn="\\{\\}"+Hn.substr(2)),jn((function(Bn){return Bn.split("\\\\").join(un).split("\\{").join(dn).split("\\}").join(hn).split("\\,").join(mn).split("\\.").join(xn)})(Hn),!0).map(wn)):[]};var un="\0SLASH"+Math.random()+"\0",dn="\0OPEN"+Math.random()+"\0",hn="\0CLOSE"+Math.random()+"\0",mn="\0COMMA"+Math.random()+"\0",xn="\0PERIOD"+Math.random()+"\0";function gn(Hn){return parseInt(Hn,10)==Hn?parseInt(Hn,10):Hn.charCodeAt(0)}function wn(Hn){return Hn.split(un).join("\\").split(dn).join("{").split(hn).join("}").split(mn).join(",").split(xn).join(".")}function vn(Hn){if(!Hn)return[""];var Bn=[],On=an("{","}",Hn);if(!On)return Hn.split(",");var Mn=On.pre,Un=On.body,Tn=On.post,zn=Mn.split(",");zn[zn.length-1]+="{"+Un+"}";var Dn=vn(Tn);return Tn.length&&(zn[zn.length-1]+=Dn.shift(),zn.push.apply(zn,Dn)),Bn.push.apply(Bn,zn),Bn}function An(Hn){return"{"+Hn+"}"}function Cn(Hn){return/^-?0\d/.test(Hn)}function Sn(Hn,Bn){return Hn<=Bn}function Nn(Hn,Bn){return Hn>=Bn}function jn(Hn,Bn){var On=[],Mn=an("{","}",Hn);if(!Mn)return[Hn];var Un=Mn.pre,Tn=Mn.post.length?jn(Mn.post,!1):[""];if(/\$$/.test(Mn.pre))for(var zn=0;zn<Tn.length;zn++){var Dn=Un+"{"+Mn.body+"}"+Tn[zn];On.push(Dn)}else{var In,Ln,Wn=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(Mn.body),Fn=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(Mn.body),Pn=Wn||Fn,Vn=Mn.body.indexOf(",")>=0;if(!Pn&&!Vn)return Mn.post.match(/,(?!,).*\}/)?jn(Hn=Mn.pre+"{"+Mn.body+hn+Mn.post):[Hn];if(Pn)In=Mn.body.split(/\.\./);else if((In=vn(Mn.body)).length===1&&(In=jn(In[0],!1).map(An)).length===1)return Tn.map(function(xr){return Mn.pre+In[0]+xr});if(Pn){var Zn=gn(In[0]),Yn=gn(In[1]),Qn=Math.max(In[0].length,In[1].length),Xn=In.length==3?Math.abs(gn(In[2])):1,rr=Sn;Yn<Zn&&(Xn*=-1,rr=Nn);var sr=In.some(Cn);Ln=[];for(var Jn=Zn;rr(Jn,Yn);Jn+=Xn){var nr;if(Fn)(nr=String.fromCharCode(Jn))==="\\"&&(nr="");else if(nr=String(Jn),sr){var ar=Qn-nr.length;if(ar>0){var or=new Array(ar+1).join("0");nr=Jn<0?"-"+or+nr.slice(1):or+nr}}Ln.push(nr)}}else{Ln=[];for(var dr=0;dr<In.length;dr++)Ln.push.apply(Ln,jn(In[dr],!1))}for(dr=0;dr<Ln.length;dr++)for(zn=0;zn<Tn.length;zn++)Dn=Un+Ln[dr]+Tn[zn],(!Bn||Pn||Dn)&&On.push(Dn)}return On}},611:sn=>{sn.exports=class{constructor(O){this.tagname=O,this.child=[],this[":@"]={}}add(O,rn){O==="__proto__"&&(O="#__proto__"),this.child.push({[O]:rn})}addChild(O){O.tagname==="__proto__"&&(O.tagname="#__proto__"),O[":@"]&&Object.keys(O[":@"]).length>0?this.child.push({[O.tagname]:O.child,":@":O[":@"]}):this.child.push({[O.tagname]:O.child})}}},694:(sn,O)=>{O.d=function(rn){if(!rn)return 0;for(var an=(rn=rn.toString()).length,un=rn.length;un--;){var dn=rn.charCodeAt(un);56320<=dn&&dn<=57343&&un--,127<dn&&dn<=2047?an++:2047<dn&&dn<=65535&&(an+=2)}return an}},699:(sn,O,rn)=>{var an=rn(0),un=function(gn){return typeof gn=="string"};function dn(gn,wn){for(var vn=[],An=0;An<gn.length;An++){var Cn=gn[An];Cn&&Cn!=="."&&(Cn===".."?vn.length&&vn[vn.length-1]!==".."?vn.pop():wn&&vn.push(".."):vn.push(Cn))}return vn}var hn=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,mn={};function xn(gn){return hn.exec(gn).slice(1)}mn.resolve=function(){for(var gn="",wn=!1,vn=arguments.length-1;vn>=-1&&!wn;vn--){var An=vn>=0?arguments[vn]:process.cwd();if(!un(An))throw new TypeError("Arguments to path.resolve must be strings");An&&(gn=An+"/"+gn,wn=An.charAt(0)==="/")}return(wn?"/":"")+(gn=dn(gn.split("/"),!wn).join("/"))||"."},mn.normalize=function(gn){var wn=mn.isAbsolute(gn),vn=gn.substr(-1)==="/";return(gn=dn(gn.split("/"),!wn).join("/"))||wn||(gn="."),gn&&vn&&(gn+="/"),(wn?"/":"")+gn},mn.isAbsolute=function(gn){return gn.charAt(0)==="/"},mn.join=function(){for(var gn="",wn=0;wn<arguments.length;wn++){var vn=arguments[wn];if(!un(vn))throw new TypeError("Arguments to path.join must be strings");vn&&(gn+=gn?"/"+vn:vn)}return mn.normalize(gn)},mn.relative=function(gn,wn){function vn(Bn){for(var On=0;On<Bn.length&&Bn[On]==="";On++);for(var Mn=Bn.length-1;Mn>=0&&Bn[Mn]==="";Mn--);return On>Mn?[]:Bn.slice(On,Mn+1)}gn=mn.resolve(gn).substr(1),wn=mn.resolve(wn).substr(1);for(var An=vn(gn.split("/")),Cn=vn(wn.split("/")),Sn=Math.min(An.length,Cn.length),Nn=Sn,jn=0;jn<Sn;jn++)if(An[jn]!==Cn[jn]){Nn=jn;break}var Hn=[];for(jn=Nn;jn<An.length;jn++)Hn.push("..");return(Hn=Hn.concat(Cn.slice(Nn))).join("/")},mn._makeLong=function(gn){return gn},mn.dirname=function(gn){var wn=xn(gn),vn=wn[0],An=wn[1];return vn||An?(An&&(An=An.substr(0,An.length-1)),vn+An):"."},mn.basename=function(gn,wn){var vn=xn(gn)[2];return wn&&vn.substr(-1*wn.length)===wn&&(vn=vn.substr(0,vn.length-wn.length)),vn},mn.extname=function(gn){return xn(gn)[3]},mn.format=function(gn){if(!an.isObject(gn))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof gn);var wn=gn.root||"";if(!un(wn))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof gn.root);return(gn.dir?gn.dir+mn.sep:"")+(gn.base||"")},mn.parse=function(gn){if(!un(gn))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof gn);var wn=xn(gn);if(!wn||wn.length!==4)throw new TypeError("Invalid path '"+gn+"'");return wn[1]=wn[1]||"",wn[2]=wn[2]||"",wn[3]=wn[3]||"",{root:wn[0],dir:wn[0]+wn[1].slice(0,wn[1].length-1),base:wn[2],ext:wn[3],name:wn[2].slice(0,wn[2].length-wn[3].length)}},mn.sep="/",mn.delimiter=":",sn.exports=mn},701:sn=>{const O=/^[-+]?0x[a-fA-F0-9]+$/,rn=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,an={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};sn.exports=function(un){let dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dn=Object.assign({},an,dn),!un||typeof un!="string")return un;let hn=un.trim();if(dn.skipLike!==void 0&&dn.skipLike.test(hn))return un;if(un==="0")return 0;if(dn.hex&&O.test(hn))return(function(xn){if(parseInt)return parseInt(xn,16);if(Number.parseInt)return Number.parseInt(xn,16);if(window&&window.parseInt)return window.parseInt(xn,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(hn);if(hn.search(/[eE]/)!==-1){const xn=hn.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(xn){if(dn.leadingZeros)hn=(xn[1]||"")+xn[3];else if(xn[2]!=="0"||xn[3][0]!==".")return un;return dn.eNotation?Number(hn):un}return un}{const xn=rn.exec(hn);if(xn){const gn=xn[1],wn=xn[2];let vn=((mn=xn[3])&&mn.indexOf(".")!==-1&&((mn=mn.replace(/0+$/,""))==="."?mn="0":mn[0]==="."?mn="0"+mn:mn[mn.length-1]==="."&&(mn=mn.substr(0,mn.length-1))),mn);if(!dn.leadingZeros&&wn.length>0&&gn&&hn[2]!=="."||!dn.leadingZeros&&wn.length>0&&!gn&&hn[1]!==".")return un;if(dn.leadingZeros&&wn===un)return 0;{const An=Number(hn),Cn=""+An;return Cn.search(/[eE]/)!==-1?dn.eNotation?An:un:hn.indexOf(".")!==-1?Cn==="0"&&vn===""||Cn===vn||gn&&Cn==="-"+vn?An:un:wn?vn===Cn||gn+vn===Cn?An:un:hn===Cn||hn===gn+Cn?An:un}}return un}var mn}},706:sn=>{var O={utf8:{stringToBytes:function(rn){return O.bin.stringToBytes(unescape(encodeURIComponent(rn)))},bytesToString:function(rn){return decodeURIComponent(escape(O.bin.bytesToString(rn)))}},bin:{stringToBytes:function(rn){for(var an=[],un=0;un<rn.length;un++)an.push(255&rn.charCodeAt(un));return an},bytesToString:function(rn){for(var an=[],un=0;un<rn.length;un++)an.push(String.fromCharCode(rn[un]));return an.join("")}}};sn.exports=O},715:(sn,O,rn)=>{var an=rn(745),un=rn(320),dn=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,hn=/[\n\r\t]/g,mn=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,xn=/:\d+$/,gn=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,wn=/^[a-zA-Z]:/;function vn(Bn){return(Bn||"").toString().replace(dn,"")}var An=[["#","hash"],["?","query"],function(Bn,On){return Nn(On.protocol)?Bn.replace(/\\/g,"/"):Bn},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Cn={hash:1,query:1};function Sn(Bn){var On,Mn=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},Un={},Tn=typeof(Bn=Bn||Mn);if(Bn.protocol==="blob:")Un=new Hn(unescape(Bn.pathname),{});else if(Tn==="string")for(On in Un=new Hn(Bn,{}),Cn)delete Un[On];else if(Tn==="object"){for(On in Bn)On in Cn||(Un[On]=Bn[On]);Un.slashes===void 0&&(Un.slashes=mn.test(Bn.href))}return Un}function Nn(Bn){return Bn==="file:"||Bn==="ftp:"||Bn==="http:"||Bn==="https:"||Bn==="ws:"||Bn==="wss:"}function jn(Bn,On){Bn=(Bn=vn(Bn)).replace(hn,""),On=On||{};var Mn,Un=gn.exec(Bn),Tn=Un[1]?Un[1].toLowerCase():"",zn=!!Un[2],Dn=!!Un[3],In=0;return zn?Dn?(Mn=Un[2]+Un[3]+Un[4],In=Un[2].length+Un[3].length):(Mn=Un[2]+Un[4],In=Un[2].length):Dn?(Mn=Un[3]+Un[4],In=Un[3].length):Mn=Un[4],Tn==="file:"?In>=2&&(Mn=Mn.slice(2)):Nn(Tn)?Mn=Un[4]:Tn?zn&&(Mn=Mn.slice(2)):In>=2&&Nn(On.protocol)&&(Mn=Un[4]),{protocol:Tn,slashes:zn||Nn(Tn),slashesCount:In,rest:Mn}}function Hn(Bn,On,Mn){if(Bn=(Bn=vn(Bn)).replace(hn,""),!(this instanceof Hn))return new Hn(Bn,On,Mn);var Un,Tn,zn,Dn,In,Ln,Wn=An.slice(),Fn=typeof On,Pn=this,Vn=0;for(Fn!=="object"&&Fn!=="string"&&(Mn=On,On=null),Mn&&typeof Mn!="function"&&(Mn=un.parse),Un=!(Tn=jn(Bn||"",On=Sn(On))).protocol&&!Tn.slashes,Pn.slashes=Tn.slashes||Un&&On.slashes,Pn.protocol=Tn.protocol||On.protocol||"",Bn=Tn.rest,(Tn.protocol==="file:"&&(Tn.slashesCount!==2||wn.test(Bn))||!Tn.slashes&&(Tn.protocol||Tn.slashesCount<2||!Nn(Pn.protocol)))&&(Wn[3]=[/(.*)/,"pathname"]);Vn<Wn.length;Vn++)typeof(Dn=Wn[Vn])!="function"?(zn=Dn[0],Ln=Dn[1],zn!=zn?Pn[Ln]=Bn:typeof zn=="string"?~(In=zn==="@"?Bn.lastIndexOf(zn):Bn.indexOf(zn))&&(typeof Dn[2]=="number"?(Pn[Ln]=Bn.slice(0,In),Bn=Bn.slice(In+Dn[2])):(Pn[Ln]=Bn.slice(In),Bn=Bn.slice(0,In))):(In=zn.exec(Bn))&&(Pn[Ln]=In[1],Bn=Bn.slice(0,In.index)),Pn[Ln]=Pn[Ln]||Un&&Dn[3]&&On[Ln]||"",Dn[4]&&(Pn[Ln]=Pn[Ln].toLowerCase())):Bn=Dn(Bn,Pn);Mn&&(Pn.query=Mn(Pn.query)),Un&&On.slashes&&Pn.pathname.charAt(0)!=="/"&&(Pn.pathname!==""||On.pathname!=="")&&(Pn.pathname=(function(Zn,Yn){if(Zn==="")return Yn;for(var Qn=(Yn||"/").split("/").slice(0,-1).concat(Zn.split("/")),Xn=Qn.length,rr=Qn[Xn-1],sr=!1,Jn=0;Xn--;)Qn[Xn]==="."?Qn.splice(Xn,1):Qn[Xn]===".."?(Qn.splice(Xn,1),Jn++):Jn&&(Xn===0&&(sr=!0),Qn.splice(Xn,1),Jn--);return sr&&Qn.unshift(""),rr!=="."&&rr!==".."||Qn.push(""),Qn.join("/")})(Pn.pathname,On.pathname)),Pn.pathname.charAt(0)!=="/"&&Nn(Pn.protocol)&&(Pn.pathname="/"+Pn.pathname),an(Pn.port,Pn.protocol)||(Pn.host=Pn.hostname,Pn.port=""),Pn.username=Pn.password="",Pn.auth&&(~(In=Pn.auth.indexOf(":"))?(Pn.username=Pn.auth.slice(0,In),Pn.username=encodeURIComponent(decodeURIComponent(Pn.username)),Pn.password=Pn.auth.slice(In+1),Pn.password=encodeURIComponent(decodeURIComponent(Pn.password))):Pn.username=encodeURIComponent(decodeURIComponent(Pn.auth)),Pn.auth=Pn.password?Pn.username+":"+Pn.password:Pn.username),Pn.origin=Pn.protocol!=="file:"&&Nn(Pn.protocol)&&Pn.host?Pn.protocol+"//"+Pn.host:"null",Pn.href=Pn.toString()}Hn.prototype={set:function(Bn,On,Mn){var Un=this;switch(Bn){case"query":typeof On=="string"&&On.length&&(On=(Mn||un.parse)(On)),Un[Bn]=On;break;case"port":Un[Bn]=On,an(On,Un.protocol)?On&&(Un.host=Un.hostname+":"+On):(Un.host=Un.hostname,Un[Bn]="");break;case"hostname":Un[Bn]=On,Un.port&&(On+=":"+Un.port),Un.host=On;break;case"host":Un[Bn]=On,xn.test(On)?(On=On.split(":"),Un.port=On.pop(),Un.hostname=On.join(":")):(Un.hostname=On,Un.port="");break;case"protocol":Un.protocol=On.toLowerCase(),Un.slashes=!Mn;break;case"pathname":case"hash":if(On){var Tn=Bn==="pathname"?"/":"#";Un[Bn]=On.charAt(0)!==Tn?Tn+On:On}else Un[Bn]=On;break;case"username":case"password":Un[Bn]=encodeURIComponent(On);break;case"auth":var zn=On.indexOf(":");~zn?(Un.username=On.slice(0,zn),Un.username=encodeURIComponent(decodeURIComponent(Un.username)),Un.password=On.slice(zn+1),Un.password=encodeURIComponent(decodeURIComponent(Un.password))):Un.username=encodeURIComponent(decodeURIComponent(On))}for(var Dn=0;Dn<An.length;Dn++){var In=An[Dn];In[4]&&(Un[In[1]]=Un[In[1]].toLowerCase())}return Un.auth=Un.password?Un.username+":"+Un.password:Un.username,Un.origin=Un.protocol!=="file:"&&Nn(Un.protocol)&&Un.host?Un.protocol+"//"+Un.host:"null",Un.href=Un.toString(),Un},toString:function(Bn){Bn&&typeof Bn=="function"||(Bn=un.stringify);var On,Mn=this,Un=Mn.host,Tn=Mn.protocol;Tn&&Tn.charAt(Tn.length-1)!==":"&&(Tn+=":");var zn=Tn+(Mn.protocol&&Mn.slashes||Nn(Mn.protocol)?"//":"");return Mn.username?(zn+=Mn.username,Mn.password&&(zn+=":"+Mn.password),zn+="@"):Mn.password?(zn+=":"+Mn.password,zn+="@"):Mn.protocol!=="file:"&&Nn(Mn.protocol)&&!Un&&Mn.pathname!=="/"&&(zn+="@"),(Un[Un.length-1]===":"||xn.test(Mn.hostname)&&!Mn.port)&&(Un+=":"),zn+=Un+Mn.pathname,(On=typeof Mn.query=="object"?Bn(Mn.query):Mn.query)&&(zn+=On.charAt(0)!=="?"?"?"+On:On),Mn.hash&&(zn+=Mn.hash),zn}},Hn.extractProtocol=jn,Hn.location=Sn,Hn.trimLeft=vn,Hn.qs=un,sn.exports=Hn},745:sn=>{sn.exports=function(O,rn){if(rn=rn.split(":")[0],!(O=+O))return!1;switch(rn){case"http":case"ws":return O!==80;case"https":case"wss":return O!==443;case"ftp":return O!==21;case"gopher":return O!==70;case"file":return!1}return O!==0}},773:sn=>{function O(un,dn,hn){un instanceof RegExp&&(un=rn(un,hn)),dn instanceof RegExp&&(dn=rn(dn,hn));var mn=an(un,dn,hn);return mn&&{start:mn[0],end:mn[1],pre:hn.slice(0,mn[0]),body:hn.slice(mn[0]+un.length,mn[1]),post:hn.slice(mn[1]+dn.length)}}function rn(un,dn){var hn=dn.match(un);return hn?hn[0]:null}function an(un,dn,hn){var mn,xn,gn,wn,vn,An=hn.indexOf(un),Cn=hn.indexOf(dn,An+1),Sn=An;if(An>=0&&Cn>0){if(un===dn)return[An,Cn];for(mn=[],gn=hn.length;Sn>=0&&!vn;)Sn==An?(mn.push(Sn),An=hn.indexOf(un,Sn+1)):mn.length==1?vn=[mn.pop(),Cn]:((xn=mn.pop())<gn&&(gn=xn,wn=Cn),Cn=hn.indexOf(dn,Sn+1)),Sn=An<Cn&&An>=0?An:Cn;mn.length&&(vn=[gn,wn])}return vn}sn.exports=O,O.range=an},785:(sn,O)=>{const rn={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(an,un){return un},attributeValueProcessor:function(an,un){return un},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(an,un,dn){return an}};O.buildOptions=function(an){return Object.assign({},rn,an)},O.defaultOptions=rn},800:()=>{},802:function(sn,O,rn){var an;sn=rn.nmd(sn),(function(){sn&&sn.exports,typeof global=="object"&&global;var un=function(gn){this.message=gn};(un.prototype=new Error).name="InvalidCharacterError";var dn=function(gn){throw new un(gn)},hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn=/[\t\n\f\r ]/g,xn={encode:function(gn){gn=String(gn),/[^\0-\xFF]/.test(gn)&&dn("The string to be encoded contains characters outside of the Latin1 range.");for(var wn,vn,An,Cn,Sn=gn.length%3,Nn="",jn=-1,Hn=gn.length-Sn;++jn<Hn;)wn=gn.charCodeAt(jn)<<16,vn=gn.charCodeAt(++jn)<<8,An=gn.charCodeAt(++jn),Nn+=hn.charAt((Cn=wn+vn+An)>>18&63)+hn.charAt(Cn>>12&63)+hn.charAt(Cn>>6&63)+hn.charAt(63&Cn);return Sn==2?(wn=gn.charCodeAt(jn)<<8,vn=gn.charCodeAt(++jn),Nn+=hn.charAt((Cn=wn+vn)>>10)+hn.charAt(Cn>>4&63)+hn.charAt(Cn<<2&63)+"="):Sn==1&&(Cn=gn.charCodeAt(jn),Nn+=hn.charAt(Cn>>2)+hn.charAt(Cn<<4&63)+"=="),Nn},decode:function(gn){var wn=(gn=String(gn).replace(mn,"")).length;wn%4==0&&(wn=(gn=gn.replace(/==?$/,"")).length),(wn%4==1||/[^+a-zA-Z0-9/]/.test(gn))&&dn("Invalid character: the string to be decoded is not correctly encoded.");for(var vn,An,Cn=0,Sn="",Nn=-1;++Nn<wn;)An=hn.indexOf(gn.charAt(Nn)),vn=Cn%4?64*vn+An:An,Cn++%4&&(Sn+=String.fromCharCode(255&vn>>(-2*Cn&6)));return Sn},version:"1.0.0"};(an=(function(){return xn}).call(O,rn,O,sn))===void 0||(sn.exports=an)})()},805:()=>{},829:sn=>{function O(hn,mn,xn,gn){let wn="",vn=!1;for(let An=0;An<hn.length;An++){const Cn=hn[An],Sn=rn(Cn);if(Sn===void 0)continue;let Nn="";if(Nn=xn.length===0?Sn:`${xn}.${Sn}`,Sn===mn.textNodeName){let On=Cn[Sn];un(Nn,mn)||(On=mn.tagValueProcessor(Sn,On),On=dn(On,mn)),vn&&(wn+=gn),wn+=On,vn=!1;continue}if(Sn===mn.cdataPropName){vn&&(wn+=gn),wn+=`<![CDATA[${Cn[Sn][0][mn.textNodeName]}]]>`,vn=!1;continue}if(Sn===mn.commentPropName){wn+=gn+`<!--${Cn[Sn][0][mn.textNodeName]}-->`,vn=!0;continue}if(Sn[0]==="?"){const On=an(Cn[":@"],mn),Mn=Sn==="?xml"?"":gn;let Un=Cn[Sn][0][mn.textNodeName];Un=Un.length!==0?" "+Un:"",wn+=Mn+`<${Sn}${Un}${On}?>`,vn=!0;continue}let jn=gn;jn!==""&&(jn+=mn.indentBy);const Hn=gn+`<${Sn}${an(Cn[":@"],mn)}`,Bn=O(Cn[Sn],mn,Nn,jn);mn.unpairedTags.indexOf(Sn)!==-1?mn.suppressUnpairedNode?wn+=Hn+">":wn+=Hn+"/>":Bn&&Bn.length!==0||!mn.suppressEmptyNode?Bn&&Bn.endsWith(">")?wn+=Hn+`>${Bn}${gn}</${Sn}>`:(wn+=Hn+">",Bn&&gn!==""&&(Bn.includes("/>")||Bn.includes("</"))?wn+=gn+mn.indentBy+Bn+gn:wn+=Bn,wn+=`</${Sn}>`):wn+=Hn+"/>",vn=!0}return wn}function rn(hn){const mn=Object.keys(hn);for(let xn=0;xn<mn.length;xn++){const gn=mn[xn];if(hn.hasOwnProperty(gn)&&gn!==":@")return gn}}function an(hn,mn){let xn="";if(hn&&!mn.ignoreAttributes)for(let gn in hn){if(!hn.hasOwnProperty(gn))continue;let wn=mn.attributeValueProcessor(gn,hn[gn]);wn=dn(wn,mn),wn===!0&&mn.suppressBooleanAttributes?xn+=` ${gn.substr(mn.attributeNamePrefix.length)}`:xn+=` ${gn.substr(mn.attributeNamePrefix.length)}="${wn}"`}return xn}function un(hn,mn){let xn=(hn=hn.substr(0,hn.length-mn.textNodeName.length-1)).substr(hn.lastIndexOf(".")+1);for(let gn in mn.stopNodes)if(mn.stopNodes[gn]===hn||mn.stopNodes[gn]==="*."+xn)return!0;return!1}function dn(hn,mn){if(hn&&hn.length>0&&mn.processEntities)for(let xn=0;xn<mn.entities.length;xn++){const gn=mn.entities[xn];hn=hn.replace(gn.regex,gn.val)}return hn}sn.exports=function(hn,mn){let xn="";return mn.format&&mn.indentBy.length>0&&(xn=`
`),O(hn,mn,"",xn)}},940:sn=>{sn.exports=function(O){return typeof O=="function"?O:Array.isArray(O)?rn=>{for(const an of O)if(typeof an=="string"&&rn===an||an instanceof RegExp&&an.test(rn))return!0}:()=>!1}},978:(sn,O)=>{function rn(hn,mn,xn){let gn;const wn={};for(let vn=0;vn<hn.length;vn++){const An=hn[vn],Cn=an(An);let Sn="";if(Sn=xn===void 0?Cn:xn+"."+Cn,Cn===mn.textNodeName)gn===void 0?gn=An[Cn]:gn+=""+An[Cn];else{if(Cn===void 0)continue;if(An[Cn]){let Nn=rn(An[Cn],mn,Sn);const jn=dn(Nn,mn);An[":@"]?un(Nn,An[":@"],Sn,mn):Object.keys(Nn).length!==1||Nn[mn.textNodeName]===void 0||mn.alwaysCreateTextNode?Object.keys(Nn).length===0&&(mn.alwaysCreateTextNode?Nn[mn.textNodeName]="":Nn=""):Nn=Nn[mn.textNodeName],wn[Cn]!==void 0&&wn.hasOwnProperty(Cn)?(Array.isArray(wn[Cn])||(wn[Cn]=[wn[Cn]]),wn[Cn].push(Nn)):mn.isArray(Cn,Sn,jn)?wn[Cn]=[Nn]:wn[Cn]=Nn}}}return typeof gn=="string"?gn.length>0&&(wn[mn.textNodeName]=gn):gn!==void 0&&(wn[mn.textNodeName]=gn),wn}function an(hn){const mn=Object.keys(hn);for(let xn=0;xn<mn.length;xn++){const gn=mn[xn];if(gn!==":@")return gn}}function un(hn,mn,xn,gn){if(mn){const wn=Object.keys(mn),vn=wn.length;for(let An=0;An<vn;An++){const Cn=wn[An];gn.isArray(Cn,xn+"."+Cn,!0,!0)?hn[Cn]=[mn[Cn]]:hn[Cn]=mn[Cn]}}}function dn(hn,mn){const{textNodeName:xn}=mn,gn=Object.keys(hn).length;return gn===0||!(gn!==1||!hn[xn]&&typeof hn[xn]!="boolean"&&hn[xn]!==0)}O.prettify=function(hn,mn){return rn(hn,mn)}},993:(sn,O,rn)=>{const an=rn(80),un={allowBooleanAttributes:!1,unpairedTags:[]};function dn(On){return On===" "||On==="	"||On===`
`||On==="\r"}function hn(On,Mn){const Un=Mn;for(;Mn<On.length;Mn++)if(On[Mn]=="?"||On[Mn]==" "){const Tn=On.substr(Un,Mn-Un);if(Mn>5&&Tn==="xml")return Sn("InvalidXml","XML declaration allowed only at the start of the document.",Hn(On,Mn));if(On[Mn]=="?"&&On[Mn+1]==">"){Mn++;break}continue}return Mn}function mn(On,Mn){if(On.length>Mn+5&&On[Mn+1]==="-"&&On[Mn+2]==="-"){for(Mn+=3;Mn<On.length;Mn++)if(On[Mn]==="-"&&On[Mn+1]==="-"&&On[Mn+2]===">"){Mn+=2;break}}else if(On.length>Mn+8&&On[Mn+1]==="D"&&On[Mn+2]==="O"&&On[Mn+3]==="C"&&On[Mn+4]==="T"&&On[Mn+5]==="Y"&&On[Mn+6]==="P"&&On[Mn+7]==="E"){let Un=1;for(Mn+=8;Mn<On.length;Mn++)if(On[Mn]==="<")Un++;else if(On[Mn]===">"&&(Un--,Un===0))break}else if(On.length>Mn+9&&On[Mn+1]==="["&&On[Mn+2]==="C"&&On[Mn+3]==="D"&&On[Mn+4]==="A"&&On[Mn+5]==="T"&&On[Mn+6]==="A"&&On[Mn+7]==="["){for(Mn+=8;Mn<On.length;Mn++)if(On[Mn]==="]"&&On[Mn+1]==="]"&&On[Mn+2]===">"){Mn+=2;break}}return Mn}O.validate=function(On,Mn){Mn=Object.assign({},un,Mn);const Un=[];let Tn=!1,zn=!1;On[0]==="\uFEFF"&&(On=On.substr(1));for(let Dn=0;Dn<On.length;Dn++)if(On[Dn]==="<"&&On[Dn+1]==="?"){if(Dn+=2,Dn=hn(On,Dn),Dn.err)return Dn}else{if(On[Dn]!=="<"){if(dn(On[Dn]))continue;return Sn("InvalidChar","char '"+On[Dn]+"' is not expected.",Hn(On,Dn))}{let In=Dn;if(Dn++,On[Dn]==="!"){Dn=mn(On,Dn);continue}{let Ln=!1;On[Dn]==="/"&&(Ln=!0,Dn++);let Wn="";for(;Dn<On.length&&On[Dn]!==">"&&On[Dn]!==" "&&On[Dn]!=="	"&&On[Dn]!==`
`&&On[Dn]!=="\r";Dn++)Wn+=On[Dn];if(Wn=Wn.trim(),Wn[Wn.length-1]==="/"&&(Wn=Wn.substring(0,Wn.length-1),Dn--),!jn(Wn)){let Vn;return Vn=Wn.trim().length===0?"Invalid space after '<'.":"Tag '"+Wn+"' is an invalid name.",Sn("InvalidTag",Vn,Hn(On,Dn))}const Fn=wn(On,Dn);if(Fn===!1)return Sn("InvalidAttr","Attributes for '"+Wn+"' have open quote.",Hn(On,Dn));let Pn=Fn.value;if(Dn=Fn.index,Pn[Pn.length-1]==="/"){const Vn=Dn-Pn.length;Pn=Pn.substring(0,Pn.length-1);const Zn=An(Pn,Mn);if(Zn!==!0)return Sn(Zn.err.code,Zn.err.msg,Hn(On,Vn+Zn.err.line));Tn=!0}else if(Ln){if(!Fn.tagClosed)return Sn("InvalidTag","Closing tag '"+Wn+"' doesn't have proper closing.",Hn(On,Dn));if(Pn.trim().length>0)return Sn("InvalidTag","Closing tag '"+Wn+"' can't have attributes or invalid starting.",Hn(On,In));if(Un.length===0)return Sn("InvalidTag","Closing tag '"+Wn+"' has not been opened.",Hn(On,In));{const Vn=Un.pop();if(Wn!==Vn.tagName){let Zn=Hn(On,Vn.tagStartPos);return Sn("InvalidTag","Expected closing tag '"+Vn.tagName+"' (opened in line "+Zn.line+", col "+Zn.col+") instead of closing tag '"+Wn+"'.",Hn(On,In))}Un.length==0&&(zn=!0)}}else{const Vn=An(Pn,Mn);if(Vn!==!0)return Sn(Vn.err.code,Vn.err.msg,Hn(On,Dn-Pn.length+Vn.err.line));if(zn===!0)return Sn("InvalidXml","Multiple possible root nodes found.",Hn(On,Dn));Mn.unpairedTags.indexOf(Wn)!==-1||Un.push({tagName:Wn,tagStartPos:In}),Tn=!0}for(Dn++;Dn<On.length;Dn++)if(On[Dn]==="<"){if(On[Dn+1]==="!"){Dn++,Dn=mn(On,Dn);continue}if(On[Dn+1]!=="?")break;if(Dn=hn(On,++Dn),Dn.err)return Dn}else if(On[Dn]==="&"){const Vn=Cn(On,Dn);if(Vn==-1)return Sn("InvalidChar","char '&' is not expected.",Hn(On,Dn));Dn=Vn}else if(zn===!0&&!dn(On[Dn]))return Sn("InvalidXml","Extra text at the end",Hn(On,Dn));On[Dn]==="<"&&Dn--}}}return Tn?Un.length==1?Sn("InvalidTag","Unclosed tag '"+Un[0].tagName+"'.",Hn(On,Un[0].tagStartPos)):!(Un.length>0)||Sn("InvalidXml","Invalid '"+JSON.stringify(Un.map(Dn=>Dn.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):Sn("InvalidXml","Start tag expected.",1)};const xn='"',gn="'";function wn(On,Mn){let Un="",Tn="",zn=!1;for(;Mn<On.length;Mn++){if(On[Mn]===xn||On[Mn]===gn)Tn===""?Tn=On[Mn]:Tn!==On[Mn]||(Tn="");else if(On[Mn]===">"&&Tn===""){zn=!0;break}Un+=On[Mn]}return Tn===""&&{value:Un,index:Mn,tagClosed:zn}}const vn=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function An(On,Mn){const Un=an.getAllMatches(On,vn),Tn={};for(let zn=0;zn<Un.length;zn++){if(Un[zn][1].length===0)return Sn("InvalidAttr","Attribute '"+Un[zn][2]+"' has no space in starting.",Bn(Un[zn]));if(Un[zn][3]!==void 0&&Un[zn][4]===void 0)return Sn("InvalidAttr","Attribute '"+Un[zn][2]+"' is without value.",Bn(Un[zn]));if(Un[zn][3]===void 0&&!Mn.allowBooleanAttributes)return Sn("InvalidAttr","boolean attribute '"+Un[zn][2]+"' is not allowed.",Bn(Un[zn]));const Dn=Un[zn][2];if(!Nn(Dn))return Sn("InvalidAttr","Attribute '"+Dn+"' is an invalid name.",Bn(Un[zn]));if(Tn.hasOwnProperty(Dn))return Sn("InvalidAttr","Attribute '"+Dn+"' is repeated.",Bn(Un[zn]));Tn[Dn]=1}return!0}function Cn(On,Mn){if(On[++Mn]===";")return-1;if(On[Mn]==="#")return(function(Tn,zn){let Dn=/\d/;for(Tn[zn]==="x"&&(zn++,Dn=/[\da-fA-F]/);zn<Tn.length;zn++){if(Tn[zn]===";")return zn;if(!Tn[zn].match(Dn))break}return-1})(On,++Mn);let Un=0;for(;Mn<On.length;Mn++,Un++)if(!(On[Mn].match(/\w/)&&Un<20)){if(On[Mn]===";")break;return-1}return Mn}function Sn(On,Mn,Un){return{err:{code:On,msg:Mn,line:Un.line||Un,col:Un.col}}}function Nn(On){return an.isName(On)}function jn(On){return an.isName(On)}function Hn(On,Mn){const Un=On.substring(0,Mn).split(/\r?\n/);return{line:Un.length,col:Un[Un.length-1].length+1}}function Bn(On){return On.startIndex+On[1].length}}},e={};function n(sn){var O=e[sn];if(O!==void 0)return O.exports;var rn=e[sn]={id:sn,loaded:!1,exports:{}};return t[sn].call(rn.exports,rn,rn.exports,n),rn.loaded=!0,rn.exports}n.n=sn=>{var O=sn&&sn.__esModule?()=>sn.default:()=>sn;return n.d(O,{a:O}),O},n.d=(sn,O)=>{for(var rn in O)n.o(O,rn)&&!n.o(sn,rn)&&Object.defineProperty(sn,rn,{enumerable:!0,get:O[rn]})},n.o=(sn,O)=>Object.prototype.hasOwnProperty.call(sn,O),n.nmd=sn=>(sn.paths=[],sn.children||(sn.children=[]),sn);var r=n(715),o=n.n(r);function i(sn){if(!s(sn))throw new Error("Parameter was not an error")}function s(sn){return!!sn&&typeof sn=="object"&&(O=sn,Object.prototype.toString.call(O)==="[object Error]")||sn instanceof Error;var O}class a extends Error{constructor(O,rn){const an=[...arguments],{options:un,shortMessage:dn}=(function(mn){let xn,gn="";if(mn.length===0)xn={};else if(s(mn[0]))xn={cause:mn[0]},gn=mn.slice(1).join(" ")||"";else if(mn[0]&&typeof mn[0]=="object")xn=Object.assign({},mn[0]),gn=mn.slice(1).join(" ")||"";else{if(typeof mn[0]!="string")throw new Error("Invalid arguments passed to Layerr");xn={},gn=gn=mn.join(" ")||""}return{options:xn,shortMessage:gn}})(an);let hn=dn;if(un.cause&&(hn=`${hn}: ${un.cause.message}`),super(hn),this.message=hn,un.name&&typeof un.name=="string"?this.name=un.name:this.name="Layerr",un.cause&&Object.defineProperty(this,"_cause",{value:un.cause}),Object.defineProperty(this,"_info",{value:{}}),un.info&&typeof un.info=="object"&&Object.assign(this._info,un.info),Error.captureStackTrace){const mn=un.constructorOpt||this.constructor;Error.captureStackTrace(this,mn)}}static cause(O){return i(O),O._cause&&s(O._cause)?O._cause:null}static fullStack(O){i(O);const rn=a.cause(O);return rn?`${O.stack}
caused by: ${a.fullStack(rn)}`:O.stack??""}static info(O){i(O);const rn={},an=a.cause(O);return an&&Object.assign(rn,a.info(an)),O._info&&Object.assign(rn,O._info),rn}toString(){let O=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(O=`${O}: ${this.message}`),O}}var u=n(699),c=n.n(u);const l="__PATH_SEPARATOR_POSIX__",h="__PATH_SEPARATOR_WINDOWS__";function p(sn){try{const O=sn.replace(/\//g,l).replace(/\\\\/g,h);return encodeURIComponent(O).split(h).join("\\\\").split(l).join("/")}catch(O){throw new a(O,"Failed encoding path")}}function f(sn){return sn.startsWith("/")?sn:"/"+sn}function g(sn){let O=sn;return O[0]!=="/"&&(O="/"+O),/^.+\/$/.test(O)&&(O=O.substr(0,O.length-1)),O}function d(sn){let O=new(o())(sn).pathname;return O.length<=0&&(O="/"),g(O)}function m(){for(var sn=arguments.length,O=new Array(sn),rn=0;rn<sn;rn++)O[rn]=arguments[rn];return(function(){return(function(an){var un=[];if(an.length===0)return"";if(typeof an[0]!="string")throw new TypeError("Url must be a string. Received "+an[0]);if(an[0].match(/^[^/:]+:\/*$/)&&an.length>1){var dn=an.shift();an[0]=dn+an[0]}an[0].match(/^file:\/\/\//)?an[0]=an[0].replace(/^([^/:]+):\/*/,"$1:///"):an[0]=an[0].replace(/^([^/:]+):\/*/,"$1://");for(var hn=0;hn<an.length;hn++){var mn=an[hn];if(typeof mn!="string")throw new TypeError("Url must be a string. Received "+mn);mn!==""&&(hn>0&&(mn=mn.replace(/^[\/]+/,"")),mn=hn<an.length-1?mn.replace(/[\/]+$/,""):mn.replace(/[\/]+$/,"/"),un.push(mn))}var xn=un.join("/"),gn=(xn=xn.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return gn.shift()+(gn.length>0?"?":"")+gn.join("&")})(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))})(O.reduce((an,un,dn)=>((dn===0||un!=="/"||un==="/"&&an[an.length-1]!=="/")&&an.push(un),an),[]))}var y=n(221),v=n.n(y);function b(sn,O){const rn=sn.url.replace("//",""),an=rn.indexOf("/")==-1?"/":rn.slice(rn.indexOf("/")),un=sn.method?sn.method.toUpperCase():"GET",dn=!!/(^|,)\s*auth\s*($|,)/.test(O.qop)&&"auth",hn=`00000000${O.nc}`.slice(-8),mn=(function(An,Cn,Sn,Nn,jn,Hn,Bn){const On=Bn||v()(`${Cn}:${Sn}:${Nn}`);return An&&An.toLowerCase()==="md5-sess"?v()(`${On}:${jn}:${Hn}`):On})(O.algorithm,O.username,O.realm,O.password,O.nonce,O.cnonce,O.ha1),xn=v()(`${un}:${an}`),gn=dn?v()(`${mn}:${O.nonce}:${hn}:${O.cnonce}:${dn}:${xn}`):v()(`${mn}:${O.nonce}:${xn}`),wn={username:O.username,realm:O.realm,nonce:O.nonce,uri:an,qop:dn,response:gn,nc:hn,cnonce:O.cnonce,algorithm:O.algorithm,opaque:O.opaque},vn=[];for(const An in wn)wn[An]&&(An==="qop"||An==="nc"||An==="algorithm"?vn.push(`${An}=${wn[An]}`):vn.push(`${An}="${wn[An]}"`));return`Digest ${vn.join(", ")}`}function w(sn){return(sn.headers&&sn.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var x=n(802),N=n.n(x);function P(sn){return N().decode(sn)}function A(sn,O){var rn;return`Basic ${rn=`${sn}:${O}`,N().encode(rn)}`}const E=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis;E.fetch.bind(E),E.Request;let j=(function(sn){return sn.Auto="auto",sn.Digest="digest",sn.None="none",sn.Password="password",sn.Token="token",sn})({}),S=(function(sn){return sn.DataTypeNoLength="data-type-no-length",sn.InvalidAuthType="invalid-auth-type",sn.InvalidOutputFormat="invalid-output-format",sn.LinkUnsupportedAuthType="link-unsupported-auth",sn.InvalidUpdateRange="invalid-update-range",sn.NotSupported="not-supported",sn})({});function $(sn,O,rn,an,un){switch(sn.authType){case j.Auto:O&&rn&&(sn.headers.Authorization=A(O,rn));break;case j.Digest:sn.digest=(function(hn,mn,xn){return{username:hn,password:mn,ha1:xn,nc:0,algorithm:"md5",hasDigestAuth:!1}})(O,rn,un);break;case j.None:break;case j.Password:sn.headers.Authorization=A(O,rn);break;case j.Token:sn.headers.Authorization=`${(dn=an).token_type} ${dn.access_token}`;break;default:throw new a({info:{code:S.InvalidAuthType}},`Invalid auth type: ${sn.authType}`)}var dn}function C(sn,O){const rn=new URL(sn,window.location.origin).origin;return window.location.origin===rn?(console.log("[WebDav] Libcurl will not be used since this request is local"),window.fetch(sn,{mode:"cors",credentials:"include",...O})):window.parent.tb.libcurl.fetch(sn,{...O})}n(345),n(800);const I="@@HOTPATCHER",k=()=>{};function R(sn){return{original:sn,methods:[sn],final:!1}}class L{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=I}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(O){this.configuration.getEmptyAction=O}control(O){let rn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!O||O.__type__!==I)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(O.configuration.registry).forEach(an=>{this.configuration.registry.hasOwnProperty(an)?rn&&(this.configuration.registry[an]=Object.assign({},O.configuration.registry[an])):this.configuration.registry[an]=Object.assign({},O.configuration.registry[an])}),O._configuration=this.configuration,this}execute(O){const rn=this.get(O)||k;for(var an=arguments.length,un=new Array(an>1?an-1:0),dn=1;dn<an;dn++)un[dn-1]=arguments[dn];return rn(...un)}get(O){const rn=this.configuration.registry[O];if(!rn)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${O}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return(function(){for(var an=arguments.length,un=new Array(an),dn=0;dn<an;dn++)un[dn]=arguments[dn];if(un.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var hn=arguments.length,mn=new Array(hn),xn=0;xn<hn;xn++)mn[xn]=arguments[xn];let gn=mn;const wn=this;for(;un.length>0;)gn=[un.shift().apply(wn,gn)];return gn[0]}})(...rn.methods)}isPatched(O){return!!this.configuration.registry[O]}patch(O,rn){let an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:un=!1}=an;if(this.configuration.registry[O]&&this.configuration.registry[O].final)throw new Error(`Failed patching '${O}': Method marked as being final`);if(typeof rn!="function")throw new Error(`Failed patching '${O}': Provided method is not a function`);if(un)this.configuration.registry[O]?this.configuration.registry[O].methods.push(rn):this.configuration.registry[O]=R(rn);else if(this.isPatched(O)){const{original:dn}=this.configuration.registry[O];this.configuration.registry[O]=Object.assign(R(rn),{original:dn})}else this.configuration.registry[O]=R(rn);return this}patchInline(O,rn){this.isPatched(O)||this.patch(O,rn);for(var an=arguments.length,un=new Array(an>2?an-2:0),dn=2;dn<an;dn++)un[dn-2]=arguments[dn];return this.execute(O,...un)}plugin(O){for(var rn=arguments.length,an=new Array(rn>1?rn-1:0),un=1;un<rn;un++)an[un-1]=arguments[un];return an.forEach(dn=>{this.patch(O,dn,{chain:!0})}),this}restore(O){if(!this.isPatched(O))throw new Error(`Failed restoring method: No method present for key: ${O}`);if(typeof this.configuration.registry[O].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${O}`);return this.configuration.registry[O].methods=[this.configuration.registry[O].original],this}setFinal(O){if(!this.configuration.registry.hasOwnProperty(O))throw new Error(`Failed marking '${O}' as final: No method found for key`);return this.configuration.registry[O].final=!0,this}}let _=null;function M(){return _||(_=new L),_}function U(sn){return(function(O){if(typeof O!="object"||O===null||Object.prototype.toString.call(O)!="[object Object]")return!1;if(Object.getPrototypeOf(O)===null)return!0;let rn=O;for(;Object.getPrototypeOf(rn)!==null;)rn=Object.getPrototypeOf(rn);return Object.getPrototypeOf(O)===rn})(sn)?Object.assign({},sn):Object.setPrototypeOf(Object.assign({},sn),Object.getPrototypeOf(sn))}function F(){for(var sn=arguments.length,O=new Array(sn),rn=0;rn<sn;rn++)O[rn]=arguments[rn];let an=null,un=[...O];for(;un.length>0;){const dn=un.shift();an=an?D(an,dn):U(dn)}return an}function D(sn,O){const rn=U(sn);return Object.keys(O).forEach(an=>{rn.hasOwnProperty(an)?Array.isArray(O[an])?rn[an]=Array.isArray(rn[an])?[...rn[an],...O[an]]:[...O[an]]:typeof O[an]=="object"&&O[an]?rn[an]=typeof rn[an]=="object"&&rn[an]?D(rn[an],O[an]):U(O[an]):rn[an]=O[an]:rn[an]=O[an]}),rn}function B(sn){const O={};for(const rn of sn.keys())O[rn]=sn.get(rn);return O}function W(){for(var sn=arguments.length,O=new Array(sn),rn=0;rn<sn;rn++)O[rn]=arguments[rn];if(O.length===0)return{};const an={};return O.reduce((un,dn)=>(Object.keys(dn).forEach(hn=>{const mn=hn.toLowerCase();an.hasOwnProperty(mn)?un[an[mn]]=dn[hn]:(an[mn]=hn,un[hn]=dn[hn])}),un),{})}n(805);const V=typeof ArrayBuffer=="function",{toString:z}=Object.prototype;function G(sn){return V&&(sn instanceof ArrayBuffer||z.call(sn)==="[object ArrayBuffer]")}function q(sn){return sn!=null&&sn.constructor!=null&&typeof sn.constructor.isBuffer=="function"&&sn.constructor.isBuffer(sn)}function H(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}}function Z(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const X=H(function(sn){const O=sn._digest;return delete sn._digest,O.hasDigestAuth&&(sn=F(sn,{headers:{Authorization:b(sn,O)}})),Z(Q(sn),function(rn){let an=!1;return un=function(hn){return an?hn:rn},(dn=(function(){if(rn.status==401)return O.hasDigestAuth=(function(hn,mn){if(!w(hn))return!1;const xn=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const gn=hn.headers&&hn.headers.get("www-authenticate")||"",wn=xn.exec(gn);if(!wn)break;mn[wn[1]]=wn[2]||wn[3]}return mn.nc+=1,mn.cnonce=(function(){let gn="";for(let wn=0;wn<32;++wn)gn=`${gn}${"abcdef0123456789"[Math.floor(16*Math.random())]}`;return gn})(),!0})(rn,O),(function(){if(O.hasDigestAuth)return Z(Q(sn=F(sn,{headers:{Authorization:b(sn,O)}})),function(hn){return hn.status==401?O.hasDigestAuth=!1:O.nc++,an=!0,hn})})();O.nc++})())&&dn.then?dn.then(un):un(dn);var un,dn})}),Y=H(function(sn,O){return Z(Q(sn),function(rn){return rn.ok?(O.authType=j.Password,rn):rn.status==401&&w(rn)?(O.authType=j.Digest,$(O,O.username,O.password,void 0,void 0),sn._digest=O.digest,X(sn)):rn})}),J=H(function(sn,O){return O.authType===j.Auto?Y(sn,O):sn._digest?X(sn):Q(sn)});function K(sn,O,rn){const an=U(sn);return an.headers=W(O.headers,an.headers||{},rn.headers||{}),rn.data!==void 0&&(an.data=rn.data),rn.signal&&(an.signal=rn.signal),O.httpAgent&&(an.httpAgent=O.httpAgent),O.httpsAgent&&(an.httpsAgent=O.httpsAgent),O.digest&&(an._digest=O.digest),typeof O.withCredentials=="boolean"&&(an.withCredentials=O.withCredentials),an}function Q(sn){const O=M();return O.patchInline("request",rn=>O.patchInline("fetch",C,rn.url,(function(an){let un={};const dn={method:an.method};if(an.headers&&(un=W(un,an.headers)),an.data!==void 0){const[hn,mn]=(function(xn){if(typeof xn=="string")return[xn,{}];if(q(xn))return[new Uint8Array(xn),{}];if(G(xn))return[xn,{}];if(xn&&typeof xn=="object")return[JSON.stringify(xn),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof xn)})(an.data);dn.body=hn,un=W(un,mn)}return an.signal&&(dn.signal=an.signal),an.withCredentials&&(dn.credentials="include"),dn.headers=un,dn})(rn)),sn)}var tt=n(574);const et=sn=>{if(typeof sn!="string")throw new TypeError("invalid pattern");if(sn.length>65536)throw new TypeError("pattern is too long")},nt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},rt=sn=>sn.replace(/[[\]\\-]/g,"\\$&"),ot=sn=>sn.join(""),it=(sn,O)=>{const rn=O;if(sn.charAt(rn)!=="[")throw new Error("not in a brace expression");const an=[],un=[];let dn=rn+1,hn=!1,mn=!1,xn=!1,gn=!1,wn=rn,vn="";e:for(;dn<sn.length;){const Nn=sn.charAt(dn);if(Nn!=="!"&&Nn!=="^"||dn!==rn+1){if(Nn==="]"&&hn&&!xn){wn=dn+1;break}if(hn=!0,Nn!=="\\"||xn){if(Nn==="["&&!xn){for(const[jn,[Hn,Bn,On]]of Object.entries(nt))if(sn.startsWith(jn,dn)){if(vn)return["$.",!1,sn.length-rn,!0];dn+=jn.length,On?un.push(Hn):an.push(Hn),mn=mn||Bn;continue e}}xn=!1,vn?(Nn>vn?an.push(rt(vn)+"-"+rt(Nn)):Nn===vn&&an.push(rt(Nn)),vn="",dn++):sn.startsWith("-]",dn+1)?(an.push(rt(Nn+"-")),dn+=2):sn.startsWith("-",dn+1)?(vn=Nn,dn+=2):(an.push(rt(Nn)),dn++)}else xn=!0,dn++}else gn=!0,dn++}if(wn<dn)return["",!1,0,!1];if(!an.length&&!un.length)return["$.",!1,sn.length-rn,!0];if(un.length===0&&an.length===1&&/^\\?.$/.test(an[0])&&!gn)return[(An=an[0].length===2?an[0].slice(-1):an[0],An.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,wn-rn,!1];var An;const Cn="["+(gn?"^":"")+ot(an)+"]",Sn="["+(gn?"":"^")+ot(un)+"]";return[an.length&&un.length?"("+Cn+"|"+Sn+")":an.length?Cn:Sn,mn,wn-rn,!0]},st=function(sn){let{windowsPathsNoEscape:O=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O?sn.replace(/\[([^\/\\])\]/g,"$1"):sn.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},at=new Set(["!","?","+","*","@"]),ut=sn=>at.has(sn),ct="(?!\\.)",lt=new Set(["[","."]),ht=new Set(["..","."]),pt=new Set("().*{}+?[]^$\\!"),ft=sn=>sn.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),gt="[^/]",dt=gt+"*?",mt=gt+"+?";class yt{type;#e;#r;#i=!1;#t=[];#n;#a;#l;#o=!1;#s;#c;#f=!1;constructor(O,rn){let an=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=O,O&&(this.#r=!0),this.#n=rn,this.#e=this.#n?this.#n.#e:this,this.#s=this.#e===this?an:this.#e.#s,this.#l=this.#e===this?[]:this.#e.#l,O!=="!"||this.#e.#o||this.#l.push(this),this.#a=this.#n?this.#n.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const O of this.#t)if(typeof O!="string"&&(O.type||O.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(O=>String(O)).join("|")+")":this.#c=this.#t.map(O=>String(O)).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#o)return this;let O;for(this.toString(),this.#o=!0;O=this.#l.pop();){if(O.type!=="!")continue;let rn=O,an=rn.#n;for(;an;){for(let un=rn.#a+1;!an.type&&un<an.#t.length;un++)for(const dn of O.#t){if(typeof dn=="string")throw new Error("string part in extglob AST??");dn.copyIn(an.#t[un])}rn=an,an=rn.#n}}return this}push(){for(var O=arguments.length,rn=new Array(O),an=0;an<O;an++)rn[an]=arguments[an];for(const un of rn)if(un!==""){if(typeof un!="string"&&!(un instanceof yt&&un.#n===this))throw new Error("invalid part: "+un);this.#t.push(un)}}toJSON(){const O=this.type===null?this.#t.slice().map(rn=>typeof rn=="string"?rn:rn.toJSON()):[this.type,...this.#t.map(rn=>rn.toJSON())];return this.isStart()&&!this.type&&O.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#o&&this.#n?.type==="!")&&O.push({}),O}isStart(){if(this.#e===this)return!0;if(!this.#n?.isStart())return!1;if(this.#a===0)return!0;const O=this.#n;for(let rn=0;rn<this.#a;rn++){const an=O.#t[rn];if(!(an instanceof yt&&an.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#n?.type==="!")return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();const O=this.#n?this.#n.#t.length:0;return this.#a===O-1}copyIn(O){typeof O=="string"?this.push(O):this.push(O.clone(this))}clone(O){const rn=new yt(this.type,O);for(const an of this.#t)rn.copyIn(an);return rn}static#u(O,rn,an,un){let dn=!1,hn=!1,mn=-1,xn=!1;if(rn.type===null){let Cn=an,Sn="";for(;Cn<O.length;){const Nn=O.charAt(Cn++);if(dn||Nn==="\\")dn=!dn,Sn+=Nn;else if(hn)Cn===mn+1?Nn!=="^"&&Nn!=="!"||(xn=!0):Nn!=="]"||Cn===mn+2&&xn||(hn=!1),Sn+=Nn;else if(Nn!=="["){if(!un.noext&&ut(Nn)&&O.charAt(Cn)==="("){rn.push(Sn),Sn="";const jn=new yt(Nn,rn);Cn=yt.#u(O,jn,Cn,un),rn.push(jn);continue}Sn+=Nn}else hn=!0,mn=Cn,xn=!1,Sn+=Nn}return rn.push(Sn),Cn}let gn=an+1,wn=new yt(null,rn);const vn=[];let An="";for(;gn<O.length;){const Cn=O.charAt(gn++);if(dn||Cn==="\\")dn=!dn,An+=Cn;else if(hn)gn===mn+1?Cn!=="^"&&Cn!=="!"||(xn=!0):Cn!=="]"||gn===mn+2&&xn||(hn=!1),An+=Cn;else if(Cn!=="["){if(ut(Cn)&&O.charAt(gn)==="("){wn.push(An),An="";const Sn=new yt(Cn,wn);wn.push(Sn),gn=yt.#u(O,Sn,gn,un);continue}if(Cn!=="|"){if(Cn===")")return An===""&&rn.#t.length===0&&(rn.#f=!0),wn.push(An),An="",rn.push(...vn,wn),gn;An+=Cn}else wn.push(An),An="",vn.push(wn),wn=new yt(null,rn)}else hn=!0,mn=gn,xn=!1,An+=Cn}return rn.type=null,rn.#r=void 0,rn.#t=[O.substring(an-1)],gn}static fromGlob(O){let rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const an=new yt(null,void 0,rn);return yt.#u(O,an,0,rn),an}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const O=this.toString(),[rn,an,un,dn]=this.toRegExpSource();if(!(un||this.#r||this.#s.nocase&&!this.#s.nocaseMagicOnly&&O.toUpperCase()!==O.toLowerCase()))return an;const hn=(this.#s.nocase?"i":"")+(dn?"u":"");return Object.assign(new RegExp(`^${rn}$`,hn),{_src:rn,_glob:O})}get options(){return this.#s}toRegExpSource(O){const rn=O??!!this.#s.dot;if(this.#e===this&&this.#h(),!this.type){const xn=this.isStart()&&this.isEnd(),gn=this.#t.map(An=>{const[Cn,Sn,Nn,jn]=typeof An=="string"?yt.#p(An,this.#r,xn):An.toRegExpSource(O);return this.#r=this.#r||Nn,this.#i=this.#i||jn,Cn}).join("");let wn="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!ht.has(this.#t[0]))){const An=lt,Cn=rn&&An.has(gn.charAt(0))||gn.startsWith("\\.")&&An.has(gn.charAt(2))||gn.startsWith("\\.\\.")&&An.has(gn.charAt(4)),Sn=!rn&&!O&&An.has(gn.charAt(0));wn=Cn?"(?!(?:^|/)\\.\\.?(?:$|/))":Sn?ct:""}let vn="";return this.isEnd()&&this.#e.#o&&this.#n?.type==="!"&&(vn="(?:$|\\/)"),[wn+gn+vn,st(gn),this.#r=!!this.#r,this.#i]}const an=this.type==="*"||this.type==="+",un=this.type==="!"?"(?:(?!(?:":"(?:";let dn=this.#d(rn);if(this.isStart()&&this.isEnd()&&!dn&&this.type!=="!"){const xn=this.toString();return this.#t=[xn],this.type=null,this.#r=void 0,[xn,st(this.toString()),!1,!1]}let hn=!an||O||rn?"":this.#d(!0);hn===dn&&(hn=""),hn&&(dn=`(?:${dn})(?:${hn})*?`);let mn="";return mn=this.type==="!"&&this.#f?(this.isStart()&&!rn?ct:"")+mt:un+dn+(this.type==="!"?"))"+(!this.isStart()||rn||O?"":ct)+dt+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&hn?")":this.type==="*"&&hn?")?":`)${this.type}`),[mn,st(dn),this.#r=!!this.#r,this.#i]}#d(O){return this.#t.map(rn=>{if(typeof rn=="string")throw new Error("string type in extglob ast??");const[an,un,dn,hn]=rn.toRegExpSource(O);return this.#i=this.#i||hn,an}).filter(rn=>!(this.isStart()&&this.isEnd()&&!rn)).join("|")}static#p(O,rn){let an=arguments.length>2&&arguments[2]!==void 0&&arguments[2],un=!1,dn="",hn=!1;for(let mn=0;mn<O.length;mn++){const xn=O.charAt(mn);if(un)un=!1,dn+=(pt.has(xn)?"\\":"")+xn;else if(xn!=="\\"){if(xn==="["){const[gn,wn,vn,An]=it(O,mn);if(vn){dn+=gn,hn=hn||wn,mn+=vn-1,rn=rn||An;continue}}xn!=="*"?xn!=="?"?dn+=ft(xn):(dn+=gt,rn=!0):(dn+=an&&O==="*"?mt:dt,rn=!0)}else mn===O.length-1?dn+="\\\\":un=!0}return[dn,st(O),!!rn,hn]}}const vt=function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return et(O),!(!rn.nocomment&&O.charAt(0)==="#")&&new zt(O,rn).match(sn)},bt=/^\*+([^+@!?\*\[\(]*)$/,wt=sn=>O=>!O.startsWith(".")&&O.endsWith(sn),xt=sn=>O=>O.endsWith(sn),Nt=sn=>(sn=sn.toLowerCase(),O=>!O.startsWith(".")&&O.toLowerCase().endsWith(sn)),Pt=sn=>(sn=sn.toLowerCase(),O=>O.toLowerCase().endsWith(sn)),At=/^\*+\.\*+$/,Et=sn=>!sn.startsWith(".")&&sn.includes("."),Ot=sn=>sn!=="."&&sn!==".."&&sn.includes("."),Tt=/^\.\*+$/,jt=sn=>sn!=="."&&sn!==".."&&sn.startsWith("."),St=/^\*+$/,$t=sn=>sn.length!==0&&!sn.startsWith("."),Ct=sn=>sn.length!==0&&sn!=="."&&sn!=="..",It=/^\?+([^+@!?\*\[\(]*)?$/,kt=sn=>{let[O,rn=""]=sn;const an=Mt([O]);return rn?(rn=rn.toLowerCase(),un=>an(un)&&un.toLowerCase().endsWith(rn)):an},Rt=sn=>{let[O,rn=""]=sn;const an=Ut([O]);return rn?(rn=rn.toLowerCase(),un=>an(un)&&un.toLowerCase().endsWith(rn)):an},Lt=sn=>{let[O,rn=""]=sn;const an=Ut([O]);return rn?un=>an(un)&&un.endsWith(rn):an},_t=sn=>{let[O,rn=""]=sn;const an=Mt([O]);return rn?un=>an(un)&&un.endsWith(rn):an},Mt=sn=>{let[O]=sn;const rn=O.length;return an=>an.length===rn&&!an.startsWith(".")},Ut=sn=>{let[O]=sn;const rn=O.length;return an=>an.length===rn&&an!=="."&&an!==".."},Ft=typeof process=="object"&&process?typeof define_process_env_default$1=="object"&&define_process_env_default$1&&define_process_env_default$1.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";vt.sep=Ft==="win32"?"\\":"/";const Dt=Symbol("globstar **");vt.GLOBSTAR=Dt,vt.filter=function(sn){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rn=>vt(rn,sn,O)};const Bt=function(sn){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},sn,O)};vt.defaults=sn=>{if(!sn||typeof sn!="object"||!Object.keys(sn).length)return vt;const O=vt;return Object.assign(function(rn,an){return O(rn,an,Bt(sn,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends O.Minimatch{constructor(rn){super(rn,Bt(sn,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(rn){return O.defaults(Bt(sn,rn)).Minimatch}},AST:class extends O.AST{constructor(rn,an){super(rn,an,Bt(sn,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.AST.fromGlob(rn,Bt(sn,an))}},unescape:function(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.unescape(rn,Bt(sn,an))},escape:function(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.escape(rn,Bt(sn,an))},filter:function(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.filter(rn,Bt(sn,an))},defaults:rn=>O.defaults(Bt(sn,rn)),makeRe:function(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.makeRe(rn,Bt(sn,an))},braceExpand:function(rn){let an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O.braceExpand(rn,Bt(sn,an))},match:function(rn,an){let un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.match(rn,an,Bt(sn,un))},sep:O.sep,GLOBSTAR:Dt})};const Wt=function(sn){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return et(sn),O.nobrace||!/\{(?:(?!\{).)*\}/.test(sn)?[sn]:tt(sn)};vt.braceExpand=Wt,vt.makeRe=function(sn){return new zt(sn,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},vt.match=function(sn,O){const rn=new zt(O,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return sn=sn.filter(an=>rn.match(an)),rn.options.nonull&&!sn.length&&sn.push(O),sn};const Vt=/[?*]|[+@!]\(.*?\)|\[|\]/;class zt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(O){let rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};et(O),rn=rn||{},this.options=rn,this.pattern=O,this.platform=rn.platform||Ft,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!rn.windowsPathsNoEscape||rn.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!rn.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!rn.nonegate,this.comment=!1,this.empty=!1,this.partial=!!rn.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=rn.windowsNoMagicRoot!==void 0?rn.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const O of this.set)for(const rn of O)if(typeof rn!="string")return!0;return!1}debug(){}make(){const O=this.pattern,rn=this.options;if(!rn.nocomment&&O.charAt(0)==="#")return void(this.comment=!0);if(!O)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],rn.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const an=this.globSet.map(dn=>this.slashSplit(dn));this.globParts=this.preprocess(an),this.debug(this.pattern,this.globParts);let un=this.globParts.map((dn,hn,mn)=>{if(this.isWindows&&this.windowsNoMagicRoot){const xn=!(dn[0]!==""||dn[1]!==""||dn[2]!=="?"&&Vt.test(dn[2])||Vt.test(dn[3])),gn=/^[a-z]:/i.test(dn[0]);if(xn)return[...dn.slice(0,4),...dn.slice(4).map(wn=>this.parse(wn))];if(gn)return[dn[0],...dn.slice(1).map(wn=>this.parse(wn))]}return dn.map(xn=>this.parse(xn))});if(this.debug(this.pattern,un),this.set=un.filter(dn=>dn.indexOf(!1)===-1),this.isWindows)for(let dn=0;dn<this.set.length;dn++){const hn=this.set[dn];hn[0]===""&&hn[1]===""&&this.globParts[dn][2]==="?"&&typeof hn[3]=="string"&&/^[a-z]:$/i.test(hn[3])&&(hn[2]="?")}this.debug(this.pattern,this.set)}preprocess(O){if(this.options.noglobstar)for(let an=0;an<O.length;an++)for(let un=0;un<O[an].length;un++)O[an][un]==="**"&&(O[an][un]="*");const{optimizationLevel:rn=1}=this.options;return rn>=2?(O=this.firstPhasePreProcess(O),O=this.secondPhasePreProcess(O)):O=rn>=1?this.levelOneOptimize(O):this.adjascentGlobstarOptimize(O),O}adjascentGlobstarOptimize(O){return O.map(rn=>{let an=-1;for(;(an=rn.indexOf("**",an+1))!==-1;){let un=an;for(;rn[un+1]==="**";)un++;un!==an&&rn.splice(an,un-an)}return rn})}levelOneOptimize(O){return O.map(rn=>(rn=rn.reduce((an,un)=>{const dn=an[an.length-1];return un==="**"&&dn==="**"?an:un===".."&&dn&&dn!==".."&&dn!=="."&&dn!=="**"?(an.pop(),an):(an.push(un),an)},[])).length===0?[""]:rn)}levelTwoFileOptimize(O){Array.isArray(O)||(O=this.slashSplit(O));let rn=!1;do{if(rn=!1,!this.preserveMultipleSlashes){for(let un=1;un<O.length-1;un++){const dn=O[un];un===1&&dn===""&&O[0]===""||dn!=="."&&dn!==""||(rn=!0,O.splice(un,1),un--)}O[0]!=="."||O.length!==2||O[1]!=="."&&O[1]!==""||(rn=!0,O.pop())}let an=0;for(;(an=O.indexOf("..",an+1))!==-1;){const un=O[an-1];un&&un!=="."&&un!==".."&&un!=="**"&&(rn=!0,O.splice(an-1,2),an-=2)}}while(rn);return O.length===0?[""]:O}firstPhasePreProcess(O){let rn=!1;do{rn=!1;for(let an of O){let un=-1;for(;(un=an.indexOf("**",un+1))!==-1;){let hn=un;for(;an[hn+1]==="**";)hn++;hn>un&&an.splice(un+1,hn-un);let mn=an[un+1];const xn=an[un+2],gn=an[un+3];if(mn!==".."||!xn||xn==="."||xn===".."||!gn||gn==="."||gn==="..")continue;rn=!0,an.splice(un,1);const wn=an.slice(0);wn[un]="**",O.push(wn),un--}if(!this.preserveMultipleSlashes){for(let hn=1;hn<an.length-1;hn++){const mn=an[hn];hn===1&&mn===""&&an[0]===""||mn!=="."&&mn!==""||(rn=!0,an.splice(hn,1),hn--)}an[0]!=="."||an.length!==2||an[1]!=="."&&an[1]!==""||(rn=!0,an.pop())}let dn=0;for(;(dn=an.indexOf("..",dn+1))!==-1;){const hn=an[dn-1];if(hn&&hn!=="."&&hn!==".."&&hn!=="**"){rn=!0;const mn=dn===1&&an[dn+1]==="**"?["."]:[];an.splice(dn-1,2,...mn),an.length===0&&an.push(""),dn-=2}}}}while(rn);return O}secondPhasePreProcess(O){for(let rn=0;rn<O.length-1;rn++)for(let an=rn+1;an<O.length;an++){const un=this.partsMatch(O[rn],O[an],!this.preserveMultipleSlashes);if(un){O[rn]=[],O[an]=un;break}}return O.filter(rn=>rn.length)}partsMatch(O,rn){let an=arguments.length>2&&arguments[2]!==void 0&&arguments[2],un=0,dn=0,hn=[],mn="";for(;un<O.length&&dn<rn.length;)if(O[un]===rn[dn])hn.push(mn==="b"?rn[dn]:O[un]),un++,dn++;else if(an&&O[un]==="**"&&rn[dn]===O[un+1])hn.push(O[un]),un++;else if(an&&rn[dn]==="**"&&O[un]===rn[dn+1])hn.push(rn[dn]),dn++;else if(O[un]!=="*"||!rn[dn]||!this.options.dot&&rn[dn].startsWith(".")||rn[dn]==="**"){if(rn[dn]!=="*"||!O[un]||!this.options.dot&&O[un].startsWith(".")||O[un]==="**"||mn==="a")return!1;mn="b",hn.push(rn[dn]),un++,dn++}else{if(mn==="b")return!1;mn="a",hn.push(O[un]),un++,dn++}return O.length===rn.length&&hn}parseNegate(){if(this.nonegate)return;const O=this.pattern;let rn=!1,an=0;for(let un=0;un<O.length&&O.charAt(un)==="!";un++)rn=!rn,an++;an&&(this.pattern=O.slice(an)),this.negate=rn}matchOne(O,rn){let an=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const un=this.options;if(this.isWindows){const Nn=typeof O[0]=="string"&&/^[a-z]:$/i.test(O[0]),jn=!Nn&&O[0]===""&&O[1]===""&&O[2]==="?"&&/^[a-z]:$/i.test(O[3]),Hn=typeof rn[0]=="string"&&/^[a-z]:$/i.test(rn[0]),Bn=jn?3:Nn?0:void 0,On=!Hn&&rn[0]===""&&rn[1]===""&&rn[2]==="?"&&typeof rn[3]=="string"&&/^[a-z]:$/i.test(rn[3])?3:Hn?0:void 0;if(typeof Bn=="number"&&typeof On=="number"){const[Mn,Un]=[O[Bn],rn[On]];Mn.toLowerCase()===Un.toLowerCase()&&(rn[On]=Mn,On>Bn?rn=rn.slice(On):Bn>On&&(O=O.slice(Bn)))}}const{optimizationLevel:dn=1}=this.options;dn>=2&&(O=this.levelTwoFileOptimize(O)),this.debug("matchOne",this,{file:O,pattern:rn}),this.debug("matchOne",O.length,rn.length);for(var hn=0,mn=0,xn=O.length,gn=rn.length;hn<xn&&mn<gn;hn++,mn++){this.debug("matchOne loop");var wn=rn[mn],vn=O[hn];if(this.debug(rn,wn,vn),wn===!1)return!1;if(wn===Dt){this.debug("GLOBSTAR",[rn,wn,vn]);var An=hn,Cn=mn+1;if(Cn===gn){for(this.debug("** at the end");hn<xn;hn++)if(O[hn]==="."||O[hn]===".."||!un.dot&&O[hn].charAt(0)===".")return!1;return!0}for(;An<xn;){var Sn=O[An];if(this.debug(`
globstar while`,O,An,rn,Cn,Sn),this.matchOne(O.slice(An),rn.slice(Cn),an))return this.debug("globstar found match!",An,xn,Sn),!0;if(Sn==="."||Sn===".."||!un.dot&&Sn.charAt(0)==="."){this.debug("dot detected!",O,An,rn,Cn);break}this.debug("globstar swallow a segment, and continue"),An++}return!(!an||(this.debug(`
>>> no match, partial?`,O,An,rn,Cn),An!==xn))}let Nn;if(typeof wn=="string"?(Nn=vn===wn,this.debug("string match",wn,vn,Nn)):(Nn=wn.test(vn),this.debug("pattern match",wn,vn,Nn)),!Nn)return!1}if(hn===xn&&mn===gn)return!0;if(hn===xn)return an;if(mn===gn)return hn===xn-1&&O[hn]==="";throw new Error("wtf?")}braceExpand(){return Wt(this.pattern,this.options)}parse(O){et(O);const rn=this.options;if(O==="**")return Dt;if(O==="")return"";let an,un=null;(an=O.match(St))?un=rn.dot?Ct:$t:(an=O.match(bt))?un=(rn.nocase?rn.dot?Pt:Nt:rn.dot?xt:wt)(an[1]):(an=O.match(It))?un=(rn.nocase?rn.dot?Rt:kt:rn.dot?Lt:_t)(an):(an=O.match(At))?un=rn.dot?Ot:Et:(an=O.match(Tt))&&(un=jt);const dn=yt.fromGlob(O,this.options).toMMPattern();return un&&typeof dn=="object"&&Reflect.defineProperty(dn,"test",{value:un}),dn}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const O=this.set;if(!O.length)return this.regexp=!1,this.regexp;const rn=this.options,an=rn.noglobstar?"[^/]*?":rn.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",un=new Set(rn.nocase?["i"]:[]);let dn=O.map(xn=>{const gn=xn.map(wn=>{if(wn instanceof RegExp)for(const vn of wn.flags.split(""))un.add(vn);return typeof wn=="string"?wn.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):wn===Dt?Dt:wn._src});return gn.forEach((wn,vn)=>{const An=gn[vn+1],Cn=gn[vn-1];wn===Dt&&Cn!==Dt&&(Cn===void 0?An!==void 0&&An!==Dt?gn[vn+1]="(?:\\/|"+an+"\\/)?"+An:gn[vn]=an:An===void 0?gn[vn-1]=Cn+"(?:\\/|"+an+")?":An!==Dt&&(gn[vn-1]=Cn+"(?:\\/|\\/"+an+"\\/)"+An,gn[vn+1]=Dt))}),gn.filter(wn=>wn!==Dt).join("/")}).join("|");const[hn,mn]=O.length>1?["(?:",")"]:["",""];dn="^"+hn+dn+mn+"$",this.negate&&(dn="^(?!"+dn+").+$");try{this.regexp=new RegExp(dn,[...un].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(O){return this.preserveMultipleSlashes?O.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(O)?["",...O.split(/\/+/)]:O.split(/\/+/)}match(O){let rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",O,this.pattern),this.comment)return!1;if(this.empty)return O==="";if(O==="/"&&rn)return!0;const an=this.options;this.isWindows&&(O=O.split("\\").join("/"));const un=this.slashSplit(O);this.debug(this.pattern,"split",un);const dn=this.set;this.debug(this.pattern,"set",dn);let hn=un[un.length-1];if(!hn)for(let mn=un.length-2;!hn&&mn>=0;mn--)hn=un[mn];for(let mn=0;mn<dn.length;mn++){const xn=dn[mn];let gn=un;if(an.matchBase&&xn.length===1&&(gn=[hn]),this.matchOne(gn,xn,rn))return!!an.flipNegate||!this.negate}return!an.flipNegate&&this.negate}static defaults(O){return vt.defaults(O).Minimatch}}function Gt(sn){const O=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${sn.status} ${sn.statusText}`);return O.status=sn.status,O.response=sn,O}function qt(sn,O){const{status:rn}=O;if(rn===401&&sn.digest)return O;if(rn>=400)throw Gt(O);return O}function Ht(sn,O){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:O,headers:sn.headers?B(sn.headers):{},status:sn.status,statusText:sn.statusText}:O}vt.AST=yt,vt.Minimatch=zt,vt.escape=function(sn){let{windowsPathsNoEscape:O=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O?sn.replace(/[?*()[\]]/g,"[$&]"):sn.replace(/[?*()[\]\\]/g,"\\$&")},vt.unescape=st;const Zt=(Xt=function(sn,O,rn){let an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const un=K({url:m(sn.remoteURL,p(O)),method:"COPY",headers:{Destination:m(sn.remoteURL,p(rn)),Overwrite:an.overwrite===!1?"F":"T",Depth:an.shallow?"0":"infinity"}},sn,an);return hn=function(mn){qt(sn,mn)},(dn=J(un,sn))&&dn.then||(dn=Promise.resolve(dn)),hn?dn.then(hn):dn;var dn,hn},function(){for(var sn=[],O=0;O<arguments.length;O++)sn[O]=arguments[O];try{return Promise.resolve(Xt.apply(this,sn))}catch(rn){return Promise.reject(rn)}});var Xt,Yt=n(173),Jt=n(180),Kt=n.n(Jt),Qt=(function(sn){return sn.Array="array",sn.Object="object",sn.Original="original",sn})(Qt||{});function te(sn,O){if(!sn.endsWith("propstat.prop.displayname"))return O}function ee(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qt.Original;const an=Kt().get(sn,O);return rn==="array"&&Array.isArray(an)===!1?[an]:rn==="object"&&Array.isArray(an)?an[0]:an}function ne(sn,O){return O=O??{attributeNamePrefix:"@",attributeParsers:[],tagParsers:[te]},new Promise(rn=>{rn((function(an){const{multistatus:un}=an;if(un==="")return{multistatus:{response:[]}};if(!un)throw new Error("Invalid response: No root multistatus found");const dn={multistatus:Array.isArray(un)?un[0]:un};return Kt().set(dn,"multistatus.response",ee(dn,"multistatus.response",Qt.Array)),Kt().set(dn,"multistatus.response",Kt().get(dn,"multistatus.response").map(hn=>(function(mn){const xn=Object.assign({},mn);return xn.status?Kt().set(xn,"status",ee(xn,"status",Qt.Object)):(Kt().set(xn,"propstat",ee(xn,"propstat",Qt.Object)),Kt().set(xn,"propstat.prop",ee(xn,"propstat.prop",Qt.Object))),xn})(hn))),dn})((function(an){let{attributeNamePrefix:un,attributeParsers:dn,tagParsers:hn}=an;return new Yt.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:un,textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor(mn,xn,gn){for(const wn of dn)try{const vn=wn(gn,xn);if(vn!==xn)return vn}catch{}return xn},tagValueProcessor(mn,xn,gn){for(const wn of hn)try{const vn=wn(gn,xn);if(vn!==xn)return vn}catch{}return xn}})})(O).parse(sn)))})}function re(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:an=null,getcontentlength:un="0",resourcetype:dn=null,getcontenttype:hn=null,getetag:mn=null}=sn,xn=dn&&typeof dn=="object"&&dn.collection!==void 0?"directory":"file",gn={filename:O,basename:c().basename(O),lastmod:an,size:parseInt(un,10),type:xn,etag:typeof mn=="string"?mn.replace(/"/g,""):null};return xn==="file"&&(gn.mime=hn&&typeof hn=="string"?hn.split(";")[0]:""),rn&&(sn.displayname!==void 0&&(sn.displayname=String(sn.displayname)),gn.props=sn),gn}function oe(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],an=null;try{sn.multistatus.response[0].propstat&&(an=sn.multistatus.response[0])}catch{}if(!an)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:un,status:dn}}=an,[hn,mn,xn]=dn.split(" ",3),gn=parseInt(mn,10);if(gn>=400){const wn=new Error(`Invalid response: ${gn} ${xn}`);throw wn.status=gn,wn}return re(un,g(O),rn)}function ie(sn){switch(String(sn)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(sn),10)}}function se(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const ae=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:an=!1}=rn,un=K({url:m(sn.remoteURL,p(O)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},sn,rn);return se(J(un,sn),function(dn){return qt(sn,dn),se(dn.text(),function(hn){return se(ne(hn,sn.parsing),function(mn){const xn=oe(mn,O,an);return Ht(dn,xn,an)})})})});function ue(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const ce=le(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=(function(dn){if(!dn||dn==="/")return[];let hn=dn;const mn=[];do mn.push(hn),hn=c().dirname(hn);while(hn&&hn!=="/");return mn})(g(O));an.sort((dn,hn)=>dn.length>hn.length?1:hn.length>dn.length?-1:0);let un=!1;return(function(dn,hn,mn){if(typeof dn[fe]=="function"){let Nn=function(jn){try{for(;!((xn=vn.next()).done||mn&&mn());)if((jn=hn(xn.value))&&jn.then){if(!me(jn))return void jn.then(Nn,wn||(wn=ge.bind(null,gn=new de,2)));jn=jn.v}gn?ge(gn,1,jn):gn=jn}catch(Hn){ge(gn||(gn=new de),2,Hn)}};var xn,gn,wn,vn=dn[fe]();if(Nn(),vn.return){var An=function(jn){try{xn.done||vn.return()}catch{}return jn};if(gn&&gn.then)return gn.then(An,function(jn){throw An(jn)});An()}return gn}if(!("length"in dn))throw new TypeError("Object is not iterable");for(var Cn=[],Sn=0;Sn<dn.length;Sn++)Cn.push(dn[Sn]);return(function(Nn,jn,Hn){var Bn,On,Mn=-1;return(function Un(Tn){try{for(;++Mn<Nn.length&&(!Hn||!Hn());)if((Tn=jn(Mn))&&Tn.then){if(!me(Tn))return void Tn.then(Un,On||(On=ge.bind(null,Bn=new de,2)));Tn=Tn.v}Bn?ge(Bn,1,Tn):Bn=Tn}catch(zn){ge(Bn||(Bn=new de),2,zn)}})(),Bn})(Cn,function(Nn){return hn(Cn[Nn])},mn)})(an,function(dn){return hn=function(){return(function(xn,gn){try{var wn=ue(ae(sn,dn),function(vn){if(vn.type!=="directory")throw new Error(`Path includes a file: ${O}`)})}catch(vn){return gn(vn)}return wn&&wn.then?wn.then(void 0,gn):wn})(0,function(xn){const gn=xn;return(function(){if(gn.status===404)return un=!0,pe(ye(sn,dn,{...rn,recursive:!1}));throw xn})()})},(mn=(function(){if(un)return pe(ye(sn,dn,{...rn,recursive:!1}))})())&&mn.then?mn.then(hn):hn();var hn,mn},function(){return!1})});function le(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}}function he(){}function pe(sn,O){return sn&&sn.then?sn.then(he):Promise.resolve()}const fe=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function ge(sn,O,rn){if(!sn.s){if(rn instanceof de){if(!rn.s)return void(rn.o=ge.bind(null,sn,O));1&O&&(O=rn.s),rn=rn.v}if(rn&&rn.then)return void rn.then(ge.bind(null,sn,O),ge.bind(null,sn,2));sn.s=O,sn.v=rn;const an=sn.o;an&&an(sn)}}const de=(function(){function sn(){}return sn.prototype.then=function(O,rn){const an=new sn,un=this.s;if(un){const dn=1&un?O:rn;if(dn){try{ge(an,1,dn(this.v))}catch(hn){ge(an,2,hn)}return an}return this}return this.o=function(dn){try{const hn=dn.v;1&dn.s?ge(an,1,O?O(hn):hn):rn?ge(an,1,rn(hn)):ge(an,2,hn)}catch(hn){ge(an,2,hn)}},an},sn})();function me(sn){return sn instanceof de&&1&sn.s}const ye=le(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(rn.recursive===!0)return ce(sn,O,rn);const an=K({url:m(sn.remoteURL,(un=p(O),un.endsWith("/")?un:un+"/")),method:"MKCOL"},sn,rn);var un;return ue(J(an,sn),function(dn){qt(sn,dn)})});var ve=n(388),be=n.n(ve);const we=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an={};if(typeof rn.range=="object"&&typeof rn.range.start=="number"){let mn=`bytes=${rn.range.start}-`;typeof rn.range.end=="number"&&(mn=`${mn}${rn.range.end}`),an.Range=mn}const un=K({url:m(sn.remoteURL,p(O)),method:"GET",headers:an},sn,rn);return hn=function(mn){if(qt(sn,mn),an.Range&&mn.status!==206){const xn=new Error(`Invalid response code for partial request: ${mn.status}`);throw xn.status=mn.status,xn}return rn.callback&&setTimeout(()=>{rn.callback(mn)},0),mn.body},(dn=J(un,sn))&&dn.then||(dn=Promise.resolve(dn)),hn?dn.then(hn):dn;var dn,hn}),xe=()=>{},Ne=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O,rn){rn.url||(rn.url=m(sn.remoteURL,p(O)));const an=K(rn,sn,{});return dn=function(hn){return qt(sn,hn),hn},(un=J(an,sn))&&un.then||(un=Promise.resolve(un)),dn?un.then(dn):un;var un,dn}),Pe=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=K({url:m(sn.remoteURL,p(O)),method:"DELETE"},sn,rn);return dn=function(hn){qt(sn,hn)},(un=J(an,sn))&&un.then||(un=Promise.resolve(un)),dn?un.then(dn):un;var un,dn}),Ae=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function(an,un){try{var dn=(hn=ae(sn,O,rn),mn=function(){return!0},xn?mn?mn(hn):hn:(hn&&hn.then||(hn=Promise.resolve(hn)),mn?hn.then(mn):hn))}catch(gn){return un(gn)}var hn,mn,xn;return dn&&dn.then?dn.then(void 0,un):dn})(0,function(an){if(an.status===404)return!1;throw an})});function Ee(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const Oe=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=K({url:m(sn.remoteURL,p(O),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:rn.deep?"infinity":"1"}},sn,rn);return Ee(J(an,sn),function(un){return qt(sn,un),Ee(un.text(),function(dn){if(!dn)throw new Error("Failed parsing directory contents: Empty response");return Ee(ne(dn,sn.parsing),function(hn){const mn=f(O);let xn=(function(gn,wn,vn){let An=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Cn=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const Sn=c().join(wn,"/"),{multistatus:{response:Nn}}=gn,jn=Nn.map(Hn=>{const Bn=(function(Mn){try{return Mn.replace(/^https?:\/\/[^\/]+/,"")}catch(Un){throw new a(Un,"Failed normalising HREF")}})(Hn.href),{propstat:{prop:On}}=Hn;return re(On,Sn==="/"?decodeURIComponent(g(Bn)):g(c().relative(decodeURIComponent(Sn),decodeURIComponent(Bn))),An)});return Cn?jn:jn.filter(Hn=>Hn.basename&&(Hn.type==="file"||Hn.filename!==vn.replace(/\/$/,"")))})(hn,f(sn.remoteBasePath||sn.remotePath),mn,rn.details,rn.includeSelf);return rn.glob&&(xn=(function(gn,wn){return gn.filter(vn=>vt(vn.filename,wn,{matchBase:!0}))})(xn,rn.glob)),Ht(un,xn,rn.details)})})})});function Te(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}}const je=Te(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=K({url:m(sn.remoteURL,p(O)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Ie]},sn,rn);return Se(J(an,sn),function(un){return qt(sn,un),Se(un.text(),function(dn){return Ht(un,dn,rn.details)})})});function Se(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const $e=Te(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=K({url:m(sn.remoteURL,p(O)),method:"GET"},sn,rn);return Se(J(an,sn),function(un){let dn;return qt(sn,un),(function(hn,mn){var xn=hn();return xn&&xn.then?xn.then(mn):mn()})(function(){return Se(un.arrayBuffer(),function(hn){dn=hn})},function(){return Ht(un,dn,rn.details)})})}),Ce=Te(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:an="binary"}=rn;if(an!=="binary"&&an!=="text")throw new a({info:{code:S.InvalidOutputFormat}},`Invalid output format: ${an}`);return an==="text"?je(sn,O,rn):$e(sn,O,rn)}),Ie=sn=>sn;function ke(sn){return new Yt.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Re({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:sn}}},"d"))}function Re(sn,O){const rn={...sn};for(const an in rn)rn.hasOwnProperty(an)&&(rn[an]&&typeof rn[an]=="object"&&an.indexOf(":")===-1?(rn[`${O}:${an}`]=Re(rn[an],O),delete rn[an]):/^@_/.test(an)===!1&&(rn[`${O}:${an}`]=rn[an],delete rn[an]));return rn}function Le(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}function _e(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}}const Me=_e(function(sn,O,rn){let an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const un=K({url:m(sn.remoteURL,p(O)),method:"UNLOCK",headers:{"Lock-Token":rn}},sn,an);return Le(J(un,sn),function(dn){if(qt(sn,dn),dn.status!==204&&dn.status!==200)throw Gt(dn)})}),Ue=_e(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:an,timeout:un=Fe}=rn,dn={Accept:"text/plain,application/xml",Timeout:un};an&&(dn.If=an);const hn=K({url:m(sn.remoteURL,p(O)),method:"LOCK",headers:dn,data:ke(sn.contactHref)},sn,rn);return Le(J(hn,sn),function(mn){return qt(sn,mn),Le(mn.text(),function(xn){const gn=(An=xn,new Yt.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(An)),wn=Kt().get(gn,"prop.lockdiscovery.activelock.locktoken.href"),vn=Kt().get(gn,"prop.lockdiscovery.activelock.timeout");var An;if(!wn)throw Gt(mn,"No lock token received: ");return{token:wn,serverTimeout:vn}})})}),Fe="Infinite, Second-4100000000";function De(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const Be=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rn=O.path||"/",an=K({url:m(sn.remoteURL,rn),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},sn,O);return De(J(an,sn),function(un){return qt(sn,un),De(un.text(),function(dn){return De(ne(dn,sn.parsing),function(hn){const mn=(function(xn){try{const[gn]=xn.multistatus.response,{propstat:{prop:{"quota-used-bytes":wn,"quota-available-bytes":vn}}}=gn;return wn!==void 0&&vn!==void 0?{used:parseInt(String(wn),10),available:ie(vn)}:null}catch{}return null})(hn);return Ht(un,mn,O.details)})})})});function We(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const Ve=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:an=!1}=rn,un=K({url:m(sn.remoteURL,p(O)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":sn.headers["Content-Type"]||"application/xml; charset=utf-8"}},sn,rn);return We(J(un,sn),function(dn){return qt(sn,dn),We(dn.text(),function(hn){return We(ne(hn,sn.parsing),function(mn){const xn=(function(gn,wn,vn){const An={truncated:!1,results:[]};return An.truncated=gn.multistatus.response.some(Cn=>(Cn.status||Cn.propstat?.status).split(" ",3)?.[1]==="507"&&Cn.href.replace(/\/$/,"").endsWith(p(wn).replace(/\/$/,""))),gn.multistatus.response.forEach(Cn=>{if(Cn.propstat===void 0)return;const Sn=Cn.href.split("/").map(decodeURIComponent).join("/");An.results.push(re(Cn.propstat.prop,Sn,vn))}),An})(mn,O,an);return Ht(dn,xn,an)})})})}),ze=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O,rn){let an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const un=K({url:m(sn.remoteURL,p(O)),method:"MOVE",headers:{Destination:m(sn.remoteURL,p(rn)),Overwrite:an.overwrite===!1?"F":"T"}},sn,an);return hn=function(mn){qt(sn,mn)},(dn=J(un,sn))&&dn.then||(dn=Promise.resolve(dn)),hn?dn.then(hn):dn;var dn,hn});var Ge=n(694);function qe(sn){if(G(sn))return sn.byteLength;if(q(sn))return sn.length;if(typeof sn=="string")return(0,Ge.d)(sn);throw new a({info:{code:S.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}const He=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O,rn){let an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:un=!0,overwrite:dn=!0}=an,hn={"Content-Type":"application/octet-stream"};un===!1||(hn["Content-Length"]=typeof un=="number"?`${un}`:`${qe(rn)}`),dn||(hn["If-None-Match"]="*");const mn=K({url:m(sn.remoteURL,p(O)),method:"PUT",headers:hn,data:rn},sn,an);return gn=function(wn){try{qt(sn,wn)}catch(vn){const An=vn;if(An.status!==412||dn)throw An;return!1}return!0},(xn=J(mn,sn))&&xn.then||(xn=Promise.resolve(xn)),gn?xn.then(gn):xn;var xn,gn}),Ze=(function(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}})(function(sn,O){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const an=K({url:m(sn.remoteURL,p(O)),method:"OPTIONS"},sn,rn);return dn=function(hn){try{qt(sn,hn)}catch(mn){throw mn}return{compliance:(hn.headers.get("DAV")??"").split(",").map(mn=>mn.trim()),server:hn.headers.get("Server")??""}},(un=J(an,sn))&&un.then||(un=Promise.resolve(un)),dn?un.then(dn):un;var un,dn});function Xe(sn,O,rn){return rn?O?O(sn):sn:(sn&&sn.then||(sn=Promise.resolve(sn)),O?sn.then(O):sn)}const Ye=Qe(function(sn,O,rn,an,un){let dn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(rn>an||rn<0)throw new a({info:{code:S.InvalidUpdateRange}},`Invalid update range ${rn} for partial update`);const hn={"Content-Type":"application/octet-stream","Content-Length":""+(an-rn+1),"Content-Range":`bytes ${rn}-${an}/*`},mn=K({url:m(sn.remoteURL,p(O)),method:"PUT",headers:hn,data:un},sn,dn);return Xe(J(mn,sn),function(xn){qt(sn,xn)})});function Je(sn,O){var rn=sn();return rn&&rn.then?rn.then(O):O(rn)}const Ke=Qe(function(sn,O,rn,an,un){let dn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(rn>an||rn<0)throw new a({info:{code:S.InvalidUpdateRange}},`Invalid update range ${rn} for partial update`);const hn={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(an-rn+1),"X-Update-Range":`bytes=${rn}-${an}`},mn=K({url:m(sn.remoteURL,p(O)),method:"PATCH",headers:hn,data:un},sn,dn);return Xe(J(mn,sn),function(xn){qt(sn,xn)})});function Qe(sn){return function(){for(var O=[],rn=0;rn<arguments.length;rn++)O[rn]=arguments[rn];try{return Promise.resolve(sn.apply(this,O))}catch(an){return Promise.reject(an)}}}const tn=Qe(function(sn,O,rn,an,un){let dn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Xe(Ze(sn,O,dn),function(hn){let mn=!1;return Je(function(){if(hn.compliance.includes("sabredav-partialupdate"))return Xe(Ke(sn,O,rn,an,un,dn),function(xn){return mn=!0,xn})},function(xn){let gn=!1;return mn?xn:Je(function(){if(hn.server.includes("Apache")&&hn.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Xe(Ye(sn,O,rn,an,un,dn),function(wn){return gn=!0,wn})},function(wn){if(gn)return wn;throw new a({info:{code:S.NotSupported}},"Not supported")})})})}),en="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function nn(sn){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:rn=null,remoteBasePath:an,contactHref:un=en,ha1:dn,headers:hn={},httpAgent:mn,httpsAgent:xn,password:gn,token:wn,username:vn,withCredentials:An}=O;let Cn=rn;Cn||(Cn=vn||gn?j.Password:j.None);const Sn={authType:Cn,remoteBasePath:an,contactHref:un,ha1:dn,headers:Object.assign({},hn),httpAgent:mn,httpsAgent:xn,password:gn,parsing:{attributeNamePrefix:O.attributeNamePrefix??"@",attributeParsers:[],tagParsers:[te]},remotePath:d(sn),remoteURL:sn,token:wn,username:vn,withCredentials:An};return $(Sn,Sn.username,Sn.password,Sn.token,Sn.ha1),{copyFile:(Nn,jn,Hn)=>Zt(Sn,Nn,jn,Hn),createDirectory:(Nn,jn)=>ye(Sn,Nn,jn),createReadStream:(Nn,jn)=>(function(Hn,Bn){let On=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Mn=new(be()).PassThrough;return we(Hn,Bn,On).then(Un=>{Un.pipe(Mn)}).catch(Un=>{Mn.emit("error",Un)}),Mn})(Sn,Nn,jn),createWriteStream:(Nn,jn,Hn)=>(function(Bn,On){let Mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Un=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xe;const Tn=new(be()).PassThrough,zn={};Mn.overwrite===!1&&(zn["If-None-Match"]="*");const Dn=K({url:m(Bn.remoteURL,p(On)),method:"PUT",headers:zn,data:Tn,maxRedirects:0},Bn,Mn);return J(Dn,Bn).then(In=>qt(Bn,In)).then(In=>{setTimeout(()=>{Un(In)},0)}).catch(In=>{Tn.emit("error",In)}),Tn})(Sn,Nn,jn,Hn),customRequest:(Nn,jn)=>Ne(Sn,Nn,jn),deleteFile:(Nn,jn)=>Pe(Sn,Nn,jn),exists:(Nn,jn)=>Ae(Sn,Nn,jn),getDirectoryContents:(Nn,jn)=>Oe(Sn,Nn,jn),getFileContents:(Nn,jn)=>Ce(Sn,Nn,jn),getFileDownloadLink:Nn=>(function(jn,Hn){let Bn=m(jn.remoteURL,p(Hn));const On=/^https:/i.test(Bn)?"https":"http";switch(jn.authType){case j.None:break;case j.Password:{const Mn=P(jn.headers.Authorization.replace(/^Basic /i,"").trim());Bn=Bn.replace(/^https?:\/\//,`${On}://${Mn}@`);break}default:throw new a({info:{code:S.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${jn.authType}`)}return Bn})(Sn,Nn),getFileUploadLink:Nn=>(function(jn,Hn){let Bn=`${m(jn.remoteURL,p(Hn))}?Content-Type=application/octet-stream`;const On=/^https:/i.test(Bn)?"https":"http";switch(jn.authType){case j.None:break;case j.Password:{const Mn=P(jn.headers.Authorization.replace(/^Basic /i,"").trim());Bn=Bn.replace(/^https?:\/\//,`${On}://${Mn}@`);break}default:throw new a({info:{code:S.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${jn.authType}`)}return Bn})(Sn,Nn),getHeaders:()=>Object.assign({},Sn.headers),getQuota:Nn=>Be(Sn,Nn),lock:(Nn,jn)=>Ue(Sn,Nn,jn),moveFile:(Nn,jn,Hn)=>ze(Sn,Nn,jn,Hn),putFileContents:(Nn,jn,Hn)=>He(Sn,Nn,jn,Hn),partialUpdateFileContents:(Nn,jn,Hn,Bn,On)=>tn(Sn,Nn,jn,Hn,Bn,On),getDAVCompliance:Nn=>Ze(Sn,Nn),search:(Nn,jn)=>Ve(Sn,Nn,jn),setHeaders:Nn=>{Sn.headers=Object.assign({},Nn)},stat:(Nn,jn)=>ae(Sn,Nn,jn),unlock:(Nn,jn,Hn)=>Me(Sn,Nn,jn,Hn),registerAttributeParser:Nn=>{Sn.parsing.attributeParsers.push(Nn)},registerTagParser:Nn=>{Sn.parsing.tagParsers.push(Nn)}}}class vFS{servers=new Map;currentServer=null;constructor(O){this.servers=O,window.tb.fs.watch(`/apps/user/${sessionStorage.getItem("currAcc")}/files/davs.json`,{recursive:!0},async()=>{const rn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${sessionStorage.getItem("currAcc")}/files/davs.json`,"utf8"));this.servers.clear(),this.servers=new Map(rn.map(an=>[an.name,{name:an.name,connected:!1,connection:null,url:an.url}])),await this.mountAll()})}static async create(){const O=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${sessionStorage.getItem("currAcc")}/files/davs.json`,"utf8")),rn=new Map;for(const un of O)rn.set(un.name,{name:un.name,connected:!1,connection:null,url:un.url});const an=new vFS(rn);return window.addEventListener("libcurl_load",async()=>{await an.mountAll()}),an}async mount(O){const rn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${sessionStorage.getItem("currAcc")}/files/davs.json`,"utf8")),{url:an,username:un,password:dn}=rn.find(hn=>hn.name===O)||{};if(!an)throw new Error(`Server "${O}" not found`);try{const hn=nn(an,{username:un,password:dn});await hn.getDirectoryContents("/"),this.servers.set(O,{name:O,connected:!0,connection:new vFSOperations(hn),url:an})}catch(hn){this.servers.set(O,{name:O,connected:!1,connection:null,url:an}),console.warn(`Failed to connect to server "${O}":`,hn)}}async mountAll(){for(const O of this.servers.keys())await this.mount(O)}async addServer(O){const rn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/files/davs.json`,"utf8"));rn.push({name:O.name,url:O.url,username:O.username,password:O.password}),await window.tb.fs.promises.writeFile(`/apps/user/${await window.tb.user.username()}/files/davs.json`,JSON.stringify(rn,null,2));const an=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/files/config.json`,"utf8"));an.drives[O.name]=`/mnt/${O.name}/`,await window.tb.fs.promises.writeFile(`/apps/user/${await window.tb.user.username()}/files/config.json`,JSON.stringify(an,null,2)),window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:"New Dav Device has been added"})}async removeServer(O){const rn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/files/davs.json`,"utf8")),an=rn.findIndex(un=>un.name.toLowerCase()===O.toLowerCase());if(an!==-1){rn.splice(an,1),await window.tb.fs.promises.writeFile(`/apps/user/${await window.tb.user.username()}/files/davs.json`,JSON.stringify(rn,null,2));const un=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/files/config.json`,"utf8"));delete un.drives[O.toLowerCase()],await window.tb.fs.promises.writeFile(`/apps/user/${await window.tb.user.username()}/files/config.json`,JSON.stringify(un,null,2)),window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:"Dav Drive has been removed"})}else window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:"Dav Drive not found"})}setServer(O){const rn=this.servers.get(O);return rn&&rn.connected?(this.currentServer=rn,!0):!1}whatFS(O){if(O.startsWith("/mnt/")){const rn=O.split("/");if(rn.length>2)return this.servers.get(rn[2])?.connection}return window.tb.fs}}class vFSOperations{client;constructor(O){this.client=O}pathtourl(O){if(!O.startsWith("/mnt/"))return O;const rn=O.split("/").filter(Boolean);if(rn.length<2)return O;const an=rn[1],dn=window.tb.vfs.servers?.get(an);if(!dn||!dn.url)return O;const hn=rn.slice(2).join("/"),mn=dn.url.replace(/\/+$/,"");return hn?`${mn}/${hn}`:`${mn}/`}pathtoFSPath(O){if(!O.startsWith("/mnt/"))return O;const rn=O.split("/").filter(Boolean);if(rn.length<2)return"/";const an=rn.slice(2).join("/");return an?`/${an}`:"/"}readdir(O,rn){this.client.getDirectoryContents(this.pathtoFSPath(O)).then(an=>{const un=an.map(dn=>typeof dn=="string"?dn.split("/").filter(Boolean).pop()||"":dn&&typeof dn.basename=="string"?dn.basename:dn&&typeof dn.filename=="string"&&dn.filename.split("/").filter(Boolean).pop()||"");rn(null,un)}).catch(an=>rn(an))}readFile(O,rn){try{this.client.getFileContents(this.pathtoFSPath(O),{format:"binary"}).then(an=>{let un=null;if(an instanceof ArrayBuffer)un=new Uint8Array(an);else if(ArrayBuffer.isView(an))un=new Uint8Array(an.buffer,an.byteOffset||0,an.byteLength||void 0);else{if(typeof an=="string")return rn(null,an);if(an&&an.buffer instanceof ArrayBuffer)un=new Uint8Array(an.buffer);else try{const mn=Buffer.isBuffer(an)?an:null;mn&&(un=new Uint8Array(mn))}catch{return rn(null,an)}}if(!un)return rn(null,an);const dn=Math.min(un.length,512);let hn=0;for(let mn=0;mn<dn;mn++){const xn=un[mn];if(xn===0){hn=1/0;break}xn>=7&&xn<=13||xn>=32&&xn<=126||hn++}if(hn===1/0||hn/dn>.3)return rn(null,un.buffer);try{const mn=new TextDecoder("utf-8",{fatal:!1}).decode(un);return rn(null,mn)}catch{return rn(null,un.buffer)}}).catch(an=>rn(an))}catch(an){rn(an)}}writeFile(O,rn,an){this.client.putFileContents(this.pathtoFSPath(O),rn).then(()=>an(null)).catch(un=>an(un))}delete(O,rn){this.client.deleteFile(this.pathtoFSPath(O)).then(()=>rn(null)).catch(an=>rn(an))}rename(O,rn,an){this.client.moveFile(this.pathtoFSPath(O),this.pathtoFSPath(rn)).then(()=>an(null)).catch(un=>an(un))}mkdir(O,rn){this.client.createDirectory(this.pathtoFSPath(O)).then(()=>rn(null)).catch(an=>rn(an))}exists(O,rn){this.client.exists(this.pathtoFSPath(O)).then(an=>rn(null,an)).catch(an=>rn(an))}stat(O,rn){this.client.stat(this.pathtoFSPath(O)).then(an=>rn(null,an)).catch(an=>rn(an))}copyFile(O,rn,an){this.client.copyFile(this.pathtoFSPath(O),this.pathtoFSPath(rn)).then(()=>an(null)).catch(un=>an(un))}unlink(O,rn){this.client.deleteFile(this.pathtoFSPath(O)).then(()=>rn(null)).catch(an=>rn(an))}move(O,rn,an){this.client.moveFile(this.pathtoFSPath(O),this.pathtoFSPath(rn)).then(()=>an(null)).catch(un=>an(un))}appendFile(O,rn,an){this.client.getFileContents(this.pathtoFSPath(O),{format:"text"}).then(un=>{const dn=un+rn;return this.client.putFileContents(this.pathtoFSPath(O),dn)}).then(()=>an(null)).catch(un=>an(un))}access(O,...rn){this.exists(O,(an,un)=>{const dn=rn.pop();if(an)return dn(an);if(!un)return dn(new Error("File does not exist"));dn(null)})}promises={readdir:O=>new Promise((rn,an)=>{this.readdir(O,(un,dn)=>un?an(un):rn(dn))}),readFile:O=>new Promise((rn,an)=>{this.readFile(O,(un,dn)=>un?an(un):rn(dn))}),writeFile:(O,rn)=>new Promise((an,un)=>{this.writeFile(O,rn,dn=>dn?un(dn):an())}),delete:O=>new Promise((rn,an)=>{this.delete(O,un=>un?an(un):rn())}),rename:(O,rn)=>new Promise((an,un)=>{this.rename(O,rn,dn=>dn?un(dn):an())}),mkdir:O=>new Promise((rn,an)=>{this.mkdir(O,un=>un?an(un):rn())}),exists:O=>new Promise((rn,an)=>{this.exists(O,(un,dn)=>un?an(un):rn(dn))}),stat:O=>new Promise((rn,an)=>{this.stat(O,(un,dn)=>un?an(un):rn(dn))}),copyFile:(O,rn)=>new Promise((an,un)=>{this.copyFile(O,rn,dn=>dn?un(dn):an())}),unlink:O=>new Promise((rn,an)=>{this.unlink(O,un=>un?an(un):rn())}),move:(O,rn)=>new Promise((an,un)=>{this.move(O,rn,dn=>dn?un(dn):an())}),appendFile:(O,rn)=>new Promise((an,un)=>{this.appendFile(O,rn,dn=>dn?un(dn):an())}),access:(O,...rn)=>new Promise((an,un)=>{this.access(O,...rn,dn=>dn?un(dn):an())})}}const kBroadcastChannel=Symbol.for("better-auth:broadcast-channel"),now$1=()=>Math.floor(Date.now()/1e3);var WindowBroadcastChannel=class{listeners=new Set;name;constructor(sn="better-auth.message"){this.name=sn}subscribe(sn){return this.listeners.add(sn),()=>{this.listeners.delete(sn)}}post(sn){if(!(typeof window>"u"))try{localStorage.setItem(this.name,JSON.stringify({...sn,timestamp:now$1()}))}catch{}}setup(){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const sn=O=>{if(O.key!==this.name)return;const rn=JSON.parse(O.newValue??"{}");rn?.event!=="session"||!rn?.data||this.listeners.forEach(an=>an(rn))};return window.addEventListener("storage",sn),()=>{window.removeEventListener("storage",sn)}}};function getGlobalBroadcastChannel(sn="better-auth.message"){return globalThis[kBroadcastChannel]||(globalThis[kBroadcastChannel]=new WindowBroadcastChannel(sn)),globalThis[kBroadcastChannel]}const kFocusManager=Symbol.for("better-auth:focus-manager");var WindowFocusManager=class{listeners=new Set;subscribe(sn){return this.listeners.add(sn),()=>{this.listeners.delete(sn)}}setFocused(sn){this.listeners.forEach(O=>O(sn))}setup(){if(typeof window>"u"||typeof document>"u"||typeof window.addEventListener>"u")return()=>{};const sn=()=>{document.visibilityState==="visible"&&this.setFocused(!0)};return document.addEventListener("visibilitychange",sn,!1),()=>{document.removeEventListener("visibilitychange",sn,!1)}}};function getGlobalFocusManager(){return globalThis[kFocusManager]||(globalThis[kFocusManager]=new WindowFocusManager),globalThis[kFocusManager]}const kOnlineManager=Symbol.for("better-auth:online-manager");var WindowOnlineManager=class{listeners=new Set;isOnline=typeof navigator<"u"?navigator.onLine:!0;subscribe(sn){return this.listeners.add(sn),()=>{this.listeners.delete(sn)}}setOnline(sn){this.isOnline=sn,this.listeners.forEach(O=>O(sn))}setup(){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const sn=()=>this.setOnline(!0),O=()=>this.setOnline(!1);return window.addEventListener("online",sn,!1),window.addEventListener("offline",O,!1),()=>{window.removeEventListener("online",sn,!1),window.removeEventListener("offline",O,!1)}}};function getGlobalOnlineManager(){return globalThis[kOnlineManager]||(globalThis[kOnlineManager]=new WindowOnlineManager),globalThis[kOnlineManager]}let listenerQueue=[],lqIndex=0;const QUEUE_ITEMS_PER_LISTENER=4,atom=sn=>{let O=[],rn={get(){return rn.lc||rn.listen(()=>{})(),rn.value},lc:0,listen(an){return rn.lc=O.push(an),()=>{for(let dn=lqIndex+QUEUE_ITEMS_PER_LISTENER;dn<listenerQueue.length;)listenerQueue[dn]===an?listenerQueue.splice(dn,QUEUE_ITEMS_PER_LISTENER):dn+=QUEUE_ITEMS_PER_LISTENER;let un=O.indexOf(an);~un&&(O.splice(un,1),--rn.lc||rn.off())}},notify(an,un){let dn=!listenerQueue.length;for(let hn of O)listenerQueue.push(hn,rn.value,an,un);if(dn){for(lqIndex=0;lqIndex<listenerQueue.length;lqIndex+=QUEUE_ITEMS_PER_LISTENER)listenerQueue[lqIndex](listenerQueue[lqIndex+1],listenerQueue[lqIndex+2],listenerQueue[lqIndex+3]);listenerQueue.length=0}},off(){},set(an){let un=rn.value;un!==an&&(rn.value=an,rn.notify(un))},subscribe(an){let un=rn.listen(an);return an(rn.value),un},value:sn};return rn},MOUNT=5,UNMOUNT=6,REVERT_MUTATION=10;let on=(sn,O,rn,an)=>(sn.events=sn.events||{},sn.events[rn+REVERT_MUTATION]||(sn.events[rn+REVERT_MUTATION]=an(un=>{sn.events[rn].reduceRight((dn,hn)=>(hn(dn),dn),{shared:{},...un})})),sn.events[rn]=sn.events[rn]||[],sn.events[rn].push(O),()=>{let un=sn.events[rn],dn=un.indexOf(O);un.splice(dn,1),un.length||(delete sn.events[rn],sn.events[rn+REVERT_MUTATION](),delete sn.events[rn+REVERT_MUTATION])}),STORE_UNMOUNT_DELAY=1e3,onMount=(sn,O)=>on(sn,an=>{let un=O(an);un&&sn.events[UNMOUNT].push(un)},MOUNT,an=>{let un=sn.listen;sn.listen=(...hn)=>(!sn.lc&&!sn.active&&(sn.active=!0,an()),un(...hn));let dn=sn.off;return sn.events[UNMOUNT]=[],sn.off=()=>{dn(),setTimeout(()=>{if(sn.active&&!sn.lc){sn.active=!1;for(let hn of sn.events[UNMOUNT])hn();sn.events[UNMOUNT]=[]}},STORE_UNMOUNT_DELAY)},()=>{sn.listen=un,sn.off=dn}});const isServer=()=>typeof window>"u",useAuthQuery=(sn,O,rn,an)=>{const un=atom({data:null,error:null,isPending:!0,isRefetching:!1,refetch:mn=>dn(mn)}),dn=async mn=>new Promise(xn=>{const gn=typeof an=="function"?an({data:un.get().data,error:un.get().error,isPending:un.get().isPending}):an;rn(O,{...gn,query:{...gn?.query,...mn?.query},async onSuccess(wn){un.set({data:wn.data,error:null,isPending:!1,isRefetching:!1,refetch:un.value.refetch}),await gn?.onSuccess?.(wn)},async onError(wn){const{request:vn}=wn,An=typeof vn.retry=="number"?vn.retry:vn.retry?.attempts,Cn=vn.retryAttempt||0;An&&Cn<An||(un.set({error:wn.error,data:null,isPending:!1,isRefetching:!1,refetch:un.value.refetch}),await gn?.onError?.(wn))},async onRequest(wn){const vn=un.get();un.set({isPending:vn.data===null,data:vn.data,error:null,isRefetching:!0,refetch:un.value.refetch}),await gn?.onRequest?.(wn)}}).catch(wn=>{un.set({error:wn,data:null,isPending:!1,isRefetching:!1,refetch:un.value.refetch})}).finally(()=>{xn(void 0)})});sn=Array.isArray(sn)?sn:[sn];let hn=!1;for(const mn of sn)mn.subscribe(async()=>{isServer()||(hn?await dn():onMount(un,()=>{const xn=setTimeout(async()=>{hn||(await dn(),hn=!0)},0);return()=>{un.off(),mn.off(),clearTimeout(xn)}}))});return un},now=()=>Math.floor(Date.now()/1e3),FOCUS_REFETCH_RATE_LIMIT_SECONDS=5;function createSessionRefreshManager(sn){const{sessionAtom:O,sessionSignal:rn,$fetch:an,options:un={}}=sn,dn=un.sessionOptions?.refetchInterval??0,hn=un.sessionOptions?.refetchOnWindowFocus??!0,mn=un.sessionOptions?.refetchWhenOffline??!1,xn={lastSync:0,lastSessionRequest:0,cachedSession:void 0},gn=()=>mn||getGlobalOnlineManager().isOnline,wn=Bn=>{if(!gn())return;if(Bn?.event==="storage"){xn.lastSync=now(),rn.set(!rn.get());return}const On=O.get();if(Bn?.event==="poll"){xn.lastSessionRequest=now(),an("/get-session").then(Mn=>{Mn.error?O.set({...On,data:null,error:Mn.error}):O.set({...On,data:Mn.data,error:null}),xn.lastSync=now(),rn.set(!rn.get())}).catch(()=>{});return}if(Bn?.event==="visibilitychange"){if(now()-xn.lastSessionRequest<FOCUS_REFETCH_RATE_LIMIT_SECONDS)return;xn.lastSessionRequest=now()}(On?.data===null||On?.data===void 0||Bn?.event==="visibilitychange")&&(xn.lastSync=now(),rn.set(!rn.get()))},vn=Bn=>{getGlobalBroadcastChannel().post({event:"session",data:{trigger:Bn},clientId:Math.random().toString(36).substring(7)})},An=()=>{dn&&dn>0&&(xn.pollInterval=setInterval(()=>{O.get()?.data&&wn({event:"poll"})},dn*1e3))},Cn=()=>{xn.unsubscribeBroadcast=getGlobalBroadcastChannel().subscribe(()=>{wn({event:"storage"})})},Sn=()=>{hn&&(xn.unsubscribeFocus=getGlobalFocusManager().subscribe(()=>{wn({event:"visibilitychange"})}))},Nn=()=>{xn.unsubscribeOnline=getGlobalOnlineManager().subscribe(Bn=>{Bn&&wn({event:"visibilitychange"})})};return{init:()=>{An(),Cn(),Sn(),Nn(),getGlobalBroadcastChannel().setup(),getGlobalFocusManager().setup(),getGlobalOnlineManager().setup()},cleanup:()=>{xn.pollInterval&&(clearInterval(xn.pollInterval),xn.pollInterval=void 0),xn.unsubscribeBroadcast&&(xn.unsubscribeBroadcast(),xn.unsubscribeBroadcast=void 0),xn.unsubscribeFocus&&(xn.unsubscribeFocus(),xn.unsubscribeFocus=void 0),xn.unsubscribeOnline&&(xn.unsubscribeOnline(),xn.unsubscribeOnline=void 0),xn.lastSync=0,xn.lastSessionRequest=0,xn.cachedSession=void 0},triggerRefetch:wn,broadcastSessionUpdate:vn}}var define_globalThis_process_env_default={},define_process_env_default={};const _envShim=Object.create(null),_getEnv=sn=>define_globalThis_process_env_default||globalThis.Deno?.env.toObject()||globalThis.__env__||(sn?_envShim:globalThis),env=new Proxy(_envShim,{get(sn,O){return _getEnv()[O]??_envShim[O]},has(sn,O){return O in _getEnv()||O in _envShim},set(sn,O,rn){const an=_getEnv(!0);return an[O]=rn,!0},deleteProperty(sn,O){if(!O)return!1;const rn=_getEnv(!0);return delete rn[O],!0},ownKeys(){const sn=_getEnv(!0);return Object.keys(sn)}});function getEnvVar(sn,O){return typeof process<"u"&&define_process_env_default?define_process_env_default[sn]??O:typeof Deno<"u"?Deno.env.get(sn)??O:typeof Bun<"u"?Bun.env[sn]??O:O}const COLORS_2=1,COLORS_16=4,COLORS_256=8,COLORS_16m=24,TERM_ENVS={eterm:COLORS_16,cons25:COLORS_16,console:COLORS_16,cygwin:COLORS_16,dtterm:COLORS_16,gnome:COLORS_16,hurd:COLORS_16,jfbterm:COLORS_16,konsole:COLORS_16,kterm:COLORS_16,mlterm:COLORS_16,mosh:COLORS_16m,putty:COLORS_16,st:COLORS_16,"rxvt-unicode-24bit":COLORS_16m,terminator:COLORS_16m,"xterm-kitty":COLORS_16m},CI_ENVS_MAP=new Map(Object.entries({APPVEYOR:COLORS_256,BUILDKITE:COLORS_256,CIRCLECI:COLORS_16m,DRONE:COLORS_256,GITEA_ACTIONS:COLORS_16m,GITHUB_ACTIONS:COLORS_16m,GITLAB_CI:COLORS_256,TRAVIS:COLORS_256})),TERM_ENVS_REG_EXP=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function getColorDepth(){if(getEnvVar("FORCE_COLOR")!==void 0)switch(getEnvVar("FORCE_COLOR")){case"":case"1":case"true":return COLORS_16;case"2":return COLORS_256;case"3":return COLORS_16m;default:return COLORS_2}if(getEnvVar("NODE_DISABLE_COLORS")!==void 0&&getEnvVar("NODE_DISABLE_COLORS")!==""||getEnvVar("NO_COLOR")!==void 0&&getEnvVar("NO_COLOR")!==""||getEnvVar("TERM")==="dumb")return COLORS_2;if(getEnvVar("TMUX"))return COLORS_16m;if("TF_BUILD"in env&&"AGENT_NAME"in env)return COLORS_16;if("CI"in env){for(const{0:sn,1:O}of CI_ENVS_MAP)if(sn in env)return O;return getEnvVar("CI_NAME")==="codeship"?COLORS_256:COLORS_2}if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(getEnvVar("TEAMCITY_VERSION"))!==null?COLORS_16:COLORS_2;switch(getEnvVar("TERM_PROGRAM")){case"iTerm.app":return!getEnvVar("TERM_PROGRAM_VERSION")||/^[0-2]\./.exec(getEnvVar("TERM_PROGRAM_VERSION"))!==null?COLORS_256:COLORS_16m;case"HyperTerm":case"MacTerm":return COLORS_16m;case"Apple_Terminal":return COLORS_256}if(getEnvVar("COLORTERM")==="truecolor"||getEnvVar("COLORTERM")==="24bit")return COLORS_16m;if(getEnvVar("TERM")){if(/truecolor/.exec(getEnvVar("TERM"))!==null)return COLORS_16m;if(/^xterm-256/.exec(getEnvVar("TERM"))!==null)return COLORS_256;const sn=getEnvVar("TERM").toLowerCase();if(TERM_ENVS[sn])return TERM_ENVS[sn];if(TERM_ENVS_REG_EXP.some(O=>O.exec(sn)!==null))return COLORS_16}return getEnvVar("COLORTERM")?COLORS_16:COLORS_2}const TTY_COLORS={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",fg:{red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m"}},levels=["debug","info","success","warn","error"];function shouldPublishLog(sn,O){return levels.indexOf(O)>=levels.indexOf(sn)}const levelColors={info:TTY_COLORS.fg.blue,success:TTY_COLORS.fg.green,warn:TTY_COLORS.fg.yellow,error:TTY_COLORS.fg.red,debug:TTY_COLORS.fg.magenta},formatMessage=(sn,O,rn)=>{const an=new Date().toISOString();return rn?`${TTY_COLORS.dim}${an}${TTY_COLORS.reset} ${levelColors[sn]}${sn.toUpperCase()}${TTY_COLORS.reset} ${TTY_COLORS.bright}[Better Auth]:${TTY_COLORS.reset} ${O}`:`${an} ${sn.toUpperCase()} [Better Auth]: ${O}`},createLogger=sn=>{const O="warn",rn=getColorDepth()!==1,an=(un,dn,hn=[])=>{if(!shouldPublishLog(O,un))return;const mn=formatMessage(un,dn,rn);{un==="error"?console.error(mn,...hn):un==="warn"?console.warn(mn,...hn):console.log(mn,...hn);return}};return{...Object.fromEntries(levels.map(un=>[un,(...[dn,...hn])=>an(un,dn,hn)])),get level(){return O}}};createLogger();function capitalizeFirstLetter(sn){return sn.charAt(0).toUpperCase()+sn.slice(1)}var BetterAuthError=class extends Error{constructor(sn,O){super(sn,O),this.name="BetterAuthError",this.message=sn,this.stack=""}};function checkHasPath(sn){try{return(new URL(sn).pathname.replace(/\/+$/,"")||"/")!=="/"}catch{throw new BetterAuthError(`Invalid base URL: ${sn}. Please provide a valid base URL.`)}}function assertHasProtocol(sn){try{const O=new URL(sn);if(O.protocol!=="http:"&&O.protocol!=="https:")throw new BetterAuthError(`Invalid base URL: ${sn}. URL must include 'http://' or 'https://'`)}catch(O){throw O instanceof BetterAuthError?O:new BetterAuthError(`Invalid base URL: ${sn}. Please provide a valid base URL.`,{cause:O})}}function withPath(sn,O="/api/auth"){if(assertHasProtocol(sn),checkHasPath(sn))return sn;const rn=sn.replace(/\/+$/,"");return!O||O==="/"?rn:(O=O.startsWith("/")?O:`/${O}`,`${rn}${O}`)}function getBaseURL(sn,O,rn,an,un){if(sn)return withPath(sn,O);{const dn=env.BETTER_AUTH_URL||env.NEXT_PUBLIC_BETTER_AUTH_URL||env.PUBLIC_BETTER_AUTH_URL||env.NUXT_PUBLIC_BETTER_AUTH_URL||env.NUXT_PUBLIC_AUTH_URL||(env.BASE_URL!=="/"?env.BASE_URL:void 0);if(dn)return withPath(dn,O)}if(typeof window<"u"&&window.location)return withPath(window.location.origin,O)}const redirectPlugin={id:"redirect",name:"Redirect",hooks:{onSuccess(sn){if(sn.data?.url&&sn.data?.redirect&&typeof window<"u"&&window.location&&window.location)try{window.location.href=sn.data.url}catch{}}}},PROTO_POLLUTION_PATTERNS={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},JSON_SIGNATURE=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,SPECIAL_VALUES={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},ISO_DATE_REGEX=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function isValidDate(sn){return sn instanceof Date&&!isNaN(sn.getTime())}function parseISODate(sn){const O=ISO_DATE_REGEX.exec(sn);if(!O)return null;const[,rn,an,un,dn,hn,mn,xn,gn,wn,vn]=O,An=new Date(Date.UTC(parseInt(rn,10),parseInt(an,10)-1,parseInt(un,10),parseInt(dn,10),parseInt(hn,10),parseInt(mn,10),xn?parseInt(xn.padEnd(3,"0"),10):0));if(gn){const Cn=(parseInt(wn,10)*60+parseInt(vn,10))*(gn==="+"?-1:1);An.setUTCMinutes(An.getUTCMinutes()+Cn)}return isValidDate(An)?An:null}function betterJSONParse(sn,O={}){const{strict:rn=!1,warnings:an=!1,reviver:un,parseDates:dn=!0}=O;if(typeof sn!="string")return sn;const hn=sn.trim();if(hn.length>0&&hn[0]==='"'&&hn.endsWith('"')&&!hn.slice(1,-1).includes('"'))return hn.slice(1,-1);const mn=hn.toLowerCase();if(mn.length<=9&&mn in SPECIAL_VALUES)return SPECIAL_VALUES[mn];if(!JSON_SIGNATURE.test(hn)){if(rn)throw new SyntaxError("[better-json] Invalid JSON");return sn}if(Object.entries(PROTO_POLLUTION_PATTERNS).some(([xn,gn])=>{const wn=gn.test(hn);return wn&&an&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${xn} pattern`),wn})&&rn)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(hn,(gn,wn)=>{if(gn==="__proto__"||gn==="constructor"&&wn&&typeof wn=="object"&&"prototype"in wn){an&&console.warn(`[better-json] Dropping "${gn}" key to prevent prototype pollution`);return}if(dn&&typeof wn=="string"){const vn=parseISODate(wn);if(vn)return vn}return un?un(gn,wn):wn})}catch(xn){if(rn)throw xn;return sn}}function parseJSON(sn,O={strict:!0}){return betterJSONParse(sn,O)}function getSessionAtom(sn,O){const rn=atom(!1),an=useAuthQuery(rn,"/get-session",sn,{method:"GET"});return onMount(an,()=>{const un=createSessionRefreshManager({sessionAtom:an,sessionSignal:rn,$fetch:sn,options:O});return un.init(),()=>{un.cleanup()}}),{session:an,$sessionSignal:rn}}function isPlainObject(sn){if(sn===null||typeof sn!="object")return!1;const O=Object.getPrototypeOf(sn);return O!==null&&O!==Object.prototype&&Object.getPrototypeOf(O)!==null||Symbol.iterator in sn?!1:Symbol.toStringTag in sn?Object.prototype.toString.call(sn)==="[object Module]":!0}function _defu(sn,O,rn=".",an){if(!isPlainObject(O))return _defu(sn,{},rn,an);const un=Object.assign({},O);for(const dn in sn){if(dn==="__proto__"||dn==="constructor")continue;const hn=sn[dn];hn!=null&&(an&&an(un,dn,hn,rn)||(Array.isArray(hn)&&Array.isArray(un[dn])?un[dn]=[...hn,...un[dn]]:isPlainObject(hn)&&isPlainObject(un[dn])?un[dn]=_defu(hn,un[dn],(rn?`${rn}.`:"")+dn.toString(),an):un[dn]=hn))}return un}function createDefu(sn){return(...O)=>O.reduce((rn,an)=>_defu(rn,an,"",sn),{})}const defu=createDefu();var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(sn,O,rn)=>O in sn?__defProp(sn,O,{enumerable:!0,configurable:!0,writable:!0,value:rn}):sn[O]=rn,__spreadValues=(sn,O)=>{for(var rn in O||(O={}))__hasOwnProp.call(O,rn)&&__defNormalProp(sn,rn,O[rn]);if(__getOwnPropSymbols)for(var rn of __getOwnPropSymbols(O))__propIsEnum.call(O,rn)&&__defNormalProp(sn,rn,O[rn]);return sn},__spreadProps=(sn,O)=>__defProps(sn,__getOwnPropDescs(O)),BetterFetchError=class extends Error{constructor(sn,O,rn){super(O||sn.toString(),{cause:rn}),this.status=sn,this.statusText=O,this.error=rn,Error.captureStackTrace(this,this.constructor)}},initializePlugins=async(sn,O)=>{var rn,an,un,dn,hn,mn;let xn=O||{};const gn={onRequest:[O?.onRequest],onResponse:[O?.onResponse],onSuccess:[O?.onSuccess],onError:[O?.onError],onRetry:[O?.onRetry]};if(!O||!O?.plugins)return{url:sn,options:xn,hooks:gn};for(const wn of O?.plugins||[]){if(wn.init){const vn=await((rn=wn.init)==null?void 0:rn.call(wn,sn.toString(),O));xn=vn.options||xn,sn=vn.url}gn.onRequest.push((an=wn.hooks)==null?void 0:an.onRequest),gn.onResponse.push((un=wn.hooks)==null?void 0:un.onResponse),gn.onSuccess.push((dn=wn.hooks)==null?void 0:dn.onSuccess),gn.onError.push((hn=wn.hooks)==null?void 0:hn.onError),gn.onRetry.push((mn=wn.hooks)==null?void 0:mn.onRetry)}return{url:sn,options:xn,hooks:gn}},LinearRetryStrategy=class{constructor(sn){this.options=sn}shouldAttemptRetry(sn,O){return this.options.shouldRetry?Promise.resolve(sn<this.options.attempts&&this.options.shouldRetry(O)):Promise.resolve(sn<this.options.attempts)}getDelay(){return this.options.delay}},ExponentialRetryStrategy=class{constructor(sn){this.options=sn}shouldAttemptRetry(sn,O){return this.options.shouldRetry?Promise.resolve(sn<this.options.attempts&&this.options.shouldRetry(O)):Promise.resolve(sn<this.options.attempts)}getDelay(sn){return Math.min(this.options.maxDelay,this.options.baseDelay*2**sn)}};function createRetryStrategy(sn){if(typeof sn=="number")return new LinearRetryStrategy({type:"linear",attempts:sn,delay:1e3});switch(sn.type){case"linear":return new LinearRetryStrategy(sn);case"exponential":return new ExponentialRetryStrategy(sn);default:throw new Error("Invalid retry strategy")}}var getAuthHeader=async sn=>{const O={},rn=async an=>typeof an=="function"?await an():an;if(sn?.auth){if(sn.auth.type==="Bearer"){const an=await rn(sn.auth.token);if(!an)return O;O.authorization=`Bearer ${an}`}else if(sn.auth.type==="Basic"){const[an,un]=await Promise.all([rn(sn.auth.username),rn(sn.auth.password)]);if(!an||!un)return O;O.authorization=`Basic ${btoa(`${an}:${un}`)}`}else if(sn.auth.type==="Custom"){const[an,un]=await Promise.all([rn(sn.auth.prefix),rn(sn.auth.value)]);if(!un)return O;O.authorization=`${an??""} ${un}`}}return O},JSON_RE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function detectResponseType(sn){const O=sn.headers.get("content-type"),rn=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!O)return"json";const an=O.split(";").shift()||"";return JSON_RE.test(an)?"json":rn.has(an)||an.startsWith("text/")?"text":"blob"}function isJSONParsable(sn){try{return JSON.parse(sn),!0}catch{return!1}}function isJSONSerializable(sn){if(sn===void 0)return!1;const O=typeof sn;return O==="string"||O==="number"||O==="boolean"||O===null?!0:O!=="object"?!1:Array.isArray(sn)?!0:sn.buffer?!1:sn.constructor&&sn.constructor.name==="Object"||typeof sn.toJSON=="function"}function jsonParse(sn){try{return JSON.parse(sn)}catch{return sn}}function isFunction(sn){return typeof sn=="function"}function getFetch(sn){if(sn?.customFetchImpl)return sn.customFetchImpl;if(typeof globalThis<"u"&&isFunction(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&isFunction(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function getHeaders(sn){const O=new Headers(sn?.headers),rn=await getAuthHeader(sn);for(const[an,un]of Object.entries(rn||{}))O.set(an,un);if(!O.has("content-type")){const an=detectContentType(sn?.body);an&&O.set("content-type",an)}return O}function detectContentType(sn){return isJSONSerializable(sn)?"application/json":null}function getBody(sn){if(!sn?.body)return null;const O=new Headers(sn?.headers);if(isJSONSerializable(sn.body)&&!O.has("content-type")){for(const[rn,an]of Object.entries(sn?.body))an instanceof Date&&(sn.body[rn]=an.toISOString());return JSON.stringify(sn.body)}return O.has("content-type")&&O.get("content-type")==="application/x-www-form-urlencoded"&&isJSONSerializable(sn.body)?new URLSearchParams(sn.body).toString():sn.body}function getMethod$1(sn,O){var rn;if(O?.method)return O.method.toUpperCase();if(sn.startsWith("@")){const an=(rn=sn.split("@")[1])==null?void 0:rn.split("/")[0];return methods.includes(an)?an.toUpperCase():O?.body?"POST":"GET"}return O?.body?"POST":"GET"}function getTimeout(sn,O){let rn;return!sn?.signal&&sn?.timeout&&(rn=setTimeout(()=>O?.abort(),sn?.timeout)),{abortTimeout:rn,clearTimeout:()=>{rn&&clearTimeout(rn)}}}var ValidationError=class ym extends Error{constructor(O,rn){super(rn||JSON.stringify(O,null,2)),this.issues=O,Object.setPrototypeOf(this,ym.prototype)}};async function parseStandardSchema(sn,O){const rn=await sn["~standard"].validate(O);if(rn.issues)throw new ValidationError(rn.issues);return rn.value}var methods=["get","post","put","patch","delete"],applySchemaPlugin=sn=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(O,rn){var an,un,dn,hn;const mn=((un=(an=sn.plugins)==null?void 0:an.find(xn=>{var gn;return(gn=xn.schema)!=null&&gn.config?O.startsWith(xn.schema.config.baseURL||"")||O.startsWith(xn.schema.config.prefix||""):!1}))==null?void 0:un.schema)||sn.schema;if(mn){let xn=O;(dn=mn.config)!=null&&dn.prefix&&xn.startsWith(mn.config.prefix)&&(xn=xn.replace(mn.config.prefix,""),mn.config.baseURL&&(O=O.replace(mn.config.prefix,mn.config.baseURL))),(hn=mn.config)!=null&&hn.baseURL&&xn.startsWith(mn.config.baseURL)&&(xn=xn.replace(mn.config.baseURL,""));const gn=mn.schema[xn];if(gn){let wn=__spreadProps(__spreadValues({},rn),{method:gn.method,output:gn.output});return rn?.disableValidation||(wn=__spreadProps(__spreadValues({},wn),{body:gn.input?await parseStandardSchema(gn.input,rn?.body):rn?.body,params:gn.params?await parseStandardSchema(gn.params,rn?.params):rn?.params,query:gn.query?await parseStandardSchema(gn.query,rn?.query):rn?.query})),{url:O,options:wn}}}return{url:O,options:rn}}}),createFetch=sn=>{async function O(rn,an){const un=__spreadProps(__spreadValues(__spreadValues({},sn),an),{plugins:[...sn?.plugins||[],applySchemaPlugin(sn||{}),...an?.plugins||[]]});if(sn?.catchAllError)try{return await betterFetch(rn,un)}catch(dn){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:dn}}}return await betterFetch(rn,un)}return O};function getURL2(sn,O){const{baseURL:rn,params:an,query:un}=O||{query:{},params:{},baseURL:""};let dn=sn.startsWith("http")?sn.split("/").slice(0,3).join("/"):rn||"";if(sn.startsWith("@")){const vn=sn.toString().split("@")[1].split("/")[0];methods.includes(vn)&&(sn=sn.replace(`@${vn}/`,"/"))}dn.endsWith("/")||(dn+="/");let[hn,mn]=sn.replace(dn,"").split("?");const xn=new URLSearchParams(mn);for(const[vn,An]of Object.entries(un||{})){if(An==null)continue;let Cn;if(typeof An=="string")Cn=An;else if(Array.isArray(An)){for(const Sn of An)xn.append(vn,Sn);continue}else Cn=JSON.stringify(An);xn.set(vn,Cn)}if(an)if(Array.isArray(an)){const vn=hn.split("/").filter(An=>An.startsWith(":"));for(const[An,Cn]of vn.entries()){const Sn=an[An];hn=hn.replace(Cn,Sn)}}else for(const[vn,An]of Object.entries(an))hn=hn.replace(`:${vn}`,String(An));hn=hn.split("/").map(encodeURIComponent).join("/"),hn.startsWith("/")&&(hn=hn.slice(1));let gn=xn.toString();return gn=gn.length>0?`?${gn}`.replace(/\+/g,"%20"):"",dn.startsWith("http")?new URL(`${hn}${gn}`,dn):`${dn}${hn}${gn}`}var betterFetch=async(sn,O)=>{var rn,an,un,dn,hn,mn,xn,gn;const{hooks:wn,url:vn,options:An}=await initializePlugins(sn,O),Cn=getFetch(An),Sn=new AbortController,Nn=(rn=An.signal)!=null?rn:Sn.signal,jn=getURL2(vn,An),Hn=getBody(An),Bn=await getHeaders(An),On=getMethod$1(vn,An);let Mn=__spreadProps(__spreadValues({},An),{url:jn,headers:Bn,body:Hn,method:On,signal:Nn});for(const Pn of wn.onRequest)if(Pn){const Vn=await Pn(Mn);typeof Vn=="object"&&Vn!==null&&(Mn=Vn)}("pipeTo"in Mn&&typeof Mn.pipeTo=="function"||typeof((an=O?.body)==null?void 0:an.pipe)=="function")&&("duplex"in Mn||(Mn.duplex="half"));const{clearTimeout:Un}=getTimeout(An,Sn);let Tn=await Cn(Mn.url,Mn);Un();const zn={response:Tn,request:Mn};for(const Pn of wn.onResponse)if(Pn){const Vn=await Pn(__spreadProps(__spreadValues({},zn),{response:(un=O?.hookOptions)!=null&&un.cloneResponse?Tn.clone():Tn}));Vn instanceof Response?Tn=Vn:typeof Vn=="object"&&Vn!==null&&(Tn=Vn.response)}if(Tn.ok){if(!(Mn.method!=="HEAD"))return{data:"",error:null};const Vn=detectResponseType(Tn),Zn={data:null,response:Tn,request:Mn};if(Vn==="json"||Vn==="text"){const Yn=await Tn.text(),Qn=(dn=Mn.jsonParser)!=null?dn:jsonParse;Zn.data=await Qn(Yn)}else Zn.data=await Tn[Vn]();Mn?.output&&Mn.output&&!Mn.disableValidation&&(Zn.data=await parseStandardSchema(Mn.output,Zn.data));for(const Yn of wn.onSuccess)Yn&&await Yn(__spreadProps(__spreadValues({},Zn),{response:(hn=O?.hookOptions)!=null&&hn.cloneResponse?Tn.clone():Tn}));return O?.throw?Zn.data:{data:Zn.data,error:null}}const Dn=(mn=O?.jsonParser)!=null?mn:jsonParse,In=await Tn.text(),Ln=isJSONParsable(In),Wn=Ln?await Dn(In):null,Fn={response:Tn,responseText:In,request:Mn,error:__spreadProps(__spreadValues({},Wn),{status:Tn.status,statusText:Tn.statusText})};for(const Pn of wn.onError)Pn&&await Pn(__spreadProps(__spreadValues({},Fn),{response:(xn=O?.hookOptions)!=null&&xn.cloneResponse?Tn.clone():Tn}));if(O?.retry){const Pn=createRetryStrategy(O.retry),Vn=(gn=O.retryAttempt)!=null?gn:0;if(await Pn.shouldAttemptRetry(Vn,Tn)){for(const Yn of wn.onRetry)Yn&&await Yn(zn);const Zn=Pn.getDelay(Vn);return await new Promise(Yn=>setTimeout(Yn,Zn)),await betterFetch(sn,__spreadProps(__spreadValues({},O),{retryAttempt:Vn+1}))}}if(O?.throw)throw new BetterFetchError(Tn.status,Tn.statusText,Ln?Wn:In);return{data:null,error:__spreadProps(__spreadValues({},Wn),{status:Tn.status,statusText:Tn.statusText})}};const getClientConfig=(sn,O)=>{const rn="credentials"in Request.prototype,an=getBaseURL(sn?.baseURL,sn?.basePath)??"/api/auth",un=sn?.plugins?.flatMap(Mn=>Mn.fetchPlugins).filter(Mn=>Mn!==void 0)||[],dn={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:sn?.fetchOptions?.onSuccess,onError:sn?.fetchOptions?.onError,onRequest:sn?.fetchOptions?.onRequest,onResponse:sn?.fetchOptions?.onResponse}},{onSuccess:hn,onError:mn,onRequest:xn,onResponse:gn,...wn}=sn?.fetchOptions||{},vn=createFetch({baseURL:an,...rn?{credentials:"include"}:{},method:"GET",jsonParser(Mn){return Mn?parseJSON(Mn,{strict:!1}):null},customFetchImpl:fetch,...wn,plugins:[dn,...wn.plugins||[],...sn?.disableDefaultFetchPlugins?[]:[redirectPlugin],...un]}),{$sessionSignal:An,session:Cn}=getSessionAtom(vn,sn),Sn=sn?.plugins||[];let Nn={};const jn={$sessionSignal:An,session:Cn},Hn={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},Bn=[{signal:"$sessionSignal",matcher(Mn){return Mn==="/sign-out"||Mn==="/update-user"||Mn==="/sign-up/email"||Mn==="/sign-in/email"||Mn==="/delete-user"||Mn==="/verify-email"||Mn==="/revoke-sessions"||Mn==="/revoke-session"||Mn==="/change-email"}}];for(const Mn of Sn)Mn.getAtoms&&Object.assign(jn,Mn.getAtoms?.(vn)),Mn.pathMethods&&Object.assign(Hn,Mn.pathMethods),Mn.atomListeners&&Bn.push(...Mn.atomListeners);const On={notify:Mn=>{jn[Mn].set(!jn[Mn].get())},listen:(Mn,Un)=>{jn[Mn].subscribe(Un)},atoms:jn};for(const Mn of Sn)Mn.getActions&&(Nn=defu(Mn.getActions?.(vn,On,sn)??{},Nn));return{get baseURL(){return an},pluginsActions:Nn,pluginsAtoms:jn,pluginPathMethods:Hn,atomListeners:Bn,$fetch:vn,$store:On}};function isAtom(sn){return typeof sn=="object"&&sn!==null&&"get"in sn&&typeof sn.get=="function"&&"lc"in sn&&typeof sn.lc=="number"}function getMethod(sn,O,rn){const an=O[sn],{fetchOptions:un,query:dn,...hn}=rn||{};return an||(un?.method?un.method:hn&&Object.keys(hn).length>0?"POST":"GET")}function createDynamicPathProxy(sn,O,rn,an,un){function dn(hn=[]){return new Proxy(function(){},{get(mn,xn){if(typeof xn!="string"||xn==="then"||xn==="catch"||xn==="finally")return;const gn=[...hn,xn];let wn=sn;for(const vn of gn)if(wn&&typeof wn=="object"&&vn in wn)wn=wn[vn];else{wn=void 0;break}return typeof wn=="function"||isAtom(wn)?wn:dn(gn)},apply:async(mn,xn,gn)=>{const wn="/"+hn.map(Bn=>Bn.replace(/[A-Z]/g,On=>`-${On.toLowerCase()}`)).join("/"),vn=gn[0]||{},An=gn[1]||{},{query:Cn,fetchOptions:Sn,...Nn}=vn,jn={...An,...Sn},Hn=getMethod(wn,rn,vn);return await O(wn,{...jn,body:Hn==="GET"?void 0:{...Nn,...jn?.body||{}},query:Cn||jn?.query,method:Hn,async onSuccess(Bn){if(await jn?.onSuccess?.(Bn),!un||jn.disableSignal)return;const On=un.filter(Un=>Un.matcher(wn));if(!On.length)return;const Mn=new Set;for(const Un of On){const Tn=an[Un.signal];if(!Tn)return;if(Mn.has(Un.signal))continue;Mn.add(Un.signal);const zn=Tn.get();setTimeout(()=>{Tn.set(!zn)},10)}}})}})}return dn()}function createAuthClient(sn){const{pluginPathMethods:O,pluginsActions:rn,pluginsAtoms:an,$fetch:un,atomListeners:dn,$store:hn}=getClientConfig(sn),mn={};for(const[xn,gn]of Object.entries(an))mn[`use${capitalizeFirstLetter(xn)}`]=gn;return createDynamicPathProxy({...rn,...mn,$fetch:un,$store:hn},un,O,an,dn)}const auth=createAuthClient({baseURL:"https://auth.terbiumon.top",fetchOptions:{customFetchImpl:async(sn,O)=>{window.libcurlLock||(window.libcurlLock=!0,libcurl.load_wasm("https://cdn.jsdelivr.net/npm/libcurl.js@latest/libcurl.wasm"),libcurl.set_websocket(`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`),console.log("libcurl wasm loaded"));const rn=localStorage.getItem("libcurl_cookies")||"",an=new libcurl.HTTPSession({enable_cookies:!0,cookie_jar:rn});an.import_cookies();try{const un=new Headers(O?.headers);return!un.has("origin")&&!un.has("referer")&&un.set("origin",window.location.origin),await an.fetch(sn.toString(),{...O,headers:un})}finally{setTimeout(()=>{const un=an.export_cookies();localStorage.setItem("libcurl_cookies",un),an.close(),console.log("HTTP Session Destroyed")},100)}}}});async function getinfo(sn,O,rn){const an=await auth.$fetch("https://auth.terbiumon.top/user/info",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}),un=an.error?{error:"Failed to fetch user info"}:an.data,dn=await auth.$fetch(`https://auth.terbiumon.top/kv/retrieve/${rn}`,{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}),hn=dn===null?null:dn.error?{}:dn.data;return{user:un,settings:hn?JSON.parse(hn.value):null}}async function setinfo(sn,O,rn,an){if(sn&&O&&(console.log("[TAUTH] Signing in with provided credentials..."),await auth.signIn.email({email:sn,password:O})),!an)return{error:"No setting or value to set provided"};const un=await auth.$fetch(`https://auth.terbiumon.top/kv/set/${rn}`,{credentials:"include",method:"POST",body:JSON.stringify({value:JSON.stringify(an)}),headers:{"Content-Type":"application/json"}});return un.error?{error:"Failed to set info"}:un.data}const system=new System,pw$2=new pwd;async function Api(){if(window.tb={registry,sh:window.tb.sh,buffer:window.tb.buffer,battery:{async showPercentage(){const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));return xn["battery-percent"]=!0,await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(xn)),window.dispatchEvent(new CustomEvent("controlBatteryPercentVisibility",{detail:!0})),"Success"},async hidePercentage(){const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));return xn["battery-percent"]=!1,await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(xn)),window.dispatchEvent(new CustomEvent("controlBatteryPercentVisibility",{detail:!1})),"Success"},async canUse(){return"BatteryManager"in window?!!await navigator.getBattery():!1}},launcher:{async addApp(xn){const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));if(!xn.name)throw new Error("Name is required");if(!xn.icon)throw new Error("Icon is required");if(gn.system_apps.some(wn=>wn.title===xn.name))throw new Error("App with the same name already exists");return gn.system_apps.push(xn),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(gn,null,2)),window.dispatchEvent(new Event("updApps")),!0},async removeApp(xn){if(!xn)throw new Error("Name is required");const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8")),wn=gn.system_apps,vn=String(xn).replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),An=wn.findIndex(Cn=>(Cn.name?Cn.name.replace(/[^a-zA-Z0-9]/g,"").toLowerCase():"")===vn);if(An!==-1)wn.splice(An,1);else throw new Error(`App with name '${xn}' not found`);return await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(gn,null,2)),window.dispatchEvent(new Event("updApps")),!0}},theme:{async get(){return JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).theme},async set(xn){return new Promise(async gn=>{const wn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));wn.theme=xn,await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(wn),"utf8"),gn(!0)})}},desktop:{preferences:{async setTheme(xn){xn.toString().includes('"')?xn=xn.replace(/"/g,""):xn=xn,document.body.setAttribute("theme",xn);const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));gn.theme=xn,await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(gn),"utf8")},async theme(){return JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).theme},async setAccent(xn){const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));gn.accent=xn,await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(gn),"utf8")},async getAccent(){return JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8")).accent}},wallpaper:{async set(xn){const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));gn.wallpaper=xn,await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(gn)),window.dispatchEvent(new Event("updWallpaper"))},async contain(){const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));xn.wallpaperMode="contain",await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(xn),"utf8"),window.dispatchEvent(new Event("updWallpaper"))},async stretch(){const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));xn.wallpaperMode="stretch",await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(xn),"utf8"),window.dispatchEvent(new Event("updWallpaper"))},async cover(){const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));xn.wallpaperMode="cover",await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(xn),"utf8"),window.dispatchEvent(new Event("updWallpaper"))},async fillMode(){return new Promise(async xn=>{xn(JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8")).wallpaperMode)})}},dock:{async pin(xn){const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/dock.json"));return gn.push(xn),await window.tb.fs.promises.writeFile("/system/var/terbium/dock.json",JSON.stringify(gn)),window.dispatchEvent(new Event("updPins")),"Success"},async unpin(xn){let gn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/dock.json"));if(!gn.some(vn=>vn.title===xn))throw new Error(`App with title "${xn}" not found in the dock.`);return gn=gn.filter(vn=>vn.title!==xn),gn.filter(vn=>vn.title!==xn),await window.tb.fs.promises.writeFile("/system/var/terbium/dock.json",JSON.stringify(gn)),window.dispatchEvent(new Event("updPins")),"Success"}}},window:{getId(){return useWindowStore.getState().currentPID},create(xn){createWindow(xn)},content:{get(){return new Promise(xn=>{const gn=wn=>{window.removeEventListener("curr-win-content",gn),xn(wn.detail)};window.addEventListener("curr-win-content",gn),window.dispatchEvent(new CustomEvent("get-content",{detail:useWindowStore.getState().currentPID}))})},set(xn){const gn={currWin:useWindowStore.getState().currentPID,content:xn};window.dispatchEvent(new CustomEvent("upd-wincont",{detail:JSON.stringify(gn)}))}},titlebar:{setColor(xn){const gn={currWin:useWindowStore.getState().currentPID,color:xn};window.dispatchEvent(new CustomEvent("upd-winbarcol",{detail:JSON.stringify(gn)}))},setText(xn){const gn={currWin:useWindowStore.getState().currentPID,txt:xn};window.dispatchEvent(new CustomEvent("upd-winbartxt",{detail:JSON.stringify(gn)}))},setBackgroundColor(xn){const gn={currWin:useWindowStore.getState().currentPID,color:xn};window.dispatchEvent(new CustomEvent("upd-winbarbg",{detail:JSON.stringify(gn)}))}},island:{addControl(xn){if(!xn.text)throw new Error("text is required");if(!xn.click)throw new Error("click function is required");if(!xn.appname)throw new Error("appname is required");if(!xn.id)throw new Error("control_id is required");updateControls({text:xn.text,appname:xn.appname,id:xn.id,click:()=>{xn.click&&xn.click()}})},removeControl(xn){if(!xn)throw new Error("control_id is required");clearControls(xn)}},changeSrc(xn){const gn=useWindowStore.getState().currentPID;window.dispatchEvent(new CustomEvent("upd-src",{detail:JSON.stringify({pid:gn,url:xn})}))},reload(){const xn=useWindowStore.getState().currentPID;window.dispatchEvent(new CustomEvent("reload-win",{detail:xn}))},minimize(){const xn=useWindowStore.getState().currentPID;window.dispatchEvent(new CustomEvent("min-win",{detail:xn}))},maximize(){const xn=useWindowStore.getState().currentPID;window.dispatchEvent(new CustomEvent("max-win",{detail:xn}))},close(){const xn=useWindowStore.getState().currentPID;clearInfo(),useWindowStore.getState().killWindow(xn)}},contextmenu:{create(xn){window.dispatchEvent(new CustomEvent("ctxm",{detail:{props:{titlebar:xn.titlebar||!1,x:xn.x,y:xn.y,options:xn.options}}}))},close(){window.dispatchEvent(new Event("close-ctxm"))}},user:{async username(){try{return JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/user.json`,"utf8")).username||"Guest"}catch(xn){return console.error("Error Fetching username:",xn),"Guest"}},async pfp(){try{return JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/user.json`,"utf8")).pfp||"/assets/img/defualt - blue.png"}catch(xn){return console.error("Error Fetching pfp:",xn),"/assets/img/defualt - blue.png"}}},proxy:{async get(){return JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8")).proxy},async set(xn){const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));return gn.proxy=xn,await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,JSON.stringify(gn,null,2),"utf8"),window.tb.proxy.updateSWs(),!0},async updateSWs(){await navigator.serviceWorker.getRegistrations().then(An=>{An.forEach(Cn=>{Cn.unregister().catch(Sn=>{console.error("Error unregistering service worker:",Sn)})})});const xn=indexedDB.open("$scramjet");xn.onsuccess=()=>{const An=xn.result;if(An.objectStoreNames.length===0){An.close();const Cn=indexedDB.deleteDatabase("$scramjet");Cn.onsuccess=()=>{console.log("Cleared SJ DB")},Cn.onerror=Sn=>{console.error(Sn)}}else console.log("Scramjet is fine")},xn.onerror=An=>{console.error(An)};const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`)),wn=async()=>{const An=gn.wispServer||`${window.location.origin.replace(/^https?:\/\//,"ws://")}/wisp/`,Cn=new m$1("/baremux/worker.js");gn.transport==="Default (Epoxy)"?await Cn.setTransport("/epoxy/index.mjs",[{wisp:An}]):gn.transport==="Anura BCC"?await Cn.setRemoteTransport(new AnuraBareClient,"AnuraBareClient"):await Cn.setTransport("/libcurl/index.mjs",[{wisp:An}])},{ScramjetController:vn}=$scramjetLoadController();window.scramjet=new vn(window.scramjetTb),scramjet.init(),navigator.serviceWorker.register("anura-sw.js",{scope:"/"}).then(()=>{wn()}),navigator.serviceWorker.ready.then(async()=>{await wn()}),gn.wispServer===null?window.tb.libcurl.set_websocket(`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`):window.tb.libcurl.set_websocket(gn.wispServer)},async encode(xn,gn){if(gn==="xor"||gn==="XOR")return await XOR.encode(xn);throw new Error("Encoder not found")},async decode(xn,gn){if(gn==="xor"||gn==="XOR")return await XOR.decode(xn);throw new Error("Encoder not found")}},notification:{Message(xn){setNotifFn("message",xn)},Toast(xn){setNotifFn("toast",xn)},Installing(xn){setNotifFn("installing",xn)}},dialog:{Alert(xn){setDialogFn("alert",xn)},Message(xn){setDialogFn("message",xn)},Select(xn){setDialogFn("select",xn)},Auth(xn,gn){setDialogFn("auth",xn,gn)},Permissions(xn){setDialogFn("permissions",xn)},FileBrowser(xn){setDialogFn("filebrowser",xn)},DirectoryBrowser(xn){setDialogFn("directorybrowser",xn)},SaveFile(xn){setDialogFn("savefile",xn)},Cropper(xn){setDialogFn("cropper",xn)},WebAuth(xn){setDialogFn("webauth",xn)}},system:{version:()=>system.version("string"),instance:system.instance,openApp:async xn=>{const wn=JSON.parse(await window.tb.fs.promises.readFile("/apps/installed.json","utf8")).find(Cn=>Cn.name.toLowerCase()===xn.toLowerCase());if(!wn)throw new Error(`App "${xn}" not found`);let vn;wn.config.endsWith("manifest.json")||wn.config.endsWith(`${xn}.json`)?vn="anura":vn="terbium";let An;if(vn==="anura"){let Cn=wn.config;Cn.endsWith("manifest.json")?(Cn=Cn.replace(/manifest\.json$/,""),An=JSON.parse(await window.tb.fs.promises.readFile(wn.config,"utf8"))):Cn.endsWith(`${xn}.json`)&&(An=JSON.parse(await window.tb.fs.promises.readFile(wn.config,"utf8")).manifest,Cn=Cn.replace(new RegExp(`${xn}\\.json$`),""));const Sn=An.index||An.src||"index.html";An.title=An.name,An.src=Sn.startsWith(".")||Sn.startsWith("/")?`/fs${Cn}${Sn.replace(/^\.\//,"")}`:`/fs${Cn}${Sn}`,An.icon=An.icon?An.icon.startsWith(".")||An.icon.startsWith("/")?`/fs${Cn}${An.icon.replace(/^\.\//,"")}`:`/fs${Cn}${An.icon}`:void 0}else{const Cn=JSON.parse(await window.tb.fs.promises.readFile(wn.config,"utf8")).wmArgs||JSON.parse(await window.tb.fs.promises.readFile(wn.config,"utf8")).config,Sn=wn.config.replace(/[^/]+$/,"");let Nn=Cn.src||"index.html";Nn.startsWith("./")?Nn=`/fs${Sn}${Nn.slice(2)}`:Nn.startsWith("/")||(Nn=`/fs${Sn}${Nn}`),Cn.src=Nn;let jn=Cn.icon||"icon.png";jn.startsWith("./")?jn=`/fs${Sn}${jn.slice(2)}`:jn.startsWith("/")||(jn=`/fs${Sn}${jn}`),Cn.icon=jn,An=Cn}window.tb.window.create(An)},download:async(xn,gn)=>{try{const wn=await window.tb.libcurl.fetch(xn);if(!wn.ok)throw new Error(`Failed to download the file. Status: ${wn.status}`);const vn=await wn.arrayBuffer();await window.tb.fs.promises.writeFile(gn,window.tb.buffer.from(vn),"arraybuffer"),console.log(`File saved successfully at: ${gn}`)}catch(wn){console.error(wn)}},exportfs:async(xn="/",gn="tbfs.backup.zip")=>{const wn={},vn=Sn=>Sn.replace(/^\/+/,""),An=Sn=>Sn instanceof Uint8Array?Sn:Sn instanceof ArrayBuffer?new Uint8Array(Sn):typeof Sn=="string"?new TextEncoder().encode(Sn):Sn?.buffer instanceof ArrayBuffer?new Uint8Array(Sn.buffer):new Uint8Array(Sn),Cn=async(Sn,Nn)=>{try{if((await window.tb.fs.promises.stat(Sn)).type==="DIRECTORY"){const Hn=await window.tb.fs.promises.readdir(Sn),Bn=vn(Nn);Hn.length===0&&Bn&&(wn[Bn.endsWith("/")?Bn:Bn+"/"]=new Uint8Array(0)),await Promise.all(Hn.map(async On=>{const Mn=`${Sn.endsWith("/")?Sn:Sn+"/"}${On}`,Un=Nn?`${Nn}/${On}`:On;await Cn(Mn,Un)}))}else{const Hn=await window.tb.fs.promises.readFile(Sn,"arraybuffer"),Bn=vn(Nn||Sn.split("/").pop()||"file");wn[Bn]=An(Hn)}}catch(jn){console.warn("exportfs: skipping path",Sn,jn)}};try{const Sn=vn(xn);await Cn(xn,Sn===""||Sn==="."?"":Sn);const Nn=zipSync(wn,{level:1}),jn=new Blob([Nn],{type:"application/zip"}),Hn=URL.createObjectURL(jn),Bn=document.createElement("a");return Bn.href=Hn,Bn.download=gn,Bn.click(),setTimeout(()=>URL.revokeObjectURL(Hn),100),Hn}catch(Sn){throw console.error("exportfs failed",Sn),Sn}},users:{async list(){const xn=await window.tb.fs.promises.readdir("/home/"),gn=[];for(const wn of xn)if(await fileExists(`/home/${wn}/user.json`)){const vn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${wn}/user.json`,"utf8"));gn.push(vn.username)}return gn},async add(xn){const{username:gn,password:wn,pfp:vn,perm:An,securityQuestion:Cn}=xn,Sn=`/home/${gn}`;await window.tb.fs.promises.mkdir(Sn);const Nn={id:gn,username:gn,password:wn,pfp:vn,perm:An};Cn&&(Nn.securityQuestion={question:Cn.question,answer:Cn.answer}),await window.tb.fs.promises.writeFile(`${Sn}/user.json`,JSON.stringify(Nn));const jn={wallpaper:"/assets/wallpapers/1.png",wallpaperMode:"cover",animations:!0,proxy:"Scramjet",transport:"Default (Epoxy)",wispServer:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`,"battery-percent":!1,accent:"#32ae62",times:{format:"12h",internet:!1,showSeconds:!1},showFPS:!1,windowOptimizations:!1,window:{winAccent:"#ffffff",blurlevel:18,alwaysMaximized:!1,alwaysFullscreen:!1}};await window.tb.fs.promises.writeFile(`${Sn}/settings.json`,JSON.stringify(jn)),["desktop","documents","downloads","music","pictures","videos"].forEach(async Dn=>{await window.tb.fs.promises.mkdir(`${Sn}/${Dn}`)}),await window.tb.fs.promises.mkdir(`/apps/user/${gn}`),await window.tb.fs.promises.mkdir(`/apps/user/${gn}/files`),await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/config.json`,JSON.stringify({"quick-center":!0,"sidebar-width":180,drives:{"File System":`/home/${gn}/`},storage:{"File System":"storage-device",localStorage:"storage-device"},"open-collapsibles":{"quick-center":!0,drives:!0}}),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/davs.json`,JSON.stringify([]));const On=await(await fetch("/apps/files.tapp/icons.json")).json();await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/icns.json`,JSON.stringify(On)),await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/quick-center.json`,JSON.stringify({paths:{Documents:`/home/${gn}/documents`,Images:`/home/${gn}/images`,Videos:`/home/${gn}/videos`,Music:`/home/${gn}/music`,Trash:"/system/trash"}}),"utf8");const Mn=[],Un=[];for(let Dn=0;Dn<apps.length;Dn++){const In=apps[Dn],Ln=In.name.toLowerCase();var Tn=0,zn=0;Dn%12===0?Tn=0:Tn=Dn%12,Dn<12?zn=0:zn=1,Tn*66>parent.innerHeight-130&&(zn=1.15,Un.length===0?Tn=0:Tn=Un.length%12,Un.push({name:In.name})),Mn.push({name:In.name,item:`/home/${gn}/desktop/${Ln}.lnk`,position:{custom:!1,top:Tn,left:zn}}),await window.tb.fs.promises.symlink(`/apps/system/${Ln}.tapp/index.json`,`/home/${gn}/desktop/${Ln}.lnk`)}return await window.tb.fs.promises.writeFile(`/home/${gn}/desktop/.desktop.json`,JSON.stringify(Mn)),await window.tb.fs.promises.writeFile(`/apps/user/${gn}/app store/repos.json`,JSON.stringify([{name:"TB App Repo",url:"https://raw.githubusercontent.com/TerbiumOS/tb-repo/refs/heads/main/manifest.json"},{name:"XSTARS XTRAS",url:"https://raw.githubusercontent.com/Notplayingallday383/app-repo/refs/heads/main/manifest.json"},{name:"Anura App Repo",url:"https://raw.githubusercontent.com/MercuryWorkshop/anura-repo/refs/heads/master/manifest.json",icon:"https://anura.pro/icon.png"}])),!0},async remove(xn){const gn=`/home/${xn}`;try{const Cn=await window.tb.fs.promises.stat(gn);Cn&&Cn.type==="DIRECTORY"&&await window.tb.sh.promises.rm(gn,{recursive:!0})}catch(Cn){throw new Error(Cn.message)}try{const Cn=await window.tb.fs.promises.stat(`/apps/user/${xn}`);Cn&&Cn.type==="DIRECTORY"&&await window.tb.sh.promises.rm(`/apps/user/${xn}`,{recursive:!0})}catch(Cn){throw new Error(Cn.message)}const wn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/sudousers.json","utf8")),vn=await window.tb.fs.promises.readdir("/home/"),An=wn.indexOf(xn);return An!==-1&&(wn.splice(An,1),await window.tb.fs.promises.writeFile("/system/etc/terbium/sudousers.json",JSON.stringify(wn,null,2),"utf8"),wn.length===0&&window.tb.dialog.Select({title:"Select new sudo user",message:"Please select a new sudo user",options:vn.map(Cn=>({text:Cn,value:Cn})),onOk:async Cn=>{await window.tb.fs.promises.writeFile("/system/etc/terbium/sudousers.json",JSON.stringify({id:Cn}),"utf8"),window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:`Sudo user changed to ${Cn}`});const Sn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));xn===Sn.defaultUser&&(Sn.defaultUser=Cn,await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(Sn,null,2),"utf8")),xn===sessionStorage.getItem("currAcc")&&(sessionStorage.setItem("logged-in","false"),sessionStorage.removeItem("currAcc"),window.location.reload())}})),!0},async update(xn){const{username:gn,password:wn,pfp:vn,perm:An,securityQuestion:Cn}=xn,Sn=`/home/${gn}`,Nn=JSON.parse(await window.tb.fs.promises.readFile(`${Sn}/user.json`,"utf8"));await window.tb.fs.promises.writeFile(`${Sn}/user.json`,JSON.stringify({id:Nn.id,username:gn===Nn.username?Nn.username:gn,password:wn===Nn.password?Nn.password:wn,pfp:vn===Nn.pfp?Nn.pfp:vn,perm:An===Nn.perm?Nn.perm:An,...Cn!==void 0?{securityQuestion:Cn===Nn.securityQuestion?Nn.securityQuestion:Cn}:Nn.securityQuestion!==void 0?{securityQuestion:Nn.securityQuestion}:{}}))},async renameUser(xn,gn){const wn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${xn}/user.json`,"utf8"));wn.username=gn,await window.tb.fs.promises.writeFile(`/home/${xn}/user.json`,JSON.stringify(wn));let vn=[];for(const Bn of await window.tb.fs.promises.readdir(`/home/${xn}/desktop/`)){const On=await window.tb.fs.promises.stat(`/home/${xn}/desktop/${Bn}`);if(On&&On.type==="SYMLINK"){vn.push(await window.tb.fs.promises.readlink(`/home/${xn}/desktop/${Bn}`));try{await window.tb.fs.promises.unlink(`/home/${xn}/desktop/${Bn}`)}catch(Mn){console.log(Mn)}}}await window.tb.fs.promises.rename(`/home/${xn}`,`/home/${gn}`),sessionStorage.setItem("currAcc",gn);for(const Bn of vn){const On=Bn.match(/([^/]+)(?=\.tapp(?:\/|$))/),Mn=Bn.split("/").filter(Boolean);let Un="";if(On)Un=On[1];else if(Mn.length>1){const Tn=Mn[Mn.length-1];Un=Tn.includes(".")?Mn[Mn.length-2]:Tn}else Un=Mn[0]||"";Un=Un.replace(/\.tapp$/,""),await window.tb.fs.promises.symlink(Bn,`/home/${gn}/desktop/${Un}.lnk`)}const An=JSON.parse(await window.tb.fs.promises.readFile(`/home/${gn}/desktop/.desktop.json`,"utf8"));for(const Bn of An)if(Bn.position&&Bn.name){const On=Bn.name.toLowerCase();Bn.item=`/home/${gn}/desktop/${On}.lnk`}await window.tb.fs.promises.writeFile(`/home/${gn}/desktop/.desktop.json`,JSON.stringify(An),"utf8"),await window.tb.fs.promises.rename(`/apps/user/${xn}`,`/apps/user/${gn}`);const Cn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));Cn.defaultUser===xn&&(Cn.defaultUser=gn);const Sn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/sudousers.json","utf8")),Nn=Sn.indexOf(xn);Nn!==-1&&(Sn[Nn]=gn,await window.tb.fs.promises.writeFile("/system/etc/terbium/sudousers.json",JSON.stringify(Sn),"utf8")),await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(Cn));const jn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${gn}/files/config.json`,"utf8"));jn.drives["File System"]=`/home/${gn}/`,await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/config.json`,JSON.stringify(jn));const Hn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${gn}/files/quick-center.json`,"utf8"));for(const Bn in Hn.paths)Object.prototype.hasOwnProperty.call(Hn.paths,Bn)&&(Hn.paths[Bn]=Hn.paths[Bn].replace(xn,gn));await window.tb.fs.promises.writeFile(`/apps/user/${gn}/files/quick-center.json`,JSON.stringify(Hn)),window.location.reload()}},bootmenu:{async addEntry(xn,gn){const wn=JSON.parse(await window.tb.fs.promises.readFile("/bootentries.json","utf8"));wn.push({name:xn,action:`() => { sessionStorage.setItem("cusboot", "true"); sessionStorage.setItem("bootfile", "${gn}"); window.location.reload(); }`}),await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify(wn,null,2))},async removeEntry(xn){const wn=JSON.parse(await window.tb.fs.promises.readFile("/bootentries.json","utf8")).filter(vn=>vn.name!==xn);await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify(wn,null,2))}}},libcurl,fflate,fs:window.tb.fs,vfs:await vFS.create(),tauth:{client:auth,signIn:()=>new Promise((xn,gn)=>{window.tb.dialog.WebAuth({title:"Terbium Cloud Sign In",message:"Please sign in to your Terbium Cloud Account to continue.",onOk:async(wn,vn)=>{await window.tb.tauth.client.signIn.email({email:wn,password:vn,fetchOptions:{onSuccess:async An=>{await window.tb.fs.promises.exists("/system/etc/terbium/taccs.json")||await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify([],null,2),"utf8");const Sn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/taccs.json","utf8")),Nn=Sn.findIndex(Hn=>Hn&&(Hn.id===An.data.user.id||Hn.email===An.data.user.email));Nn!==-1?(Sn[Nn]={username:An.data.user.name,perm:"admin",pfp:An.data.user.image,email:An.data.user.email,id:An.data.user.id},console.log("[TAUTH] Updated existing Account Info in FS")):(Sn.push({username:An.data.user.name,perm:"admin",pfp:An.data.user.image,email:An.data.user.email,id:An.data.user.id}),console.log("[TAUTH] Saved Account Info to FS")),await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify(Sn,null,2),"utf8");const jn=An;jn.data.user.password=vn,xn(jn)},onError:An=>{gn(An)}}})},onCancel:()=>{gn(new Error("User cancelled the sign-in process"))}})}),signOut:async()=>{let xn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/taccs.json","utf8"));Array.isArray(xn)||(xn&&typeof xn=="object"?xn=Object.values(xn):xn=[]);const gn=sessionStorage.getItem("currAcc"),wn=xn.findIndex(vn=>vn&&vn.username===gn);wn!==-1&&(xn.splice(wn,1),await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify(xn,null,2),"utf8"),console.log("[TAUTH] Removed Account Info from FS"))},isTACC(xn){return new Promise(async gn=>{xn||(xn=sessionStorage.getItem("currAcc")||"Guest");const vn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/taccs.json","utf8")).some(An=>An&&An.username===xn);gn(vn)})},updateInfo:async xn=>{const gn=xn.id||xn.username||sessionStorage.getItem("currAcc");if(!gn)throw new Error("No target account specified");let wn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/taccs.json","utf8"));await window.tb.fs.promises.exists("/system/etc/terbium/taccs.json")||await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify([],null,2),"utf8"),Array.isArray(wn)||(wn&&typeof wn=="object"?wn=Object.values(wn):wn=[]);const An=wn.findIndex(jn=>jn&&(jn.username===gn||jn.id===gn));if(An===-1)throw new Error(`Account '${gn}' not found`);const Cn=wn[An]||{},Sn={...Cn,...xn};!Sn.id&&Cn.id&&(Sn.id=Cn.id),wn[An]=Sn,await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify(wn,null,2),"utf8"),Cn.username&&Sn.username&&Cn.username!==Sn.username&&sessionStorage.getItem("currAcc")===Cn.username&&sessionStorage.setItem("currAcc",Sn.username);const Nn=async()=>{const jn={name:Sn.username,image:Sn.pfp,...Sn.email?{email:Sn.email}:{},...Sn.password?{password:Sn.password}:{}};Sn.email&&(console.log("[TAUTH] Updating email is not currently supported"),delete jn.email),await window.tb.tauth.client.updateUser(jn),console.log("[TAUTH] Updated TACC info successfully")};try{await Nn()}catch(jn){jn.error.message.toLowerCase()==="unauthorized"&&window.tb.dialog.WebAuth({title:"Verify Identity to Update Account",message:"Please sign in to your Terbium Cloud Account to verify it's you.",onOk:async(Hn,Bn)=>{await window.tb.tauth.client.signIn.email({email:Hn,password:Bn,fetchOptions:{onSuccess:async()=>{await Nn()},onError:On=>{throw new Error(On.error.message)}}})},onCancel:()=>new Error("User cancelled the sign-in process")})}},sync:{retreive:async()=>{const xn=await window.tb.tauth.getInfo();if(!xn)throw new Error("No TACC info found");window.tb.tauth.sync.isSyncing=!0;const gn=await getinfo(null,null,"tbs");console.log("[TAUTH] Retrieved synced data from cloud"),await window.tb.fs.promises.writeFile(`/home/${xn.username}/settings.json`,JSON.stringify(gn.settings[0].settings,null,2),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${xn.username}/files/davs.json`,JSON.stringify(gn.settings[0].davs,null,2),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${xn.username}/app store/repos.json`,JSON.stringify(gn.settings[0].apps.repos||[],null,2),"utf8"),window.dispatchEvent(new Event("updWallpaper")),window.dispatchEvent(new CustomEvent("proxy-change")),window.dispatchEvent(new Event("upd-accent")),window.tb.tauth.sync.isSyncing=!1},upload:async()=>{const xn=await window.tb.tauth.getInfo();if(!xn)throw new Error("No TACC info found");window.tb.tauth.sync.isSyncing=!0;const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${xn.username}/settings.json`,"utf8")),wn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${xn.username}/files/davs.json`,"utf8")),vn=[{settings:gn,apps:{repos:JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${xn.username}/app store/repos.json`,"utf8")),installed:[]},davs:wn}];setinfo(null,null,"tbs",vn),console.log("[TAUTH] Uploaded synced data to cloud"),window.tb.tauth.sync.isSyncing=!1},isSyncing:!1},getInfo:async xn=>{const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/taccs.json","utf8"));return gn.find(vn=>vn&&vn.username===xn)||(xn=sessionStorage.getItem("currAcc")||"Guest"),gn.find(vn=>vn&&vn.username===xn)||null}},node:{webContainer:{},servers:new Map,isReady:!1,start:()=>{initializeWebContainer()},stop:()=>{if(window.tb.node.isReady)return window.tb.node.webContainer.teardown(),window.tb.node.isReady=!1,!0;throw new Error("No WebContainer is running")}},crypto:async(xn,gn)=>{const wn=pw$2.harden(xn);return gn?(await window.tb.fs.promises.writeFile(gn,wn),"Complete"):wn},platform:{async getPlatform(){const xn=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk|iPhone|iPad/i,gn=/CrOS/;return xn.test(navigator.userAgent)&&!gn.test(navigator.userAgent)||!xn.test(navigator.userAgent)&&navigator.maxTouchPoints>1&&navigator.userAgent.indexOf("Macintosh")!==-1&&navigator.userAgent.indexOf("Safari")!==-1?"mobile":"desktop"}},process:{kill(xn){clearInfo(),typeof xn=="number"?useWindowStore.getState().killWindow(String(xn)):useWindowStore.getState().killWindow(xn)},list(){const xn={};return useWindowStore.getState().windows.forEach((wn,vn)=>{const An=wn.pid||`win-${vn}`;xn[An]={name:wn.title,wid:wn.wid,icon:wn.icon,pid:wn.pid,src:wn.src,size:wn.size||{width:800,height:600}}}),xn},parse:{build(xn){parse.build(xn)}},create(){createWindow({title:{text:"Generic Window"},src:"about:blank"})}},screen:{async captureScreen(){if(!navigator.mediaDevices.getDisplayMedia)throw new Error("API Not Avalible on your browser");const xn=await navigator.mediaDevices.getDisplayMedia({preferCurrentTab:!0}),wn=await new ImageCapture(xn.getVideoTracks()[0]).grabFrame();xn.getVideoTracks()[0].stop();const vn=document.createElement("canvas"),An=vn.getContext("2d");vn.width=wn.width,vn.height=wn.height,An.drawImage(wn,0,0,wn.width,wn.height);const Cn=await new Promise(Nn=>{vn.toBlob(jn=>{Nn(jn)})});vn.remove();const Sn=await new Promise((Nn,jn)=>{const Hn=new FileReader;Hn.onloadend=()=>Nn(Hn.result),Hn.onerror=()=>jn(new Error("Failed to read blob")),Hn.readAsArrayBuffer(Cn)});tb.dialog.SaveFile({title:"Save screenshot",filename:"screenshot.png",onOk:async Nn=>{await window.tb.fs.promises.writeFile(Nn,window.tb.buffer.from(Sn))}})}},mediaplayer:{music(xn){setMusicFn(xn)},video(xn){setVideoFn(xn)},hide:()=>{hideFn()},pauseplay:()=>{window.dispatchEvent(new Event("tb-pause-isl"))},isExisting:()=>new Promise(xn=>{isExistingFn();const gn=wn=>{window.removeEventListener("isExistingMP",gn),xn(wn.detail)};window.addEventListener("isExistingMP",gn)})},file:{handler:{openFile:async(xn,gn)=>{const An=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).fileAssociatedApps[gn];try{let Cn;await fileExists(`/apps/system/${An}/.tbconfig`)?Cn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/system/${An}/.tbconfig`,"utf8")):await fileExists(`/apps/user/${await window.tb.user.username()}/${An}/.tbconfig`)?Cn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/${An}/.tbconfig`,"utf8")):Cn=JSON.parse(await window.tb.fs.promises.readFile(`/apps/user/${await window.tb.user.username()}/${An}/index.json`,"utf8"));const Sn={type:"process",path:xn};createWindow({title:Cn.name,src:Cn.src,size:{width:460,height:460,minWidth:160,minHeight:160},icon:Cn.icon,message:JSON.stringify(Sn)})}catch(Cn){if(Cn.code==="ENOENT"){const Sn={type:"process",path:xn};switch(gn){case"text":createWindow({title:"Text Editor",src:"/fs/apps/system/text editor.tapp/index.html",size:{width:460,height:460,minWidth:160,minHeight:160},icon:"/fs/apps/system/text editor.tapp/icon.svg",message:JSON.stringify(Sn)});break;case"image":case"video":case"audio":case"pdf":createWindow({title:"Media Viewer",src:"/fs/apps/system/media viewer.tapp/index.html",size:{width:460,height:460,minWidth:160,minHeight:160},icon:"/fs/apps/system/media viewer.tapp/icon.svg",message:JSON.stringify(Sn)});break;case"webpage":createWindow({title:"Terbium Webview",src:`/fs/${xn}`,size:{width:460,height:460,minWidth:160,minHeight:160},icon:"/apps/browser.tapp/icon.svg"});break}}else throw Cn}},addHandler:async(xn,gn)=>{const wn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));return wn.fileAssociatedApps[gn]=xn,await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(wn,null,2),"utf8"),!0},removeHandler:async xn=>{const gn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));return delete gn.fileAssociatedApps[xn],await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(gn,null,2),"utf8"),!0}}}},window.loadLock)return;window.loadLock=!0;const sn=await Anura.new({milestone:5,FileExts:{txt:{handler_type:"module",id:"anura.fileviewer"},mp3:{handler_type:"module",id:"anura.fileviewer"},flac:{handler_type:"module",id:"anura.fileviewer"},wav:{handler_type:"module",id:"anura.fileviewer"},ogg:{handler_type:"module",id:"anura.fileviewer"},mp4:{handler_type:"module",id:"anura.fileviewer"},mov:{handler_type:"module",id:"anura.fileviewer"},webm:{handler_type:"module",id:"anura.fileviewer"},gif:{handler_type:"module",id:"anura.fileviewer"},png:{handler_type:"module",id:"anura.fileviewer"},jpg:{handler_type:"module",id:"anura.fileviewer"},jpeg:{handler_type:"module",id:"anura.fileviewer"},svg:{handler_type:"module",id:"anura.fileviewer"},pdf:{handler_type:"module",id:"anura.fileviewer"},py:{handler_type:"module",id:"anura.fileviewer"},js:{handler_type:"module",id:"anura.fileviewer"},mjs:{handler_type:"module",id:"anura.fileviewer"},cjs:{handler_type:"module",id:"anura.fileviewer"},json:{handler_type:"module",id:"anura.fileviewer"},html:{handler_type:"module",id:"anura.fileviewer"},css:{handler_type:"module",id:"anura.fileviewer"},default:{handler_type:"module",id:"anura.fileviewer"}},"handler-migration-complete":!0,apps:["apps/fsapp.app"],defaultsettings:{"use-sw-cache":!0,applist:["anura.browser","anura.settings","anura.fsapp","anura.term"],"relay-url":"wss://relay.widgetry.org/",directories:{apps:"/apps/anura/",libs:"/system/lib/anura/",init:"/system/etc/anura/init/",bin:"/system/bin/anura/"}},x86:{debian:{bzimage:"/images/debian-boot/vmlinuz-6.1.0-11-686",initrd:"/images/debian-boot/initrd.img-6.1.0-11-686",rootfs:["images/debian-rootfs/aa","images/debian-rootfs/ab","images/debian-rootfs/ac","images/debian-rootfs/ad","images/debian-rootfs/ae","images/debian-rootfs/af","images/debian-rootfs/ag","images/debian-rootfs/ah","images/debian-rootfs/ai","images/debian-rootfs/aj","images/debian-rootfs/ak","images/debian-rootfs/al","images/debian-rootfs/am","images/debian-rootfs/an","images/debian-rootfs/ao","images/debian-rootfs/ap","images/debian-rootfs/aq","images/debian-rootfs/ar","images/debian-rootfs/as","images/debian-rootfs/at","images/debian-rootfs/au","images/debian-rootfs/av","images/debian-rootfs/aw","images/debian-rootfs/ax","images/debian-rootfs/ay","images/debian-rootfs/az","images/debian-rootfs/ba","images/debian-rootfs/bb","images/debian-rootfs/bc","images/debian-rootfs/bd","images/debian-rootfs/be","images/debian-rootfs/bf","images/debian-rootfs/bg","images/debian-rootfs/bh","images/debian-rootfs/bi","images/debian-rootfs/bj","images/debian-rootfs/bk","images/debian-rootfs/bl","images/debian-rootfs/bm","images/debian-rootfs/bn","images/debian-rootfs/bo"]}}});window.anura=sn,window.anura.fs.Shell=window.tfs.sh,window.AliceWM=AliceWM,window.LocalFS=LocalFS,window.ExternalApp=ExternalApp$1,window.ExternalLib=ExternalLib,window.electron=new Lemonade,window.tb.libcurl.load_wasm("https://cdn.jsdelivr.net/npm/libcurl.js@latest/libcurl.wasm");const O=async()=>{hash$1!==await window.tb.fs.promises.readFile("/system/etc/terbium/hash.cache","utf8")&&(await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache","invalid"),window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:"A new version of terbium is ready to install",onOk:async()=>{window.location.reload()}}))};await fileExists("/system/etc/terbium/hash.cache")?O():(await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache","invalid"),window.tb.notification.Toast({application:"System",iconSrc:"/fs/apps/system/about.tapp/icon.svg",message:"A new version of terbium is ready to install",onOk:async()=>{window.location.reload()}})),setInterval(()=>{O()},3e5);const rn=xn=>{window.tb.libcurl.set_websocket(xn)},an=async()=>{const xn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"));xn.wispServer===null?rn(`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`):rn(xn.wispServer)};let un=!1;const dn=xn=>{xn.altKey&&xn.shiftKey&&(un||(window.tb.screen.captureScreen(),un=!0))},hn=xn=>{(!xn.altKey||!xn.shiftKey)&&(un=!1)};document.addEventListener("keydown",dn),document.addEventListener("keyup",hn),an(),await window.tb.proxy.updateSWs();const mn=async()=>{const gn=(await(await window.tb.libcurl.fetch("https://cdn.terbiumon.top/changelogs/versions.json")).json())[system.version("string")];hash$1===gn.hash&&window.tb.window.create({title:"Changelog",src:gn.changeFile,icon:"/fs/apps/system/about.tapp/icon.svg",size:{width:600,height:400},proxy:!0})};sessionStorage.getItem("justUpdated")==="true"&&(mn(),sessionStorage.removeItem("justUpdated")),await window.tb.tauth.isTACC()&&(await window.tb.tauth.sync.retreive(),window.tb.fs.watch(`/home/${await window.tb.user.username()}/settings.json`,{recursive:!0},(xn,gn)=>{xn==="change"&&window.tb.tauth.sync.isSyncing===!1&&window.tb.tauth.sync.upload()}),window.tb.fs.watch(`/apps/user/${await window.tb.user.username()}/files/davs.json`,{recursive:!0},(xn,gn)=>{xn==="change"&&window.tb.tauth.sync.isSyncing===!1&&window.tb.tauth.sync.upload()}),window.tb.fs.watch(`/apps/user/${await window.tb.user.username()}/app store/repos.json`,{recursive:!0},(xn,gn)=>{xn==="change"&&window.tb.tauth.sync.isSyncing===!1&&window.tb.tauth.sync.upload()})),document.addEventListener("libcurl_load",an),window.tb.node.webContainer=await initializeWebContainer()}function ArrowPathIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const ForwardRef$7=reactExports.forwardRef(ArrowPathIcon);function ChevronRightIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const ForwardRef$6=reactExports.forwardRef(ChevronRightIcon);function LockClosedIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const ForwardRef$5=reactExports.forwardRef(LockClosedIcon);function MagnifyingGlassIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const ForwardRef$4=reactExports.forwardRef(MagnifyingGlassIcon);function MoonIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const ForwardRef$3=reactExports.forwardRef(MoonIcon);function PowerIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM6.166 5.106a.75.75 0 0 1 0 1.06 8.25 8.25 0 1 0 11.668 0 .75.75 0 1 1 1.06-1.06c3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const ForwardRef$2=reactExports.forwardRef(PowerIcon);function PuzzlePieceIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{d:"M11.25 5.337c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.036 1.007-1.875 2.25-1.875S15 2.34 15 3.375c0 .369-.128.713-.349 1.003-.215.283-.401.604-.401.959 0 .332.278.598.61.578 1.91-.114 3.79-.342 5.632-.676a.75.75 0 0 1 .878.645 49.17 49.17 0 0 1 .376 5.452.657.657 0 0 1-.66.664c-.354 0-.675-.186-.958-.401a1.647 1.647 0 0 0-1.003-.349c-1.035 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401.31 0 .557.262.534.571a48.774 48.774 0 0 1-.595 4.845.75.75 0 0 1-.61.61c-1.82.317-3.673.533-5.555.642a.58.58 0 0 1-.611-.581c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.035-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959a.641.641 0 0 1-.658.643 49.118 49.118 0 0 1-4.708-.36.75.75 0 0 1-.645-.878c.293-1.614.504-3.257.629-4.924A.53.53 0 0 0 5.337 15c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.036 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.369 0 .713.128 1.003.349.283.215.604.401.959.401a.656.656 0 0 0 .659-.663 47.703 47.703 0 0 0-.31-4.82.75.75 0 0 1 .83-.832c1.343.155 2.703.254 4.077.294a.64.64 0 0 0 .657-.642Z"}))}const ForwardRef$1=reactExports.forwardRef(PuzzlePieceIcon);var pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function sn(un){if(typeof un!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(un))}function O(un,dn){for(var hn="",mn=0,xn=-1,gn=0,wn,vn=0;vn<=un.length;++vn){if(vn<un.length)wn=un.charCodeAt(vn);else{if(wn===47)break;wn=47}if(wn===47){if(!(xn===vn-1||gn===1))if(xn!==vn-1&&gn===2){if(hn.length<2||mn!==2||hn.charCodeAt(hn.length-1)!==46||hn.charCodeAt(hn.length-2)!==46){if(hn.length>2){var An=hn.lastIndexOf("/");if(An!==hn.length-1){An===-1?(hn="",mn=0):(hn=hn.slice(0,An),mn=hn.length-1-hn.lastIndexOf("/")),xn=vn,gn=0;continue}}else if(hn.length===2||hn.length===1){hn="",mn=0,xn=vn,gn=0;continue}}dn&&(hn.length>0?hn+="/..":hn="..",mn=2)}else hn.length>0?hn+="/"+un.slice(xn+1,vn):hn=un.slice(xn+1,vn),mn=vn-xn-1;xn=vn,gn=0}else wn===46&&gn!==-1?++gn:gn=-1}return hn}function rn(un,dn){var hn=dn.dir||dn.root,mn=dn.base||(dn.name||"")+(dn.ext||"");return hn?hn===dn.root?hn+mn:hn+un+mn:mn}var an={resolve:function(){for(var dn="",hn=!1,mn,xn=arguments.length-1;xn>=-1&&!hn;xn--){var gn;xn>=0?gn=arguments[xn]:(mn===void 0&&(mn=process.cwd()),gn=mn),sn(gn),gn.length!==0&&(dn=gn+"/"+dn,hn=gn.charCodeAt(0)===47)}return dn=O(dn,!hn),hn?dn.length>0?"/"+dn:"/":dn.length>0?dn:"."},normalize:function(dn){if(sn(dn),dn.length===0)return".";var hn=dn.charCodeAt(0)===47,mn=dn.charCodeAt(dn.length-1)===47;return dn=O(dn,!hn),dn.length===0&&!hn&&(dn="."),dn.length>0&&mn&&(dn+="/"),hn?"/"+dn:dn},isAbsolute:function(dn){return sn(dn),dn.length>0&&dn.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var dn,hn=0;hn<arguments.length;++hn){var mn=arguments[hn];sn(mn),mn.length>0&&(dn===void 0?dn=mn:dn+="/"+mn)}return dn===void 0?".":an.normalize(dn)},relative:function(dn,hn){if(sn(dn),sn(hn),dn===hn||(dn=an.resolve(dn),hn=an.resolve(hn),dn===hn))return"";for(var mn=1;mn<dn.length&&dn.charCodeAt(mn)===47;++mn);for(var xn=dn.length,gn=xn-mn,wn=1;wn<hn.length&&hn.charCodeAt(wn)===47;++wn);for(var vn=hn.length,An=vn-wn,Cn=gn<An?gn:An,Sn=-1,Nn=0;Nn<=Cn;++Nn){if(Nn===Cn){if(An>Cn){if(hn.charCodeAt(wn+Nn)===47)return hn.slice(wn+Nn+1);if(Nn===0)return hn.slice(wn+Nn)}else gn>Cn&&(dn.charCodeAt(mn+Nn)===47?Sn=Nn:Nn===0&&(Sn=0));break}var jn=dn.charCodeAt(mn+Nn),Hn=hn.charCodeAt(wn+Nn);if(jn!==Hn)break;jn===47&&(Sn=Nn)}var Bn="";for(Nn=mn+Sn+1;Nn<=xn;++Nn)(Nn===xn||dn.charCodeAt(Nn)===47)&&(Bn.length===0?Bn+="..":Bn+="/..");return Bn.length>0?Bn+hn.slice(wn+Sn):(wn+=Sn,hn.charCodeAt(wn)===47&&++wn,hn.slice(wn))},_makeLong:function(dn){return dn},dirname:function(dn){if(sn(dn),dn.length===0)return".";for(var hn=dn.charCodeAt(0),mn=hn===47,xn=-1,gn=!0,wn=dn.length-1;wn>=1;--wn)if(hn=dn.charCodeAt(wn),hn===47){if(!gn){xn=wn;break}}else gn=!1;return xn===-1?mn?"/":".":mn&&xn===1?"//":dn.slice(0,xn)},basename:function(dn,hn){if(hn!==void 0&&typeof hn!="string")throw new TypeError('"ext" argument must be a string');sn(dn);var mn=0,xn=-1,gn=!0,wn;if(hn!==void 0&&hn.length>0&&hn.length<=dn.length){if(hn.length===dn.length&&hn===dn)return"";var vn=hn.length-1,An=-1;for(wn=dn.length-1;wn>=0;--wn){var Cn=dn.charCodeAt(wn);if(Cn===47){if(!gn){mn=wn+1;break}}else An===-1&&(gn=!1,An=wn+1),vn>=0&&(Cn===hn.charCodeAt(vn)?--vn===-1&&(xn=wn):(vn=-1,xn=An))}return mn===xn?xn=An:xn===-1&&(xn=dn.length),dn.slice(mn,xn)}else{for(wn=dn.length-1;wn>=0;--wn)if(dn.charCodeAt(wn)===47){if(!gn){mn=wn+1;break}}else xn===-1&&(gn=!1,xn=wn+1);return xn===-1?"":dn.slice(mn,xn)}},extname:function(dn){sn(dn);for(var hn=-1,mn=0,xn=-1,gn=!0,wn=0,vn=dn.length-1;vn>=0;--vn){var An=dn.charCodeAt(vn);if(An===47){if(!gn){mn=vn+1;break}continue}xn===-1&&(gn=!1,xn=vn+1),An===46?hn===-1?hn=vn:wn!==1&&(wn=1):hn!==-1&&(wn=-1)}return hn===-1||xn===-1||wn===0||wn===1&&hn===xn-1&&hn===mn+1?"":dn.slice(hn,xn)},format:function(dn){if(dn===null||typeof dn!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof dn);return rn("/",dn)},parse:function(dn){sn(dn);var hn={root:"",dir:"",base:"",ext:"",name:""};if(dn.length===0)return hn;var mn=dn.charCodeAt(0),xn=mn===47,gn;xn?(hn.root="/",gn=1):gn=0;for(var wn=-1,vn=0,An=-1,Cn=!0,Sn=dn.length-1,Nn=0;Sn>=gn;--Sn){if(mn=dn.charCodeAt(Sn),mn===47){if(!Cn){vn=Sn+1;break}continue}An===-1&&(Cn=!1,An=Sn+1),mn===46?wn===-1?wn=Sn:Nn!==1&&(Nn=1):wn!==-1&&(Nn=-1)}return wn===-1||An===-1||Nn===0||Nn===1&&wn===An-1&&wn===vn+1?An!==-1&&(vn===0&&xn?hn.base=hn.name=dn.slice(1,An):hn.base=hn.name=dn.slice(vn,An)):(vn===0&&xn?(hn.name=dn.slice(1,wn),hn.base=dn.slice(1,An)):(hn.name=dn.slice(vn,wn),hn.base=dn.slice(vn,An)),hn.ext=dn.slice(wn,An)),vn>0?hn.dir=dn.slice(0,vn-1):xn&&(hn.dir="/"),hn},sep:"/",delimiter:":",win32:null,posix:null};return an.posix=an,pathBrowserify=an,pathBrowserify}var pathBrowserifyExports=requirePathBrowserify();const path$1=getDefaultExportFromCjs(pathBrowserifyExports),extensionToNameMap={html:"HTML",htm:"HTML",css:"CSS",js:"JavaScript",jsx:"JavaScript (JSX)",ts:"TypeScript",tsx:"TypeScript (TSX)",json:"JSON",xml:"XML",yml:"YAML",yaml:"YAML",php:"PHP",asp:"ASP",aspx:"ASP.NET",vue:"Vue.js",svelte:"Svelte",ejs:"Embedded JavaScript (EJS)",handlebars:"Handlebars",mustache:"Mustache",java:"Java",py:"Python",pyc:"Compiled Python",rb:"Ruby",pl:"Perl",swift:"Swift",go:"Go",rs:"Rust",c:"C",h:"C Header",cpp:"C++",cxx:"C++",cc:"C++",cs:"C#",kotlin:"Kotlin",kt:"Kotlin",scala:"Scala",dart:"Dart",lua:"Lua",r:"R",sh:"Shell Script",bash:"Bash Script",zsh:"Zsh Script",bat:"Batch File",ps1:"PowerShell Script",sql:"SQL",ini:"INI Config",toml:"TOML Config",cfg:"Config File",env:"Environment Config",csv:"CSV",tsv:"TSV",md:"Markdown",rst:"reStructuredText",latex:"LaTeX",tex:"TeX",bib:"BibTeX",log:"Log File",png:"PNG Image",jpg:"JPEG Image",jpeg:"JPEG Image",gif:"GIF Image",bmp:"Bitmap Image",svg:"SVG Vector Image",webp:"WebP Image",ico:"Icon File",tiff:"TIFF Image",heic:"HEIC Image",mp4:"MPEG-4 Video",mov:"QuickTime Video",avi:"AVI Video",webm:"WebM Video",mkv:"Matroska Video",flv:"Flash Video",m4v:"MPEG-4 Video","3gp":"3GP Video",mp3:"MP3 Audio",wav:"WAV Audio",ogg:"OGG Audio",flac:"FLAC Audio",aac:"AAC Audio",m4a:"MPEG-4 Audio",wma:"Windows Media Audio",opus:"Opus Audio",zip:"ZIP Archive",rar:"RAR Archive","7z":"7-Zip Archive",tar:"TAR Archive",gz:"Gzip Archive",bz2:"Bzip2 Archive",xz:"XZ Archive",tgz:"Tarball Gzip Archive","tar.gz":"Tarball Gzip Archive",pdf:"PDF Document",doc:"Microsoft Word Document",docx:"Microsoft Word (OpenXML)",xls:"Microsoft Excel Spreadsheet",xlsx:"Microsoft Excel (OpenXML)",ppt:"Microsoft PowerPoint",pptx:"Microsoft PowerPoint (OpenXML)",odt:"OpenDocument Text",ods:"OpenDocument Spreadsheet",odp:"OpenDocument Presentation",rtf:"Rich Text Format",txt:"Plain Text",ttf:"TrueType Font",otf:"OpenType Font",woff:"Web Open Font Format",woff2:"Web Open Font Format 2",exe:"Windows Executable",dll:"Dynamic Link Library",deb:"Debian Package",rpm:"Red Hat Package Manager",dmg:"macOS Disk Image",iso:"ISO Disk Image",app:"macOS App Package",bin:"Binary File",jar:"Java Archive",war:"Web Application Archive",class:"Java Class File",wasm:"WebAssembly",node:"Node.js Binary",lock:"Lock File",bak:"Backup File",tmp:"Temporary File",crt:"Certificate File",pem:"PEM Certificate",key:"Private Key File",pub:"Public Key File",sig:"Signature File",dat:"Data File"};Object.entries(extensionToNameMap).reduce((sn,[O,rn])=>{const an=rn.toLowerCase();return sn[an]||(sn[an]=O),sn},{});function getNameFromExtension(sn){return extensionToNameMap[sn.toLowerCase()]||"Unknown"}const isFilePathString=sn=>{const O=sn.split("/").pop();return!!O&&/\.[a-zA-Z0-9]+$/.test(O)},fileStat={name:async sn=>{const O=await window.tb.fs.promises.stat(sn);return O.type.toLowerCase()==="file"?path$1.basename(O.name):"unknown"},ext:async sn=>{const O=await window.tb.fs.promises.stat(sn);return O.type.toLowerCase()==="file"?path$1.extname(O.name).replace(".","").toLowerCase():"unknown"},type:async sn=>{const O=await window.tb.fs.promises.stat(sn);if(O.type.toLowerCase()==="file"){const rn=path$1.extname(O.name).replace(".","").toLowerCase();return getNameFromExtension(rn)}return"unknown"},size:async sn=>{const O=await window.tb.fs.promises.stat(sn);if(O.type.toLowerCase()==="file"){const rn=O.size,an=["B","KB","MB","GB","TB"];let un=0,dn=rn;for(;dn>=1024&&un<an.length-1;)dn/=1024,un++;return`${dn.toFixed(2)} ${an[un]}`}return"0 B"},cTime:async sn=>{const O=await window.tb.fs.promises.stat(sn);return O.type.toLowerCase()==="file"?new Date(O.ctime).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"unknown"},mTime:async sn=>{const O=await window.tb.fs.promises.stat(sn);return O.type.toLowerCase()==="file"?new Date(O.mtime).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"unknown"},isFile:async sn=>(await window.tb.fs.promises.stat(sn)).type.toLowerCase()==="file",isDir:async sn=>(await window.tb.fs.promises.stat(sn)).type.toLowerCase()==="directory",dir:async sn=>(await window.tb.fs.promises.stat(sn)).type.toLowerCase()==="file"?path$1.dirname(sn):"unknown"},searchFiles=async sn=>{const O=window.tb.sh,rn=[],an=typeof sn=="string"?sn:JSON.stringify(sn),un=await O.promises.find("/",{name:`*${an}`});if(!isFilePathString(an))return!1;for(const dn of un){const hn=dn.replace(/\\/g,"/"),mn=await fileStat.name(hn),xn=await fileStat.dir(hn),gn=await fileStat.size(hn),wn=await fileStat.type(hn),vn=await fileStat.mTime(hn),An=await fileStat.cTime(hn),Cn=await fileStat.ext(hn);if(mn.toLowerCase().includes(an.toLowerCase())){let Sn={name:mn,ext:Cn,type:wn,size:gn,cTime:An,mTime:vn,path:hn,dir:xn};rn.push(Sn)}}return rn.length>0?rn:!1},searchApps=async sn=>{let O=typeof sn=="string"?sn.toLowerCase():JSON.stringify(sn).toLowerCase();O.endsWith(".tapp")&&(O=O.replace(".tapp",""));let rn=JSON.parse(await window.tb.fs.promises.readFile("/apps/installed.json","utf8"));const an=[];for(const un of rn)if(un.name&&un.name.toLowerCase().includes(O)){let dn=JSON.parse(await window.tb.fs.promises.readFile(un.config,"utf8")),hn=null,mn=un.config.replace(/\/[^\/]+\.json$|\/[^\/]+\.tbconfig$/i,"");try{dn.icon?hn=(dn.icon.includes("http"),dn.icon):dn.config&&dn.config.icon?hn=(dn.config.icon.includes("http"),dn.config.icon):dn.wmArgs&&(hn=(dn.wmArgs.icon.includes("http"),dn.config.icon))}catch{hn=`
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-[49] h-[49]" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z" clip-rule="evenodd"></path>
                        <path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"></path>
                    </svg>
                `}hn||(hn=`
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-[49] h-[49]" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z" clip-rule="evenodd"></path>
                        <path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"></path>
                    </svg>
                `),dn.manifest&&(dn.config={title:dn.manifest.name,icon:dn.manifest.name.includes("Anura File Manager")?"/apps/fsapp.app/files.png":`${mn}/${dn.manifest.icon}`,src:dn.manifest.name.includes("Anura File Manager")?"/apps/fsapp.app/index.html":`${mn}/${dn.manifest.index}`});let xn=dn.name;dn.config&&dn.config.title?xn=typeof dn.config.title=="object"?dn.config.title.text:dn.config.title:dn.wmArgs&&dn.wmArgs.title&&(xn=typeof dn.wmArgs.title=="object"?dn.wmArgs.title.text:dn.wmArgs.title),an.push({dir:xn.includes("Anura File Manager")?"int://apps/fsapp.app/":mn,icon:xn.includes("Anura File Manager")?"/apps/fsapp.app/files.png":hn,name:xn,cfg:dn.config})}return an.length>0?an:!1},SearchMenu=({className:sn})=>{const O=useSearchMenuStore(),[rn,an]=reactExports.useState(!1),[un,dn]=reactExports.useState(!1),[hn,mn]=reactExports.useState(!1),[xn,gn]=reactExports.useState(!1),[wn,vn]=reactExports.useState([]),An=reactExports.useRef(null),Cn=reactExports.useRef(null),Sn=reactExports.useRef(null),Nn=reactExports.useRef(null),jn=reactExports.useRef(null),Hn=reactExports.useRef(null),[Bn,On]=reactExports.useState([]),[Mn,Un]=reactExports.useState(!1);return reactExports.useEffect(()=>{const Tn=async()=>{const Dn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/recent.json")).map(In=>In);vn(Dn),Cn.current.focus()};O.open&&Tn(),O.open||(Cn.current.value="",Un(!1),an(!1),gn(!1),mn(!1),dn(!1),setTimeout(()=>{Hn.current.classList.add("col-span-2"),Nn.current.classList.remove("grid-cols-2"),Nn.current.classList.add("grid-cols-1")},200),setTimeout(()=>{jn.current.classList.add("absolute")},300),On([])),Tn()},[O]),reactExports.useEffect(()=>{O.searchRef={current:Cn.current},O.searchMenuRef={current:An.current}}),jsxRuntimeExports.jsxs("div",{ref:An,className:sn+`
            bg-[#2020208c] shadow-tb-border-shadow backdrop-blur-sm rounded-xl
            flex flex-col items-center justify-between
            min-w-[440px] h-[266px]
        `,children:[jsxRuntimeExports.jsxs("div",{className:`flex gap-2 items-center text-[#ffffffa4] p-2.5 pb-0 w-full duration-700 
                ${O.open?"":"translate-y-2 opacity-0"}
            `,children:[jsxRuntimeExports.jsx(ForwardRef$4,{className:"size-6 text-[#ffffff86] stroke-current stroke-[2px]"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center w-full",children:[jsxRuntimeExports.jsx("span",{ref:Sn,className:`absolute font-[680] text-lg pointer-events-none duration-150 ${hn?"opacity-0 -translate-x-1.5":xn?"opacity-100":"opacity-75"}`,children:"Search for apps and files"}),jsxRuntimeExports.jsx("input",{ref:Cn,type:"text",className:"bg-transparent focus-visible:outline-none text-lg font-[680] w-full cursor-text",onFocus:()=>gn(!0),onBlur:()=>gn(!1),onChange:async Tn=>{const zn=Tn.target.value;if(zn.length>0){gn(!0),jn.current.classList.remove("absolute"),Hn.current.classList.remove("col-span-2"),setTimeout(()=>{Nn.current.classList.remove("grid-cols-1"),Nn.current.classList.add("grid-cols-2")},200),setTimeout(()=>{dn(!0)},200),mn(!0);const Dn=await searchApps(zn),In=await searchFiles(zn);if(Dn&&Array.isArray(Dn)&&Dn.length>0){an(!0);const Ln=Dn[0];let Wn="";typeof Ln.icon=="string"&&(Ln.icon.trim().startsWith("<svg")?Wn=Ln.icon:Wn=`<img class="w-[49px] h-[49px]" src="${Ln.icon}"/>`);const Fn=typeof Ln.name=="string"?Ln.name:Ln.name&&typeof Ln.name.text=="string"?Ln.name.text:"";On([[{icon:Wn,name:Fn.charAt(0).toUpperCase()+Fn.slice(1),dir:Ln.dir||"Unknown Path",config:Ln.cfg,click:()=>{createWindow(Ln.cfg),O.open=!1,Cn.current.value="",an(!1),gn(!1),mn(!1),dn(!1),setTimeout(()=>{Hn.current.classList.add("col-span-2"),Nn.current.classList.remove("grid-cols-2"),Nn.current.classList.add("grid-cols-1")},200),setTimeout(()=>{jn.current.classList.add("absolute")},300),On([])}}],[]]),Un(!1),gn(!1)}else In&&Array.isArray(In)&&In.length>0?(an(!0),window.tb.fs.promises.readFile("/system/etc/terbium/file-icons.json","utf8").then(async Ln=>{const Wn=JSON.parse(Ln),Fn=Vn=>{let Zn=Wn["ext-to-name"][Vn],Yn=Wn["name-to-path"][Zn];return Yn||Wn["name-to-path"].Unknown},Pn=await Promise.all(In.map(async Vn=>{const Zn=await window.tb.fs.promises.readFile(Fn(Vn.ext),"utf8");function Yn(Xn){return Xn.replace(/<svg([^>]*)>/,(rr,sr)=>`<svg${sr.replace(/\swidth=['"][^'"]*['"]/,"").replace(/\sheight=['"][^'"]*['"]/,"")} width="48" height="48">`)}return{icon:Yn(Zn),name:Vn.name.charAt(0).toUpperCase()+Vn.name.slice(1)||zn.charAt(0).toUpperCase()+zn.slice(1),path:Vn.path||"",ext:Vn.ext,dir:Vn.dir,onClick:async()=>{let Xn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).fileAssociatedApps;Xn=Object.entries(Xn).filter(([Jn,nr])=>!(Jn==="text"&&nr==="text-editor"||Jn==="image"&&nr==="media-viewer"||Jn==="video"&&nr==="media-viewer"||Jn==="audio"&&nr==="media-viewer"));const rr=JSON.parse(await window.tb.fs.promises.readFile("/apps/system/files.tapp/extensions.json","utf8"));let sr=[];for(const[Jn,nr]of Xn)sr.push({text:nr,value:Jn});await window.tb.dialog.Select({title:`Select a application to open: ${Vn.name}`,options:[{text:"Text Editor",value:"text"},{text:"Media Viewer",value:"media"},{text:"Webview",value:"webview"},...sr,{text:"Other",value:"other"}],onOk:async Jn=>{switch(Jn){case"text":parent.window.tb.file.handler.openFile(Vn.path,"text");break;case"media":const nr=Vn.name.split(".").pop();rr.image.includes(nr)?parent.window.tb.file.handler.openFile(Vn.path,"image"):rr.video.includes(nr)?parent.window.tb.file.handler.openFile(Vn.path,"video"):rr.audio.includes(nr)&&parent.window.tb.file.handler.openFile(Vn.path,"audio");break;case"webview":parent.window.tb.file.handler.openFile(Vn.path,"webpage");break;case"other":parent.window.tb.dialog.DirectoryBrowser({title:"Select a application",filter:".tapp",onOk:async ar=>{const or=JSON.parse(await window.tb.fs.promises.readFile(`${ar}/.tbconfig`,"utf8"));window.parent.tb.window.create({...or.wmArgs,message:{type:"process",path:Vn.dir}})}});break;default:sr.length===0?parent.window.tb.file.handler.openFile(Vn.path,"text"):parent.window.tb.file.handler.openFile(Vn.path,Jn);break}O.open=!1,Cn.current.value="",Un(!1),an(!1),gn(!1),mn(!1),dn(!1),setTimeout(()=>{Hn.current.classList.add("col-span-2"),Nn.current.classList.remove("grid-cols-2"),Nn.current.classList.add("grid-cols-1")},200),setTimeout(()=>{jn.current.classList.add("absolute")},300),On([])}})}}}));Un(!1),On([[],Pn]),gn(!1)})):Dn===!1&&In===!1&&(an(!1),Un(!0))}else an(!1),mn(!1),On([]),dn(!1),Un(!1),setTimeout(()=>{Hn.current.classList.add("col-span-2"),Nn.current.classList.remove("grid-cols-2"),Nn.current.classList.add("grid-cols-1")},200),setTimeout(()=>{jn.current.classList.add("absolute")},300)}})]})]}),jsxRuntimeExports.jsxs("div",{className:`relative flex items-center min-h-[104px] h-full w-full gap-2 p-2.5 pt-0 duration-1000 
                ${O.open?"":"translate-y-4 opacity-0"}`,children:[jsxRuntimeExports.jsxs("div",{ref:Nn,className:"grid gap-2 pt-2 w-full h-full overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{ref:Hn,className:`relative grid overflow-hidden 
                        ${wn.length>0?"":"items-center justify-center"}
                    `,children:[wn.length<=0&&jsxRuntimeExports.jsx("h1",{className:`font-bold text-lg leading-none pt-2 text-[#ffffff68] 
                                ${wn.length<=0?"":"opacity-0 pointer-events-none translate-4 duration-200"}
                            `,children:"No recent apps"}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col gap-2 
                            ${wn.length>0?"duration-150":"opacity-0 pointer-events-none translate-4 duration-200"}
                        `,children:[jsxRuntimeExports.jsx("h1",{className:"font-bold text-lg leading-none text-[#ffffff68]",children:"Recent apps"}),jsxRuntimeExports.jsx("div",{className:`grid items-center gap-1 overflow-y-auto rounded-md 
                                ${Bn.length>0?"grid-cols-1":"grid-cols-2"}
                            `,children:wn.length>0?wn.sort((Tn,zn)=>{const Dn=(zn.value??0)-(Tn.value??0);return Dn!==0?Dn:(zn.weight??0)-(Tn.weight??0)}).slice(0,8).map((Tn,zn)=>jsxRuntimeExports.jsx(StartItem,{className:"w-full",title:Tn.title,icon:Tn.icon,pid:void 0,src:Tn.src,size:Tn.size,proxy:Tn.proxy,snapable:Tn.snapable,onClick:()=>{createWindow({src:Tn.src,size:Tn.size,icon:typeof Tn.icon=="string"?Tn.icon:void 0,title:Tn.title,proxy:Tn.proxy,snapable:Tn.snapable}),O.open=!1}},zn)):null})]})]}),jsxRuntimeExports.jsxs("div",{ref:jn,className:`flex flex-col p-2 bg-[#15151594] rounded-lg shadow-tb-border-shadow overflow-y-auto 
                        ${rn===!1?"justify-center items-center":""}
                        ${un?"duration-150":"opacity-0 pointer-events-none translate-y-4 duration-200"}
                    `,children:[jsxRuntimeExports.jsx("h1",{className:"font-bold text-lg leading-none pt-2 text-[#ffffff68]",children:"Search results"}),Mn?jsxRuntimeExports.jsxs("div",{className:"flex gap-1.5 duration-150 items-center text-[#ffffff51]",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10",children:jsxRuntimeExports.jsx("path",{d:"M12 2a10 10 0 1 0 0 20A10 10 0 0 0 12 2Zm1.5 14.25h-3v-1.5h3v1.5Zm0-3h-3V7.5h3v5.75Z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-black",children:"No apps or files relevant to searches"})]}):Bn.length>0&&xn?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-1.5 h-full w-full text-[#ffffffa4] font-[680] text-lg",children:["Searching...",jsxRuntimeExports.jsx("div",{className:"relative flex w-[80%] h-2 rounded-full bg-[#00000020] overflow-hidden shadow-tb-border-shadow",children:jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#50bf66] rounded-full",style:{animation:"2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite normal none running anim1"}})})]}):jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-0.5 overflow-y-auto",children:Array.isArray(Bn[0])&&Bn[0].length>0?Bn[0].map((Tn,zn)=>jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 search-result-app cursor-pointer hover:bg-[#22222288] rounded-md p-2",onClick:()=>{Tn.click()},children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[typeof Tn.icon=="string"?Tn.icon.trim().startsWith("<svg")?jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:Tn.icon}}):jsxRuntimeExports.jsx("img",{className:"w-[49px] h-[49px]",src:Tn.icon.replace(/^<img.*src="([^"]*)".*$/,"$1"),alt:Tn.name}):Tn.icon,jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-extrabold text-xl",children:Tn.name}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-xs",children:Tn.dir||"Unknown Path"})]})]})},zn)):Array.isArray(Bn[1])&&Bn[1].length>0?Bn[1].map((Tn,zn)=>jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 search-result-file cursor-pointer hover:bg-[#22222288] rounded-md p-2",onClick:()=>{Tn.onClick()},children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[typeof Tn.icon=="string"?Tn.icon.trim().startsWith("<svg")?jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:Tn.icon}}):jsxRuntimeExports.jsx("img",{className:"w-[49px] h-[49px]",src:Tn.icon.replace(/^<img.*src="([^"]*)".*$/,"$1"),alt:Tn.name}):Tn.icon,jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"font-extrabold text-xl",children:Tn.name}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-xs",children:Tn.path||""})]})]})},zn)):null})]})]}),wn.length===0||rn===!1&&jsxRuntimeExports.jsxs("div",{className:`absolute top-1/2 left-1/2 -translate-1/2 flex gap-1.5 duration-150 items-center text-[#ffffff51] 
                        ${rn?"":"opacity-0 pointer-events-none -translate-x-3"}
                    `,children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-10",children:jsxRuntimeExports.jsx("path",{d:"M12 2a10 10 0 1 0 0 20A10 10 0 0 0 12 2Zm1.5 14.25h-3v-1.5h3v1.5Zm0-3h-3V7.5h3v5.75Z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-black",children:"No recent apps or relevant searches"})]})]})]})},Dock=({pinned:sn})=>{const O=useWindowStore(),rn=useSearchMenuStore(),[an,un]=reactExports.useState(!1),[dn,hn]=reactExports.useState({pfp:void 0,username:void 0}),mn=reactExports.useRef(null),xn=reactExports.useRef(null),gn=reactExports.useRef(null),[wn,vn]=reactExports.useState((xn.current?.value?.length??0)>=1),[An,Cn]=reactExports.useState(!1),Sn=reactExports.useRef(null),Nn=reactExports.useRef(null),jn=reactExports.useRef(null),Hn=reactExports.useRef(null),Bn=reactExports.useRef(null),On=reactExports.useRef(null),Mn=reactExports.useRef(null),Un=reactExports.useRef(null),Tn=reactExports.useRef(null),[zn,Dn]=reactExports.useState(!1),[In,Ln]=reactExports.useState([]),[Wn,Fn]=reactExports.useState([]);reactExports.useEffect(()=>{const Qn=async()=>{await dirExists("/system")&&(Ln(JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8")).system_apps),Fn(JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8")).pinned_apps))};return Qn(),an===!0&&un(!1),window.addEventListener("updApps",Qn),()=>window.removeEventListener("updApps",Qn)},[]),reactExports.useEffect(()=>{const Qn=async()=>{const Xn=await window.tb.user.pfp(),rr=await window.tb.user.username();hn({pfp:Xn,username:rr})};return window.addEventListener("accUpd",Qn),window.addEventListener("tfsready",Qn),()=>{window.removeEventListener("accUpd",Qn),window.removeEventListener("tfsready",Qn)}},[]);const Pn=In.filter((Qn,Xn,rr)=>Xn===rr.findIndex(sr=>sr.title===Qn.title&&sr.icon===Qn.icon&&sr.src===Qn.src)&&(!Qn.user||Qn.user===dn.username)),Vn=sn.filter((Qn,Xn,rr)=>Xn===rr.findIndex(sr=>sr.src===Qn.src&&sr.title===Qn.title&&sr.icon===Qn.icon));var Zn=(Qn,Xn)=>{if(Xn){un(!1),vn(!1),Dn(!1),xn.current&&(xn.current.value="");const sr=Hn.current,Jn=Bn.current;if(sr!==null&&Jn!==null){const nr=sr.children,ar=Jn.children;for(let or=0;or<nr.length;or++){const dr=nr[or];dr.classList.remove("hidden"),dr.classList.remove("-translate-x-2"),dr.classList.remove("opacity-0")}for(let or=0;or<ar.length;or++){const dr=ar[or];dr.classList.remove("hidden"),dr.classList.remove("-translate-x-2"),dr.classList.remove("opacity-0")}}return}const rr=sr=>{if(sr.target!==mn.current&&sr.target!==jn.current&&!mn.current?.contains(sr.target)&&!gn.current?.contains(sr.target)){un(!1),vn(!1),Dn(!1),xn.current&&(xn.current.value="");const Jn=Hn.current,nr=Bn.current;if(Jn!==null&&nr!==null){const ar=Jn.children,or=nr.children;for(let dr=0;dr<ar.length;dr++){const xr=ar[dr];xr.classList.remove("hidden"),xr.classList.remove("-translate-x-2"),xr.classList.remove("opacity-0")}for(let dr=0;dr<or.length;dr++){const xr=or[dr];xr.classList.remove("hidden"),xr.classList.remove("-translate-x-2"),xr.classList.remove("opacity-0")}}window.removeEventListener("mousedown",rr)}};window.addEventListener("mousedown",rr),un(sr=>!sr),Yn(!0),Qn&&setTimeout(()=>{xn.current?.focus()},150),setTimeout(()=>{xn.current&&(xn.current.value=""),vn(!1),Dn(!1);const sr=Hn.current,Jn=Bn.current;if(sr!==null&&Jn!==null){const nr=sr.children,ar=Jn.children;for(let or=0;or<nr.length;or++){const dr=nr[or];dr.classList.remove("hidden"),dr.classList.remove("-translate-x-2"),dr.classList.remove("opacity-0")}for(let or=0;or<ar.length;or++){const dr=ar[or];dr.classList.remove("hidden"),dr.classList.remove("-translate-x-2"),dr.classList.remove("opacity-0")}}},200)},Yn=Qn=>{const Xn=()=>{rn.setOpen(!1)};if(Qn){Xn();return}const rr=sr=>{sr.target!==gn.current&&sr.target!==jn.current&&!gn.current?.contains(sr.target)&&!rn.searchMenuRef.current?.contains(sr.target)&&(Xn(),window.removeEventListener("mousedown",rr))};window.addEventListener("mousedown",rr),rn.setOpen(!rn.open),Zn(null,!0)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col relative justify-center items-center pb-1.5 z-9999999",children:[jsxRuntimeExports.jsx(SearchMenu,{className:`absolute ${rn.open?"bottom-15 duration-150":"opacity-0 pointer-events-none bottom-10 duration-200"}`}),jsxRuntimeExports.jsxs("div",{ref:mn,className:`
                absolute flex flex-col rounded-2xl
                bg-[#2020208c] shadow-tb-border-shadow backdrop-blur-sm overflow-hidden
                w-max min-w-110 h-max min-h-50 ease-in
                ${an?"bottom-15 duration-150":"opacity-0 pointer-events-none bottom-10 duration-200"}
                ${wn?"scale-110":""}
            `,style:{backgroundImage:"url(/assets/img/grain.png)"},children:[jsxRuntimeExports.jsxs("div",{className:`flex gap-2 items-center
                    p-2 pb-0 text-[#ffffffa4]
                    ${an?"":"translate-y-2 opacity-0"} duration-700
                `,children:[jsxRuntimeExports.jsx(ForwardRef$4,{className:"size-6 text-[#ffffff86] stroke-current stroke-[2px]"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center w-full",children:[jsxRuntimeExports.jsx("span",{ref:Sn,className:`absolute font-[680] text-lg pointer-events-none duration-150 ${wn?"opacity-0 -translate-x-8":An?"opacity-100":"opacity-75"}`,children:"Search"}),jsxRuntimeExports.jsx("input",{ref:xn,className:"bg-transparent focus-within:outline-hidden text-lg font-[680] cursor-[var(--cursor-text)] w-full",type:"text",onFocus:()=>{Cn(!0)},onBlur:()=>{Cn(!1)},onInput:Qn=>{Qn.currentTarget.value.length>0?vn(!0):vn(!1);const Xn=Qn.currentTarget.value.toLowerCase(),rr=Hn.current,sr=Bn.current;if(console.log(rr,sr),rr!==null){const Jn=rr.children;let nr=0;for(let ar=0;ar<Jn.length;ar++){const or=Jn[ar];or.textContent&&or.textContent.toLowerCase().includes(Xn)?(or.classList.remove("hidden"),setTimeout(()=>{or.classList.remove("opacity-0"),or.classList.remove("-translate-x-2")},150),nr++):(or.classList.add("-translate-x-2"),or.classList.add("opacity-0"),setTimeout(()=>{or.classList.add("hidden")},150))}if(sr!==null){const ar=sr.children;let or=0;for(let dr=0;dr<ar.length;dr++){const xr=ar[dr];xr.textContent&&xr.textContent.toLowerCase().includes(Xn)?(xr.classList.remove("hidden"),setTimeout(()=>{xr.classList.remove("opacity-0"),xr.classList.remove("-translate-x-2")},150),or++):(xr.classList.add("-translate-x-2"),xr.classList.add("opacity-0"),setTimeout(()=>{xr.classList.add("hidden")},150))}Dn(nr===0&&or===0)}else Dn(nr===0)}}})]})]}),jsxRuntimeExports.jsxs("div",{className:`relative flex min-h-26 overflow-y-auto max-h-49 w-full gap-2 p-2 pt-0
                    ${an?"":"translate-y-4 opacity-0"} duration-1000
                    ${zn?"justify-center":"justify-between"}
                `,children:[jsxRuntimeExports.jsx("div",{ref:Hn,className:`
                        grid ${Wn.length>0?"max-h-47 grid-cols-2":"w-full grid-cols-3"} gap-1 overflow-y-auto
                    `,children:Pn.map((Qn,Xn)=>jsxRuntimeExports.jsx(StartItem,{title:Qn.title,icon:Qn.icon,pid:void 0,src:Qn.src,size:Qn.size,proxy:Qn.proxy,snapable:Qn.snapable,onClick:()=>{Qn.onClick?.(new MouseEvent("click")),O.addWindow({src:Qn.src,size:Qn.size,icon:typeof Qn.icon=="string"?Qn.icon:void 0,title:Qn.title,proxy:Qn.proxy,snapable:Qn.snapable}),un(!1)}},Xn))}),Wn.length>0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Pinned Apps"}),jsxRuntimeExports.jsx("div",{ref:Bn,className:`
                                    flex flex-col bg-[#ffffff10] max-h-50 overflow-y-auto w-max rounded-2xl last:rounded-b-2xl
                                `,children:Wn.length>0?Wn.map((Qn,Xn)=>jsxRuntimeExports.jsx(StartItem,{className:"first:rounded-t-lg last:rounded-b-lg",inPins:!0,pid:void 0,title:Qn.title,icon:Qn.icon,src:Qn.src,size:Qn.size,proxy:Qn.proxy,snapable:Qn.snapable,onClick:rr=>{rr.button===0&&Qn.onClick?.(new MouseEvent("click")),O.addWindow({src:Qn.src,icon:typeof Qn.icon=="string"?Qn.icon:void 0,size:Qn.size,title:Qn.title,proxy:Qn.proxy,snapable:Qn.snapable}),un(!1)}},Xn)):null})]}):null,jsxRuntimeExports.jsxs("div",{ref:On,className:`absolute top-1/2 left-1/2 -translate-1/2 flex gap-1.5 duration-150 ${zn?"":"opacity-0 pointer-events-none -translate-x-3"}`,children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:jsxRuntimeExports.jsx("path",{d:"M12 2a10 10 0 1 0 0 20A10 10 0 0 0 12 2Zm1.5 14.25h-3v-1.5h3v1.5Zm0-3h-3V7.5h3v5.75Z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"No results found"})]})]}),jsxRuntimeExports.jsxs("div",{ref:Tn,className:"flex items-center gap-2 p-2 bg-[#00000048] rounded-b-lg last:rounded-b-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-1.5 pr-2 rounded-lg hover:bg-[#ffffff19] hover:scale-95 duration-150 cursor-pointer",onClick:()=>{window.tb.contextmenu.create({x:Tn.current?.getBoundingClientRect().x??0,y:Tn.current?Tn.current.getBoundingClientRect().y-75:0,options:[{text:"Manage Account",click:()=>{window.tb.window.create({title:"Settings",src:"/fs/apps/system/settings.tapp/index.html",icon:"/fs/apps/system/settings.tapp/icon.svg",single:!0,message:JSON.stringify({page:"privacy"})})}},{text:"Sign out",click:()=>{sessionStorage.setItem("logged-in","false"),window.location.reload()}}]})},children:[jsxRuntimeExports.jsx("img",{className:"size-8 rounded-full pointer-events-none",src:dn.pfp,alt:dn.username}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg pointer-events-none",children:dn.username})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#ffffff58]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium hover:text-[#ffffff98] cursor-pointer duration-150",onClick:()=>{window.tb.window.create({title:"Settings",src:"/fs/apps/system/settings.tapp/index.html",icon:"/fs/apps/system/settings.tapp/icon.svg"}),un(!1)},children:"Settings"}),jsxRuntimeExports.jsx("span",{className:"font-medium hover:text-[#ffffff98] cursor-pointer duration-150",onClick:()=>{window.tb.window.create({title:"About",src:"/fs/apps/system/about.tapp/index.html",icon:"/fs/apps/system/about.tapp/icon.svg"}),un(!1)},children:"About"}),jsxRuntimeExports.jsx("span",{className:"font-medium hover:text-[#ffffff98] cursor-pointer duration-150",onClick:()=>{sessionStorage.setItem("ldir",`/home/${dn.username}/Documents`),window.tb.window.create({title:"Files",icon:"/fs/apps/system/files.tapp/icon.svg",src:"/fs/apps/system/files.tapp/index.html",size:{width:600,height:500}}),un(!1)},children:"Documents"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 shadow-tb-border-shadow backdrop-blur-sm bg-[#2020208c] p-2 rounded-xl",children:[jsxRuntimeExports.jsx("svg",{ref:jn,viewBox:"0 0 24 24",fill:"currentColor",className:"cursor-pointer w-7 h-7",onClick:()=>Zn(!1),children:jsxRuntimeExports.jsx("path",{className:"pointer-events-none",fillRule:"evenodd",d:"M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z",clipRule:"evenodd"})}),jsxRuntimeExports.jsxs("div",{ref:gn,className:"flex items-center min-w-34 gap-1 p-2 bg-[#ffffff10] rounded-full cursor-text shadow-tb-border-shadow",onMouseDown:()=>Yn(),children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-[#ffffffb9] pointer-events-none stroke-2 stroke-current",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"})}),jsxRuntimeExports.jsx("span",{className:"leading-none text-[#ffffffa6] font-bold pointer-events-none select-none",children:"Search"})]})]}),jsxRuntimeExports.jsxs("div",{ref:Nn,className:`
                    shadow-tb-border-shadow backdrop-blur-sm bg-[#2020208c]
                    flex items-center
                    gap-2 py-1.5 px-2 rounded-xl
                    duration-150 ease-in
                        ${sn!=null?sn.length>0&&O.windows.length>0||sn.length>0||O.windows.length>0?"translate-x-0 opacity-100":"translate-y-3 opacity-0 pointer-events-none":null}
                `,style:{backgroundImage:"url(/assets/img/grain.png)"},children:[sn!=null&&sn.length>0?jsxRuntimeExports.jsx("div",{ref:Mn,className:"flex items-center",children:Vn.map((Qn,Xn)=>jsxRuntimeExports.jsx(PinnedDockItem,{src:Qn.src,title:Qn.title,icon:Qn.icon??"/assets/img/null.svg",size:Qn.size,proxy:Qn.proxy,snapable:Qn.snapable,onContextMenu:rr=>{rr.preventDefault()}},Xn))}):null,(sn?.length??0)>0&&O.windows.length>0?jsxRuntimeExports.jsx("span",{className:"flex bg-[#ffffff38] backdrop-blur-[20px] h-[20px] w-1 rounded-full"}):null,jsxRuntimeExports.jsx("div",{ref:Un,className:`
                        flex items-center gap-0.5
                        ${O.windows.length>0?"flex":"hidden"}
                    `,children:O.windows.filter((Qn,Xn,rr)=>Xn===rr.findIndex(sr=>(typeof sr.title=="string"?sr.title:sr.title?.text)===(typeof Qn.title=="string"?Qn.title:Qn.title?.text))).map((Qn,Xn)=>jsxRuntimeExports.jsx(DockItem,{src:Qn.src,title:typeof Qn.title=="string"?Qn.title:Qn.title.text,icon:Qn.icon??"/assets/img/null.svg",size:Qn.size,proxy:Qn.proxy,wid:Qn.wid,pid:Qn.pid},Xn))})]})]})]})},DockItem=({className:sn,icon:O,title:rn,src:an,onClick:un,onContextMenu:dn,size:hn,snapable:mn,pid:xn,wid:gn,proxy:wn})=>{const vn=useWindowStore(),An=reactExports.useRef(null),[Cn,Sn]=reactExports.useState(gn),[Nn,jn]=reactExports.useState(vn.windows.find(Bn=>Bn.wid===Cn)?.focused),Hn=Bn=>{(Mn=>{if(!An.current)return!1;const Un=An.current.getBoundingClientRect(),Tn=Math.abs(Mn.clientX-(Un.left+Un.width/2)),zn=Math.abs(Mn.clientY-(Un.top+Un.height/2));return Math.sqrt(Tn*Tn+zn*zn)>350})(Bn)&&(window.removeEventListener("mousemove",Hn),window.dispatchEvent(new CustomEvent("windows-prev",{detail:JSON.stringify({open:!1,location:null})})))};return reactExports.useEffect(()=>{const Bn=Mn=>{Sn(Mn.detail),jn(vn.windows.find(Un=>Un.wid===Mn.detail)?.focused)},On=Mn=>{Mn.detail!==rn?jn(!1):jn(!0)};return window.addEventListener("selwin-upd",On),window.addEventListener("currWID",Bn),()=>{window.removeEventListener("currWID",Bn),window.removeEventListener("mousemove",Hn)}},[Cn,Nn]),jsxRuntimeExports.jsx("dock-item",{ref:An,wid:gn,class:sn?sn+" cursor-pointer p-1 hover:bg-[#ffffff28] rounded-md duration-100 ease-in select-none":`cursor-pointer p-1 hover:bg-[#ffffff28] rounded-md duration-100 ease-in select-none
            ${Nn?"bg-[#ffffff28] shadow-tb-border-shadow":""}
            `,onMouseEnter:()=>{setTimeout(()=>{const Bn=An.current?.getBoundingClientRect(),On=Bn?Bn.x:0;window.addEventListener("mousemove",Hn),window.dispatchEvent(new CustomEvent("windows-prev",{detail:JSON.stringify({open:!0,windows:[vn.matchedWindows.find(Mn=>Mn.some(Un=>typeof Un.title=="string"?Un.title===rn:Un.title&&Un.title.text?Un.title.text===rn:!1))],location:On})}))},950)},onClick:()=>{un?.(new MouseEvent("click")),window.dispatchEvent(new CustomEvent("sel-win",{detail:Cn}))},onContextMenu:Bn=>{Bn.preventDefault(),dn?.(new MouseEvent("contextmenu"));const{clientX:On,clientY:Mn}=Bn;window.tb.contextmenu.create({x:On-10,y:Mn-150,options:[{text:"New Window",click:()=>{vn.addWindow({src:an,icon:typeof O=="string"?O:void 0,size:hn,title:rn,proxy:wn,snapable:mn})}},{text:"Pin to Dock",click:()=>{window.tb.desktop.dock.pin({title:typeof rn=="string"?rn:rn?.text,icon:typeof O=="string"?O:void 0,isPinnable:!0,src:an,proxy:wn,snapable:mn,size:{width:hn?.width??600,height:hn?.height??400}})}},{text:"Close",click:()=>{window.tb.process.kill(xn)}}]})},children:typeof O>"u"||O===null?jsxRuntimeExports.jsx("img",{src:"/assets/img/null.svg",alt:rn,className:"w-7 h-7 flex items-center justify-center pointer-events-none"}):typeof O=="string"?jsxRuntimeExports.jsx("img",{src:O,alt:rn,className:"w-7 h-7 flex items-center justify-center pointer-events-none"}):jsxRuntimeExports.jsx("div",{className:"w-7 h-7 flex items-center justify-center pointer-events-none",children:O})})},PinnedDockItem=({className:sn,icon:O,title:rn,src:an,onClick:un,onContextMenu:dn,size:hn,snapable:mn,proxy:xn})=>{const gn=useWindowStore();return jsxRuntimeExports.jsx("dock-item",{class:sn?sn+" cursor-pointer p-1 hover:bg-[#ffffff28] rounded-md duration-100 ease-in select-none":"cursor-pointer p-1 hover:bg-[#ffffff28] rounded-md duration-100 ease-in select-none",onContextMenu:()=>{},title:rn,onClick:()=>{un?.(new MouseEvent("click")),gn.addWindow({src:an,icon:typeof O=="string"?O:void 0,size:hn,title:rn,proxy:xn,snapable:mn})},onContextMenuCapture:wn=>{wn.preventDefault(),dn?.(new MouseEvent("contextmenu"));const{clientX:vn,clientY:An}=wn;window.tb.contextmenu.create({x:vn-10,y:An-100,options:[{text:"New Window",click:()=>{gn.addWindow({src:an,icon:typeof O=="string"?O:void 0,size:hn,title:rn,proxy:xn,snapable:mn})}},{text:"Unpin from Dock",click:()=>{window.tb.desktop.dock.unpin(rn)}}]})},children:typeof O>"u"||O===null?jsxRuntimeExports.jsx("img",{src:"/assets/img/null.svg",alt:rn,className:"w-7 h-7 flex items-center justify-center pointer-events-none"}):typeof O=="string"?jsxRuntimeExports.jsx("img",{src:O,alt:rn,className:"w-7 h-7 flex items-center justify-center pointer-events-none"}):jsxRuntimeExports.jsx("div",{className:"w-7 h-7 flex items-center justify-center pointer-events-none",children:O})})},StartItem=({icon:sn,title:O,onClick:rn,inPins:an,className:un,src:dn,proxy:hn,size:mn,snapable:xn})=>{const gn=typeof O=="string"?O.split(""):O?.text.split(""),[wn,vn]=reactExports.useState(!1),Cn=[{title:"Terminal"},{title:"Files"},{title:"Settings"},{title:{text:"App Store"}},{title:"Browser"},{title:"Calculator"},{title:"Feedback"},{title:"About"},{title:"Text Editor"},{title:"Task Manager"},{title:"Anura File Manager"}].map(Sn=>typeof Sn.title=="string"?Sn.title:Sn.title.text).includes(typeof O=="string"?O:O?.text);return reactExports.useEffect(()=>{(async Nn=>{if(typeof Nn>"u"||Nn===null)vn(!1);else if(typeof Nn=="string"){if(vn(!0),Nn.startsWith("/")){let jn,Hn,Bn;Nn.match(isURL)?Bn=Nn:(jn=window.location.origin,Hn=Nn.startsWith("/")?Nn:`/${Nn}`,Bn=`${jn}${Hn}`);try{(await(await fetch(Bn)).text()).startsWith("<!")?vn(!1):vn(!0)}catch{vn(!1)}}}else vn(!1)})(sn)},[sn]),an?jsxRuntimeExports.jsxs("div",{className:`${un||""} group p-2 pr-2.5 gap-4 flex justify-between items-center hover:bg-[#ffffff28] hover:shadow-tb-border duration-150 cursor-pointer w-full`,onClick:()=>rn?.(new MouseEvent("click")),onContextMenu:Sn=>{Sn.preventDefault();const{clientX:Nn,clientY:jn}=Sn;console.log(dn,dn?.replace("/fs","").replace(/\/[^/]+\.html$/,"/").replace(/\/\.\//,"/")),window.tb.contextmenu.create({x:Nn-10,y:jn-150,options:[{text:"Open",click:()=>{rn?.(new MouseEvent("click"))}},{text:"Pin to Dock",click:async()=>{window.tb.desktop.dock.pin({title:typeof O=="string"?O:O?.text,icon:typeof sn=="string"?sn:void 0,isPinnable:!0,src:dn,proxy:hn,snapable:xn,size:{width:mn?.width??600,height:mn?.height??400}})}},{text:"Unpin from Start",click:async()=>{const Hn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));Hn.pinned_apps=Hn.pinned_apps.filter(Bn=>!(Bn.title===O&&Bn.icon===sn)&&!(Bn.name===O&&Bn.icon===sn)),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(Hn,null,2)),window.dispatchEvent(new Event("updApps"))}},...Cn?[]:[{text:"Uninstall",click:async()=>{let Hn="";const Bn=typeof O=="string"?O:O&&typeof O=="object"&&"text"in O?O.text:"";dn?.startsWith("/fs/apps/user/")?dn.includes(".tapp")?Hn=`/apps/user/${await window.tb.user.username()}/${Bn.toLowerCase()}.tapp`:Hn=`/apps/user/${await window.tb.user.username()}/${Bn.toLowerCase()}`:dn?.startsWith("/fs/apps/system/")?Hn=`/apps/system/${Bn.toLowerCase()}.tapp`:dn?.includes("/apps/anura/")?Hn=`/apps/anura/${Bn.toLowerCase()}`:Hn=`/apps/user/${await window.tb.user.username()}/${Bn}`;let On=JSON.parse(await window.tb.fs.promises.readFile("/apps/installed.json","utf8"));On=On.filter(Mn=>Mn.title===O),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify(On)),await window.tb.sh.promises.rm(Hn,{recursive:!0}),await window.tb.launcher.removeApp(gn),window.dispatchEvent(new Event("updApps"))}}]]})},children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[wn===!0?jsxRuntimeExports.jsx("img",{src:sn,className:"w-7 h-7 flex items-center justify-center"}):jsxRuntimeExports.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:jsxRuntimeExports.jsx(ForwardRef$1,{className:"size-7"})}),jsxRuntimeExports.jsx("span",{className:"text-white font-[680]",children:gn.length>10?gn.slice(0,10).join("")+"...":gn.join("")})]}),jsxRuntimeExports.jsx(ForwardRef$6,{onClick:async()=>{const Sn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));Sn.pinned_apps=Sn.pinned_apps.filter(Nn=>!(Nn.title===O&&Nn.icon===sn)),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(Sn,null,2)),window.dispatchEvent(new Event("updApps"))},className:"size-7 bg-[#ffffff18] backdrop-blur-[20px] shadow-tb-border-shadow p-1.5 rounded-full text-white stroke-current stroke-[3px] opacity-0 group-hover:opacity-100 duration-150 ease-in"})]}):jsxRuntimeExports.jsxs("div",{className:`${un||""} group p-2 pr-2.5 gap-2 flex justify-between items-center hover:bg-[#ffffff28] hover:shadow-tb-border duration-150 cursor-pointer rounded-lg w-full`,onClick:Sn=>{Sn.button===0&&rn?.(new MouseEvent("click"))},onContextMenu:async Sn=>{Sn.preventDefault();const{clientX:Nn,clientY:jn}=Sn,Hn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8")),Bn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/dock.json","utf8")),On=Hn.pinned_apps.some(Un=>Un.title===O&&Un.icon===sn),Mn=Bn.some(Un=>Un.src===dn&&Un.icon===sn);window.tb.contextmenu.create({x:Nn-10,y:jn-150,options:[{text:"Open",click:()=>{rn?.(new MouseEvent("click"))}},Mn?{text:"Unpin from Dock",click:()=>{window.tb.desktop.dock.unpin(O)}}:{text:"Pin to Dock",click:async()=>{window.tb.desktop.dock.pin({title:typeof O=="string"?O:O?.text,icon:typeof sn=="string"?sn:void 0,isPinnable:!0,src:dn,proxy:hn,snapable:xn,size:{width:mn?.width??600,height:mn?.height??400}})}},On?{text:"Unpin from Start",click:async()=>{const Un=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));Un.pinned_apps=Un.pinned_apps.filter(Tn=>!(Tn.title===O&&Tn.icon===sn)),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(Un,null,2)),window.dispatchEvent(new Event("updApps"))}}:{text:"Pin to Start",click:async()=>{const Un=dn?.replace("/fs","").replace(/\/[^/]+\.html$/,"/").replace(/\/\.\//,"/"),Tn=JSON.parse(await window.tb.fs.promises.readFile(Un+"index.json","utf8"));Hn.pinned_apps.some(zn=>zn.title===Tn.config.title&&zn.icon===Tn.config.icon)||(Hn.pinned_apps.push({name:typeof Tn.config.title=="string"?Tn.config.title:Tn.config.title.text,...Tn.config}),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(Hn,null,2)),window.dispatchEvent(new Event("updApps")))}},...Cn?[]:[{text:"Uninstall",click:async()=>{let Un="";const Tn=typeof O=="string"?O:O&&typeof O=="object"&&"text"in O?O.text:"";dn?.startsWith("/fs/apps/user/")?dn.includes(".tapp")?Un=`/apps/user/${await window.tb.user.username()}/${Tn.toLowerCase()}.tapp`:Un=`/apps/user/${await window.tb.user.username()}/${Tn.toLowerCase()}`:dn?.startsWith("/fs/apps/system/")?Un=`/apps/system/${Tn.toLowerCase()}.tapp`:dn?.includes("/apps/anura/")?Un=`/apps/anura/${Tn.toLowerCase()}`:Un=`/apps/user/${await window.tb.user.username()}/${Tn}`;let zn=JSON.parse(await window.tb.fs.promises.readFile("/apps/installed.json","utf8"));zn=zn.filter(Dn=>Dn.title===O),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify(zn)),await window.tb.sh.promises.rm(Un,{recursive:!0}),await window.tb.launcher.removeApp(gn),window.dispatchEvent(new Event("updApps"))}}]]})},children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[wn===!0?jsxRuntimeExports.jsx("img",{src:sn,className:"w-7 h-7 flex items-center justify-center"}):jsxRuntimeExports.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:jsxRuntimeExports.jsx(ForwardRef$1,{className:"size-7"})}),jsxRuntimeExports.jsx("span",{className:"text-white font-[680]",children:gn.length>10?gn.slice(0,10).join("")+"...":gn.join("")})]}),jsxRuntimeExports.jsx(ForwardRef$6,{onClick:async()=>{const Sn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8"));Sn.pinned_apps.push({title:O,icon:sn,src:dn}),await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(Sn,null,2)),window.dispatchEvent(new Event("updApps"))},className:"size-7 bg-[#ffffff18] backdrop-blur-[20px] shadow-tb-border-shadow p-1.5 rounded-full text-white stroke-current stroke-[3px] opacity-0 group-hover:opacity-100 duration-150 ease-in"})]})};function Battery(){const[sn,O]=reactExports.useState("100%"),[rn,an]=reactExports.useState(!1),[un,dn]=reactExports.useState(!0),[hn,mn]=reactExports.useState(!1),[xn,gn]=reactExports.useState(0),wn=reactExports.useRef(null);reactExports.useEffect(()=>{const An=Cn=>{typeof Cn.detail=="boolean"&&mn(Cn.detail)};return window.addEventListener("controlBatteryPercentVisibility",An),()=>{window.removeEventListener("controlBatteryPercentVisibility",An)}},[]),reactExports.useEffect(()=>{const An=async()=>{if("getBattery"in navigator)try{const Sn=await navigator.getBattery(),Nn=()=>{Sn.charging?(O(`${Math.floor(Sn.level*100)}%`),gn(Math.floor(Sn.level*100)),an(!0)):(O(`${Math.floor(Sn.level*100)}%`),gn(Math.floor(Sn.level*100)),an(!1))};Sn.onchargingchange=Nn,Sn.onlevelchange=Nn,Nn()}catch(Sn){console.error(`Error fetching battery: ${Sn}`),O("none")}else O("none"),dn(!1)};setInterval(An),An(),(async()=>{const Sn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));mn(Sn["battery-percent"])})()},[]);function vn(){return un&&jsxRuntimeExports.jsxs("div",{className:`
            relative
            battery tooltip_item flex gap-[6px] items-center
            ${hn===!0?"w-[67px] h-[28px]":"w-[28px] h-[28px]"}
            duration-150
          `,children:[jsxRuntimeExports.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 168 168",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`
              absolute right-0
            `,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7333 43C24.4997 43 19.4805 45.1335 15.7798 48.9311C12.079 52.7287 10 57.8794 10 63.25V103.75C10 109.121 12.079 114.271 15.7798 118.069C19.4805 121.867 24.4997 124 29.7333 124H128.4C133.634 124 138.653 121.867 142.354 118.069C146.054 114.271 148.133 109.121 148.133 103.75V103.5C153.764 102.326 158 97.2227 158 91.0938V75.9062C158 69.784 153.764 64.6743 148.133 63.5065V63.25C148.133 57.8794 146.054 52.7287 142.354 48.9311C138.653 45.1335 133.634 43 128.4 43H29.7333ZM128.4 53.125C131.017 53.125 133.526 54.1917 135.377 56.0905C137.227 57.9893 138.267 60.5647 138.267 63.25V103.75C138.267 106.435 137.227 109.011 135.377 110.909C133.526 112.808 131.017 113.875 128.4 113.875H29.7333C27.1165 113.875 24.6069 112.808 22.7565 110.909C20.9062 109.011 19.8667 106.435 19.8667 103.75V63.25C19.8667 60.5647 20.9062 57.9893 22.7565 56.0905C24.6069 54.1917 27.1165 53.125 29.7333 53.125H128.4Z",fill:"white"}),jsxRuntimeExports.jsx("rect",{x:"29",y:"63",width:sn!=="none"?xn:0,height:"41",rx:"4",fill:`${xn<15?"#ff4545":xn<=30&&xn>15?"#fee685":"#ffffff"}`}),jsxRuntimeExports.jsx("g",{filter:"url(#filter0_d_355_134)",children:jsxRuntimeExports.jsx("path",{className:`charge_icon transition duration-150 ${rn===!0?"opacity-100 block -ml-[4px]":"opacity-0 hidden"} ${rn===!0?"w-6 h-[auto]":"w-[0px] h-[auto]"}`,fillRule:"evenodd",clipRule:"evenodd",d:"M91.4298 31.4743C92.1538 31.8817 92.7219 32.5226 93.0436 33.2947C93.3654 34.0668 93.4221 34.9256 93.2049 35.7341L83.3555 72.2479H119.292C120.015 72.2479 120.721 72.4615 121.326 72.8624C121.93 73.2632 122.405 73.8339 122.693 74.5042C122.981 75.1745 123.069 75.9153 122.946 76.6354C122.823 77.3555 122.495 78.0237 122.001 78.5577L70.0845 134.806C69.519 135.42 68.7663 135.824 67.9466 135.955C67.127 136.085 66.2878 135.933 65.5634 135.524C64.8389 135.116 64.2709 134.473 63.9504 133.699C63.6298 132.925 63.5752 132.065 63.7951 131.256L73.6445 94.7471H37.7081C36.9854 94.7471 36.2785 94.5335 35.6742 94.1327C35.07 93.7318 34.5947 93.1612 34.3069 92.4908C34.019 91.8205 33.9311 91.0798 34.054 90.3596C34.1769 89.6395 34.5052 88.9714 34.9985 88.4373L86.9155 32.1893C87.481 31.5775 88.2327 31.1747 89.0508 31.0452C89.8689 30.9156 90.7064 31.0667 91.4298 31.4743Z",fill:"#FFE600"})}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("filter",{id:"filter0_d_355_134",x:"23",y:"20",width:"111",height:"127",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"5.5"}),jsxRuntimeExports.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_355_134"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_355_134",result:"shape"})]}),jsxRuntimeExports.jsxs("filter",{id:"filter1_d_355_134",x:"40",y:"46",width:"78",height:"72",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"5.5"}),jsxRuntimeExports.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_355_134"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_355_134",result:"shape"})]})]})]}),jsxRuntimeExports.jsx("div",{ref:wn,className:`
              battery_percent text-sm font-bold
              absolute left-0
              ${xn<15?"text-red-500":xn<=30&&xn>15?"text-amber-200":"text-[#ffffffc9]"}
              ${hn===!0?"":"opacity-0 translate-x-2"}
              duration-150
            `,children:sn!="none"?sn:"N/A"})]})}return vn()}function ping(sn){return new Promise(O=>{const rn=new WebSocket(sn),an=Date.now(),un=()=>{const mn=Date.now()-an;rn.close(),O({status:"OK",latency:mn})},dn=()=>{const mn=Date.now()-an;rn.close(),O({status:"OK",latency:mn})},hn=()=>{rn.close(),O({status:"Fail",latency:"N/A"})};rn.addEventListener("open",un),rn.addEventListener("message",dn),rn.addEventListener("error",hn),setTimeout(()=>{rn.close(),O({status:"Fail",latency:"N/A"})},5e3)})}const WifiIcon=({connection:sn})=>{const O=reactExports.useRef(null),rn=()=>window.dispatchEvent(new Event("open-net"));return jsxRuntimeExports.jsx("svg",{ref:O,viewBox:"0 0 33 24",fill:"none",className:"w-6 h-6 tooltip_item cursor-pointer duration-150 dlcomponent",onMouseUp:()=>{O.current?.classList.remove("scale-90"),rn()},onMouseLeave:()=>{O.current?.classList.remove("scale-90")},onMouseOver:()=>{O.current?.classList.add("scale-90")},onClick:()=>{O.current?.classList.add("scale-90")},children:sn===!0?jsxRuntimeExports.jsx("path",{className:"pointer-events-none",fillRule:"evenodd",clipRule:"evenodd",d:"M0.332717 6.69389C9.25943 -2.2313 23.7329 -2.2313 32.6581 6.69389C32.7643 6.80002 32.8486 6.92605 32.9061 7.06476C32.9635 7.20347 32.9931 7.35214 32.9931 7.50229C32.9931 7.65244 32.9635 7.80112 32.9061 7.93982C32.8486 8.07853 32.7643 8.20456 32.6581 8.31069L31.8505 9.11833C31.6362 9.33236 31.3457 9.45257 31.0429 9.45257C30.74 9.45257 30.4495 9.33236 30.2352 9.11833C22.6464 1.53109 10.3444 1.53109 2.75716 9.11833C2.54287 9.33236 2.25239 9.45257 1.94952 9.45257C1.64666 9.45257 1.35617 9.33236 1.14188 9.11833L0.334241 8.31069C0.120216 8.0964 0 7.80592 0 7.50305C0 7.20019 0.120216 6.9097 0.334241 6.69541L0.332717 6.69389ZM5.18161 11.5428C11.4294 5.295 21.5615 5.295 27.8108 11.5428C27.917 11.6489 28.0012 11.7749 28.0587 11.9136C28.1162 12.0524 28.1458 12.201 28.1458 12.3512C28.1458 12.5013 28.1162 12.65 28.0587 12.7887C28.0012 12.9274 27.917 13.0534 27.8108 13.1596L27.0031 13.9672C26.897 14.0737 26.7708 14.1581 26.632 14.2157C26.4931 14.2733 26.3443 14.303 26.194 14.303C26.0436 14.303 25.8948 14.2733 25.7559 14.2157C25.6171 14.1581 25.491 14.0737 25.3848 13.9672C23.0272 11.6097 19.8296 10.2852 16.4954 10.2852C13.1613 10.2852 9.9637 11.6097 7.60605 13.9672C7.39176 14.1812 7.10128 14.3015 6.79841 14.3015C6.49554 14.3015 6.20506 14.1812 5.99077 13.9672L5.18313 13.1596C4.9691 12.9453 4.84889 12.6548 4.84889 12.3519C4.84889 12.0491 4.9691 11.7586 5.18313 11.5443L5.18161 11.5428ZM10.064 16.3917C10.9131 15.5425 11.921 14.8689 13.0304 14.4093C14.1398 13.9497 15.3289 13.7132 16.5297 13.7132C17.7305 13.7132 18.9196 13.9497 20.029 14.4093C21.1384 14.8689 22.1464 15.5425 22.9954 16.3917C23.1016 16.4978 23.1859 16.6238 23.2433 16.7625C23.3008 16.9012 23.3304 17.0499 23.3304 17.2001C23.3304 17.3502 23.3008 17.4989 23.2433 17.6376C23.1859 17.7763 23.1016 17.9023 22.9954 18.0085L22.1878 18.8161C22.0816 18.9223 21.9556 19.0066 21.8169 19.064C21.6782 19.1215 21.5295 19.1511 21.3794 19.1511C21.2292 19.1511 21.0805 19.1215 20.9418 19.064C20.8031 19.0066 20.6771 18.9223 20.571 18.8161C20.0403 18.2853 19.4103 17.8643 18.7169 17.577C18.0235 17.2897 17.2803 17.1419 16.5297 17.1419C15.7792 17.1419 15.0359 17.2897 14.3425 17.577C13.6491 17.8643 13.0191 18.2853 12.4885 18.8161C12.2742 19.0301 11.9837 19.1504 11.6808 19.1504C11.378 19.1504 11.0875 19.0301 10.8732 18.8161L10.0655 18.0085C9.85152 17.7942 9.7313 17.5037 9.7313 17.2008C9.7313 16.898 9.85152 16.6075 10.0655 16.3932L10.064 16.3917ZM14.9129 21.2406C15.1252 21.0281 15.3772 20.8596 15.6546 20.7447C15.9321 20.6297 16.2294 20.5705 16.5297 20.5705C16.83 20.5705 17.1274 20.6297 17.4048 20.7447C17.6822 20.8596 17.9342 21.0281 18.1465 21.2406C18.2527 21.3467 18.337 21.4727 18.3944 21.6114C18.4519 21.7501 18.4815 21.8988 18.4815 22.049C18.4815 22.1991 18.4519 22.3478 18.3944 22.4865C18.337 22.6252 18.2527 22.7512 18.1465 22.8574L17.3389 23.665C17.2327 23.7712 17.1067 23.8555 16.968 23.9129C16.8293 23.9704 16.6806 24 16.5305 24C16.3803 24 16.2316 23.9704 16.0929 23.9129C15.9542 23.8555 15.8282 23.7712 15.7221 23.665L14.9144 22.8574C14.7004 22.6431 14.5802 22.3526 14.5802 22.0497C14.5802 21.7469 14.7004 21.4564 14.9144 21.2421L14.9129 21.2406Z",fill:"white"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{className:"pointer-events-none",fillRule:"evenodd",clipRule:"evenodd",d:"M32.6581 6.69389C23.7329 -2.2313 9.25943 -2.2313 0.332717 6.69389L0.334241 6.69541C0.120216 6.9097 0 7.20019 0 7.50305C0 7.80592 0.120216 8.0964 0.334241 8.31069L1.14188 9.11833C1.35617 9.33236 1.64666 9.45257 1.94952 9.45257C2.25239 9.45257 2.54287 9.33236 2.75716 9.11833C10.3444 1.53109 22.6464 1.53109 30.2352 9.11833C30.4495 9.33236 30.74 9.45257 31.0429 9.45257C31.3457 9.45257 31.6362 9.33236 31.8505 9.11833L32.6581 8.31069C32.7643 8.20456 32.8486 8.07853 32.9061 7.93982C32.9635 7.80112 32.9931 7.65244 32.9931 7.50229C32.9931 7.35214 32.9635 7.20347 32.9061 7.06476C32.8486 6.92605 32.7643 6.80003 32.6581 6.69389ZM24.5232 9.01114C18.3999 5.45691 10.4236 6.30079 5.18161 11.5428L5.18313 11.5443C4.9691 11.7586 4.84889 12.0491 4.84889 12.3519C4.84889 12.6548 4.9691 12.9453 5.18313 13.1596L5.99077 13.9672C6.20506 14.1812 6.49554 14.3015 6.79841 14.3015C7.10128 14.3015 7.39176 14.1812 7.60605 13.9672C9.9637 11.6097 13.1613 10.2852 16.4954 10.2852C17.5155 10.2852 18.5228 10.4092 19.4972 10.6488C20.9516 9.68859 22.6715 9.09807 24.5232 9.01114ZM15.1995 20.9975C15.4157 22.0636 15.8014 23.0682 16.3273 23.9818C16.2472 23.9673 16.1686 23.9443 16.0929 23.9129C15.9542 23.8555 15.8282 23.7712 15.7221 23.665L14.9144 22.8574C14.7004 22.6431 14.5802 22.3526 14.5802 22.0497C14.5802 21.7469 14.7004 21.4564 14.9144 21.2421L14.9129 21.2406C15.0018 21.1516 15.0977 21.0703 15.1995 20.9975ZM16.5102 13.7132C15.8366 14.7927 15.3631 16.0099 15.1417 17.313C14.8698 17.3811 14.6027 17.4692 14.3425 17.577C13.6491 17.8643 13.0191 18.2853 12.4885 18.8161C12.2742 19.0301 11.9837 19.1504 11.6808 19.1504C11.378 19.1504 11.0875 19.0301 10.8732 18.8161L10.0655 18.0085C9.85152 17.7942 9.7313 17.5037 9.7313 17.2008C9.7313 16.898 9.85152 16.6075 10.0655 16.3932L10.064 16.3917C10.9131 15.5425 11.921 14.8689 13.0304 14.4093C14.1338 13.9522 15.316 13.7157 16.5102 13.7132Z",fill:"white"}),jsxRuntimeExports.jsx("path",{className:"pointer-events-none",fillRule:"evenodd",clipRule:"evenodd",d:"M21.2099 14.4482L29.5525 22.7908C30.4999 21.6554 30.9883 20.2067 30.9217 18.7295C30.8552 17.2523 30.2385 15.8534 29.1929 14.8078C28.1473 13.7622 26.7484 13.1456 25.2712 13.079C23.794 13.0125 22.3453 13.5009 21.2099 14.4482ZM28.7915 23.5518L20.4489 15.2092C19.5016 16.3446 19.0132 17.7933 19.0797 19.2705C19.1463 20.7477 19.763 22.1466 20.8086 23.1922C21.8542 24.2378 23.253 24.8544 24.7302 24.921C26.2074 24.9875 27.6561 24.4991 28.7915 23.5518ZM20.0505 14.0505C22.7837 11.3165 27.2156 11.3165 29.9495 14.0505C32.6835 16.7837 32.6835 21.2156 29.9495 23.9495C27.2163 26.6835 22.7844 26.6835 20.0505 23.9495C17.3165 21.2163 17.3165 16.7844 20.0505 14.0505Z",fill:"white",stroke:"white"})]})})};function Wifi(){const[sn,O]=reactExports.useState(!1);return reactExports.useEffect(()=>{const rn=async()=>{"onLine"in navigator&&O(navigator.onLine)},an=setInterval(rn,1e3);return rn(),()=>clearInterval(an)},[]),jsxRuntimeExports.jsx(WifiIcon,{connection:sn})}function WispMenu({isOpen:sn}){const[O,rn]=reactExports.useState([]),[an,un]=reactExports.useState(!0),dn=reactExports.useRef(null),[hn,mn]=reactExports.useState(!1),[xn,gn]=reactExports.useState(!1);return reactExports.useEffect(()=>{const wn=async()=>{if(!await fileExists("//apps/system/settings.tapp/wisp-servers.json")){await window.tb.fs.promises.mkdir("//apps/system/settings.tapp/",{recursive:!0});const Nn=[{id:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`,name:"Backend"},{id:"wss://wisp.terbiumon.top/wisp/",name:"TB Wisp Instance"}];await window.tb.fs.promises.writeFile("//apps/system/settings.tapp/wisp-servers.json",JSON.stringify(Nn))}const An=JSON.parse(await window.tb.fs.promises.readFile("//apps/system/settings.tapp/wisp-servers.json")),Cn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`)),Sn=await Promise.all(An.map(async Nn=>{const jn=await ping(Nn.id);return{...Nn,latency:jn.latency==="N/A"?jn.latency:`${jn.latency}ms`,connected:Nn.id===Cn.wispServer,isOnline:jn.latency!=="N/A"}}));rn(Sn),un(!1)};return xn&&wn(),window.addEventListener("update-wispsrvs",wn),()=>window.removeEventListener("update-wispsrvs",wn)},[xn,sn]),reactExports.useEffect(()=>{gn(!0)}),reactExports.useEffect(()=>{const wn=vn=>{const An=Cn=>{if(!dn.current)return!1;const Sn=dn.current.getBoundingClientRect(),Nn=Cn.clientX>=Sn.left-5&&Cn.clientX<=Sn.right+5,jn=Cn.clientY>=Sn.top-5&&Cn.clientY<=Sn.bottom+5;return Nn&&jn};vn.button===0&&!dn.current?.contains(vn.target)&&!An(vn)&&setTimeout(()=>{hn||(window.dispatchEvent(new Event("open-net")),mn(!1),document.removeEventListener("mousedown",wn))},150)};return sn?document.addEventListener("mousedown",wn):document.removeEventListener("mousedown",wn),()=>document.removeEventListener("mousedown",wn)},[sn,hn]),jsxRuntimeExports.jsx("div",{className:`
            absolute z-100 top-[60px] right-1.5
            flex flex-col p-2 gap-2
            rounded-xl bg-[#2020208c] backdrop-blur-[8px] shadow-tb-border-shadow
            ${sn?"duration-150":"opacity-0 pointer-events-none -translate-y-6 duration-200"}
        `,id:"wisp-selector",ref:dn,children:jsxRuntimeExports.jsxs("div",{className:`
                flex flex-col duration-700 gap-2
                ${sn?"":"opacity-0 -translate-y-2"}
            `,children:[jsxRuntimeExports.jsx("div",{className:`
                    flex flex-col gap-1 ${O.length===0?"justify-center items-center":""}
                `,children:an?jsxRuntimeExports.jsx("p",{children:"Loading..."}):O.length===0?jsxRuntimeExports.jsx("span",{className:"font-medium text-lg text-[#ffffffc8]",children:"No servers found"}):O.map(wn=>jsxRuntimeExports.jsx("div",{children:wn.isOnline?jsxRuntimeExports.jsxs("div",{className:`
                                                flex gap-6 items-center justify-between
                                                p-2 rounded-lg
                                                ${wn.connected?"bg-[#4acd609c] text-[#ffffffd1]":"bg-[#ffffff18] cursor-pointer hover:bg-[#ffffff38]"}
                                                duration-150
                                            `,onClick:async()=>{let vn=await window.tb.fs.promises.readFile(`/home/${await window.tb.user.username()}/settings.json`,"utf8"),An=JSON.parse(vn);An.wispServer=wn.id,window.tb.proxy.updateSWs();const Cn=JSON.stringify(An,null,2);await window.tb.fs.promises.writeFile(`/home/${await window.tb.user.username()}/settings.json`,Cn),rn(Sn=>Sn.map(Nn=>({...Nn,connected:Nn.name===Nn.id}))),window.dispatchEvent(new Event("update-wispsrvs")),gn(!0)},children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center pointer-events-none",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`
                                                        size-8
                                                    `,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M1.371 8.143c5.858-5.857 15.356-5.857 21.213 0a.75.75 0 0 1 0 1.061l-.53.53a.75.75 0 0 1-1.06 0c-4.98-4.979-13.053-4.979-18.032 0a.75.75 0 0 1-1.06 0l-.53-.53a.75.75 0 0 1 0-1.06Zm3.182 3.182c4.1-4.1 10.749-4.1 14.85 0a.75.75 0 0 1 0 1.061l-.53.53a.75.75 0 0 1-1.062 0 8.25 8.25 0 0 0-11.667 0 .75.75 0 0 1-1.06 0l-.53-.53a.75.75 0 0 1 0-1.06Zm3.204 3.182a6 6 0 0 1 8.486 0 .75.75 0 0 1 0 1.061l-.53.53a.75.75 0 0 1-1.061 0 3.75 3.75 0 0 0-5.304 0 .75.75 0 0 1-1.06 0l-.53-.53a.75.75 0 0 1 0-1.06Zm3.182 3.182a1.5 1.5 0 0 1 2.122 0 .75.75 0 0 1 0 1.061l-.53.53a.75.75 0 0 1-1.061 0l-.53-.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold leading-tight",children:wn.name}),jsxRuntimeExports.jsx("p",{className:"font-medium text-xs leading-tight",children:wn.id})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm p-2 bg-[#ffffff38] rounded-lg leading-none text-[#ffffffce] font-extrabold pointer-events-none",children:wn.latency})]},wn.id):null},wn.id))},O.length.toString()),jsxRuntimeExports.jsx("div",{className:"flex gap-2 w-full justify-center items-center",children:jsxRuntimeExports.jsx("button",{className:"p-3 px-4 rounded-md bg-[#ffffff18] shadow-tb-border-shadow leading-none font-medium hover:bg-[#ffffff28] duration-150 cursor-pointer",onClick:()=>{mn(!0),window.tb.dialog.Message({title:"Enter a name for the Wisp server",onOk:async wn=>{sessionStorage.setItem("wispSrv",wn),window.tb.dialog.Message({title:"Enter the socket URL for the Wisp server",onOk:async vn=>{const An={id:vn,name:wn};let Cn=JSON.parse(await window.tb.fs.promises.readFile("//apps/system/settings.tapp/wisp-servers.json"));Cn.push(An),await window.tb.fs.promises.writeFile("//apps/system/settings.tapp/wisp-servers.json",JSON.stringify(Cn)),window.dispatchEvent(new Event("update-wispsrvs")),mn(!1),un(!0)}})}})},children:"Add Network"})})]})})}let format="12h",showSeconds;const getTime=()=>{window.tb.fs.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,(hn,mn)=>{if(hn)return console.error(hn);const xn=JSON.parse(mn);format=xn.times.format,xn.times.internet,xn.times.showSeconds===!0?showSeconds=!0:showSeconds=!1});const sn=new Date;let O,rn,an,un="";format==="24h"?O=sn.getHours():format==="12h"&&(O=sn.getHours(),O=O%12,O=O||12);let dn;return sn.getHours()>=12?dn="PM":dn="AM",rn=sn.getMinutes(),an=sn.getSeconds(),O=O<10?"0"+O:O,rn=rn<10?"0"+rn:rn,an=an<10?"0"+an:an,format==="24h"?showSeconds===!0?un=`${O}:${rn}:${an}`:un=`${O}:${rn}`:format==="12h"&&(showSeconds===!0?un=`${O}:${rn}:${an} ${dn}`:un=`${O}:${rn} ${dn}`),un};function Weather(){const[sn,O]=reactExports.useState(null),[rn,an]=reactExports.useState(!0),[un,dn]=reactExports.useState(null);return reactExports.useEffect(()=>{const hn=async()=>{try{const mn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json")),gn=mn.location||"40.7590322,-74.0516312",vn=await(await fetch(`https://api.weather.gov/points/${gn}`,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0 Safari/537.36 Terbium-Browser/2.1.0"}})).json(),Sn=(await(await fetch(vn.properties.forecast,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0 Safari/537.36 Terbium-Browser/2.1.0"}})).json()).properties.periods[0];let Nn=Sn.temperature,jn="F";if(mn.weather){const{unit:Bn}=mn.weather;({temp:Nn,unit:jn}=FormatTemp(Nn,Bn))}const Hn=getIcon(Sn.shortForecast);O({temp:Nn,unit:jn,icn:Hn}),an(!0)}catch(mn){dn(mn)}};return hn(),window.addEventListener("updWeather",hn),()=>window.removeEventListener("updWeather",hn)},[]),rn&&!un?jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center gap-1.5",children:[jsxRuntimeExports.jsx("img",{src:sn?.icn,className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{className:"weather_temp",children:[sn?.temp,sn?.unit]})]}):null}function FormatTemp(sn,O){switch(O){case"Celsius":return{temp:Math.round((sn-32)*5/9),unit:"C"};case"Kelvin":return{temp:Math.round((sn-32)*5/9+273.15),unit:" K"};default:return{temp:sn,unit:"F"}}}function getIcon(sn){const O=getTime(),[rn,an]=O.split(" "),[un]=rn.split(":").map(Number),dn=an==="PM"&&un!==12?un+12:an==="AM"&&un===12?0:un;let hn="/assets/img/day.svg";return sn==="Sunny"||sn==="Clear"||sn==="Mostly Clear"?hn=dn>=18?"/assets/img/night.svg":"/assets/img/day.svg":sn.includes("Partly")?hn=dn>=18?"/assets/img/cloudy_night.svg":"/assets/img/cloudy_day.svg":sn.includes("Cloudy")?hn="/assets/img/cloudy.svg":sn.includes("Rain")?hn="/assets/img/rainy.svg":(sn.includes("Snow")||sn.includes("Hail"))&&(hn="/assets/img/snowy.svg"),hn}const FPSCounter=()=>{const[sn,O]=reactExports.useState(0),[rn,an]=reactExports.useState(!1),un=reactExports.useRef(0),dn=reactExports.useRef(performance.now()),hn=reactExports.useRef(null);return reactExports.useEffect(()=>{(async()=>{try{const gn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`,"utf8"));an(gn.showFPS??!1)}catch(gn){console.error("Failed to load FPS counter setting:",gn)}})();const xn=gn=>{gn.detail?.showFPS!==void 0&&an(gn.detail.showFPS)};return window.addEventListener("settings-changed",xn),()=>window.removeEventListener("settings-changed",xn)},[]),reactExports.useEffect(()=>{if(!rn){hn.current&&cancelAnimationFrame(hn.current);return}const mn=()=>{un.current++;const xn=performance.now(),gn=xn-dn.current;if(gn>=1e3){const wn=Math.round(un.current*1e3/gn);O(wn),un.current=0,dn.current=xn}hn.current=requestAnimationFrame(mn)};return hn.current=requestAnimationFrame(mn),()=>{hn.current&&cancelAnimationFrame(hn.current)}},[rn]),rn?jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"font-bold cursor-default",children:[sn," FPS"]}),jsxRuntimeExports.jsx("span",{className:"w-1 h-4.5 bg-[#ffffff28] rounded-full"})]}):null};let totalNotifs;function NotificationCenter(){const[sn,O]=reactExports.useState(()=>{const un=JSON.parse(sessionStorage.getItem("notifications")||"[]").length;return un?parseInt(un):0}),rn=reactExports.useRef(null),an=()=>{rn.current&&(rn.current.src=`/assets/img/notif_${sn<=9?sn:"plus"}.svg`)};return reactExports.useEffect(()=>{const un=dn=>{O(dn.detail.count)};return window.addEventListener("notification-count",un),an(),()=>{window.removeEventListener("notification-count",un)}},[sn]),reactExports.useEffect(()=>{totalNotifs=sn}),jsxRuntimeExports.jsx("img",{alt:"notifimg",ref:rn,src:`/assets/img/notif_${sn>9?"plus":Math.max(0,Math.min(sn,9))}.svg`,className:"tooltip_item w-6 h-6 cursor-pointer duration-150 select-none",onMouseUp:()=>{rn.current?.classList.remove("scale-90"),window.dispatchEvent(new Event("open-notif"))},onMouseLeave:()=>{rn.current?.classList.remove("scale-90")},onMouseOver:()=>{rn.current?.classList.add("scale-90")},onMouseDown:()=>{rn.current?.classList.add("scale-90")}})}const NotificationMenu=({isOpen:sn})=>{const[O,rn]=reactExports.useState(()=>{const hn=sessionStorage.getItem("notifications");return hn?JSON.parse(hn):[]}),an=()=>{const hn=JSON.parse(sessionStorage.getItem("notifications")||"[]");rn(hn)};window.addEventListener("notification-update",an),reactExports.useEffect(()=>{const hn=mn=>{const xn=gn=>{if(!un.current)return!1;const wn=un.current.getBoundingClientRect(),vn=gn.clientX>=wn.left-5&&gn.clientX<=wn.right+5,An=gn.clientY>=wn.top-5&&gn.clientY<=wn.bottom+5;return vn&&An};mn.button===0&&!un.current?.contains(mn.target)&&!xn(mn)&&setTimeout(()=>{window.dispatchEvent(new Event("open-notif"))},150)};return sn?document.addEventListener("mousedown",hn):document.removeEventListener("mousedown",hn),()=>document.removeEventListener("mousedown",hn)},[sn]);const un=reactExports.useRef(null),dn=hn=>{const mn=O.filter((xn,gn)=>gn!==hn);rn(mn),totalNotifs>0&&window.dispatchEvent(new CustomEvent("notification-count",{detail:{count:totalNotifs-=1}})),sessionStorage.setItem("notifications",JSON.stringify(mn))};return jsxRuntimeExports.jsxs("div",{ref:un,className:`
            absolute top-15 right-1.5
            flex flex-col
            w-100 h-max max-h-[calc(100%-calc(60px+1.5rem))] rounded-xl p-2.5 gap-2.5
            bg-[#2020208c] shadow-tb-border-shadow backdrop-blur-[100px] text-white z-999 overflow-y-auto
            ${sn?"duration-200":"opacity-0 pointer-events-none -translate-y-6 duration-300"}
        `,children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[#ffffffe6]",children:"Notifications"}),O.length>0?jsxRuntimeExports.jsx("div",{className:`
                    flex flex-col gap-2.5
                    duration-700
                    ${sn?"":"opacity-0 -translate-y-2"}
                `,children:O.map((hn,mn)=>{var xn="Now";const gn=new Date().getTime(),wn=hn.time?gn-new Date(hn.time).getTime():0;return wn<6e4?xn="Just now":wn<36e5?xn=`${Math.floor(wn/6e4)}min ago`:wn<864e5?xn=`${Math.floor(wn/36e5)}h ago`:wn<6048e5?xn=`${Math.floor(wn/864e5)}d ago`:xn=`${Math.floor(wn/6048e5)}w ago`,jsxRuntimeExports.jsxs("div",{className:"flex flex-col bg-[#ffffff18] shadow-tb-border-shadow rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-[#ffffff20] p-2.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("img",{src:hn.icon,alt:"Icon",style:{width:"25px",height:"25px"}}),jsxRuntimeExports.jsx("div",{className:"notification-application",children:hn.application})]}),hn.time?jsxRuntimeExports.jsx("div",{className:"font-semibold text-[#ffffffa0] text-sm",children:xn}):null]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 p-2.5",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:hn.message}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-between",children:[jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 cursor-pointer px-4 bg-[#ffffff20] shadow-tb-border rounded-md hover:bg-[#ffffff30] duration-150",onClick:()=>dn(mn),children:"Dismiss"}),jsxRuntimeExports.jsx("button",{className:"leading-none p-2.5 cursor-pointer px-4 bg-[#53f67463] shadow-tb-border rounded-md hover:bg-[#53f67473] duration-150",onClick:async()=>{if(hn.onOk)try{await new Function(`return ${hn.onOk.code}`)()()}catch(vn){console.error(vn)}dn(mn)},children:"Open"})]})]})]},mn)})}):jsxRuntimeExports.jsx("div",{className:`
                    justify-center items-center flex h-full font-[700] text-[20px] duration-700
                    ${sn?"":"opacity-0 -translate-y-2"}
                `,children:jsxRuntimeExports.jsx("div",{children:"No Notifications yet."})})]})};function Power(){const[sn,O]=reactExports.useState(!1),[rn,an]=reactExports.useState(!1),un=reactExports.useRef(null),dn=reactExports.useRef(null);return reactExports.useEffect(()=>{const hn=mn=>{sn&&mn.target instanceof HTMLElement&&mn.target!==un.current&&!un.current?.contains(mn.target)&&(O(!1),an(!1))};return document.addEventListener("mousedown",hn),()=>document.removeEventListener("mousedown",hn)}),reactExports.useEffect(()=>{const hn=xn=>{xn.key==="Shift"&&an(!0)},mn=xn=>{xn.key==="Shift"&&an(!1)};return document.addEventListener("keydown",hn),document.addEventListener("keyup",mn),()=>{document.removeEventListener("keydown",hn),document.removeEventListener("keyup",mn)}},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ForwardRef$2,{ref:dn,className:"size-6 stroke-[1.3px] stroke-current cursor-pointer duration-150",onMouseUp:()=>{dn.current?.classList.remove("scale-90"),O(hn=>!hn)},onMouseLeave:()=>{dn.current?.classList.remove("scale-90")},onMouseOver:()=>{dn.current?.classList.add("scale-90")},onClick:()=>{dn.current?.classList.add("scale-90")}}),jsxRuntimeExports.jsx("div",{ref:un,className:`
                absolute top-13.5 right-1.5 z-[-1] bg-[#2020208c] bg-[url(/assets/img/grain.png)] shadow-tb-border-shadow
                ${sn?"duration-150":"opacity-0 -translate-y-6 pointer-events-none duration-200"} rounded-xl backdrop-blur-sm overflow-hidden
            `,children:jsxRuntimeExports.jsxs("div",{className:`
                    flex flex-col duration-1000
                    ${sn?"":"opacity-0 -translate-y-2"}
                `,children:[jsxRuntimeExports.jsxs("button",{className:`
                        first:rounded-t-lg last:rounded-b-lg hover:bg-[#ffffff28] flex gap-8 justify-between items-center px-3 py-2 duration-150
                    `,children:[jsxRuntimeExports.jsx("span",{className:"select-none font-semibold",children:"Sleep"}),jsxRuntimeExports.jsx(ForwardRef$3,{className:"size-5"})]}),jsxRuntimeExports.jsxs("button",{className:`
                        first:rounded-t-lg last:rounded-b-lg hover:bg-[#ffffff28] flex gap-8 justify-between items-center px-3 py-2 duration-150
                    `,onClick:()=>{sessionStorage.setItem("logged-in","false"),window.location.reload()},children:[jsxRuntimeExports.jsx("span",{className:"select-none font-semibold",children:"Lock"}),jsxRuntimeExports.jsx(ForwardRef$5,{className:"size-5"})]}),jsxRuntimeExports.jsxs("button",{className:`
                        first:rounded-t-lg last:rounded-b-lg hover:bg-[#ffffff28] flex gap-8 justify-between items-center px-3 py-2 duration-150
                    `,onClick:()=>{sessionStorage.setItem("logged-in","false"),window.location.reload()},children:[jsxRuntimeExports.jsx("span",{className:"select-none font-semibold",children:"Restart"}),jsxRuntimeExports.jsx(ForwardRef$7,{className:"size-5 stroke-[1.3px] stroke-current"})]}),rn&&jsxRuntimeExports.jsxs("button",{className:`
                            first:rounded-t-lg last:rounded-b-lg hover:bg-[#ffffff28] flex gap-8 justify-between items-center px-3 py-2 duration-150
                        `,onClick:()=>{sessionStorage.clear(),window.location.reload()},children:[jsxRuntimeExports.jsx("span",{className:"select-none font-semibold",children:"Hard Restart"}),jsxRuntimeExports.jsx(ForwardRef$7,{className:"size-5 stroke-[1.3px] stroke-current"})]}),jsxRuntimeExports.jsxs("button",{className:`
                        first:rounded-t-lg last:rounded-b-lg hover:bg-[#ff6060ce] flex gap-8 justify-between items-center px-3 py-2 duration-150
                    `,onClick:()=>{sessionStorage.setItem("logged-in","false"),window.location.href="https://google.com"},children:[jsxRuntimeExports.jsx("span",{className:"select-none font-semibold",children:"Shutdown"}),jsxRuntimeExports.jsx(ForwardRef$2,{className:"size-5 stroke-[1.3px] stroke-current"})]})]})})]})}const Shell=()=>{const[sn,O]=reactExports.useState(0);return reactExports.useEffect(()=>{const rn=setInterval(()=>{O(getTime())},100);return()=>clearInterval(rn)},[]),jsxRuntimeExports.jsxs("div",{className:"shell flex z-100 w-full gap-1.5 text-[#5f5f5f] px-1.5 py-1 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"islands_left relative flex gap-2 items-center",children:[jsxRuntimeExports.jsx(AppIsland,{}),jsxRuntimeExports.jsx(MediaIsland,{})]}),jsxRuntimeExports.jsxs("div",{className:"islands_right flex gap-1.5 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"island p-3 px-3.5 gap-2 rounded-xl select-none *:leading-none",style:{backgroundImage:"url(/assets/img/grain.png)"},children:[jsxRuntimeExports.jsx(FPSCounter,{}),jsxRuntimeExports.jsx("div",{className:"weather font-bold cursor-default",children:jsxRuntimeExports.jsx(Weather,{})}),jsxRuntimeExports.jsx("div",{className:"time font-bold cursor-default",children:sn})]}),jsxRuntimeExports.jsxs("div",{className:"island system_island gap-2 p-3 px-3.5 pr-2.5 py-2 rounded-xl *:leading-none",style:{backgroundImage:"url(/assets/img/grain.png)"},children:[jsxRuntimeExports.jsx(Power,{}),jsxRuntimeExports.jsx(Wifi,{}),jsxRuntimeExports.jsx(NotificationCenter,{}),jsxRuntimeExports.jsx(Battery,{}),jsxRuntimeExports.jsx("div",{className:"show_desk bg-[#ffffff3e] h-8 w-4 rounded-[5px] cursor-pointer",onClick:()=>window.dispatchEvent(new Event("min-wins"))})]})]})]})},WinSwitcher=()=>{const[sn,O]=reactExports.useState(!1),[rn,an]=reactExports.useState(0),un=useWindowStore(dn=>dn.windows);return reactExports.useEffect(()=>{const dn=navigator.userAgent;let hn;const mn=vn=>{(dn.includes("Mac")?vn.metaKey&&vn.shiftKey&&vn.key==="Tab":vn.key==="Tab"&&vn.shiftKey)?(vn.preventDefault(),gn()):sn&&vn.key==="Tab"&&(vn.preventDefault(),wn(1))},xn=vn=>{(dn.includes("Mac")?vn.metaKey&&vn.shiftKey&&vn.key==="Tab":vn.key==="Tab"||!vn.shiftKey)&&(vn.preventDefault(),clearTimeout(hn),hn=setTimeout(()=>{O(!1)},1e3))},gn=()=>{O(!0),an(0),clearTimeout(hn),hn=setTimeout(()=>{O(!1)},1e3)},wn=vn=>{if(un.length>0){const An=(rn+vn+un.length)%un.length;an(An);const Cn=un[An];console.log(Cn),window.dispatchEvent(new CustomEvent("sel-win",{detail:Cn.wid}))}};return window.addEventListener("keydown",mn),window.addEventListener("keyup",xn),()=>{window.removeEventListener("keydown",mn),window.removeEventListener("keyup",xn),clearTimeout(hn)}},[rn,sn,un]),jsxRuntimeExports.jsx("div",{className:`win-switcher absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 py-[10px] px-[14px] bg-[#00000028] backdrop-blur-[100px] rounded-[10px] z-999999999 opacity-${sn?"100":"0"} duration-150 pointer-events-${sn?"auto":"none"}`,children:un.map((dn,hn)=>jsxRuntimeExports.jsxs("div",{"data-index":hn,className:`window-item ${hn===rn?"active":""}`,children:[dn.icon&&jsxRuntimeExports.jsx("img",{src:dn.icon,alt:typeof dn.title=="string"?dn.title:dn.title.text,className:"icon"}),typeof dn.title=="string"?dn.title:dn.title.text]},dn.wid))})},ContextMenuArea=()=>{const sn=useContextMenuStore(),O=reactExports.useRef(null),rn=reactExports.useRef(null),[an,un]=reactExports.useState(!1),[dn,hn]=reactExports.useState({x:0,y:0});return reactExports.useEffect(()=>{const mn=vn=>{sn.setContextMenu(vn.detail.props),setTimeout(()=>{un(!0)},50)},xn=vn=>{if(!rn.current)return!1;const An=rn.current.getBoundingClientRect(),Cn=vn.clientX>=An.left-75&&vn.clientX<=An.right+75,Sn=vn.clientY>=An.top-75&&vn.clientY<=An.bottom+75;return Cn&&Sn},gn=vn=>{vn.button===0&&!rn.current?.contains(vn.target)&&!xn(vn)&&(un(!1),setTimeout(()=>{sn.clearContextMenu()},150))},wn=()=>{un(!1),setTimeout(()=>{sn.clearContextMenu()},1e3)};if(sn.menu.options.length>0){let vn=sn.menu.x,An=sn.menu.y;vn>window.innerWidth-190&&(vn=window.innerWidth-190),An>window.innerHeight-160&&(An=window.innerHeight-160),hn({x:vn,y:An})}return window.addEventListener("ctxm",mn),window.addEventListener("close-ctxm",wn),document.addEventListener("click",gn),()=>{window.removeEventListener("ctxm",mn),window.removeEventListener("close-ctxm",wn),document.removeEventListener("click",gn)}},[sn]),jsxRuntimeExports.jsx("div",{ref:O,onClick:()=>{},children:sn.menu.options.length>0&&jsxRuntimeExports.jsxs("div",{className:`
                        absolute z-99999999 flex flex-col rounded-lg overflow-hidden bg-[#ffffff10] text-white shadow-tb-border-shadow backdrop-blur-[10px]
                        ${an?"translate-y-0":"opacity-0 -translate-y-6"} duration-200
                    `,ref:rn,style:{backdropFilter:"brightness(0.8) blur(10px)",top:dn.y+"px",left:dn.x+"px"},children:[sn.menu.titlebar?typeof sn.menu.titlebar=="string"?jsxRuntimeExports.jsx("div",{className:"flex items-center px-3 py-2.5 bg-[#ffffff3c] w-full text-left select-none",children:sn.menu.titlebar}):sn.menu.titlebar:null,jsxRuntimeExports.jsx("div",{className:`${an?"":"-translate-y-2 opacity-0"} duration-700`,children:sn.menu.options.map((mn,xn)=>jsxRuntimeExports.jsx("button",{className:"flex text-lg font-bold leading-none px-3 py-2.5 hover:bg-[#ffffff3c] w-full text-left select-none duration-150 cursor-pointer",style:{color:mn.color},onClick:()=>{mn.click(),sn.clearContextMenu(),un(!1)},children:mn.text},xn))})]})})},Desktop=({desktop:sn,onContextMenu:O})=>{const rn=reactExports.useRef(null),[an,un]=reactExports.useState(!1),[dn,hn]=reactExports.useState(!1),[mn,xn]=reactExports.useState([]),[gn,wn]=reactExports.useState(null);return reactExports.useEffect(()=>{const vn=()=>{un(jn=>!jn)},An=()=>{hn(jn=>!jn)},Cn=async()=>{const jn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${sessionStorage.getItem("currAcc")}/settings.json`));if(jn.wallpaper.startsWith("/system")){if(!rn.current)return;rn.current.style.backgroundImage=`url("/fs/${jn.wallpaper}")`,rn.current.style.backgroundSize=jn.wallpaperMode==="stretch"?"100% 100%":jn.wallpaperMode,rn.current.style.backgroundPosition="center",rn.current.style.backgroundRepeat="no-repeat"}else{if(!rn.current)return;rn.current.style.backgroundImage=`url("${jn.wallpaper}")`,rn.current.style.backgroundSize=jn.wallpaperMode==="stretch"?"100% 100%":jn.wallpaperMode,rn.current.style.backgroundPosition="center",rn.current.style.backgroundRepeat="no-repeat"}},Sn=jn=>{wn(JSON.parse(jn.detail))},Nn=async()=>{await dirExists("/system")&&xn(JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/dock.json","utf8")))};return Nn(),window.addEventListener("tfsready",Cn),window.addEventListener("open-net",vn),window.addEventListener("open-notif",An),window.addEventListener("load",Cn),window.addEventListener("updWallpaper",Cn),window.addEventListener("updPins",Nn),window.addEventListener("windows-prev",Sn),()=>{window.removeEventListener("open-net",vn),window.removeEventListener("open-notif",An),window.removeEventListener("load",Cn),window.removeEventListener("updWallpaper",Cn),window.removeEventListener("updPins",Nn),window.removeEventListener("windows-prev",Sn),window.removeEventListener("tfsready",Cn)}},[dn,gn,mn]),jsxRuntimeExports.jsxs("div",{className:"desktop flex flex-col h-[inherit] overflow-hidden ","data-desktop":sn,ref:rn,onContextMenuCapture:vn=>{O?.(vn.nativeEvent)},children:[jsxRuntimeExports.jsx(Shell,{}),jsxRuntimeExports.jsx(WispMenu,{isOpen:an}),jsxRuntimeExports.jsx(WindowArea,{className:"h-full m-2 mt-0"}),jsxRuntimeExports.jsx(DialogContainer,{}),jsxRuntimeExports.jsx(NotificationContainer,{}),jsxRuntimeExports.jsx(NotificationMenu,{isOpen:dn}),jsxRuntimeExports.jsx(ContextMenuArea,{}),jsxRuntimeExports.jsx(WinSwitcher,{}),jsxRuntimeExports.jsx("div",{className:`${gn?.open?"opacity-100":"opacity-0"} duration-150`,children:gn?.windows&&gn.windows.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 flex flex-col justify-center items-center rounded-lg bg-[#2020208c] shadow-tb-border-shadow backdrop-blur-[100px] border-none overflow-hidden z-9999999",style:{left:`calc(${gn?.location}px - ${45*gn?.windows.length}px)`},children:gn.windows[0].map(vn=>jsxRuntimeExports.jsxs("div",{className:`flex justify-center items-center p-2 gap-14 hover:bg-[#ffffff10] ${vn.pid===String(window.tb.window.getId())?"bg-[#ffffff18]":""} duration-150`,onClick:()=>{window.dispatchEvent(new CustomEvent("sel-win",{detail:vn.wid})),window.dispatchEvent(new CustomEvent("currWID",{detail:vn.wid})),wn(An=>({...An,open:!0,windows:An?.windows,location:An?.location??""}))},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:vn.icon,className:"size-6",alt:"App icon"}),jsxRuntimeExports.jsx("h2",{children:typeof vn.title=="string"?vn.title:vn.title?.text})]}),jsxRuntimeExports.jsx("svg",{className:"size-6 p-0.5 rounded-sm cursor-pointer text-[#ffffffbb] no-drag hover:text-white hover:bg-[#ffffff10]",viewBox:"0 0 24 24",fill:"none",onClick:()=>{window.tb.process.kill(vn.pid),wn(An=>({...An,windows:An?.windows.map(Cn=>Cn.filter(Sn=>Sn.wid!==vn.wid)),open:An?.open??!1,location:An?.location??""})),clearInfo()},children:jsxRuntimeExports.jsx("path",{className:"duration-150 pointer-events-none",d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})]},vn.wid))})}),jsxRuntimeExports.jsx(Dock,{pinned:mn})]})};function App(){return Api(),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Desktop,{desktop:1,onContextMenu:sn=>{sn.preventDefault()}})})}function Boot(){const[selected,setSelected]=reactExports.useState(0),[showCursor,setShowCursor]=reactExports.useState(!1),[bootentries,setentries]=reactExports.useState([]),boot=()=>{sessionStorage.setItem("boot","true"),window.location.reload()},cloak=()=>{const O=window.open("about:blank","_blank").document.open();sessionStorage.setItem("boot","true"),O.write(`
            <!DOCTYPE html>
            <html>
            <head>
                <style type="text/css">
                    body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
                </style>
            </head>
            <body>
                <iframe style="border: none; width: 100%; height: 100vh;" src="${window.location.href}?boot=true"></iframe>
            </body>
            </html>
        `),O.close(),window.location.href="https://google.com",console.log("Cloak Opened!")},recovery=()=>{sessionStorage.setItem("recovery","true"),window.location.reload()};return reactExports.useEffect(()=>{const getEntries=async()=>{let entries=[];if(await fileExists("/bootentries.json"))entries=JSON.parse(await window.tb.fs.promises.readFile("/bootentries.json","utf8"));else{const sn=[{name:"TB React",action:boot.toString()},{name:"TB React (Cloaked)",action:cloak.toString()},{name:"TB System Recovery",action:recovery.toString()}];await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify(sn)),console.log("Added default bootentries"),entries=sn}const FilerDirExists=async sn=>new Promise(O=>{Filer.fs.stat(sn,(rn,an)=>{if(rn)rn.code==="ENOENT"||console.error(rn),O(!1);else{const un=an.type==="DIRECTORY";O(un)}})}),recreatedEntries=entries.map(entry=>({...entry,action:eval(`(${entry.action})`)}));if(localStorage.getItem("setup")==="true"&&(!await dirExists("/system/etc/terbium/")||!await dirExists("/apps/system/"))){const sn=recreatedEntries.filter(rn=>rn.name!=="TB React"&&rn.name!=="TB React (Cloaked)");await FilerDirExists("/system/etc/terbium")?(sessionStorage.setItem("migrateFs","true"),setentries(recreatedEntries)):setentries(sn)}else setentries(recreatedEntries)};getEntries();const getPlatform=()=>{const sn=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk|iPhone|iPad/i,O=/CrOS/;return sn.test(navigator.userAgent)&&!O.test(navigator.userAgent)||!sn.test(navigator.userAgent)&&navigator.maxTouchPoints>1&&navigator.userAgent.indexOf("Macintosh")!==-1&&navigator.userAgent.indexOf("Safari")!==-1?"mobile":"desktop"};getPlatform()==="mobile"&&setShowCursor(!0);const handleKeyDown=sn=>{sn.key==="ArrowUp"?setSelected(O=>bootentries.length===0?0:O===0?bootentries.length-1:O-1):sn.key==="ArrowDown"?setSelected(O=>O===bootentries.length-1?0:O+1):sn.key==="Enter"?bootentries[selected].action():sn.key==="Escape"&&setShowCursor(O=>!O)};return window.addEventListener("keydown",handleKeyDown),()=>{window.removeEventListener("keydown",handleKeyDown)}},[selected,bootentries]),jsxRuntimeExports.jsx("div",{className:`overflow-hidden w-full h-full flex justify-center pt-[30px] bg-[#0e0e0e] ${showCursor?null:"cursor-none"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center w-full p-2 text-[#ffffff48] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"py-10 w-full flex justify-center text-[#ffffff68] font-bold text-2xl duration-150",children:["Terbium Boot Loader - Version ",version]}),jsxRuntimeExports.jsx("div",{className:"mt-1 p-2 flex flex-col grow overflow-auto w-full border-solid border-[#ffffff68] border-2 rounded-xl",children:bootentries.map((sn,O)=>jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md ${selected===O&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"} ${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}`,onClick:()=>{showCursor&&sn.action()},children:sn.name},O))}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:["Use the ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] text-2xl",children:""})," and ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] text-2xl",children:""})," keys to switch entry."]}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:["Press the ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] font-sans font-bold",children:"enter"})," key to boot into the selection."]})]})})}function CustomOS(){const[sn,O]=reactExports.useState(!1);return reactExports.useEffect(()=>{const rn=an=>{const dn=new DOMParser().parseFromString(an,"text/html");if(console.log(`Terbium Bootloader v2.1.0 is now loading: ${sessionStorage.getItem("bootfile")}`),dn.body&&dn.head){const hn=document.createElement("base");hn.href=`/fs/${sessionStorage.getItem("bootfile").replace(/\/?[^\/]+\.html$/,"")}/`,dn.head.insertBefore(hn,dn.head.firstChild),document.body.innerHTML=dn.body.innerHTML,document.head.innerHTML=dn.head.innerHTML;const mn=dn.documentElement.attributes;for(const An of Array.from(mn))document.documentElement.setAttribute(An.name,An.value);const xn=dn.head.attributes;for(const An of Array.from(xn))document.head.setAttribute(An.name,An.value);const gn=dn.body.attributes;for(const An of Array.from(gn))document.body.setAttribute(An.name,An.value);const wn=document.querySelectorAll("script");for(const An of wn){const Cn=document.createElement("script");for(const Sn of An.attributes)Sn.name!=="src"&&Cn.setAttribute(Sn.name,Sn.value);if(An.src){let Sn=An.src;An.src.includes("http")?Sn=An.src:An.src.includes(`${window.location.origin}/fs/`)||(Sn=`/fs/${sessionStorage.getItem("bootfile").replace(/\/?[^\/]+\.html$/,"")}${An.src.replace(window.location.origin,"")}`),Cn.src=Sn}else Cn.textContent=An.textContent;document.head.appendChild(Cn),An.parentNode?.removeChild(An)}const vn=document.querySelectorAll("link[rel='stylesheet']");for(const An of vn){const Cn=document.createElement("link");for(const Sn of An.attributes)Sn.name!=="href"&&Cn.setAttribute(Sn.name,Sn.value);if(An.href){let Sn=An.href;An.href.includes("http")?Sn=An.href:An.href.includes(`${window.location.origin}/fs/`)||(Sn=`/fs/${sessionStorage.getItem("bootfile").replace(/\/?[^\/]+\.html$/,"")}${An.href.replace(window.location.origin,"")}`),Cn.href=Sn}document.head.appendChild(Cn),An.parentNode?.removeChild(An)}O(!0)}else console.error(`Failed to boot: ${sessionStorage.getItem("bootfile")}`),sessionStorage.clear(),window.location.reload()};window.tb.fs.promises.readFile(sessionStorage.getItem("bootfile"),"utf8").then(an=>{rn(an)}).catch(an=>{console.error(`Failed to read bootfile because of: ${an}`),sessionStorage.clear(),window.location.reload()})},[]),reactExports.useEffect(()=>{const rn=an=>{an.key==="Escape"&&(sessionStorage.clear(),window.location.reload())};return sn?window.removeEventListener("keydown",rn):window.addEventListener("keydown",rn),()=>{window.removeEventListener("keydown",rn)}},[sn]),jsxRuntimeExports.jsxs("div",{className:"bg-[#0e0e0e] h-full justify-center items-center flex flex-col lg:h-full md:h-full",children:[jsxRuntimeExports.jsx("img",{src:"/tb.svg",alt:"Terbium",className:"w-[25%] h-[25%]"}),jsxRuntimeExports.jsx("div",{className:"duration-150 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"text-container relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsxs("div",{className:"bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text flex flex-col lg:items-center md:items-center sm:items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[700] lg:text-[34px] md:text-[28px] sm:text-[22px] text-right duration-150",children:jsxRuntimeExports.jsx("span",{className:"font-[1000] duration-150",children:"Terbium Bootloader"})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{children:"Press ESC to return to boot menu"})]})})})]})}function Loader(){return jsxRuntimeExports.jsxs("div",{className:"bg-[#0e0e0e] h-full justify-center items-center flex flex-col lg:h-full md:h-full",children:[jsxRuntimeExports.jsx("img",{src:"/tb.svg",alt:"Terbium",className:"w-[25%] h-[25%] breathe"}),jsxRuntimeExports.jsx("div",{className:"duration-150 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"text-container relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsx("div",{className:"bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text flex flex-col lg:items-center md:items-center sm:items-center",children:jsxRuntimeExports.jsx("span",{className:"font-[700] lg:text-[34px] md:text-[28px] sm:text-[22px] text-right duration-150",children:jsxRuntimeExports.jsx("span",{className:"font-[1000] duration-150",children:"TerbiumOS"})})})})})]})}function GetTime(){const sn=new Date,O=sn.getHours(),rn=sn.getMinutes(),an=O>=12?"PM":"AM",un=O%12||12,dn=rn<10?`0${rn}`:rn;return`${un}:${dn} ${an}`}function GetDate(){const sn=new Date,O=sn.getMonth(),rn=sn.getDate(),an=sn.getFullYear(),un=["January","February","March","April","May","June","July","August","September","October","November","December"];return`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][sn.getDay()]} ${un[O]} ${rn} ${an}`}const pw$1=new pwd;function Login(){const[sn,O]=reactExports.useState(!1),[rn,an]=reactExports.useState(GetTime()),[un,dn]=reactExports.useState(GetDate()),[hn,mn]=reactExports.useState(!1),[xn,gn]=reactExports.useState([]),[wn,vn]=reactExports.useState(sessionStorage.getItem("currAcc")||"/home/user/"),[An,Cn]=reactExports.useState({}),[Sn,Nn]=reactExports.useState(null),[jn,Hn]=reactExports.useState(!1),Bn=reactExports.useRef(null);reactExports.useEffect(()=>{const Un=setInterval(()=>{an(GetTime()),dn(GetDate())},1e3);return()=>clearInterval(Un)},[]),reactExports.useEffect(()=>{(async()=>{const Tn=await window.tb.fs.promises.readdir("/home/"),Dn=(await Promise.all(Tn.map(async In=>{const Ln=await window.tb.fs.promises.stat(`/home/${In}`);if(Ln&&Ln.isDirectory())return await window.tb.fs.promises.exists(`/home/${In}/user.json`)?In:null}))).filter(In=>In!==null);gn(Dn)})()},[]),reactExports.useEffect(()=>{(async()=>{const Tn=await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"),zn=JSON.parse(Tn);Nn(JSON.parse(await window.tb.fs.promises.readFile(`/home/${zn.defaultUser}/settings.json`)).wallpaper),vn(zn.defaultUser)})()},[]),reactExports.useEffect(()=>{const Un=async()=>{const Tn={};for(const zn of xn)try{const Dn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${zn}/user.json`,"utf8"));Tn[zn]=Dn.pfp||null}catch(Dn){console.error(`Error reading user data for ${zn}:`,Dn),Tn[zn]=null}if(wn&&wn!=="/home/user/")try{const zn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${wn}/user.json`,"utf8"));mn(zn.password!==!1)}catch(zn){console.error("Error reading user data:",zn)}Cn(Tn)};xn.length>0&&Un()},[xn,wn]);const On=async()=>{const Un=Bn.current.value;if(Un!==""){const Tn=await window.tb.fs.promises.readFile(`/home/${wn}/user.json`,"utf8"),Dn=JSON.parse(Tn).password.toString(),In=pw$1.harden(Un.toString());Dn===In?(sessionStorage.setItem("logged-in","true"),sessionStorage.setItem("currAcc",wn),window.location.reload()):Mn()}},Mn=()=>{Bn.current&&(Bn.current.classList.add("ring-[#ff7e7e5a]","ring-[2px]","border-[#ff7e7ed5]","placeholder-[#ff7e7e6b]"),Bn.current.value="",Bn.current.placeholder="Incorrect Password",Bn.current.addEventListener("keydown",()=>{Bn.current&&(Bn.current.classList.remove("ring-[#ff7e7e5a]","ring-[2px]","border-[#ff7e7ed5]","placeholder-[#ff7e7e6b]"),Bn.current.placeholder="Password")}))};return reactExports.useEffect(()=>{const Un=async Tn=>{switch(Tn.key){case"Enter":sn&&!jn&&On();break;case"Escape":sn&&O(!1);break;default:O(!0),Bn.current&&!jn&&Bn.current.focus();break}};return window.addEventListener("keydown",Un),()=>{window.removeEventListener("keydown",Un)}},[sn,wn,jn]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("${Sn?.includes("/system/etc/")?`/fs/${Sn}`:Sn||""}")`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),jsxRuntimeExports.jsxs("div",{className:"login_container relative flex flex-col justify-center items-center size-full gap-5",onMouseDown:()=>{sn||JSON.parse(localStorage.getItem("setup")||"{}").password!==!1&&(O(!0),setTimeout(()=>{Bn.current&&!jn&&Bn.current.focus()},200))},children:[xn.length>1?jsxRuntimeExports.jsx("div",{className:`
                            absolute flex gap-4 top-5 right-5 items-center z-10 duration-150
                            ${sn?"opacity-100":"opacity-0 pointer-events-none translate-y-7"}
                        `,children:xn.map((Un,Tn)=>jsxRuntimeExports.jsx("div",{className:`
                                        size-14 bg-[#00000028] rounded-full duration-150
                                        ${wn===Un?"shadow-[inset_0_0_0_2px_#7e91ff] scale-[1.2]":"hover:scale-[1.1]"}
                                    `,style:{backgroundImage:`url("${An[Un]||""}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onMouseDown:async()=>{vn(Un),Nn(JSON.parse(await window.tb.fs.promises.readFile(`/home/${Un}/settings.json`)).wallpaper)}},Tn))}):null,jsxRuntimeExports.jsxs("div",{className:`
                    flex flex-col justify-center items-center gap-5 size-full duration-150
                    ${sn?"opacity-0 pointer-events-none":"opacity-100"}
                `,children:[jsxRuntimeExports.jsxs("div",{className:"date_time text-[#ffffffcb] font-extrabold flex flex-col justify-center items-center [text-shadow:0_0_16px_#00000038]",children:[jsxRuntimeExports.jsx("div",{className:"time text-7xl",children:rn}),jsxRuntimeExports.jsx("div",{className:"date text-2xl",children:un})]}),jsxRuntimeExports.jsx("h1",{className:"text-[#ffffffcb] text-xl font-bold",children:"Press any key to login"})]}),jsxRuntimeExports.jsx(DialogContainer,{}),jsxRuntimeExports.jsx("div",{className:`
                    absolute
                    flex flex-col justify-center items-center gap-5 size-full backdrop-blur-lg duration-150 ${Sn?"bg-[#0e0e0e99]":"bg-[#0e0e0e]"}
                    ${sn?"opacity-100":"opacity-0 pointer-events-none"}
                `,children:jsxRuntimeExports.jsxs("div",{className:`
                        flex flex-col justify-center items-center gap-5 size-full duration-150
                        ${sn?"":"translate-y-6"}
                    `,children:[jsxRuntimeExports.jsxs("div",{className:"date_time text-[#ffffff87] font-extrabold flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("div",{className:"time text-6xl",children:rn}),jsxRuntimeExports.jsx("div",{className:"date text-lg",children:un})]}),jsxRuntimeExports.jsx("div",{className:"user flex flex-row gap-5",children:jsxRuntimeExports.jsxs("div",{className:"user flex flex-col justify-center items-center gap-[10px]",children:[jsxRuntimeExports.jsx("div",{className:"relative flex size-[120px]",children:xn.length>1?xn.map((Un,Tn)=>jsxRuntimeExports.jsx("div",{className:`
                                                    absolute
                                                    flex justify-center items-center border-[1px] border-[#ffffff10] rounded-full bg-[center] size-[120px] duration-150
                                                    ${wn===Un?"":"scale-[0.85] opacity-0"}
                                                `,style:{backgroundImage:`url("${An[Un]||""}")`,backgroundSize:"102%",backgroundRepeat:"no-repeat"},children:jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",style:{textShadow:"0 0 16px #000000",color:"#ffffff"},children:Un})},Tn)):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center border-[1px] border-[#ffffff10] rounded-full bg-[center] w-[120px] h-[120px]",style:{backgroundImage:`url("${An[wn]||""}")`,backgroundSize:"102%",backgroundRepeat:"no-repeat"},children:jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",style:{textShadow:"0 0 16px #000000",color:"#ffffff"},children:wn})})}),jsxRuntimeExports.jsx("div",{className:"pass_container flex gap-[6px] justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"relative flex flex-row justify-center",children:[jsxRuntimeExports.jsxs("div",{className:`
                                            flex flex-col items-center gap-1.5 duration-150
                                            ${hn?"opacity-100":"opacity-0 pointer-events-none"}
                                        `,children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{type:"password",className:"pass cursor-[var(--cursor-text)] bg-[#ffffff10] border-[1px] border-[#ffffff10] rounded-[6px] px-[8px] py-[6px] text-[#ffffff] font-[18px] placeholder-[#ffffff38] placeholder-opacity-50 transition duration-150 ring-0 ring-[transparent] focus:outline-hidden focus:ring-[2.5px] focus:ring-[#7e91ff5a] focus:border-[#7e91ffd5] focus:placeholder-[#ffffff6b]",autoComplete:"off",placeholder:"Password",ref:Bn,onKeyDown:Un=>{Un.key==="Enter"&&On()}}),jsxRuntimeExports.jsx("button",{className:"pass_button ml-2 cursor-pointer bg-[#ffffff10] border-[1px] border-[#ffffff10] rounded-[6px] px-[8px] py-[6px] stroke-[#ffffff] stroke-width-[2px] text-[#ffffff] font-[18px] transition duration-150 ring-0 ring-[transparent] focus:outline-hidden focus:ring-[2.5px] focus:ring-[#7e91ff5a] focus:border-[#7e91ffd5]",onMouseDown:On,children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h13.19l-5.47-5.47a.75.75 0 011.06-1.06l6.75 6.75a.75.75 0 010 1.06l-6.75 6.75a.75.75 0 11-1.06-1.06l5.47-5.47H4.5a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})})]}),hn&&jsxRuntimeExports.jsx("div",{className:"forgot cursor-pointer text-[#ffffff38] text-[16px] font-[700] transition duration-150 hover:text-[#ffffff87] focus:outline-hidden focus:text-[#ffffff87]",onMouseDown:async()=>{const Un=async()=>{Hn(!0);let Tn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${wn}/user.json`,"utf8"));Tn.securityQuestion?setDialogFn("message",{title:`${Tn.securityQuestion.question}`,onOk:zn=>{pw$1.harden(zn)===Tn.securityQuestion.answer?setDialogFn("message",{title:`Enter a new Password for the account: ${wn}`,onOk:Dn=>{Tn.password=pw$1.harden(Dn),window.tb.fs.promises.writeFile(`/home/${wn}/user.json`,JSON.stringify(Tn,null,4)),Hn(!1),sessionStorage.setItem("logged-in","true"),sessionStorage.setItem("currAcc",wn),window.location.reload()}}):setDialogFn("alert",{title:"Incorrect answer to the security question",onOk:()=>{Un()}})}}):setDialogFn("message",{title:`Enter a new Password for the account: ${wn}`,onOk:zn=>{Tn.password=pw$1.harden(zn),window.tb.fs.promises.writeFile(`/home/${wn}/user.json`,JSON.stringify(Tn,null,4)),Hn(!1),sessionStorage.setItem("logged-in","true"),sessionStorage.setItem("currAcc",wn),window.location.reload()}})};Un()},children:"Forgot Password?"})]}),jsxRuntimeExports.jsx("button",{className:`
                                            absolute pass_button ml-2 cursor-pointer bg-[#ffffff10] border-[1px] border-[#ffffff10] rounded-[6px] px-[8px] py-[6px] stroke-[#ffffff] stroke-width-[2px] text-[#ffffff] font-[18px] transition duration-150 ring-0 ring-[transparent] focus:outline-hidden focus:ring-[2.5px] focus:ring-[#7e91ff5a] focus:border-[#7e91ffd5]
                                            ${hn?"opacity-0 pointer-events-none":"opacity-100"}
                                        `,onMouseDown:()=>{sessionStorage.setItem("logged-in","true"),sessionStorage.setItem("currAcc",wn),window.location.reload()},children:"Login"})]})})]})})]})})]})]})}function Recovery(){const[selected,setSelected]=reactExports.useState(0),[showCursor,setShowCursor]=reactExports.useState(!1),[msg,setMsg]=reactExports.useState(null),[action,setAction]=reactExports.useState(""),[progress,setProgress]=reactExports.useState(0),[updCache,setUpdCache]=reactExports.useState(!1),msgbox=reactExports.useRef(null),main=reactExports.useRef(null),progresscheck=reactExports.useRef(null),statusref=reactExports.useRef(null);async function copyDir(sn,O,rn){await dirExists(O)||await window.tb.fs.promises.mkdir(O);const an=await window.tb.fs.promises.readdir(sn),un=an.length;for(const[dn,hn]of an.entries()){const mn=await window.tb.fs.promises.stat(`${sn}/${hn}`);mn&&mn.isDirectory()?(await window.tb.fs.promises.mkdir(`${O}/${hn}`),await copyDir(`${sn}/${hn}`,`${O}/${hn}`)):await window.tb.fs.promises.writeFile(`${O}/${hn}`,await window.tb.fs.promises.readFile(`${sn}/${hn}`,"utf8")),statusref.current.innerText=`Creating a copy of: ${hn}...`,setProgress(Math.floor((dn+1)/un*100))}}const getTmp=async()=>{await dirExists("/system/tmp/terb-upd/")&&setUpdCache(!0)};getTmp();const boot=()=>{sessionStorage.setItem("boot","true"),window.location.reload()},cloak=()=>{const O=window.open("about:blank","_blank").document.open();sessionStorage.setItem("boot","true"),O.write(`
			<!DOCTYPE html>
			<html>
				<head>
					<style type="text/css">
						body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
					</style>
				</head>
				<body>
					<iframe style="border: none; width: 100%; height: 100vh;" src="${window.location.href}?boot=true"></iframe>
				</body>
			</html>
		`),O.close(),window.location.href="https://google.com",console.log("Cloak Opened!")},recovery=()=>{sessionStorage.setItem("recovery","true"),window.location.reload()},prodins=async()=>{setShowCursor(!1),msgbox.current.classList.remove("flex"),msgbox.current.classList.add("hidden"),progresscheck.current.classList.remove("hidden"),progresscheck.current.classList.add("flex"),localStorage.getItem("setup")&&(await window.tb.sh.format(),await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify([{name:"TB React",action:boot.toString()},{name:"TB React (Cloaked)",action:cloak.toString()},{name:"TB System Recovery",action:recovery.toString()}]))),await download("https://cdn.terbiumon.top/recovery/latest.zip","/uploaded.zip"),setShowCursor(!1),await unzip("//uploaded.zip","//"),await window.tb.fs.promises.mkdir("/system/tmp/"),await window.tb.sh.promises.rm("/home/Guest/desktop/",{recursive:!0}),await window.tb.fs.promises.mkdir("/home/Guest/desktop/");let sn=[],O=[],rn=[];for(let dn=0;dn<apps.length;dn++){const hn=apps[dn],mn=hn.name.toLowerCase();var an=0,un=0;dn%12===0?an=0:an=dn%12,dn<12?un=0:un=1,an*66>window.innerHeight-130&&(un=1.15,sn.length===0?an=0:an=sn.length%12,sn.push({name:hn.name})),rn.push({name:hn.name,item:`/home/Guest/desktop/${mn}.lnk`,position:{custom:!1,top:an,left:un}}),O.push({name:hn.name,config:`/apps/system/${mn}.tapp/index.json`,user:"System"}),await window.tb.fs.promises.writeFile("/home/Guest/desktop/.desktop.json",JSON.stringify(rn)),await window.tb.fs.promises.symlink(`/apps/system/${mn}.tapp/index.json`,`/home/Guest/desktop/${mn}.lnk`)}statusref.current.innerText="Cleaning up...",setProgress(85),await window.tb.fs.promises.unlink("//uploaded.zip"),setProgress(100),statusref.current.innerText="Restarting...",sessionStorage.clear(),sessionStorage.setItem("boot","true"),localStorage.setItem("setup","true"),window.location.reload()};window.prodins=prodins;const zipins=async()=>{const sn=document.createElement("input");sn.type="file",sn.accept=".zip",sn.onchange=async O=>{const rn=O.target;if(rn&&rn.files){const hn=await rn.files[0].arrayBuffer();setProgress(10),localStorage.getItem("setup")&&(await window.tb.sh.format(),await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify([{name:"TB React",action:boot.toString()},{name:"TB React (Cloaked)",action:cloak.toString()},{name:"TB System Recovery",action:recovery.toString()}]))),setProgress(25),await window.tb.fs.promises.writeFile("//uploaded.zip",window.tb.buffer.from(hn),"arraybuffer"),setProgress(35),setShowCursor(!1),main.current.classList.remove("flex"),main.current.classList.add("hidden"),progresscheck.current.classList.remove("hidden"),progresscheck.current.classList.add("flex"),await unzip("//uploaded.zip","//"),setProgress(72);const mn=await window.tb.fs.promises.readdir("/home/");for(const xn of mn){await window.tb.sh.promises.rm(`/home/${xn}/desktop/`,{recursive:!0}),await window.tb.fs.promises.mkdir(`/home/${xn}/desktop/`);let gn=[],wn=[],vn=[];for(let An=0;An<apps.length;An++){const Cn=apps[An],Sn=Cn.name.toLowerCase();var an=0,un=0;An%12===0?an=0:an=An%12,An<12?un=0:un=1,an*66>window.innerHeight-130&&(un=1.15,gn.length===0?an=0:an=gn.length%12,gn.push({name:Cn.name})),vn.push({name:Cn.name,item:`/home/${xn}/desktop/${Sn}.lnk`,position:{custom:!1,top:an,left:un}}),wn.push({name:Cn.name,config:`/apps/system/${Sn}.tapp/index.json`,user:"System"}),await window.tb.fs.promises.writeFile(`/home/${xn}/desktop/.desktop.json`,JSON.stringify(vn)),await window.tb.fs.promises.symlink(`/apps/system/${Sn}.tapp/index.json`,`/home/${xn}/desktop/${Sn}.lnk`)}}await window.tb.fs.promises.mkdir("/system/tmp/"),statusref.current.innerText="Cleaning up...",setProgress(85),await window.tb.fs.promises.unlink("//uploaded.zip"),setProgress(100),statusref.current.innerText="Restarting...",sessionStorage.clear(),sessionStorage.setItem("boot","true"),localStorage.setItem("setup","true"),window.location.reload()}},sn.click()};async function download(sn,O){window.loadLock||(window.loadLock=!0,await libcurl.load_wasm("https://cdn.jsdelivr.net/npm/libcurl.js@latest/libcurl.wasm")),libcurl.set_websocket(`${window.location.protocol.replace("http","ws")}//${window.location.hostname}:${window.location.port}/wisp/`);const rn=await libcurl.fetch(sn);if(!rn.ok)throw new Error(`Failed to download the file. Status: ${rn.status}`);const an=await rn.arrayBuffer();await window.tb.fs.promises.writeFile(O,window.tb.buffer.from(an),"arraybuffer"),console.log(`File saved successfully at: ${O}`)}const migrateFs=async()=>{setShowCursor(!1),main.current.classList.remove("flex"),main.current.classList.add("hidden"),progresscheck.current.classList.remove("hidden"),progresscheck.current.classList.add("flex");async function sn(rn,an){const un=await Filer.fs.promises.readdir(rn);for(const dn of un){const hn=rn.endsWith("/")?rn+dn:rn+"/"+dn,mn=an.endsWith("/")?an+dn:an+"/"+dn;if((await Filer.fs.promises.stat(hn)).isDirectory())await dirExists(mn)||await window.tb.fs.promises.mkdir(mn),await sn(hn,mn);else{const gn=await Filer.fs.promises.readFile(hn);await window.tb.fs.promises.writeFile(mn,gn)}statusref.current.innerText=`Copying: ${hn}`}}await sn("/","/"),setProgress(85),statusref.current.innerText="Recreating Desktop Shortcuts...";for(const rn of await window.tb.fs.promises.readdir("/home/")){const an=JSON.parse(await window.tb.fs.promises.readFile(`/home/${rn}/desktop/.desktop.json`,"utf8"));for(const un of an){const dn=await Filer.fs.promises.readlink(un.item);await window.tb.fs.promises.symlink(dn,un.item),statusref.current.innerText=`Creating shortcut: ${un.name}.lnk...`}}setProgress(93),statusref.current.innerText="Formatting Filer...";const O=new Filer.fs.Shell;for(const rn of await Filer.fs.promises.readdir("//"))await O.promises.rm(`/${rn}`,{recursive:!0});setProgress(100),statusref.current.innerText="Migration complete!",sessionStorage.clear(),sessionStorage.setItem("boot","true"),localStorage.setItem("setup","true"),sessionStorage.removeItem("migrateFs"),window.location.reload()};return window.migrateFs=migrateFs,reactExports.useEffect(()=>{const sn=async rn=>{rn.key==="ArrowUp"?setSelected(an=>an===0?updCache?5:4:an-1):rn.key==="ArrowDown"?setSelected(an=>an===(updCache?5:4)?0:an+1):rn.key==="Enter"?selected===0?(localStorage.clear(),sessionStorage.clear(),sessionStorage.setItem("boot","true"),localStorage.getItem("setup")&&(await window.tb.sh.format(),await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify([{name:"TB React",action:boot.toString()},{name:"TB React (Cloaked)",action:cloak.toString()},{name:"TB System Recovery",action:recovery.toString()}]))),window.location.reload()):selected===1?(msgbox.current.classList.remove("hidden"),msgbox.current.classList.add("flex"),main.current.classList.add("hidden"),main.current.classList.remove("flex"),setShowCursor(!0),setMsg("BE AWARE if your static hosting this download will NOT work. Proceed?"),setAction("prodins()")):selected===2?migrateFs():selected===3?zipins():selected===4&&updCache?(setShowCursor(!1),msgbox.current.classList.remove("flex"),msgbox.current.classList.add("hidden"),progresscheck.current.classList.remove("hidden"),progresscheck.current.classList.add("flex"),await copyDir("/system/tmp/terb-upd/","/apps/"),await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache",hash$1),await window.tb.sh.promises.rm("/system/tmp/terb-upd/",{recursive:!0}),window.location.reload()):selected===(updCache?5:4)&&(sessionStorage.clear(),window.location.reload()):rn.key==="Escape"&&setShowCursor(an=>!an)};return(()=>{const rn=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk|iPhone|iPad/i,an=/CrOS/;return rn.test(navigator.userAgent)&&!an.test(navigator.userAgent)||!rn.test(navigator.userAgent)&&navigator.maxTouchPoints>1&&navigator.userAgent.indexOf("Macintosh")!==-1&&navigator.userAgent.indexOf("Safari")!==-1?"mobile":"desktop"})()==="mobile"&&setShowCursor(!0),window.addEventListener("keydown",sn),()=>{window.removeEventListener("keydown",sn)}},[selected]),jsxRuntimeExports.jsx("div",{className:`overflow-hidden w-full h-full flex justify-center pt-[30px] bg-[#0e0e0e] ${showCursor?null:"cursor-none"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center w-full p-2 text-[#ffffff48] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"py-10 w-full flex justify-center text-[#ffffff68] font-bold text-2xl duration-150",children:["Terbium Recovery Utility - Version ",version]}),jsxRuntimeExports.jsx("div",{ref:msgbox,className:"hidden mt-1 p-2 flex-col flex-grow overflow-auto w-full border-solid border-[#ffffff68] border-2 rounded-xl z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-45",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-5xl",children:msg})]}),jsxRuntimeExports.jsxs("div",{className:"flex mt-4",children:[jsxRuntimeExports.jsx("button",{className:"mr-2 cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onClick:()=>eval(action),children:"Proceed"}),jsxRuntimeExports.jsx("button",{className:"cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onClick:()=>{setShowCursor(!1),msgbox.current.classList.remove("flex"),msgbox.current.classList.add("hidden"),main.current.classList.add("flex"),main.current.classList.remove("hidden")},children:"Cancel"})]})]})}),jsxRuntimeExports.jsxs("div",{ref:progresscheck,className:"hidden bg-[#0e0e0e] h-full justify-center items-center flex-col lg:h-full md:h-full",children:[jsxRuntimeExports.jsx("img",{src:"/tb.svg",alt:"Terbium",className:"w-[25%] h-[25%]"}),jsxRuntimeExports.jsx("div",{className:"duration-150 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"text-container relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsxs("div",{className:"bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text flex flex-col lg:items-center md:items-center sm:items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[700] lg:text-[34px] md:text-[28px] sm:text-[22px] text-right duration-150",children:jsxRuntimeExports.jsx("span",{className:"font-[1000] duration-150",children:"Terbium is installing"})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{children:"Please DO NOT close this tab"})]})})}),jsxRuntimeExports.jsx("p",{ref:statusref,className:"mt-1",children:"Downloading..."}),jsxRuntimeExports.jsx("div",{className:"relative flex w-[30%] h-3 rounded-full bg-[#00000020] overflow-hidden mt-4",children:jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#50bf66] rounded-full",style:{width:`${progress}%`}})})]}),jsxRuntimeExports.jsxs("div",{ref:main,className:"mt-1 p-2 flex flex-col flex-grow overflow-auto w-full border-solid border-[#ffffff68] border-2 rounded-xl",children:[jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
							${selected===0&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
							${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
						`,onClick:async()=>{localStorage.clear(),sessionStorage.clear(),sessionStorage.setItem("boot","true"),localStorage.getItem("setup")&&(await window.tb.sh.format(),await window.tb.fs.promises.writeFile("/bootentries.json",JSON.stringify([{name:"TB React",action:boot.toString()},{name:"TB React (Cloaked)",action:cloak.toString()},{name:"TB System Recovery",action:recovery.toString()}]))),window.location.reload()},children:"Reinstall Terbium"}),jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
							${selected===1&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
							${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
						`,onClick:()=>{msgbox.current.classList.remove("hidden"),msgbox.current.classList.add("flex"),main.current.classList.add("hidden"),main.current.classList.remove("flex"),setShowCursor(!0),setMsg("BE AWARE if your static hosting this download will NOT work. Proceed?"),setAction("prodins()")},children:"Restore from Production Instance (Beta)"}),jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
							${selected===2&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
							${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
						`,onClick:()=>{migrateFs()},children:"Migrate from Filer to OPFS"}),jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
							${selected===3&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
							${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
						`,onClick:()=>{zipins()},children:"Restore from ZIP (Beta)"}),updCache&&jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
								${selected===4&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
								${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
							`,onClick:async()=>{setShowCursor(!1),msgbox.current.classList.remove("flex"),msgbox.current.classList.add("hidden"),progresscheck.current.classList.remove("hidden"),progresscheck.current.classList.add("flex"),await copyDir("/system/tmp/terb-upd/","/apps/"),await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache",hash$1),await window.tb.sh.promises.rm("/system/tmp/terb-upd/",{recursive:!0}),window.location.reload()},children:"Restore from Update Cache"}),jsxRuntimeExports.jsx("span",{className:`p-2 px-2.5 text-sm font-extrabold lg:text-lg md:text-base border-[1px] rounded-md 
							${selected===(updCache?5:4)&&showCursor!==!0?"bg-[#ffffff18] border-[#ffffff20]":"border-transparent"}
							${showCursor?"hover:bg-[#ffffff18] hover:border-[#ffffff20]":null}
						`,onClick:()=>{sessionStorage.clear(),window.location.reload()},children:"Exit"})]}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:["Use the ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] text-2xl",children:""})," and ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] text-2xl",children:""})," keys to switch entry."]}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:["Press the ",jsxRuntimeExports.jsx("span",{className:"text-[#ffffff68] font-sans font-bold",children:"enter"})," key to select."]})]})})}const paths={};async function copyfs(){for(const sn of paths){const O=sn.toString();if(!O.includes("browser.tapp")){if(O.toLowerCase().includes(".tapp.zip")){const rn=await fetch(`/apps/${O}`);if(!rn.ok){console.error(`Failed to fetch /apps/${O}: ${rn.status} ${rn.statusText}`);continue}const an=await rn.arrayBuffer();await window.tb.fs.promises.writeFile(`/apps/system/${O}`,window.tb.buffer.from(an)),await unzip(`/apps/system/${O}`,`/apps/system/${O.slice(0,-4)}`),await window.tb.fs.promises.unlink(`/apps/system/${O}`);continue}if(O.endsWith("/"))await window.tb.fs.promises.mkdir(`/apps/system/${O}`);else{const rn=await fetch(`/apps/${O}`);if(!rn.ok){console.error(`Failed to fetch /apps/${O}: ${rn.status} ${rn.statusText}`);continue}const an=await rn.text();await window.tb.fs.promises.writeFile(`/apps/system/${O}`,an)}}}return"Success"}async function init(){console.log("Initing File System please wait..."),await dirExists("/home")||await window.tb.fs.promises.mkdir("/home");const sn=JSON.parse(`${sessionStorage.getItem("new-user")}`).username;if(await dirExists("/apps")?await dirExists("/apps/user")||await window.tb.fs.promises.mkdir("/apps/user"):(await window.tb.fs.promises.mkdir("/apps"),await window.tb.fs.promises.mkdir("/apps/system"),await copyfs(),await window.tb.fs.promises.mkdir("/apps/user"),await window.tb.fs.promises.writeFile("/apps/web_apps.json",JSON.stringify({apps:[]}))),await dirExists(`/apps/user/${sn}`)||(await window.tb.fs.promises.mkdir(`/apps/user/${sn}`),await window.tb.fs.promises.mkdir(`/apps/user/${sn}/files`),await window.tb.fs.promises.mkdir(`/apps/user/${sn}/terminal`)),!await dirExists("/system")){await window.tb.fs.promises.mkdir("/system"),await window.tb.fs.promises.mkdir("/system/trash"),await window.tb.fs.promises.mkdir("/system/bin"),await window.tb.fs.promises.mkdir("/system/etc"),await window.tb.fs.promises.mkdir("/system/etc/terbium");let hn={theme:"dark","system-blur":!0,"dock-full":!1,fileAssociatedApps:{text:"text-editor",image:"media-viewer",video:"media-viewer",audio:"media-viewer"},location:"40.7831,-73.9712",weather:{unit:"Celsius"},"host-name":"terbium"};await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(hn)),await window.tb.fs.promises.writeFile("/system/etc/terbium/sudousers.json",JSON.stringify([])),await window.tb.fs.promises.mkdir("/system/etc/terbium/wallpapers"),await window.tb.fs.promises.mkdir("/system/var"),await window.tb.fs.promises.mkdir("/system/var/terbium"),await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache",hash$1);let mn={system_apps:apps.map(wn=>wn.config),pinned_apps:[]};await window.tb.fs.promises.writeFile("/system/var/terbium/start.json",JSON.stringify(mn)),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify([])),await window.tb.fs.promises.mkdir("/apps/anura/");let xn=[{title:"Terminal",icon:"/fs/apps/system/terminal.tapp/icon.svg",isPinnable:!0,src:"/fs/apps/system/terminal.tapp/index.html",size:{width:612,height:400}},{title:"Files",icon:"/fs/apps/system/files.tapp/icon.svg",isPinnable:!0,src:"/fs/apps/system/files.tapp/index.html",size:{width:600,height:500}},{title:"Settings",icon:"/fs/apps/system/settings.tapp/icon.svg",isPinnable:!0,src:"/fs/apps/system/settings.tapp/index.html",single:!0},{title:"Feedback",icon:"/fs/apps/system/feedback.tapp/icon.svg",proxy:!0,isPinnable:!0,src:"https://forms.gle/m664xxmrugWQADQt9",size:{width:600,height:500}}];await window.tb.fs.promises.writeFile("/system/var/terbium/dock.json",JSON.stringify(xn)),await window.tb.fs.promises.mkdir("/system/lib"),await window.tb.fs.promises.mkdir("/system/lib/anura"),await window.tb.fs.promises.mkdir("/system/tmp");let gn=[];await window.tb.fs.promises.writeFile("/system/var/terbium/recent.json",JSON.stringify(gn))}const O=sessionStorage.getItem("tacc-settings")?JSON.parse(sessionStorage.getItem("tacc-settings")):null;var rn=[];if(!await dirExists(`/home/${sn}`)){await window.tb.fs.promises.mkdir(`/home/${sn}`);let hn={wallpaper:"/assets/wallpapers/1.png",wallpaperMode:"cover",animations:!0,proxy:sessionStorage.getItem("selectedProxy")||"Scramjet",transport:"Default (Epoxy)",wispServer:"wss://shiny-wildflower-75dc.261173.workers.dev/wisp/","battery-percent":!1,accent:"#32ae62",times:{format:"12h",internet:!1,showSeconds:!1},showFPS:!1,windowOptimizations:!1,window:{winAccent:"#ffffff",blurlevel:18,alwaysMaximized:!1,alwaysFullscreen:!1}};O&&Array.isArray(O)&&O[0]&&O[0].settings&&(hn={...hn,...O[0].settings}),await window.tb.fs.promises.writeFile(`/home/${sn}/settings.json`,JSON.stringify(hn)),await window.tb.fs.promises.mkdir(`/home/${sn}/desktop`);let mn=[],xn=[];for(let An=0;An<apps.length;An++){const Cn=apps[An],Sn=Cn.name.toLowerCase();var an=0,un=0;An%12===0?an=0:an=An%12,An<12?un=0:un=1,an*66>window.innerHeight-130&&(un=1.15,mn.length===0?an=0:an=mn.length%12,mn.push({name:Cn.name})),rn.push({name:Cn.name,item:`/home/${sn}/desktop/${Sn}.lnk`,position:{custom:!1,top:an,left:un}}),await window.tb.fs.promises.mkdir(`/apps/system/${Sn}.tapp`),await window.tb.fs.promises.writeFile(`/apps/system/${Sn}.tapp/index.json`,JSON.stringify({name:Cn.name,config:Cn.config,icon:Cn.config.icon})),xn.push({name:Cn.name,config:`/apps/system/${Sn}.tapp/index.json`,user:"System"}),await window.tb.fs.promises.symlink(`/apps/system/${Sn}.tapp/index.json`,`/home/${sn}/desktop/${Sn}.lnk`)}await window.tb.fs.promises.writeFile(`/home/${sn}/desktop/.desktop.json`,JSON.stringify(rn)),O&&Array.isArray(O)&&O[0]?(await window.tb.fs.promises.writeFile(`/apps/user/${sn}/files/config.json`,JSON.stringify({"quick-center":!0,"sidebar-width":180,drives:{"File System":`/home/${sn}/`,...O[0].davs.reduce((An,Cn)=>{const Sn=Cn.name||Cn.driveName;return An[Sn]=`/mnt/${Sn}/`,An},{})},storage:{"File System":"storage-device",localStorage:"storage-device"},"open-collapsibles":{"quick-center":!0,drives:!0},"show-hidden-files":!1}),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/files/davs.json`,JSON.stringify(O[0].davs,null,2))):(await window.tb.fs.promises.writeFile(`/apps/user/${sn}/files/config.json`,JSON.stringify({"quick-center":!0,"sidebar-width":180,drives:{"File System":`/home/${sn}/`},storage:{"File System":"storage-device",localStorage:"storage-device"},"open-collapsibles":{"quick-center":!0,drives:!0},"show-hidden-files":!1}),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/files/davs.json`,JSON.stringify([]))),await window.tb.fs.promises.mkdir(`/apps/user/${sn}/browser`),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/browser/favorites.json`,JSON.stringify([])),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/browser/userscripts.json`,JSON.stringify([])),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify(xn));const wn=await(await fetch("/apps/files.tapp/icons.json")).json(),vn=Object.keys(wn["name-to-path"]);var dn={};await window.tb.fs.promises.mkdir("/system/etc/terbium/file-icons");for(const An of vn){const Cn=`/system/etc/terbium/file-icons/${An}.svg`;dn[An]=Cn;const Sn=wn["name-to-path"][An];await window.tb.fs.promises.writeFile(Cn,Sn)}await window.tb.fs.promises.writeFile("/system/etc/terbium/file-icons.json",JSON.stringify({"ext-to-name":wn["ext-to-name"],"name-to-path":dn})),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/files/quick-center.json`,JSON.stringify({paths:{Desktop:`/home/${sn}/desktop`,Documents:`/home/${sn}/documents`,Images:`/home/${sn}/images`,Videos:`/home/${sn}/videos`,Music:`/home/${sn}/music`,Trash:"/system/trash"}}),"utf8"),await window.tb.fs.promises.writeFile(`/apps/user/${sn}/terminal/info.json`,JSON.stringify({})),await window.tb.fs.promises.mkdir(`/apps/user/${sn}/app store/`),O&&Array.isArray(O)&&O[0].apps?await window.tb.fs.promises.writeFile(`/apps/user/${sn}/app store/repos.json`,JSON.stringify(O[0].apps.repos),"utf8"):await window.tb.fs.promises.writeFile(`/apps/user/${sn}/app store/repos.json`,JSON.stringify([{name:"TB App Repo",url:"https://raw.githubusercontent.com/TerbiumOS/tb-repo/refs/heads/main/manifest.json"},{name:"XSTARS XTRAS",url:"https://raw.githubusercontent.com/Notplayingallday383/app-repo/refs/heads/main/manifest.json"},{name:"Anura App Repo",url:"https://raw.githubusercontent.com/MercuryWorkshop/anura-repo/refs/heads/master/manifest.json",icon:"https://anura.pro/icon.png"}]))}return!0}function InformationCircleIcon({title:sn,titleId:O,...rn},an){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:an,"aria-labelledby":O},rn),sn?reactExports.createElement("title",{id:O},sn):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const ForwardRef=reactExports.forwardRef(InformationCircleIcon),pw=new pwd;function Setup(){const[sn,O]=reactExports.useState(1),[rn,an]=reactExports.useState(1),un=reactExports.useRef(null);var dn=()=>{};const hn=zn=>{O(rn),an(zn||(Dn=>Math.min(Dn+1,5)))},mn=()=>{O(rn),rn===2.1||rn===2.2?(sessionStorage.removeItem("tacc"),an(2)):rn===2.3||rn===2.4||rn===2.5?an(2.2):rn===3.1?an(2.5):rn===3?sessionStorage.getItem("tacc")?an(2.5):an(2.1):an(zn=>Math.max(zn-1,1))};window.libcurlLock||(window.libcurlLock=!0,libcurl.load_wasm("https://cdn.jsdelivr.net/npm/libcurl.js@latest/libcurl.wasm")),libcurl.set_websocket(`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`);const xn=auth,gn=["orange","red","green","blue","purple","pink","yellow"],wn=()=>{const zn=document.createElement("input");zn.type="file",zn.accept="img/*",zn.onchange=()=>{const In=zn.files[0],Ln=new FileReader;Ln.onload=()=>{const Wn=document.createElement("img");Wn.classList.add("opacity-0","pointer-events-none"),Wn.src=Ln.result,Wn.onload=()=>{const Fn=document.createElement("div");["w-screen","h-screen","fixed","top-0","left-0","right-0","bottom-0","z-999999","bg-[#000000a6]","flex","flex-col","justify-center","items-center","gap-[10px]"].forEach(ar=>Fn.classList.add(ar));const Vn=document.createElement("div");Vn.className="cropper-img-container",["bg-[#ffffff0a]","lg:w-[500px]","lg:h-[500px]","md:w-[400px]","md:h-[400px]","sm:w-[300px]","sm:h-[300px]","flex","justify-center","items-center","rounded-[8px]","overflow-hidden"].forEach(ar=>Vn.classList.add(ar));const Yn=document.createElement("img");Yn.src=Wn.src,Yn.classList.add("cropper-img"),Vn.classList.add("w-[500px]"),Vn.classList.add("h-[500px]"),Yn.style.objectFit="cover",Yn.style.objectPosition="center",Vn.appendChild(Yn),Fn.appendChild(Vn),document.body.appendChild(Fn);const Qn=new Cropper(Yn,{aspectRatio:1,viewMode:1,cropBoxResizable:!1,movable:!0,rotatable:!0,scalable:!0,responsive:!0}),Xn=document.createElement("div");Xn.className="flex w-[500px] justify-between items-center",Fn.appendChild(Xn);const rr=document.createElement("button");rr.className="save broken_button cursor-pointer",rr.innerText="Save",["bg-[#1d1d1d]","text-[#ffffff38]","border-[#ffffff22]","hover:bg-[#414141]","hover:text-[#ffffff8d]","focus:bg-[#ffffff1f]","focus:text-[#ffffff8d]","focus:border-[#73a9ffd6]","focus:ring-[#73a9ff74]","focus:outline-hidden","focus:ring-2","ring-[transparent]","ring-0","border-[1px]","font-[600]","px-[20px]","py-[8px]","h-[18px]","rounded-[6px]","transition","duration-150"].forEach(ar=>rr.classList.add(ar)),rr.onclick=()=>{const ar=Qn.getCroppedCanvas(),or=document.querySelector(".pfp");ar.toBlob(dr=>{new Compressor(dr,{quality:.5,success(xr){const Dr=new FileReader;Dr.readAsDataURL(xr),Dr.onload=()=>{or.style.background=`url(${Dr.result})`,or.style.backgroundSize="cover",or.style.backgroundPosition="center",or.style.backgroundRepeat="no-repeat",or.setAttribute("data-src",Dr.result),document.body.removeChild(Fn)}}})})};const Jn=document.createElement("button");Jn.className="cancel broken_button cursor-pointer",Jn.innerText="Cancel",["bg-[#1d1d1d]","text-[#ffffff38]","border-[#ffffff22]","hover:bg-[#414141]","hover:text-[#ffffff8d]","focus:bg-[#ffffff1f]","focus:text-[#ffffff8d]","focus:border-[#73a9ffd6]","focus:ring-[#73a9ff74]","focus:outline-hidden","focus:ring-2","ring-[transparent]","ring-0","border-[1px]","font-[600]","px-[20px]","py-[8px]","h-[18px]","rounded-[6px]","transition","duration-150"].forEach(ar=>Jn.classList.add(ar)),Jn.onclick=()=>{document.body.removeChild(Fn)},Xn.appendChild(Jn),Xn.appendChild(rr)}},Ln.readAsDataURL(In)},zn.click()},vn=async()=>{window.onbeforeunload=Xn=>{Xn.preventDefault(),Xn.returnValue="Terbium is still updating"},window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Initializing File System..."}));const zn=await init();console.log(`Init State: ${zn}`),window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Setting up user..."}));let Dn=JSON.parse(sessionStorage.getItem("new-user"));sessionStorage.setItem("new-user",JSON.stringify(Dn));const In=Dn.username;Dn.id=In;let Ln;typeof Dn.password=="string"&&Dn.password.length>0?Ln=pw.harden(Dn.password):Ln=!1;const Wn=Dn.email;Wn?await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify([Dn],null,2),"utf8"):await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify([],null,2),"utf8");const Fn={id:In,username:In,password:Ln,pfp:Dn.pfp,perm:Dn.perm};if(Dn.securityQuestion&&(Fn.securityQuestion={question:Dn.securityQuestion.question,answer:pw.harden(Dn.securityQuestion.answer)}),sessionStorage.getItem("tacc-settings")==="null"){const Xn={settings:Fn,apps:[],davs:[]};await setinfo(Wn,Dn.password,"tbs",Xn)}window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Finalizing setup..."})),await window.tb.fs.promises.writeFile(`/home/${In}/user.json`,JSON.stringify(Fn),"utf8"),await window.tb.fs.promises.writeFile("/system/etc/terbium/sudousers.json",JSON.stringify([In]),"utf8"),await window.tb.fs.promises.mkdir(`/home/${In}/documents/`),await window.tb.fs.promises.mkdir(`/home/${In}/images/`),await window.tb.fs.promises.mkdir(`/home/${In}/videos/`),await window.tb.fs.promises.mkdir(`/home/${In}/music/`),window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Finalizing settings..."}));let Pn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${In}/settings.json`,"utf8")),Vn=JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8"));(!Vn.setup||Vn.setup===!1)&&(Vn.setup=!0),Vn.defaultUser=In;const Zn=sessionStorage.getItem("selectedTransport")||"Default (Epoxy)";Zn==="Default (Epoxy)"?Pn.transport="Default (Epoxy)":Zn==="Anura BCC"?Pn.transport="Anura BCC":Pn.transport="Libcurl";const Yn=sessionStorage.getItem("selectedBare")||`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`;if(Pn.wispServer=Yn,await window.tb.fs.promises.writeFile(`/home/${In}/settings.json`,JSON.stringify(Pn),"utf8"),await window.tb.fs.promises.writeFile("/system/etc/terbium/settings.json",JSON.stringify(Vn),"utf8"),window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Finalizing setup..."})),!await fileExists("//apps/system/settings.tapp/wisp-servers.json")){const Xn=[{id:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`,name:"Backend"},{id:"wss://wisp.terbiumon.top/wisp/",name:"TB Wisp Instance"}];await window.tb.fs.promises.writeFile("//apps/system/settings.tapp/wisp-servers.json",JSON.stringify(Xn))}window.dispatchEvent(new CustomEvent("oobe-setupstage",{detail:"Restarting Terbium..."})),localStorage.setItem("setup","true"),window.onbeforeunload=null,sessionStorage.getItem("logged-in")===null||sessionStorage.getItem("logged-in")===void 0||sessionStorage.getItem("logged-in"),window.location.reload(),sessionStorage.setItem("firstRun","true"),sessionStorage.removeItem("new-user")},An=()=>(setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),jsxRuntimeExports.jsx("div",{ref:zn=>{un.current=zn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"text-container relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsxs("div",{className:"bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text flex flex-col lg:items-end md:items-center sm:items-center",children:[jsxRuntimeExports.jsxs("span",{className:"font-[700] lg:text-[34px] md:text-[28px] sm:text-[22px] text-right duration-150",children:["The next generation of ",jsxRuntimeExports.jsx("span",{className:"font-[1000] duration-150",children:"Terbium."})]}),jsxRuntimeExports.jsx("span",{className:"font-[1000] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Built to last."})]})})})),Cn=()=>(setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),jsxRuntimeExports.jsxs("div",{ref:zn=>{un.current=zn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Choose what kind of account you want to use"}),jsxRuntimeExports.jsx("div",{className:"relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2",children:[jsxRuntimeExports.jsx("button",{className:`cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150 ${rn===5?"translate-y-8 opacity-0 pointer-events-none":""}`,onMouseDown:()=>hn(2.1),children:"Local Account"}),jsxRuntimeExports.jsx("button",{className:`cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150 ${rn===5?"translate-y-8 opacity-0 pointer-events-none":""}`,onMouseDown:()=>hn(2.2),children:"Terbium Cloud Account"})]})})]})),Sn=()=>{const zn=reactExports.useRef(null),Dn=reactExports.useRef(null),[In,Ln]=reactExports.useState(!1),[Wn,Fn]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{try{(await libcurl.fetch("https://auth.terbiumon.top/ping",{method:"GET"})).ok||(Ln(!1),mn()),Ln(!0)}catch{Ln(!1),mn()}})()},[In]),setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),dn=()=>{if(!In)return;const Pn=Dn.current?.value||"";xn.signIn.email({email:zn.current?.value||"",password:Pn,rememberMe:!0,fetchOptions:{onSuccess:async Vn=>{const Zn=await getinfo(null,null,"tbs");Zn.settings===null||Zn.settings===void 0?sessionStorage.setItem("tacc-settings","null"):sessionStorage.setItem("tacc-settings",JSON.stringify(Zn.settings)),sessionStorage.setItem("new-user",JSON.stringify({username:Vn.data.user.name,password:Pn,perm:"admin",pfp:Vn.data.user.image,email:Vn.data.user.email})),hn(2.5)},onError:Vn=>{Fn(Vn.error.message||"An unknown error occurred during registration.")}}})},jsxRuntimeExports.jsx("div",{ref:Pn=>{un.current=Pn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:In?jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Sign in with Terbium Cloud"}),jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col justify-center items-end",children:[Wn&&jsxRuntimeExports.jsxs("div",{className:"w-full p-2 mb-2 bg-red-500/20 border border-red-500/50 rounded-md text-sm text-red-300",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"inline-block w-5 h-5 mr-1"})," ",Wn]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("input",{ref:zn,type:"text",className:"username cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:placeholder-[#ffffff48] focus:text-[#ffffff] focus:outline-hidden focus:ring-2",placeholder:"email",onKeyDown:Pn=>{Pn.key==="Enter"&&Dn.current&&Dn.current.focus()}}),jsxRuntimeExports.jsx("input",{ref:Dn,type:"password",className:"password cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] caret-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"password",onKeyDown:Pn=>{Pn.key==="Enter"&&Dn.current&&dn()}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-2",children:[jsxRuntimeExports.jsx("button",{className:"cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onMouseDown:()=>hn(2.3),children:"Create Account"}),jsxRuntimeExports.jsx("button",{className:"cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onMouseDown:()=>hn(2.4),children:"Forgot Password"})]})]})]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Terbium Cloud"}),jsxRuntimeExports.jsx("p",{children:"Connecting to Authentication servers please wait..."})]})})},Nn=()=>{const zn=reactExports.useRef(null),Dn=reactExports.useRef(null),In=reactExports.useRef(null),Ln=reactExports.useRef(null),[Wn,Fn]=reactExports.useState("");return setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),dn=()=>{xn.signUp.email({email:Ln.current?.value||"",password:Dn.current?.value||"",name:zn.current?.value||"",fetchOptions:{onSuccess:async Pn=>{console.log("Successfully registered:",Pn),sessionStorage.setItem("new-user",JSON.stringify({username:zn.current?.value,password:Dn.current?.value,perm:"admin",pfp:In.current?.getAttribute("data-src")||`/assets/img/default - ${gn[Math.floor(Math.random()*gn.length)]}.png`})),hn(2.5)},onError:Pn=>{Pn.error.message.toLocaleLowerCase()==="missing or null origin"?(localStorage.removeItem("libcurl_cookies"),dn()):Fn(Pn.error.message||"An unknown error occurred during registration.")}},image:In.current?.getAttribute("data-src")||`/assets/img/default - ${gn[Math.floor(Math.random()*gn.length)]}.png`})},jsxRuntimeExports.jsxs("div",{ref:Pn=>{un.current=Pn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Create a Terbium Cloud account"}),jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col justify-center items-end",children:[Wn&&jsxRuntimeExports.jsxs("div",{className:"w-full p-2 mb-2 bg-red-500/20 border border-red-500/50 rounded-md text-sm text-red-300",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"inline-block w-5 h-5 mr-1"})," ",Wn]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[jsxRuntimeExports.jsxs("div",{ref:In,className:"pfp relative group w-[100px] h-[100px] rounded-[50%] bg-[#ffffff0a] border-[#3b3b3b] border-[2px] transition duration-150 ring-[transparent] ring-0 cursor-pointer",onMouseDown:()=>{wn()},children:[jsxRuntimeExports.jsx("div",{className:"uploader opacity-0 size-full rounded-[50%] bg-[#00000060] transition duration-150 group-hover:opacity-100 cursor-pointer"}),jsxRuntimeExports.jsx("p",{className:"absolute top-1/2 cursor-pointer left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 text-[#cccccc] text-[16px] font-[600] group-hover:opacity-100 transition duration-150 pointer-events-none",children:"Upload"})]}),jsxRuntimeExports.jsx("input",{ref:zn,type:"text",className:"username cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:placeholder-[#ffffff48] focus:text-[#ffffff] focus:outline-hidden focus:ring-2",placeholder:"username",onKeyDown:Pn=>{Pn.key==="Enter"&&Dn.current&&Dn.current.focus()}}),jsxRuntimeExports.jsx("input",{ref:Dn,type:"password",className:"password cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] caret-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"password",onKeyDown:Pn=>{Pn.key==="Enter"&&Ln.current&&Ln.current.focus()}}),jsxRuntimeExports.jsx("input",{ref:Ln,type:"text",className:"email cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] caret-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"email address",onKeyDown:Pn=>{Pn.key==="Enter"&&dn()}}),jsxRuntimeExports.jsx("button",{className:"cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onMouseDown:()=>hn(2.2),children:"Already have an account? Sign in"})]})]})]})},jn=()=>{const[zn,Dn]=reactExports.useState(!1),In=JSON.parse(sessionStorage.getItem("new-user"))||{};return setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),reactExports.useEffect(()=>{sessionStorage.getItem("tacc-settings")!=="null"&&Dn(!0)},[zn]),dn=()=>{zn?hn(3.1):(hn(3),sessionStorage.setItem("tacc","true"))},jsxRuntimeExports.jsxs("div",{ref:Ln=>{un.current=Ln},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Confirm Identity"}),jsxRuntimeExports.jsx("img",{src:In.pfp,className:"w-[100px] h-[100px] rounded-[50%] mb-[10px]"}),jsxRuntimeExports.jsxs("p",{className:"text-[#ffffffb3] text-center lg:w-[400px] md:w-[300px] sm:w-[250px] text-2xl",children:["Welcome, ",In.username,"!"]}),zn?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"w-full p-2 mb-2 bg-green-500/20 border border-green-500/50 rounded-md text-sm text-green-300",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"inline-block w-5 h-5 mr-1"})," Terbium Settings were found for this account."]})}):jsxRuntimeExports.jsxs("div",{className:"w-full p-2 mb-2 bg-red-500/20 border border-red-500/50 rounded-md text-sm text-red-300",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"inline-block w-5 h-5 mr-1"})," Terbium Settings were not found for this account."]}),jsxRuntimeExports.jsx("p",{children:"Click next to use this account"})]})},Hn=()=>{setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150);const zn=reactExports.useRef(null),Dn=reactExports.useRef(null),In=reactExports.useRef(null),Ln=reactExports.useRef(null),Wn=reactExports.useRef(null),[Fn,Pn]=reactExports.useState(!1);return dn=()=>{const Zn=In.current?.getAttribute("data-src")||`/assets/img/default - ${gn[Math.floor(Math.random()*gn.length)]}.png`;let Yn=JSON.parse(sessionStorage.getItem("new-user"))||{};Yn.pfp=Zn,sessionStorage.setItem("new-user",JSON.stringify(Yn));const Qn=Dn.current?.value||!1,Xn=zn.current?.value||"Guest";let rr=JSON.parse(sessionStorage.getItem("new-user"))||{};rr.username=Xn,rr.password=Qn,rr.perm="admin",Wn.current?.value&&Ln.current?.value&&Wn.current.value.length>0&&Ln.current.value.length>0&&(rr.securityQuestion={question:Ln.current.value,answer:Wn.current.value}),sessionStorage.setItem("new-user",JSON.stringify(rr)),un.current?.classList.add("-translate-x-6"),un.current?.classList.add("opacity-0"),setTimeout(()=>{hn(3)},150)},jsxRuntimeExports.jsx("div",{ref:Vn=>{un.current=Vn},className:"duration-150 -translate-x-6 opacity-0 flex-col justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col justify-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text mb-[20px]",children:"Setup your account."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-[10px] justify-center items-center",children:[jsxRuntimeExports.jsxs("div",{ref:In,className:"pfp relative group w-[100px] h-[100px] rounded-[50%] bg-[#ffffff0a] border-[#3b3b3b] border-[2px] transition duration-150 ring-[transparent] ring-0 cursor-pointer",onMouseDown:()=>{wn()},children:[jsxRuntimeExports.jsx("div",{className:"uploader opacity-0 size-full rounded-[50%] bg-[#00000060] transition duration-150 group-hover:opacity-100 cursor-pointer"}),jsxRuntimeExports.jsx("p",{className:"absolute top-1/2 cursor-pointer left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 text-[#cccccc] text-[16px] font-[600] group-hover:opacity-100 transition duration-150 pointer-events-none",children:"Upload"})]}),jsxRuntimeExports.jsxs("div",{className:"inputs flex flex-col gap-[10px] justify-center items-left",children:[jsxRuntimeExports.jsx("input",{ref:zn,type:"text",className:"username cursor-[var(--cursor-text)] rounded-[6px] px-[10px] py-[8px] text-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:placeholder-[#ffffff48] focus:text-[#ffffff] focus:outline-hidden focus:ring-2",placeholder:"Username",onKeyDown:Vn=>{Vn.key==="Enter"&&Dn.current&&Dn.current.focus()}}),jsxRuntimeExports.jsx("div",{className:"pass relative flex justify-center items-center gap-[10px]",children:jsxRuntimeExports.jsx("input",{ref:Dn,type:"password",className:"password cursor-(--cursor-text) rounded-md px-2.5 py-2 w-full text-[#ffffff] caret-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border transition duration-150 ring-transparent ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"Password",onChange:Vn=>{Vn.target.value.length>0?Pn(!0):Pn(!1)}})})]}),Fn?jsxRuntimeExports.jsxs("div",{className:"security-section mt-4 p-3 rounded bg-[#ffffff0a] border border-[#ffffff22] w-[250]",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-[#ffffffa0] mb-2",children:"Security Question (optional)"}),jsxRuntimeExports.jsx("input",{ref:Ln,type:"text",className:"security-question mb-2 w-full rounded-[6px] px-[10px] py-[8px] text-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"Enter a security question"}),jsxRuntimeExports.jsx("input",{ref:Wn,type:"text",className:"security-answer w-full rounded-[6px] px-[10px] py-[8px] text-[#ffffff] placeholder-[#ffffff38] bg-[#ffffff0a] border-[#ffffff22] border-[1px] transition duration-150 ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:text-[#ffffff] focus:placeholder-[#ffffff48] focus:outline-hidden focus:ring-2",placeholder:"Enter your answer"})]}):null]})]})})},Bn=()=>{setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),dn=()=>{un.current?.classList.add("-translate-x-6"),un.current?.classList.add("opacity-0"),setTimeout(()=>{hn()},150)};const[zn,Dn]=reactExports.useState(()=>sessionStorage.getItem("selectedProxy")||"Scramjet"),[In,Ln]=reactExports.useState(!1),Wn=()=>{Ln(Pn=>!Pn)},Fn=Pn=>{Dn(Pn),sessionStorage.setItem("selectedProxy",Pn),Ln(!1)};return jsxRuntimeExports.jsxs("div",{ref:Pn=>{un.current=Pn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Choose your default proxy."}),jsxRuntimeExports.jsxs("div",{className:"dropdown def-proxy",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-title",onMouseDown:Wn,children:[jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:zn}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-[22px] h-[22px] pointer-events-none",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),In&&jsxRuntimeExports.jsxs("div",{className:"dropdown-options active",children:[jsxRuntimeExports.jsx("div",{className:"dropdown-option",onMouseDown:()=>Fn("Ultraviolet"),children:jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:"Ultraviolet"})}),jsxRuntimeExports.jsx("div",{className:"dropdown-option",onMouseDown:()=>Fn("Scramjet"),children:jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:"Scramjet"})})]})]})]})},On=()=>{reactExports.useEffect(()=>{const Zn=setTimeout(()=>{un.current?.classList.remove("-translate-x-6","opacity-0")},150);return()=>clearTimeout(Zn)},[]),dn=()=>{hn(5)};const zn=JSON.parse(sessionStorage.getItem("tacc-settings"))||[],Dn=Zn=>{const Yn=zn[0][Zn];if(Zn==="settings"&&Yn&&typeof Yn=="object"){const Qn={...Yn};return Object.entries(Qn).flatMap(([Xn,rr])=>rr&&typeof rr=="object"&&!Array.isArray(rr)?Object.entries(rr).map(([sr,Jn])=>({id:`settings.${Xn}.${sr}`,label:`${Xn}.${sr}`,raw:Jn})):[{id:`settings.${Xn}`,label:Xn,raw:rr}])}return Array.isArray(Yn)?Yn.length===0?[]:Yn.map((Qn,Xn)=>{let rr=typeof Qn=="object"&&Qn?Qn.name||Qn.url||JSON.stringify(Qn).slice(0,30):String(Qn);return{id:`${Zn}[${Xn}]`,label:rr,raw:Qn}}):Yn&&typeof Yn=="object"?Object.keys(Yn).map(Qn=>({id:`${Zn}.${Qn}`,label:Qn,raw:Yn[Qn]})):[{id:Zn,label:`${Zn}: ${String(Yn)}`,raw:Yn}]},In=Object.keys(zn[0]),[Ln,Wn]=reactExports.useState(()=>In.reduce((Zn,Yn)=>(Zn[Yn]=Dn(Yn).map(Qn=>Qn.id),Zn),{})),Fn=(Zn,Yn)=>Wn(Qn=>{const Xn=new Set(Qn[Zn]||[]);return Xn.has(Yn)?Xn.delete(Yn):Xn.add(Yn),{...Qn,[Zn]:Array.from(Xn)}}),Pn=(Zn,Yn)=>{const Qn=Dn(Zn).map(Xn=>Xn.id);Wn(Xn=>({...Xn,[Zn]:Yn?Qn:[]}))},Vn=({cat:Zn})=>{const Yn=Dn(Zn),Qn=Ln[Zn]||[],Xn=Yn.length>0&&Yn.every(sr=>Qn.includes(sr.id)),rr=Qn.length===0;return jsxRuntimeExports.jsxs("div",{className:"w-[420px] max-w-full p-4 rounded-md bg-[#111111] border border-[#2a2a2a] mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("div",{className:"font-[700] text-lg",children:Zn}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"px-2 py-1 text-sm cursor-pointer",onMouseDown:()=>Pn(Zn,!0),children:"Select all"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 text-sm cursor-pointer",onMouseDown:()=>Pn(Zn,!1),children:"Clear"})]})]}),Yn.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-[#ffffff88]",children:"There are no options at this time."}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[Yn.filter(sr=>sr.id!=="apps.installed").map(sr=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Qn.includes(sr.id),onChange:()=>Fn(Zn,sr.id)}),jsxRuntimeExports.jsx("span",{className:"text-[#ffffffb3]",children:sr.label}),typeof sr.raw!="object"&&sr.raw!==null?jsxRuntimeExports.jsx("span",{className:"ml-auto text-[#ffffff44] text-xs",children:String(sr.raw)}):null]},sr.id)),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-xs text-[#ffffff66] mt-1",children:jsxRuntimeExports.jsx("span",{children:Xn?"All selected":rr?"None selected":`${Qn.length} selected`})})]})]})};return jsxRuntimeExports.jsxs("div",{ref:Zn=>{un.current=Zn},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Restore Terbium Settings"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4 justify-center mt-4 overflow-y-auto max-h-[50%] p-2",children:In.map(Zn=>jsxRuntimeExports.jsx(Vn,{cat:Zn},Zn))})]})},Mn=()=>{setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),dn=()=>{un.current?.classList.add("-translate-x-6"),un.current?.classList.add("opacity-0"),setTimeout(()=>{hn()},150)};const[zn,Dn]=reactExports.useState(()=>sessionStorage.getItem("selectedBare")||"Backend (Default)"),[In,Ln]=reactExports.useState(()=>sessionStorage.getItem("selectedTransport")||"Default (Epoxy)"),[Wn,Fn]=reactExports.useState(!1),[Pn,Vn]=reactExports.useState(!1),[Zn,Yn]=reactExports.useState(""),Qn=[{label:"Backend (Default)"},{label:"TB Wisp Instance"},{label:"Custom Server"}],Xn=[{label:"Default (Epoxy)"},{label:"Libcurl"},{label:"Anura BCC"}],rr=nr=>{Dn(nr),nr==="Custom Server"?Yn(""):nr==="Backend (Default)"?sessionStorage.setItem("selectedBare",`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`):nr==="TB Wisp Instance"&&sessionStorage.setItem("selectedBare","wss://wisp.terbiumon.top/wisp/"),Fn(!1)},sr=nr=>{Ln(nr),sessionStorage.setItem("selectedTransport",nr),Vn(!1)},Jn=async nr=>{const ar=nr.target.value;Yn(ar),sessionStorage.setItem("selectedBare",ar);const or=[{id:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`,name:"Backend"},{id:"wss://wisp.terbiumon.top/wisp/",name:"TB Wisp Instance"},{id:ar,name:"Custom Wisp"}];await window.tb.fs.promises.writeFile("//apps/system/settings.tapp/wisp-servers.json",JSON.stringify(or))};return jsxRuntimeExports.jsxs("div",{ref:nr=>{un.current=nr},className:"duration-150 -translate-x-6 opacity-0 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[800] text-[34px] bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text lg:mb-[20px] md:mb-[20px] sm:mb-[10px] lg:text-[34px] md:text-[28px] sm:text-[22px] duration-150",children:"Customize Proxy Settings"}),jsxRuntimeExports.jsxs("div",{className:"dropdown def-proxy mr-[185px]",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-title",onMouseDown:()=>Fn(nr=>!nr),children:[jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:zn}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-[22px] h-[22px] pointer-events-none",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),Wn&&jsxRuntimeExports.jsx("div",{className:"dropdown-options active",children:Qn.map((nr,ar)=>jsxRuntimeExports.jsx("div",{className:"dropdown-option",onMouseDown:()=>rr(nr.label),children:jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:nr.label})},ar))})]}),jsxRuntimeExports.jsxs("div",{className:"dropdown def-transport ml-[230px] mt-[-42px]",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-title",onMouseDown:()=>Vn(nr=>!nr),children:[jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:In}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-[22px] h-[22px] pointer-events-none",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),Pn&&jsxRuntimeExports.jsx("div",{className:"dropdown-options active",children:Xn.map((nr,ar)=>jsxRuntimeExports.jsx("div",{className:"dropdown-option",onMouseDown:()=>sr(nr.label),children:jsxRuntimeExports.jsx("span",{className:"pointer-events-none",children:nr.label})},ar))})]}),zn==="Custom Server"&&jsxRuntimeExports.jsx("input",{type:"url",value:Zn,onChange:Jn,placeholder:"Enter custom server",className:"custom rounded-[6px] px-[10px] py-[8px] mt-[10px] bg-[#ffffff0a] border-[#ffffff22] border-[1px] text-[#ffffff] caret-[#ffffff] placeholder-[#ffffff38] ring-[transparent] ring-0 focus:bg-[#ffffff1f] focus:border-[#73a9ffd6] focus:outline-hidden duration-150"})]})},Un=()=>{const zn=reactExports.useRef(!1),Dn=reactExports.useRef(null);return setTimeout(()=>{un.current?.classList.remove("-translate-x-6"),un.current?.classList.remove("opacity-0")},150),reactExports.useEffect(()=>{if(zn.current)return;zn.current=!0;const In=Ln=>{console.log("Setup Stage:",Ln.detail),Dn.current&&(Dn.current.innerHTML=Ln.detail)};window.addEventListener("oobe-setupstage",In),(async()=>await vn())()},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{ref:In=>{un.current=In},className:"font-[700] text-[28px] duration-150 -translate-x-6 opacity-0",children:"Welcome to Terbium."}),jsxRuntimeExports.jsx("p",{ref:Dn,className:"font-bold text-lg text-[#ffffff66] mt-2",children:"Starting Services..."})]})},Tn=()=>{const zn=reactExports.useRef(null);return setTimeout(()=>{zn.current?.classList.remove("translate-y-8","opacity-0")},150),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-2.5 left-2.5 right-2.5 h-max flex justify-center items-center max-w-full overflow-x-auto overflow-y-hidden",children:[rn===1?jsxRuntimeExports.jsx("button",{ref:Dn=>{zn.current=Dn},className:"translate-y-8 opacity-0 cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150",onMouseDown:()=>{un.current?.classList.add("-translate-x-6"),un.current?.classList.add("opacity-0"),setTimeout(()=>{hn()},150)},children:"Start"}):null,rn>1?jsxRuntimeExports.jsxs("div",{ref:Dn=>{rn<4&&(zn.current=Dn)},className:`${rn===2&&sn!==3&&"translate-y-8 opacity-0"} duration-150 w-full flex flex-wrap justify-between gap-2 max-w-full`,children:[rn<5&&jsxRuntimeExports.jsx("button",{className:`cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150 ${rn===5?"translate-y-8 opacity-0 pointer-events-none":""}`,onMouseDown:()=>mn(),children:"Previous"}),rn>2&&rn<5&&jsxRuntimeExports.jsx("button",{ref:Dn=>{rn===4&&(zn.current=Dn)},className:`${rn===5&&"translate-y-8 opacity-0"} cursor-pointer bg-[#ffffff0a] text-[#ffffff38] border-[#ffffff22] hover:bg-[#ffffff10] hover:text-[#ffffff8d] focus:bg-[#ffffff1f] focus:text-[#ffffff8d] focus:border-[#73a9ffd6] focus:ring-[#73a9ff74] focus:outline-hidden focus:ring-2 ring-[transparent] ring-0 border-[1px] font-[600] px-[20px] py-[8px] rounded-[6px] duration-150`,onMouseDown:()=>{rn<5&&dn()},children:rn<4?"Next":"Finish"})]}):null]})};return jsxRuntimeExports.jsxs("div",{className:"bg-[#0e0e0e] h-full",children:[jsxRuntimeExports.jsxs("div",{className:"steps-container flex flex-col lg:flex-row md:flex-row w-full h-full overflow-y-hidden",children:[jsxRuntimeExports.jsx("div",{className:"logo sm:h-full sm:w-1/2 h-1/2 w-full flex flex-col justify-end items-center sm:justify-center sm:items-center overflow-y-hidden",children:jsxRuntimeExports.jsx("img",{src:"/assets/img/logo.png",alt:"TB",className:"w-[240px] lg:w-[480px] h-auto"})}),jsxRuntimeExports.jsx("div",{className:"sm:h-full sm:w-1/2 h-1/2 w-full flex flex-col justify-start items-center text-center sm:justify-center sm:items-center overflow-y-hidden",children:rn===1?jsxRuntimeExports.jsx(An,{}):rn===2?jsxRuntimeExports.jsx(Cn,{}):rn===2.1?jsxRuntimeExports.jsx(Hn,{}):rn===2.2?jsxRuntimeExports.jsx(Sn,{}):rn===2.3?jsxRuntimeExports.jsx(Nn,{}):rn===2.4?jsxRuntimeExports.jsx(Sn,{}):rn===2.5?jsxRuntimeExports.jsx(jn,{}):rn===3?jsxRuntimeExports.jsx(Bn,{}):rn===3.1?jsxRuntimeExports.jsx(On,{}):rn===4?jsxRuntimeExports.jsx(Mn,{}):rn===5?jsxRuntimeExports.jsx(Un,{}):null})]}),jsxRuntimeExports.jsx(Tn,{})]})}function Updater(){const[sn,O]=reactExports.useState(0),rn=reactExports.useRef(null);async function an(un,dn,hn){await dirExists(dn)||await window.tb.fs.promises.mkdir(dn);const mn=await window.tb.fs.promises.readdir(un),xn=mn.length;for(const[gn,wn]of mn.entries()){const vn=await window.tb.fs.promises.stat(`${un}/${wn}`);vn&&vn.isDirectory()?(await window.tb.fs.promises.mkdir(`${dn}/${wn}`),await an(`${un}/${wn}`,`${dn}/${wn}`)):await window.tb.fs.promises.writeFile(`${dn}/${wn}`,await window.tb.fs.promises.readFile(`${un}/${wn}`,"utf8")),rn.current.innerText=`Creating a copy of: ${wn}...`,O(Math.floor((gn+1)/xn*100))}}return reactExports.useEffect(()=>{const un=async()=>{window.onbeforeunload=An=>{An.preventDefault(),An.returnValue="Terbium is still updating"};let mn=["about.tapp","app store.tapp","browser.tapp","calculator.tapp","feedback.tapp","files.tapp","media viewer.tapp","settings.tapp","task manager.tapp","terminal.tapp","text editor.tapp"],xn=["cat.js","cd.js","clear.js","curl.js","echo.js","exit.js","git.js","help.js","info.json","info.schema.json","ls.js","mkdir.js","node.js","ping.js","pkg.js","pkill.js","pwd.js","qwick.js","qwick_install.js","rm.js","rmdir.js","sysfetch.js","taskkill.js","tb.js","touch.js","unzip.js"];await dirExists("/system/tmp/terb-upd/")&&await window.tb.sh.promises.rm("/system/tmp/terb-upd/",{recursive:!0}),rn.current.innerText="Installing latest version of TB...",await window.tb.fs.promises.mkdir("/system/tmp/terb-upd/");const gn=await window.tb.fs.promises.readdir("/apps/system/"),wn=await window.tb.fs.promises.readdir("/apps/system/terminal.tapp/scripts/");if(O(20),rn.current.innerText="Creating a backup",await fileExists("/apps/system/settings.tapp/wisp-servers.json"))await window.tb.fs.promises.writeFile("/system/tmp/terb-upd/wisp-servers.json",await window.tb.fs.promises.readFile("/apps/system/settings.tapp/wisp-servers.json"));else{const An=[{id:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`,name:"Backend"},{id:"wss://wisp.terbiumon.top/wisp/",name:"TB Wisp Instance"}];await window.tb.fs.promises.writeFile("/system/tmp/terb-upd/wisp-servers.json",JSON.stringify(An))}for(const An of gn)if(O(Cn=>Cn+1),mn.includes(An))if(An==="terminal.tapp")for(const Cn of wn)O(Sn=>Sn+1),xn.includes(Cn)||console.log(`Skipping ${Cn}...`);else await an(`/apps/system/${An}/`,`/system/tmp/terb-upd/${An}.old`),await window.tb.sh.promises.rm(`/apps/system/${An}/`,{recursive:!0});else console.log(`Skipping ${An}...`);O(50),rn.current.innerText="Updating Terbium...",O(0);for(const An of paths)if(O(Sn=>Sn+1),rn.current.innerText=`Installing ${An}...`,An.toString().endsWith("/"))try{await window.tb.fs.promises.mkdir(`/apps/system/${An.toString()}`,{recursive:!0})}catch(Sn){console.error(Sn)}else if(An.toString().endsWith(".tapp.zip")){const Sn=await fetch(`/apps/${An.toString()}`);if(!Sn.ok){console.error(`Failed to fetch /apps/${An.toString()}: ${Sn.status} ${Sn.statusText}`);continue}const Nn=await Sn.arrayBuffer();await window.tb.fs.promises.writeFile(`/apps/system/${An}`,window.tb.buffer.from(Nn)),await unzip(`/apps/system/${An}`,`/apps/system/${An.slice(0,-4)}`),await window.tb.fs.promises.unlink(`/apps/system/${An}`)}else{const Sn=`/apps/system/${An.toString()}`,Nn=Sn.substring(0,Sn.lastIndexOf("/"));try{await dirExists(Nn)||await window.tb.fs.promises.mkdir(Nn,{recursive:!0});const Hn=await(await fetch(`/apps/${An.toString()}`)).text();await window.tb.fs.promises.writeFile(Sn,Hn)}catch(jn){console.error(jn)}}await window.tb.fs.promises.writeFile("/apps/system/settings.tapp/wisp-servers.json",await window.tb.fs.promises.readFile("/system/tmp/terb-upd/wisp-servers.json")),await window.tb.fs.promises.writeFile("/system/etc/terbium/hash.cache",hash$1);const vn=sessionStorage.getItem("currAcc")||JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).defaultUser;if(!await fileExists("/apps/installed.json")){rn.current.innerText="Installing Terbium v2.0-Beta2 prerequisites...";let An=[{name:"About",config:"/apps/system/about.tapp/index.json",user:"System"},{name:"App Store",config:"/apps/system/app store.tapp/index.json",user:"System"},{name:"Calculator",config:"/apps/system/calculator.tapp/index.json",user:"System"},{name:"Feedback",config:"/apps/system/feedback.tapp/index.json",user:"System"},{name:"Files",config:"/apps/system/files.tapp/index.json",user:"System"},{name:"Media Viewer",config:"/apps/system/media viewer.tapp/index.json",user:"System"},{name:"Settings",config:"/apps/system/settings.tapp/index.json",user:"System"},{name:"Task Manager",config:"/apps/system/task manager.tapp/index.json",user:"System"},{name:"Terminal",config:"/apps/system/terminal.tapp/index.json",user:"System"},{name:"Text Editor",config:"/apps/system/text editor.tapp/index.json",user:"System"},{name:"Anura File Manager",config:"/system/etc/anura/configs/Anura File Manager.json",user:"System"}];const Cn=JSON.parse(await window.tb.fs.promises.readFile("/system/var/terbium/start.json","utf8")).system_apps;for(const Sn of Cn){let Nn="",jn="";typeof Sn.title=="object"&&Sn.title!==null&&"text"in Sn.title?jn=Sn.title.text:typeof Sn.title=="string"?jn=Sn.title:typeof Sn.name=="string"&&(jn=Sn.name),Nn=jn?.toLowerCase?.()||"";const Hn=mn.some(On=>On.toLowerCase()===Nn)||Nn==="anura file manager"||Nn==="browser",Bn=An.some(On=>On.name?.toLowerCase?.()===Nn||On.name?.toLowerCase?.()===jn?.toLowerCase?.());if(!Hn&&!Bn){let On="/apps/";if(Sn.name){let Mn=`/apps/system/${Sn.name}/`,Un="";await fileExists(`${Mn}.tbconfig`)?Un=`${Mn}.tbconfig`:(vn?Mn=`/apps/user/${vn}/${Sn.name}/`:Mn=`/apps/user/${JSON.parse(await window.tb.fs.promises.readFile("/system/etc/terbium/settings.json","utf8")).defaultUser}/${Sn.name}/`,await fileExists(`${Mn}.tbconfig`)?Un=`${Mn}.tbconfig`:Un=`${Mn}index.json`),Un&&(On=Un)}An.push({name:jn,config:On,user:vn||"System"})}}await window.tb.fs.promises.mkdir("/system/etc/anura/configs/"),await window.tb.fs.promises.writeFile("/apps/installed.json",JSON.stringify(An)),await window.tb.fs.promises.writeFile("/system/var/terbium/recent.json",JSON.stringify([]))}await fileExists(`/apps/user/${vn}/app store/repos.json`)||(await window.tb.fs.promises.mkdir(`/apps/user/${vn}/app store/`),await window.tb.fs.promises.writeFile(`/apps/user/${vn}/app store/repos.json`,JSON.stringify([{name:"TB App Repo",url:"https://raw.githubusercontent.com/TerbiumOS/tb-repo/refs/heads/main/manifest.json"},{name:"XSTARS XTRAS",url:"https://raw.githubusercontent.com/Notplayingallday383/app-repo/refs/heads/main/manifest.json"},{name:"Anura App Repo",url:"https://raw.githubusercontent.com/MercuryWorkshop/anura-repo/refs/heads/master/manifest.json",icon:"https://anura.pro/icon.png"}]))),await fileExists(`/apps/user/${vn}/browser/favorites.json`)||(await window.tb.fs.promises.mkdir(`/apps/user/${vn}/browser/`),await window.tb.fs.promises.writeFile(`/apps/user/${vn}/browser/favorites.json`,JSON.stringify([])),await window.tb.fs.promises.writeFile(`/apps/user/${vn}/browser/userscripts.json`,JSON.stringify([])));for(const An of await window.tb.fs.promises.readdir("/home/")){const Cn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${An}/settings.json`,"utf8"));Cn.window||(Cn.window={winAccent:"#ffffff",blurlevel:18,alwaysMaximized:!1,alwaysFullscreen:!1},Cn.showFPS=!1,await window.tb.fs.promises.writeFile(`/home/${An}/settings.json`,JSON.stringify(Cn,null,4)))}await dirExists("/system/etc/terbium/taccs.json")||await window.tb.fs.promises.writeFile("/system/etc/terbium/taccs.json",JSON.stringify({})),O(80),rn.current.innerText="Cleaning up...",O(95),await window.tb.sh.promises.rm("/system/tmp/terb-upd/",{recursive:!0}),window.onbeforeunload=null,sessionStorage.setItem("justUpdated","true"),O(100),rn.current.innerText="Restarting...",window.location.reload()},dn=async()=>{async function mn(gn,wn){const vn=await Filer.fs.promises.readdir(gn);for(const An of vn){const Cn=gn.endsWith("/")?gn+An:gn+"/"+An,Sn=wn.endsWith("/")?wn+An:wn+"/"+An;if((await Filer.fs.promises.stat(Cn)).isDirectory())await dirExists(Sn)||await window.tb.fs.promises.mkdir(Sn),await mn(Cn,Sn);else{const jn=await Filer.fs.promises.readFile(Cn);await window.tb.fs.promises.writeFile(Sn,jn)}rn.current.innerText=`Copying: ${Cn}`}}await mn("/","/"),O(85),rn.current.innerText="Recreating Desktop Shortcuts...";for(const gn of await window.tb.fs.promises.readdir("/home/")){const wn=JSON.parse(await window.tb.fs.promises.readFile(`/home/${gn}/desktop/.desktop.json`,"utf8"));for(const vn of wn){const An=await Filer.fs.promises.readlink(vn.item);await window.tb.fs.promises.symlink(An,vn.item),rn.current.innerText=`Creating shortcut: ${vn.name}.lnk...`}}O(93),rn.current.innerText="Formatting Filer...";const xn=new Filer.fs.Shell;for(const gn of await Filer.fs.promises.readdir("//"))await xn.promises.rm(`/${gn}`,{recursive:!0});O(99),rn.current.innerText="Migration complete!",sessionStorage.removeItem("migrateFs"),rn.current.innerText="Updating System Files...",un()};(async()=>{if(!sessionStorage.getItem("migrateFs")){const mn=await dirExists("/system/etc/terbium/"),xn=await Filer.fs.promises.stat("/system/etc/terbium/").then(()=>!0).catch(()=>!1);!mn&&xn&&sessionStorage.setItem("migrateFs","true")}sessionStorage.getItem("migrateFs")?await dn():await un()})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-[#0e0e0e] h-full justify-center items-center flex flex-col lg:h-full md:h-full",children:[jsxRuntimeExports.jsx("img",{src:"/tb.svg",alt:"Terbium",className:"w-[25%] h-[25%]"}),jsxRuntimeExports.jsx("div",{className:"duration-150 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"text-container relative flex flex-col justify-center items-end",children:jsxRuntimeExports.jsxs("div",{className:"bg-linear-to-b from-[#ffffff] to-[#ffffff77] text-transparent bg-clip-text flex flex-col lg:items-center md:items-center sm:items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-[700] lg:text-[34px] md:text-[28px] sm:text-[22px] text-right duration-150",children:jsxRuntimeExports.jsx("span",{className:"font-[1000] duration-150",children:"Terbium is updating"})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{children:"Please DO NOT close this tab"})]})})}),jsxRuntimeExports.jsx("p",{ref:rn,className:"mt-1",children:"Downloading Updates..."}),jsxRuntimeExports.jsx("div",{className:"relative flex w-[30%] h-3 rounded-full bg-[#00000020] overflow-hidden mt-4",children:jsxRuntimeExports.jsx("div",{className:"absolute h-full bg-[#50bf66] rounded-full",style:{width:`${sn}%`}})})]})}const Root=()=>{const[sn,O]=reactExports.useState(jsxRuntimeExports.jsx(Loader,{})),rn=new URLSearchParams(window.location.search);return reactExports.useEffect(()=>{(async()=>{await new m$1("/baremux/worker.js").setTransport("/epoxy/index.mjs",[{wisp:`${location.protocol.replace("http","ws")}//${location.hostname}:${location.port}/wisp/`}]),(async()=>{for(;!window.tb.system?.version;)await new Promise(mn=>setTimeout(mn,50));window.dispatchEvent(new Event("tfsready"))})();const{ScramjetController:hn}=$scramjetLoadController();window.scramjetTb={prefix:"/service/",files:{wasm:"/scram/scramjet.wasm.wasm",all:"/scram/scramjet.all.js",sync:"/scram/scramjet.sync.js"},defaultFlags:{rewriterLogs:!1},codec:{encode:function(xn){let gn="",wn=xn.length;for(let vn=0;vn<wn;vn++){const An=xn[vn];gn+=vn%2?String.fromCharCode(An.charCodeAt(0)^2):An}return encodeURIComponent(gn)},decode:function(xn){if(!xn)return xn;xn=decodeURIComponent(xn);let gn="",wn=xn.length;for(let vn=0;vn<wn;vn++){const An=xn[vn];gn+=vn%2?String.fromCharCode(An.charCodeAt(0)^2):An}return gn}}},window.scramjet=new hn(scramjetTb),scramjet.init(),navigator.serviceWorker.register("/anura-sw.js")})(),sessionStorage.getItem("recovery")?O(jsxRuntimeExports.jsx(Recovery,{})):sessionStorage.getItem("boot")||rn.get("boot")?(async()=>{let dn;await fileExists("/system/etc/terbium/hash.cache")?dn=await window.tb.fs.promises.readFile("/system/etc/terbium/hash.cache","utf8"):dn=hash$1,localStorage.getItem("setup")?localStorage.getItem("setup")&&(dn!==hash$1||sessionStorage.getItem("migrateFs"))?O(jsxRuntimeExports.jsx(Updater,{})):sessionStorage.getItem("logged-in")&&sessionStorage.getItem("logged-in")==="true"?O(jsxRuntimeExports.jsx(App,{})):O(jsxRuntimeExports.jsx(Login,{})):O(jsxRuntimeExports.jsx(Setup,{}))})():sessionStorage.getItem("cusboot")?O(jsxRuntimeExports.jsx(CustomOS,{})):O(jsxRuntimeExports.jsx(Boot,{}))},[]),sn};clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(Root,{})}));
